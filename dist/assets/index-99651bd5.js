var gK=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var J0e=gK((Ui,Hi)=>{function mK(t,e){for(var r=0;r<e.length;r++){const o=e[r];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in t)){const d=Object.getOwnPropertyDescriptor(o,a);d&&Object.defineProperty(t,a,d.get?d:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(a){if(a.ep)return;a.ep=!0;const d=r(a);fetch(a.href,d)}})();var bi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Km(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jL={exports:{}},hv={},zL={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm=Symbol.for("react.element"),kK=Symbol.for("react.portal"),bK=Symbol.for("react.fragment"),wK=Symbol.for("react.strict_mode"),vK=Symbol.for("react.profiler"),yK=Symbol.for("react.provider"),_K=Symbol.for("react.context"),AK=Symbol.for("react.forward_ref"),CK=Symbol.for("react.suspense"),xK=Symbol.for("react.memo"),EK=Symbol.for("react.lazy"),wO=Symbol.iterator;function SK(t){return t===null||typeof t!="object"?null:(t=wO&&t[wO]||t["@@iterator"],typeof t=="function"?t:null)}var FL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$L=Object.assign,VL={};function If(t,e,r){this.props=t,this.context=e,this.refs=VL,this.updater=r||FL}If.prototype.isReactComponent={};If.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};If.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function UL(){}UL.prototype=If.prototype;function DE(t,e,r){this.props=t,this.context=e,this.refs=VL,this.updater=r||FL}var IE=DE.prototype=new UL;IE.constructor=DE;$L(IE,If.prototype);IE.isPureReactComponent=!0;var vO=Array.isArray,HL=Object.prototype.hasOwnProperty,ME={current:null},WL={key:!0,ref:!0,__self:!0,__source:!0};function qL(t,e,r){var o,a={},d=null,f=null;if(e!=null)for(o in e.ref!==void 0&&(f=e.ref),e.key!==void 0&&(d=""+e.key),e)HL.call(e,o)&&!WL.hasOwnProperty(o)&&(a[o]=e[o]);var k=arguments.length-2;if(k===1)a.children=r;else if(1<k){for(var m=Array(k),v=0;v<k;v++)m[v]=arguments[v+2];a.children=m}if(t&&t.defaultProps)for(o in k=t.defaultProps,k)a[o]===void 0&&(a[o]=k[o]);return{$$typeof:Qm,type:t,key:d,ref:f,props:a,_owner:ME.current}}function TK(t,e){return{$$typeof:Qm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function NE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qm}function DK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var yO=/\/+/g;function iC(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DK(""+t.key):e.toString(36)}function T0(t,e,r,o,a){var d=typeof t;(d==="undefined"||d==="boolean")&&(t=null);var f=!1;if(t===null)f=!0;else switch(d){case"string":case"number":f=!0;break;case"object":switch(t.$$typeof){case Qm:case kK:f=!0}}if(f)return f=t,a=a(f),t=o===""?"."+iC(f,0):o,vO(a)?(r="",t!=null&&(r=t.replace(yO,"$&/")+"/"),T0(a,e,r,"",function(v){return v})):a!=null&&(NE(a)&&(a=TK(a,r+(!a.key||f&&f.key===a.key?"":(""+a.key).replace(yO,"$&/")+"/")+t)),e.push(a)),1;if(f=0,o=o===""?".":o+":",vO(t))for(var k=0;k<t.length;k++){d=t[k];var m=o+iC(d,k);f+=T0(d,e,r,m,a)}else if(m=SK(t),typeof m=="function")for(t=m.call(t),k=0;!(d=t.next()).done;)d=d.value,m=o+iC(d,k++),f+=T0(d,e,r,m,a);else if(d==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return f}function Kb(t,e,r){if(t==null)return t;var o=[],a=0;return T0(t,o,"","",function(d){return e.call(r,d,a++)}),o}function IK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var oi={current:null},D0={transition:null},MK={ReactCurrentDispatcher:oi,ReactCurrentBatchConfig:D0,ReactCurrentOwner:ME};yt.Children={map:Kb,forEach:function(t,e,r){Kb(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Kb(t,function(){e++}),e},toArray:function(t){return Kb(t,function(e){return e})||[]},only:function(t){if(!NE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};yt.Component=If;yt.Fragment=bK;yt.Profiler=vK;yt.PureComponent=DE;yt.StrictMode=wK;yt.Suspense=CK;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MK;yt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=$L({},t.props),a=t.key,d=t.ref,f=t._owner;if(e!=null){if(e.ref!==void 0&&(d=e.ref,f=ME.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var k=t.type.defaultProps;for(m in e)HL.call(e,m)&&!WL.hasOwnProperty(m)&&(o[m]=e[m]===void 0&&k!==void 0?k[m]:e[m])}var m=arguments.length-2;if(m===1)o.children=r;else if(1<m){k=Array(m);for(var v=0;v<m;v++)k[v]=arguments[v+2];o.children=k}return{$$typeof:Qm,type:t.type,key:a,ref:d,props:o,_owner:f}};yt.createContext=function(t){return t={$$typeof:_K,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yK,_context:t},t.Consumer=t};yt.createElement=qL;yt.createFactory=function(t){var e=qL.bind(null,t);return e.type=t,e};yt.createRef=function(){return{current:null}};yt.forwardRef=function(t){return{$$typeof:AK,render:t}};yt.isValidElement=NE;yt.lazy=function(t){return{$$typeof:EK,_payload:{_status:-1,_result:t},_init:IK}};yt.memo=function(t,e){return{$$typeof:xK,type:t,compare:e===void 0?null:e}};yt.startTransition=function(t){var e=D0.transition;D0.transition={};try{t()}finally{D0.transition=e}};yt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};yt.useCallback=function(t,e){return oi.current.useCallback(t,e)};yt.useContext=function(t){return oi.current.useContext(t)};yt.useDebugValue=function(){};yt.useDeferredValue=function(t){return oi.current.useDeferredValue(t)};yt.useEffect=function(t,e){return oi.current.useEffect(t,e)};yt.useId=function(){return oi.current.useId()};yt.useImperativeHandle=function(t,e,r){return oi.current.useImperativeHandle(t,e,r)};yt.useInsertionEffect=function(t,e){return oi.current.useInsertionEffect(t,e)};yt.useLayoutEffect=function(t,e){return oi.current.useLayoutEffect(t,e)};yt.useMemo=function(t,e){return oi.current.useMemo(t,e)};yt.useReducer=function(t,e,r){return oi.current.useReducer(t,e,r)};yt.useRef=function(t){return oi.current.useRef(t)};yt.useState=function(t){return oi.current.useState(t)};yt.useSyncExternalStore=function(t,e,r){return oi.current.useSyncExternalStore(t,e,r)};yt.useTransition=function(){return oi.current.useTransition()};yt.version="18.2.0";zL.exports=yt;var G=zL.exports;const wi=Km(G),tm=mK({__proto__:null,default:wi},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NK=G,PK=Symbol.for("react.element"),OK=Symbol.for("react.fragment"),RK=Object.prototype.hasOwnProperty,LK=NK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BK={key:!0,ref:!0,__self:!0,__source:!0};function GL(t,e,r){var o,a={},d=null,f=null;r!==void 0&&(d=""+r),e.key!==void 0&&(d=""+e.key),e.ref!==void 0&&(f=e.ref);for(o in e)RK.call(e,o)&&!BK.hasOwnProperty(o)&&(a[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)a[o]===void 0&&(a[o]=e[o]);return{$$typeof:PK,type:t,key:d,ref:f,props:a,_owner:LK.current}}hv.Fragment=OK;hv.jsx=GL;hv.jsxs=GL;jL.exports=hv;var W=jL.exports,y1={},YL={exports:{}},Zi={},KL={exports:{}},QL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(de,xe){var we=de.length;de.push(xe);e:for(;0<we;){var ee=we-1>>>1,oe=de[ee];if(0<a(oe,xe))de[ee]=xe,de[we]=oe,we=ee;else break e}}function r(de){return de.length===0?null:de[0]}function o(de){if(de.length===0)return null;var xe=de[0],we=de.pop();if(we!==xe){de[0]=we;e:for(var ee=0,oe=de.length,J=oe>>>1;ee<J;){var pe=2*(ee+1)-1,ce=de[pe],Ne=pe+1,Be=de[Ne];if(0>a(ce,we))Ne<oe&&0>a(Be,ce)?(de[ee]=Be,de[Ne]=we,ee=Ne):(de[ee]=ce,de[pe]=we,ee=pe);else if(Ne<oe&&0>a(Be,we))de[ee]=Be,de[Ne]=we,ee=Ne;else break e}}return xe}function a(de,xe){var we=de.sortIndex-xe.sortIndex;return we!==0?we:de.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var f=Date,k=f.now();t.unstable_now=function(){return f.now()-k}}var m=[],v=[],A=1,x=null,_=3,T=!1,D=!1,M=!1,B=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(de){for(var xe=r(v);xe!==null;){if(xe.callback===null)o(v);else if(xe.startTime<=de)o(v),xe.sortIndex=xe.expirationTime,e(m,xe);else break;xe=r(v)}}function Y(de){if(M=!1,z(de),!D)if(r(m)!==null)D=!0,He(X);else{var xe=r(v);xe!==null&&qe(Y,xe.startTime-de)}}function X(de,xe){D=!1,M&&(M=!1,O(V),V=-1),T=!0;var we=_;try{for(z(xe),x=r(m);x!==null&&(!(x.expirationTime>xe)||de&&!he());){var ee=x.callback;if(typeof ee=="function"){x.callback=null,_=x.priorityLevel;var oe=ee(x.expirationTime<=xe);xe=t.unstable_now(),typeof oe=="function"?x.callback=oe:x===r(m)&&o(m),z(xe)}else o(m);x=r(m)}if(x!==null)var J=!0;else{var pe=r(v);pe!==null&&qe(Y,pe.startTime-xe),J=!1}return J}finally{x=null,_=we,T=!1}}var ne=!1,Z=null,V=-1,se=5,ie=-1;function he(){return!(t.unstable_now()-ie<se)}function $e(){if(Z!==null){var de=t.unstable_now();ie=de;var xe=!0;try{xe=Z(!0,de)}finally{xe?De():(ne=!1,Z=null)}}else ne=!1}var De;if(typeof L=="function")De=function(){L($e)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Ge=Re.port2;Re.port1.onmessage=$e,De=function(){Ge.postMessage(null)}}else De=function(){B($e,0)};function He(de){Z=de,ne||(ne=!0,De())}function qe(de,xe){V=B(function(){de(t.unstable_now())},xe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(de){de.callback=null},t.unstable_continueExecution=function(){D||T||(D=!0,He(X))},t.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<de?Math.floor(1e3/de):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return r(m)},t.unstable_next=function(de){switch(_){case 1:case 2:case 3:var xe=3;break;default:xe=_}var we=_;_=xe;try{return de()}finally{_=we}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(de,xe){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var we=_;_=de;try{return xe()}finally{_=we}},t.unstable_scheduleCallback=function(de,xe,we){var ee=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?ee+we:ee):we=ee,de){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=we+oe,de={id:A++,callback:xe,priorityLevel:de,startTime:we,expirationTime:oe,sortIndex:-1},we>ee?(de.sortIndex=we,e(v,de),r(m)===null&&de===r(v)&&(M?(O(V),V=-1):M=!0,qe(Y,we-ee))):(de.sortIndex=oe,e(m,de),D||T||(D=!0,He(X))),de},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(de){var xe=_;return function(){var we=_;_=xe;try{return de.apply(this,arguments)}finally{_=we}}}})(QL);KL.exports=QL;var jK=KL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZL=G,Yi=jK;function _e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JL=new Set,nm={};function Qu(t,e){sf(t,e),sf(t+"Capture",e)}function sf(t,e){for(nm[t]=e,t=0;t<e.length;t++)JL.add(e[t])}var La=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_1=Object.prototype.hasOwnProperty,zK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_O={},AO={};function FK(t){return _1.call(AO,t)?!0:_1.call(_O,t)?!1:zK.test(t)?AO[t]=!0:(_O[t]=!0,!1)}function $K(t,e,r,o){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VK(t,e,r,o){if(e===null||typeof e>"u"||$K(t,e,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function si(t,e,r,o,a,d,f){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=d,this.removeEmptyString=f}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nr[t]=new si(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nr[e]=new si(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nr[t]=new si(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nr[t]=new si(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nr[t]=new si(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nr[t]=new si(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nr[t]=new si(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nr[t]=new si(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nr[t]=new si(t,5,!1,t.toLowerCase(),null,!1,!1)});var PE=/[\-:]([a-z])/g;function OE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(PE,OE);Nr[e]=new si(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(PE,OE);Nr[e]=new si(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(PE,OE);Nr[e]=new si(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nr[t]=new si(t,1,!1,t.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new si("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nr[t]=new si(t,1,!1,t.toLowerCase(),null,!0,!0)});function RE(t,e,r,o){var a=Nr.hasOwnProperty(e)?Nr[e]:null;(a!==null?a.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VK(e,r,a,o)&&(r=null),o||a===null?FK(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,o=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,o?t.setAttributeNS(o,e,r):t.setAttribute(e,r))))}var Ya=ZL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qb=Symbol.for("react.element"),Sh=Symbol.for("react.portal"),Th=Symbol.for("react.fragment"),LE=Symbol.for("react.strict_mode"),A1=Symbol.for("react.profiler"),XL=Symbol.for("react.provider"),eB=Symbol.for("react.context"),BE=Symbol.for("react.forward_ref"),C1=Symbol.for("react.suspense"),x1=Symbol.for("react.suspense_list"),jE=Symbol.for("react.memo"),Pc=Symbol.for("react.lazy"),tB=Symbol.for("react.offscreen"),CO=Symbol.iterator;function ag(t){return t===null||typeof t!="object"?null:(t=CO&&t[CO]||t["@@iterator"],typeof t=="function"?t:null)}var Tn=Object.assign,oC;function Ag(t){if(oC===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);oC=e&&e[1]||""}return`
`+oC+t}var sC=!1;function aC(t,e){if(!t||sC)return"";sC=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(v){var o=v}Reflect.construct(t,[],e)}else{try{e.call()}catch(v){o=v}t.call(e.prototype)}else{try{throw Error()}catch(v){o=v}t()}}catch(v){if(v&&o&&typeof v.stack=="string"){for(var a=v.stack.split(`
`),d=o.stack.split(`
`),f=a.length-1,k=d.length-1;1<=f&&0<=k&&a[f]!==d[k];)k--;for(;1<=f&&0<=k;f--,k--)if(a[f]!==d[k]){if(f!==1||k!==1)do if(f--,k--,0>k||a[f]!==d[k]){var m=`
`+a[f].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=f&&0<=k);break}}}finally{sC=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ag(t):""}function UK(t){switch(t.tag){case 5:return Ag(t.type);case 16:return Ag("Lazy");case 13:return Ag("Suspense");case 19:return Ag("SuspenseList");case 0:case 2:case 15:return t=aC(t.type,!1),t;case 11:return t=aC(t.type.render,!1),t;case 1:return t=aC(t.type,!0),t;default:return""}}function E1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Th:return"Fragment";case Sh:return"Portal";case A1:return"Profiler";case LE:return"StrictMode";case C1:return"Suspense";case x1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eB:return(t.displayName||"Context")+".Consumer";case XL:return(t._context.displayName||"Context")+".Provider";case BE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jE:return e=t.displayName||null,e!==null?e:E1(t.type)||"Memo";case Pc:e=t._payload,t=t._init;try{return E1(t(e))}catch{}}return null}function HK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E1(e);case 8:return e===LE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ll(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nB(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WK(t){var e=nB(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,d=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(f){o=""+f,d.call(this,f)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zb(t){t._valueTracker||(t._valueTracker=WK(t))}function rB(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),o="";return t&&(o=nB(t)?t.checked?"true":"false":t.value),t=o,t!==r?(e.setValue(t),!0):!1}function rw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function S1(t,e){var r=e.checked;return Tn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function xO(t,e){var r=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;r=ll(e.value!=null?e.value:r),t._wrapperState={initialChecked:o,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iB(t,e){e=e.checked,e!=null&&RE(t,"checked",e,!1)}function T1(t,e){iB(t,e);var r=ll(e.value),o=e.type;if(r!=null)o==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?D1(t,e.type,r):e.hasOwnProperty("defaultValue")&&D1(t,e.type,ll(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function EO(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function D1(t,e,r){(e!=="number"||rw(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Cg=Array.isArray;function Vh(t,e,r,o){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&o&&(t[r].defaultSelected=!0)}else{for(r=""+ll(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,o&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function I1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Tn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function SO(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(_e(92));if(Cg(r)){if(1<r.length)throw Error(_e(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ll(r)}}function oB(t,e){var r=ll(e.value),o=ll(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),o!=null&&(t.defaultValue=""+o)}function TO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sB(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function M1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sB(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jb,aB=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,o,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,o,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jb=Jb||document.createElement("div"),Jb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jb.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rm(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Lg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qK=["Webkit","ms","Moz","O"];Object.keys(Lg).forEach(function(t){qK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lg[e]=Lg[t]})});function cB(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Lg.hasOwnProperty(t)&&Lg[t]?(""+e).trim():e+"px"}function lB(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var o=r.indexOf("--")===0,a=cB(r,e[r],o);r==="float"&&(r="cssFloat"),o?t.setProperty(r,a):t[r]=a}}var GK=Tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N1(t,e){if(e){if(GK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function P1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O1=null;function zE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var R1=null,Uh=null,Hh=null;function DO(t){if(t=Xm(t)){if(typeof R1!="function")throw Error(_e(280));var e=t.stateNode;e&&(e=kv(e),R1(t.stateNode,t.type,e))}}function uB(t){Uh?Hh?Hh.push(t):Hh=[t]:Uh=t}function dB(){if(Uh){var t=Uh,e=Hh;if(Hh=Uh=null,DO(t),e)for(t=0;t<e.length;t++)DO(e[t])}}function hB(t,e){return t(e)}function fB(){}var cC=!1;function pB(t,e,r){if(cC)return t(e,r);cC=!0;try{return hB(t,e,r)}finally{cC=!1,(Uh!==null||Hh!==null)&&(fB(),dB())}}function im(t,e){var r=t.stateNode;if(r===null)return null;var o=kv(r);if(o===null)return null;r=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(_e(231,e,typeof r));return r}var L1=!1;if(La)try{var cg={};Object.defineProperty(cg,"passive",{get:function(){L1=!0}}),window.addEventListener("test",cg,cg),window.removeEventListener("test",cg,cg)}catch{L1=!1}function YK(t,e,r,o,a,d,f,k,m){var v=Array.prototype.slice.call(arguments,3);try{e.apply(r,v)}catch(A){this.onError(A)}}var Bg=!1,iw=null,ow=!1,B1=null,KK={onError:function(t){Bg=!0,iw=t}};function QK(t,e,r,o,a,d,f,k,m){Bg=!1,iw=null,YK.apply(KK,arguments)}function ZK(t,e,r,o,a,d,f,k,m){if(QK.apply(this,arguments),Bg){if(Bg){var v=iw;Bg=!1,iw=null}else throw Error(_e(198));ow||(ow=!0,B1=v)}}function Zu(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function gB(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function IO(t){if(Zu(t)!==t)throw Error(_e(188))}function JK(t){var e=t.alternate;if(!e){if(e=Zu(t),e===null)throw Error(_e(188));return e!==t?null:t}for(var r=t,o=e;;){var a=r.return;if(a===null)break;var d=a.alternate;if(d===null){if(o=a.return,o!==null){r=o;continue}break}if(a.child===d.child){for(d=a.child;d;){if(d===r)return IO(a),t;if(d===o)return IO(a),e;d=d.sibling}throw Error(_e(188))}if(r.return!==o.return)r=a,o=d;else{for(var f=!1,k=a.child;k;){if(k===r){f=!0,r=a,o=d;break}if(k===o){f=!0,o=a,r=d;break}k=k.sibling}if(!f){for(k=d.child;k;){if(k===r){f=!0,r=d,o=a;break}if(k===o){f=!0,o=d,r=a;break}k=k.sibling}if(!f)throw Error(_e(189))}}if(r.alternate!==o)throw Error(_e(190))}if(r.tag!==3)throw Error(_e(188));return r.stateNode.current===r?t:e}function mB(t){return t=JK(t),t!==null?kB(t):null}function kB(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kB(t);if(e!==null)return e;t=t.sibling}return null}var bB=Yi.unstable_scheduleCallback,MO=Yi.unstable_cancelCallback,XK=Yi.unstable_shouldYield,eQ=Yi.unstable_requestPaint,$n=Yi.unstable_now,tQ=Yi.unstable_getCurrentPriorityLevel,FE=Yi.unstable_ImmediatePriority,wB=Yi.unstable_UserBlockingPriority,sw=Yi.unstable_NormalPriority,nQ=Yi.unstable_LowPriority,vB=Yi.unstable_IdlePriority,fv=null,Gs=null;function rQ(t){if(Gs&&typeof Gs.onCommitFiberRoot=="function")try{Gs.onCommitFiberRoot(fv,t,void 0,(t.current.flags&128)===128)}catch{}}var Zo=Math.clz32?Math.clz32:sQ,iQ=Math.log,oQ=Math.LN2;function sQ(t){return t>>>=0,t===0?32:31-(iQ(t)/oQ|0)|0}var Xb=64,e0=4194304;function xg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function aw(t,e){var r=t.pendingLanes;if(r===0)return 0;var o=0,a=t.suspendedLanes,d=t.pingedLanes,f=r&268435455;if(f!==0){var k=f&~a;k!==0?o=xg(k):(d&=f,d!==0&&(o=xg(d)))}else f=r&~a,f!==0?o=xg(f):d!==0&&(o=xg(d));if(o===0)return 0;if(e!==0&&e!==o&&!(e&a)&&(a=o&-o,d=e&-e,a>=d||a===16&&(d&4194240)!==0))return e;if(o&4&&(o|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)r=31-Zo(e),a=1<<r,o|=t[r],e&=~a;return o}function aQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cQ(t,e){for(var r=t.suspendedLanes,o=t.pingedLanes,a=t.expirationTimes,d=t.pendingLanes;0<d;){var f=31-Zo(d),k=1<<f,m=a[f];m===-1?(!(k&r)||k&o)&&(a[f]=aQ(k,e)):m<=e&&(t.expiredLanes|=k),d&=~k}}function j1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yB(){var t=Xb;return Xb<<=1,!(Xb&4194240)&&(Xb=64),t}function lC(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Zm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zo(e),t[e]=r}function lQ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Zo(r),d=1<<a;e[a]=0,o[a]=-1,t[a]=-1,r&=~d}}function $E(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var o=31-Zo(r),a=1<<o;a&e|t[o]&e&&(t[o]|=e),r&=~a}}var Zt=0;function _B(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var AB,VE,CB,xB,EB,z1=!1,t0=[],qc=null,Gc=null,Yc=null,om=new Map,sm=new Map,Rc=[],uQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NO(t,e){switch(t){case"focusin":case"focusout":qc=null;break;case"dragenter":case"dragleave":Gc=null;break;case"mouseover":case"mouseout":Yc=null;break;case"pointerover":case"pointerout":om.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sm.delete(e.pointerId)}}function lg(t,e,r,o,a,d){return t===null||t.nativeEvent!==d?(t={blockedOn:e,domEventName:r,eventSystemFlags:o,nativeEvent:d,targetContainers:[a]},e!==null&&(e=Xm(e),e!==null&&VE(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function dQ(t,e,r,o,a){switch(e){case"focusin":return qc=lg(qc,t,e,r,o,a),!0;case"dragenter":return Gc=lg(Gc,t,e,r,o,a),!0;case"mouseover":return Yc=lg(Yc,t,e,r,o,a),!0;case"pointerover":var d=a.pointerId;return om.set(d,lg(om.get(d)||null,t,e,r,o,a)),!0;case"gotpointercapture":return d=a.pointerId,sm.set(d,lg(sm.get(d)||null,t,e,r,o,a)),!0}return!1}function SB(t){var e=_u(t.target);if(e!==null){var r=Zu(e);if(r!==null){if(e=r.tag,e===13){if(e=gB(r),e!==null){t.blockedOn=e,EB(t.priority,function(){CB(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function I0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=F1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);O1=o,r.target.dispatchEvent(o),O1=null}else return e=Xm(r),e!==null&&VE(e),t.blockedOn=r,!1;e.shift()}return!0}function PO(t,e,r){I0(t)&&r.delete(e)}function hQ(){z1=!1,qc!==null&&I0(qc)&&(qc=null),Gc!==null&&I0(Gc)&&(Gc=null),Yc!==null&&I0(Yc)&&(Yc=null),om.forEach(PO),sm.forEach(PO)}function ug(t,e){t.blockedOn===e&&(t.blockedOn=null,z1||(z1=!0,Yi.unstable_scheduleCallback(Yi.unstable_NormalPriority,hQ)))}function am(t){function e(a){return ug(a,t)}if(0<t0.length){ug(t0[0],t);for(var r=1;r<t0.length;r++){var o=t0[r];o.blockedOn===t&&(o.blockedOn=null)}}for(qc!==null&&ug(qc,t),Gc!==null&&ug(Gc,t),Yc!==null&&ug(Yc,t),om.forEach(e),sm.forEach(e),r=0;r<Rc.length;r++)o=Rc[r],o.blockedOn===t&&(o.blockedOn=null);for(;0<Rc.length&&(r=Rc[0],r.blockedOn===null);)SB(r),r.blockedOn===null&&Rc.shift()}var Wh=Ya.ReactCurrentBatchConfig,cw=!0;function fQ(t,e,r,o){var a=Zt,d=Wh.transition;Wh.transition=null;try{Zt=1,UE(t,e,r,o)}finally{Zt=a,Wh.transition=d}}function pQ(t,e,r,o){var a=Zt,d=Wh.transition;Wh.transition=null;try{Zt=4,UE(t,e,r,o)}finally{Zt=a,Wh.transition=d}}function UE(t,e,r,o){if(cw){var a=F1(t,e,r,o);if(a===null)wC(t,e,o,lw,r),NO(t,o);else if(dQ(a,t,e,r,o))o.stopPropagation();else if(NO(t,o),e&4&&-1<uQ.indexOf(t)){for(;a!==null;){var d=Xm(a);if(d!==null&&AB(d),d=F1(t,e,r,o),d===null&&wC(t,e,o,lw,r),d===a)break;a=d}a!==null&&o.stopPropagation()}else wC(t,e,o,null,r)}}var lw=null;function F1(t,e,r,o){if(lw=null,t=zE(o),t=_u(t),t!==null)if(e=Zu(t),e===null)t=null;else if(r=e.tag,r===13){if(t=gB(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lw=t,null}function TB(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tQ()){case FE:return 1;case wB:return 4;case sw:case nQ:return 16;case vB:return 536870912;default:return 16}default:return 16}}var Vc=null,HE=null,M0=null;function DB(){if(M0)return M0;var t,e=HE,r=e.length,o,a="value"in Vc?Vc.value:Vc.textContent,d=a.length;for(t=0;t<r&&e[t]===a[t];t++);var f=r-t;for(o=1;o<=f&&e[r-o]===a[d-o];o++);return M0=a.slice(t,1<o?1-o:void 0)}function N0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function n0(){return!0}function OO(){return!1}function Ji(t){function e(r,o,a,d,f){this._reactName=r,this._targetInst=a,this.type=o,this.nativeEvent=d,this.target=f,this.currentTarget=null;for(var k in t)t.hasOwnProperty(k)&&(r=t[k],this[k]=r?r(d):d[k]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?n0:OO,this.isPropagationStopped=OO,this}return Tn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=n0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=n0)},persist:function(){},isPersistent:n0}),e}var Mf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},WE=Ji(Mf),Jm=Tn({},Mf,{view:0,detail:0}),gQ=Ji(Jm),uC,dC,dg,pv=Tn({},Jm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dg&&(dg&&t.type==="mousemove"?(uC=t.screenX-dg.screenX,dC=t.screenY-dg.screenY):dC=uC=0,dg=t),uC)},movementY:function(t){return"movementY"in t?t.movementY:dC}}),RO=Ji(pv),mQ=Tn({},pv,{dataTransfer:0}),kQ=Ji(mQ),bQ=Tn({},Jm,{relatedTarget:0}),hC=Ji(bQ),wQ=Tn({},Mf,{animationName:0,elapsedTime:0,pseudoElement:0}),vQ=Ji(wQ),yQ=Tn({},Mf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_Q=Ji(yQ),AQ=Tn({},Mf,{data:0}),LO=Ji(AQ),CQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EQ[t])?!!e[t]:!1}function qE(){return SQ}var TQ=Tn({},Jm,{key:function(t){if(t.key){var e=CQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=N0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qE,charCode:function(t){return t.type==="keypress"?N0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?N0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DQ=Ji(TQ),IQ=Tn({},pv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BO=Ji(IQ),MQ=Tn({},Jm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qE}),NQ=Ji(MQ),PQ=Tn({},Mf,{propertyName:0,elapsedTime:0,pseudoElement:0}),OQ=Ji(PQ),RQ=Tn({},pv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LQ=Ji(RQ),BQ=[9,13,27,32],GE=La&&"CompositionEvent"in window,jg=null;La&&"documentMode"in document&&(jg=document.documentMode);var jQ=La&&"TextEvent"in window&&!jg,IB=La&&(!GE||jg&&8<jg&&11>=jg),jO=String.fromCharCode(32),zO=!1;function MB(t,e){switch(t){case"keyup":return BQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NB(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dh=!1;function zQ(t,e){switch(t){case"compositionend":return NB(e);case"keypress":return e.which!==32?null:(zO=!0,jO);case"textInput":return t=e.data,t===jO&&zO?null:t;default:return null}}function FQ(t,e){if(Dh)return t==="compositionend"||!GE&&MB(t,e)?(t=DB(),M0=HE=Vc=null,Dh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return IB&&e.locale!=="ko"?null:e.data;default:return null}}var $Q={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$Q[t.type]:e==="textarea"}function PB(t,e,r,o){uB(o),e=uw(e,"onChange"),0<e.length&&(r=new WE("onChange","change",null,r,o),t.push({event:r,listeners:e}))}var zg=null,cm=null;function VQ(t){HB(t,0)}function gv(t){var e=Nh(t);if(rB(e))return t}function UQ(t,e){if(t==="change")return e}var OB=!1;if(La){var fC;if(La){var pC="oninput"in document;if(!pC){var $O=document.createElement("div");$O.setAttribute("oninput","return;"),pC=typeof $O.oninput=="function"}fC=pC}else fC=!1;OB=fC&&(!document.documentMode||9<document.documentMode)}function VO(){zg&&(zg.detachEvent("onpropertychange",RB),cm=zg=null)}function RB(t){if(t.propertyName==="value"&&gv(cm)){var e=[];PB(e,cm,t,zE(t)),pB(VQ,e)}}function HQ(t,e,r){t==="focusin"?(VO(),zg=e,cm=r,zg.attachEvent("onpropertychange",RB)):t==="focusout"&&VO()}function WQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gv(cm)}function qQ(t,e){if(t==="click")return gv(e)}function GQ(t,e){if(t==="input"||t==="change")return gv(e)}function YQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var es=typeof Object.is=="function"?Object.is:YQ;function lm(t,e){if(es(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var a=r[o];if(!_1.call(e,a)||!es(t[a],e[a]))return!1}return!0}function UO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function HO(t,e){var r=UO(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=e&&o>=e)return{node:r,offset:e-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=UO(r)}}function LB(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LB(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BB(){for(var t=window,e=rw();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=rw(t.document)}return e}function YE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KQ(t){var e=BB(),r=t.focusedElem,o=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&LB(r.ownerDocument.documentElement,r)){if(o!==null&&YE(r)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,d=Math.min(o.start,a);o=o.end===void 0?d:Math.min(o.end,a),!t.extend&&d>o&&(a=o,o=d,d=a),a=HO(r,d);var f=HO(r,o);a&&f&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==f.node||t.focusOffset!==f.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),d>o?(t.addRange(e),t.extend(f.node,f.offset)):(e.setEnd(f.node,f.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QQ=La&&"documentMode"in document&&11>=document.documentMode,Ih=null,$1=null,Fg=null,V1=!1;function WO(t,e,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;V1||Ih==null||Ih!==rw(o)||(o=Ih,"selectionStart"in o&&YE(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Fg&&lm(Fg,o)||(Fg=o,o=uw($1,"onSelect"),0<o.length&&(e=new WE("onSelect","select",null,e,r),t.push({event:e,listeners:o}),e.target=Ih)))}function r0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Mh={animationend:r0("Animation","AnimationEnd"),animationiteration:r0("Animation","AnimationIteration"),animationstart:r0("Animation","AnimationStart"),transitionend:r0("Transition","TransitionEnd")},gC={},jB={};La&&(jB=document.createElement("div").style,"AnimationEvent"in window||(delete Mh.animationend.animation,delete Mh.animationiteration.animation,delete Mh.animationstart.animation),"TransitionEvent"in window||delete Mh.transitionend.transition);function mv(t){if(gC[t])return gC[t];if(!Mh[t])return t;var e=Mh[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in jB)return gC[t]=e[r];return t}var zB=mv("animationend"),FB=mv("animationiteration"),$B=mv("animationstart"),VB=mv("transitionend"),UB=new Map,qO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kl(t,e){UB.set(t,e),Qu(e,[t])}for(var mC=0;mC<qO.length;mC++){var kC=qO[mC],ZQ=kC.toLowerCase(),JQ=kC[0].toUpperCase()+kC.slice(1);kl(ZQ,"on"+JQ)}kl(zB,"onAnimationEnd");kl(FB,"onAnimationIteration");kl($B,"onAnimationStart");kl("dblclick","onDoubleClick");kl("focusin","onFocus");kl("focusout","onBlur");kl(VB,"onTransitionEnd");sf("onMouseEnter",["mouseout","mouseover"]);sf("onMouseLeave",["mouseout","mouseover"]);sf("onPointerEnter",["pointerout","pointerover"]);sf("onPointerLeave",["pointerout","pointerover"]);Qu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eg));function GO(t,e,r){var o=t.type||"unknown-event";t.currentTarget=r,ZK(o,e,void 0,t),t.currentTarget=null}function HB(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],a=o.event;o=o.listeners;e:{var d=void 0;if(e)for(var f=o.length-1;0<=f;f--){var k=o[f],m=k.instance,v=k.currentTarget;if(k=k.listener,m!==d&&a.isPropagationStopped())break e;GO(a,k,v),d=m}else for(f=0;f<o.length;f++){if(k=o[f],m=k.instance,v=k.currentTarget,k=k.listener,m!==d&&a.isPropagationStopped())break e;GO(a,k,v),d=m}}}if(ow)throw t=B1,ow=!1,B1=null,t}function hn(t,e){var r=e[G1];r===void 0&&(r=e[G1]=new Set);var o=t+"__bubble";r.has(o)||(WB(e,t,2,!1),r.add(o))}function bC(t,e,r){var o=0;e&&(o|=4),WB(r,t,o,e)}var i0="_reactListening"+Math.random().toString(36).slice(2);function um(t){if(!t[i0]){t[i0]=!0,JL.forEach(function(r){r!=="selectionchange"&&(XQ.has(r)||bC(r,!1,t),bC(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[i0]||(e[i0]=!0,bC("selectionchange",!1,e))}}function WB(t,e,r,o){switch(TB(e)){case 1:var a=fQ;break;case 4:a=pQ;break;default:a=UE}r=a.bind(null,e,r,t),a=void 0,!L1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),o?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function wC(t,e,r,o,a){var d=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var k=o.stateNode.containerInfo;if(k===a||k.nodeType===8&&k.parentNode===a)break;if(f===4)for(f=o.return;f!==null;){var m=f.tag;if((m===3||m===4)&&(m=f.stateNode.containerInfo,m===a||m.nodeType===8&&m.parentNode===a))return;f=f.return}for(;k!==null;){if(f=_u(k),f===null)return;if(m=f.tag,m===5||m===6){o=d=f;continue e}k=k.parentNode}}o=o.return}pB(function(){var v=d,A=zE(r),x=[];e:{var _=UB.get(t);if(_!==void 0){var T=WE,D=t;switch(t){case"keypress":if(N0(r)===0)break e;case"keydown":case"keyup":T=DQ;break;case"focusin":D="focus",T=hC;break;case"focusout":D="blur",T=hC;break;case"beforeblur":case"afterblur":T=hC;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=RO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=kQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=NQ;break;case zB:case FB:case $B:T=vQ;break;case VB:T=OQ;break;case"scroll":T=gQ;break;case"wheel":T=LQ;break;case"copy":case"cut":case"paste":T=_Q;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=BO}var M=(e&4)!==0,B=!M&&t==="scroll",O=M?_!==null?_+"Capture":null:_;M=[];for(var L=v,z;L!==null;){z=L;var Y=z.stateNode;if(z.tag===5&&Y!==null&&(z=Y,O!==null&&(Y=im(L,O),Y!=null&&M.push(dm(L,Y,z)))),B)break;L=L.return}0<M.length&&(_=new T(_,D,null,r,A),x.push({event:_,listeners:M}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",_&&r!==O1&&(D=r.relatedTarget||r.fromElement)&&(_u(D)||D[Ba]))break e;if((T||_)&&(_=A.window===A?A:(_=A.ownerDocument)?_.defaultView||_.parentWindow:window,T?(D=r.relatedTarget||r.toElement,T=v,D=D?_u(D):null,D!==null&&(B=Zu(D),D!==B||D.tag!==5&&D.tag!==6)&&(D=null)):(T=null,D=v),T!==D)){if(M=RO,Y="onMouseLeave",O="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(M=BO,Y="onPointerLeave",O="onPointerEnter",L="pointer"),B=T==null?_:Nh(T),z=D==null?_:Nh(D),_=new M(Y,L+"leave",T,r,A),_.target=B,_.relatedTarget=z,Y=null,_u(A)===v&&(M=new M(O,L+"enter",D,r,A),M.target=z,M.relatedTarget=B,Y=M),B=Y,T&&D)t:{for(M=T,O=D,L=0,z=M;z;z=mh(z))L++;for(z=0,Y=O;Y;Y=mh(Y))z++;for(;0<L-z;)M=mh(M),L--;for(;0<z-L;)O=mh(O),z--;for(;L--;){if(M===O||O!==null&&M===O.alternate)break t;M=mh(M),O=mh(O)}M=null}else M=null;T!==null&&YO(x,_,T,M,!1),D!==null&&B!==null&&YO(x,B,D,M,!0)}}e:{if(_=v?Nh(v):window,T=_.nodeName&&_.nodeName.toLowerCase(),T==="select"||T==="input"&&_.type==="file")var X=UQ;else if(FO(_))if(OB)X=GQ;else{X=WQ;var ne=HQ}else(T=_.nodeName)&&T.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(X=qQ);if(X&&(X=X(t,v))){PB(x,X,r,A);break e}ne&&ne(t,_,v),t==="focusout"&&(ne=_._wrapperState)&&ne.controlled&&_.type==="number"&&D1(_,"number",_.value)}switch(ne=v?Nh(v):window,t){case"focusin":(FO(ne)||ne.contentEditable==="true")&&(Ih=ne,$1=v,Fg=null);break;case"focusout":Fg=$1=Ih=null;break;case"mousedown":V1=!0;break;case"contextmenu":case"mouseup":case"dragend":V1=!1,WO(x,r,A);break;case"selectionchange":if(QQ)break;case"keydown":case"keyup":WO(x,r,A)}var Z;if(GE)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Dh?MB(t,r)&&(V="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(V="onCompositionStart");V&&(IB&&r.locale!=="ko"&&(Dh||V!=="onCompositionStart"?V==="onCompositionEnd"&&Dh&&(Z=DB()):(Vc=A,HE="value"in Vc?Vc.value:Vc.textContent,Dh=!0)),ne=uw(v,V),0<ne.length&&(V=new LO(V,t,null,r,A),x.push({event:V,listeners:ne}),Z?V.data=Z:(Z=NB(r),Z!==null&&(V.data=Z)))),(Z=jQ?zQ(t,r):FQ(t,r))&&(v=uw(v,"onBeforeInput"),0<v.length&&(A=new LO("onBeforeInput","beforeinput",null,r,A),x.push({event:A,listeners:v}),A.data=Z))}HB(x,e)})}function dm(t,e,r){return{instance:t,listener:e,currentTarget:r}}function uw(t,e){for(var r=e+"Capture",o=[];t!==null;){var a=t,d=a.stateNode;a.tag===5&&d!==null&&(a=d,d=im(t,r),d!=null&&o.unshift(dm(t,d,a)),d=im(t,e),d!=null&&o.push(dm(t,d,a))),t=t.return}return o}function mh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function YO(t,e,r,o,a){for(var d=e._reactName,f=[];r!==null&&r!==o;){var k=r,m=k.alternate,v=k.stateNode;if(m!==null&&m===o)break;k.tag===5&&v!==null&&(k=v,a?(m=im(r,d),m!=null&&f.unshift(dm(r,m,k))):a||(m=im(r,d),m!=null&&f.push(dm(r,m,k)))),r=r.return}f.length!==0&&t.push({event:e,listeners:f})}var eZ=/\r\n?/g,tZ=/\u0000|\uFFFD/g;function KO(t){return(typeof t=="string"?t:""+t).replace(eZ,`
`).replace(tZ,"")}function o0(t,e,r){if(e=KO(e),KO(t)!==e&&r)throw Error(_e(425))}function dw(){}var U1=null,H1=null;function W1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var q1=typeof setTimeout=="function"?setTimeout:void 0,nZ=typeof clearTimeout=="function"?clearTimeout:void 0,QO=typeof Promise=="function"?Promise:void 0,rZ=typeof queueMicrotask=="function"?queueMicrotask:typeof QO<"u"?function(t){return QO.resolve(null).then(t).catch(iZ)}:q1;function iZ(t){setTimeout(function(){throw t})}function vC(t,e){var r=e,o=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(o===0){t.removeChild(a),am(e);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=a}while(r);am(e)}function Kc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ZO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),$s="__reactFiber$"+Nf,hm="__reactProps$"+Nf,Ba="__reactContainer$"+Nf,G1="__reactEvents$"+Nf,oZ="__reactListeners$"+Nf,sZ="__reactHandles$"+Nf;function _u(t){var e=t[$s];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ba]||r[$s]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ZO(t);t!==null;){if(r=t[$s])return r;t=ZO(t)}return e}t=r,r=t.parentNode}return null}function Xm(t){return t=t[$s]||t[Ba],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_e(33))}function kv(t){return t[hm]||null}var Y1=[],Ph=-1;function bl(t){return{current:t}}function kn(t){0>Ph||(t.current=Y1[Ph],Y1[Ph]=null,Ph--)}function ln(t,e){Ph++,Y1[Ph]=t.current,t.current=e}var ul={},Kr=bl(ul),Ai=bl(!1),Pu=ul;function af(t,e){var r=t.type.contextTypes;if(!r)return ul;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var a={},d;for(d in r)a[d]=e[d];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Ci(t){return t=t.childContextTypes,t!=null}function hw(){kn(Ai),kn(Kr)}function JO(t,e,r){if(Kr.current!==ul)throw Error(_e(168));ln(Kr,e),ln(Ai,r)}function qB(t,e,r){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var a in o)if(!(a in e))throw Error(_e(108,HK(t)||"Unknown",a));return Tn({},r,o)}function fw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ul,Pu=Kr.current,ln(Kr,t),ln(Ai,Ai.current),!0}function XO(t,e,r){var o=t.stateNode;if(!o)throw Error(_e(169));r?(t=qB(t,e,Pu),o.__reactInternalMemoizedMergedChildContext=t,kn(Ai),kn(Kr),ln(Kr,t)):kn(Ai),ln(Ai,r)}var Ea=null,bv=!1,yC=!1;function GB(t){Ea===null?Ea=[t]:Ea.push(t)}function aZ(t){bv=!0,GB(t)}function wl(){if(!yC&&Ea!==null){yC=!0;var t=0,e=Zt;try{var r=Ea;for(Zt=1;t<r.length;t++){var o=r[t];do o=o(!0);while(o!==null)}Ea=null,bv=!1}catch(a){throw Ea!==null&&(Ea=Ea.slice(t+1)),bB(FE,wl),a}finally{Zt=e,yC=!1}}return null}var Oh=[],Rh=0,pw=null,gw=0,wo=[],vo=0,Ou=null,Sa=1,Ta="";function uu(t,e){Oh[Rh++]=gw,Oh[Rh++]=pw,pw=t,gw=e}function YB(t,e,r){wo[vo++]=Sa,wo[vo++]=Ta,wo[vo++]=Ou,Ou=t;var o=Sa;t=Ta;var a=32-Zo(o)-1;o&=~(1<<a),r+=1;var d=32-Zo(e)+a;if(30<d){var f=a-a%5;d=(o&(1<<f)-1).toString(32),o>>=f,a-=f,Sa=1<<32-Zo(e)+a|r<<a|o,Ta=d+t}else Sa=1<<d|r<<a|o,Ta=t}function KE(t){t.return!==null&&(uu(t,1),YB(t,1,0))}function QE(t){for(;t===pw;)pw=Oh[--Rh],Oh[Rh]=null,gw=Oh[--Rh],Oh[Rh]=null;for(;t===Ou;)Ou=wo[--vo],wo[vo]=null,Ta=wo[--vo],wo[vo]=null,Sa=wo[--vo],wo[vo]=null}var Wi=null,$i=null,_n=!1,Yo=null;function KB(t,e){var r=_o(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function e4(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wi=t,$i=Kc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wi=t,$i=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ou!==null?{id:Sa,overflow:Ta}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=_o(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Wi=t,$i=null,!0):!1;default:return!1}}function K1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Q1(t){if(_n){var e=$i;if(e){var r=e;if(!e4(t,e)){if(K1(t))throw Error(_e(418));e=Kc(r.nextSibling);var o=Wi;e&&e4(t,e)?KB(o,r):(t.flags=t.flags&-4097|2,_n=!1,Wi=t)}}else{if(K1(t))throw Error(_e(418));t.flags=t.flags&-4097|2,_n=!1,Wi=t}}}function t4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wi=t}function s0(t){if(t!==Wi)return!1;if(!_n)return t4(t),_n=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!W1(t.type,t.memoizedProps)),e&&(e=$i)){if(K1(t))throw QB(),Error(_e(418));for(;e;)KB(t,e),e=Kc(e.nextSibling)}if(t4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){$i=Kc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}$i=null}}else $i=Wi?Kc(t.stateNode.nextSibling):null;return!0}function QB(){for(var t=$i;t;)t=Kc(t.nextSibling)}function cf(){$i=Wi=null,_n=!1}function ZE(t){Yo===null?Yo=[t]:Yo.push(t)}var cZ=Ya.ReactCurrentBatchConfig;function qo(t,e){if(t&&t.defaultProps){e=Tn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var mw=bl(null),kw=null,Lh=null,JE=null;function XE(){JE=Lh=kw=null}function eS(t){var e=mw.current;kn(mw),t._currentValue=e}function Z1(t,e,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===r)break;t=t.return}}function qh(t,e){kw=t,JE=Lh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vi=!0),t.firstContext=null)}function Eo(t){var e=t._currentValue;if(JE!==t)if(t={context:t,memoizedValue:e,next:null},Lh===null){if(kw===null)throw Error(_e(308));Lh=t,kw.dependencies={lanes:0,firstContext:t}}else Lh=Lh.next=t;return e}var Au=null;function tS(t){Au===null?Au=[t]:Au.push(t)}function ZB(t,e,r,o){var a=e.interleaved;return a===null?(r.next=r,tS(e)):(r.next=a.next,a.next=r),e.interleaved=r,ja(t,o)}function ja(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Oc=!1;function nS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Na(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qc(t,e,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,Nt&2){var a=o.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),o.pending=e,ja(t,r)}return a=o.interleaved,a===null?(e.next=e,tS(o)):(e.next=a.next,a.next=e),o.interleaved=e,ja(t,r)}function P0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,r|=o,e.lanes=r,$E(t,r)}}function n4(t,e){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var a=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var f={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?a=d=f:d=d.next=f,r=r.next}while(r!==null);d===null?a=d=e:d=d.next=e}else a=d=e;r={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:d,shared:o.shared,effects:o.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function bw(t,e,r,o){var a=t.updateQueue;Oc=!1;var d=a.firstBaseUpdate,f=a.lastBaseUpdate,k=a.shared.pending;if(k!==null){a.shared.pending=null;var m=k,v=m.next;m.next=null,f===null?d=v:f.next=v,f=m;var A=t.alternate;A!==null&&(A=A.updateQueue,k=A.lastBaseUpdate,k!==f&&(k===null?A.firstBaseUpdate=v:k.next=v,A.lastBaseUpdate=m))}if(d!==null){var x=a.baseState;f=0,A=v=m=null,k=d;do{var _=k.lane,T=k.eventTime;if((o&_)===_){A!==null&&(A=A.next={eventTime:T,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var D=t,M=k;switch(_=e,T=r,M.tag){case 1:if(D=M.payload,typeof D=="function"){x=D.call(T,x,_);break e}x=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=M.payload,_=typeof D=="function"?D.call(T,x,_):D,_==null)break e;x=Tn({},x,_);break e;case 2:Oc=!0}}k.callback!==null&&k.lane!==0&&(t.flags|=64,_=a.effects,_===null?a.effects=[k]:_.push(k))}else T={eventTime:T,lane:_,tag:k.tag,payload:k.payload,callback:k.callback,next:null},A===null?(v=A=T,m=x):A=A.next=T,f|=_;if(k=k.next,k===null){if(k=a.shared.pending,k===null)break;_=k,k=_.next,_.next=null,a.lastBaseUpdate=_,a.shared.pending=null}}while(1);if(A===null&&(m=x),a.baseState=m,a.firstBaseUpdate=v,a.lastBaseUpdate=A,e=a.shared.interleaved,e!==null){a=e;do f|=a.lane,a=a.next;while(a!==e)}else d===null&&(a.shared.lanes=0);Lu|=f,t.lanes=f,t.memoizedState=x}}function r4(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],a=o.callback;if(a!==null){if(o.callback=null,o=r,typeof a!="function")throw Error(_e(191,a));a.call(o)}}}var XB=new ZL.Component().refs;function J1(t,e,r,o){e=t.memoizedState,r=r(o,e),r=r==null?e:Tn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var wv={isMounted:function(t){return(t=t._reactInternals)?Zu(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var o=ii(),a=Jc(t),d=Na(o,a);d.payload=e,r!=null&&(d.callback=r),e=Qc(t,d,a),e!==null&&(Jo(e,t,a,o),P0(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var o=ii(),a=Jc(t),d=Na(o,a);d.tag=1,d.payload=e,r!=null&&(d.callback=r),e=Qc(t,d,a),e!==null&&(Jo(e,t,a,o),P0(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ii(),o=Jc(t),a=Na(r,o);a.tag=2,e!=null&&(a.callback=e),e=Qc(t,a,o),e!==null&&(Jo(e,t,o,r),P0(e,t,o))}};function i4(t,e,r,o,a,d,f){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,f):e.prototype&&e.prototype.isPureReactComponent?!lm(r,o)||!lm(a,d):!0}function ej(t,e,r){var o=!1,a=ul,d=e.contextType;return typeof d=="object"&&d!==null?d=Eo(d):(a=Ci(e)?Pu:Kr.current,o=e.contextTypes,d=(o=o!=null)?af(t,a):ul),e=new e(r,d),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wv,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=d),e}function o4(t,e,r,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,o),e.state!==t&&wv.enqueueReplaceState(e,e.state,null)}function X1(t,e,r,o){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs=XB,nS(t);var d=e.contextType;typeof d=="object"&&d!==null?a.context=Eo(d):(d=Ci(e)?Pu:Kr.current,a.context=af(t,d)),a.state=t.memoizedState,d=e.getDerivedStateFromProps,typeof d=="function"&&(J1(t,e,d,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&wv.enqueueReplaceState(a,a.state,null),bw(t,r,a,o),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function hg(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_e(309));var o=r.stateNode}if(!o)throw Error(_e(147,t));var a=o,d=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===d?e.ref:(e=function(f){var k=a.refs;k===XB&&(k=a.refs={}),f===null?delete k[d]:k[d]=f},e._stringRef=d,e)}if(typeof t!="string")throw Error(_e(284));if(!r._owner)throw Error(_e(290,t))}return t}function a0(t,e){throw t=Object.prototype.toString.call(e),Error(_e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function s4(t){var e=t._init;return e(t._payload)}function tj(t){function e(O,L){if(t){var z=O.deletions;z===null?(O.deletions=[L],O.flags|=16):z.push(L)}}function r(O,L){if(!t)return null;for(;L!==null;)e(O,L),L=L.sibling;return null}function o(O,L){for(O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function a(O,L){return O=Xc(O,L),O.index=0,O.sibling=null,O}function d(O,L,z){return O.index=z,t?(z=O.alternate,z!==null?(z=z.index,z<L?(O.flags|=2,L):z):(O.flags|=2,L)):(O.flags|=1048576,L)}function f(O){return t&&O.alternate===null&&(O.flags|=2),O}function k(O,L,z,Y){return L===null||L.tag!==6?(L=TC(z,O.mode,Y),L.return=O,L):(L=a(L,z),L.return=O,L)}function m(O,L,z,Y){var X=z.type;return X===Th?A(O,L,z.props.children,Y,z.key):L!==null&&(L.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Pc&&s4(X)===L.type)?(Y=a(L,z.props),Y.ref=hg(O,L,z),Y.return=O,Y):(Y=z0(z.type,z.key,z.props,null,O.mode,Y),Y.ref=hg(O,L,z),Y.return=O,Y)}function v(O,L,z,Y){return L===null||L.tag!==4||L.stateNode.containerInfo!==z.containerInfo||L.stateNode.implementation!==z.implementation?(L=DC(z,O.mode,Y),L.return=O,L):(L=a(L,z.children||[]),L.return=O,L)}function A(O,L,z,Y,X){return L===null||L.tag!==7?(L=Du(z,O.mode,Y,X),L.return=O,L):(L=a(L,z),L.return=O,L)}function x(O,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return L=TC(""+L,O.mode,z),L.return=O,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Qb:return z=z0(L.type,L.key,L.props,null,O.mode,z),z.ref=hg(O,null,L),z.return=O,z;case Sh:return L=DC(L,O.mode,z),L.return=O,L;case Pc:var Y=L._init;return x(O,Y(L._payload),z)}if(Cg(L)||ag(L))return L=Du(L,O.mode,z,null),L.return=O,L;a0(O,L)}return null}function _(O,L,z,Y){var X=L!==null?L.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return X!==null?null:k(O,L,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Qb:return z.key===X?m(O,L,z,Y):null;case Sh:return z.key===X?v(O,L,z,Y):null;case Pc:return X=z._init,_(O,L,X(z._payload),Y)}if(Cg(z)||ag(z))return X!==null?null:A(O,L,z,Y,null);a0(O,z)}return null}function T(O,L,z,Y,X){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return O=O.get(z)||null,k(L,O,""+Y,X);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Qb:return O=O.get(Y.key===null?z:Y.key)||null,m(L,O,Y,X);case Sh:return O=O.get(Y.key===null?z:Y.key)||null,v(L,O,Y,X);case Pc:var ne=Y._init;return T(O,L,z,ne(Y._payload),X)}if(Cg(Y)||ag(Y))return O=O.get(z)||null,A(L,O,Y,X,null);a0(L,Y)}return null}function D(O,L,z,Y){for(var X=null,ne=null,Z=L,V=L=0,se=null;Z!==null&&V<z.length;V++){Z.index>V?(se=Z,Z=null):se=Z.sibling;var ie=_(O,Z,z[V],Y);if(ie===null){Z===null&&(Z=se);break}t&&Z&&ie.alternate===null&&e(O,Z),L=d(ie,L,V),ne===null?X=ie:ne.sibling=ie,ne=ie,Z=se}if(V===z.length)return r(O,Z),_n&&uu(O,V),X;if(Z===null){for(;V<z.length;V++)Z=x(O,z[V],Y),Z!==null&&(L=d(Z,L,V),ne===null?X=Z:ne.sibling=Z,ne=Z);return _n&&uu(O,V),X}for(Z=o(O,Z);V<z.length;V++)se=T(Z,O,V,z[V],Y),se!==null&&(t&&se.alternate!==null&&Z.delete(se.key===null?V:se.key),L=d(se,L,V),ne===null?X=se:ne.sibling=se,ne=se);return t&&Z.forEach(function(he){return e(O,he)}),_n&&uu(O,V),X}function M(O,L,z,Y){var X=ag(z);if(typeof X!="function")throw Error(_e(150));if(z=X.call(z),z==null)throw Error(_e(151));for(var ne=X=null,Z=L,V=L=0,se=null,ie=z.next();Z!==null&&!ie.done;V++,ie=z.next()){Z.index>V?(se=Z,Z=null):se=Z.sibling;var he=_(O,Z,ie.value,Y);if(he===null){Z===null&&(Z=se);break}t&&Z&&he.alternate===null&&e(O,Z),L=d(he,L,V),ne===null?X=he:ne.sibling=he,ne=he,Z=se}if(ie.done)return r(O,Z),_n&&uu(O,V),X;if(Z===null){for(;!ie.done;V++,ie=z.next())ie=x(O,ie.value,Y),ie!==null&&(L=d(ie,L,V),ne===null?X=ie:ne.sibling=ie,ne=ie);return _n&&uu(O,V),X}for(Z=o(O,Z);!ie.done;V++,ie=z.next())ie=T(Z,O,V,ie.value,Y),ie!==null&&(t&&ie.alternate!==null&&Z.delete(ie.key===null?V:ie.key),L=d(ie,L,V),ne===null?X=ie:ne.sibling=ie,ne=ie);return t&&Z.forEach(function($e){return e(O,$e)}),_n&&uu(O,V),X}function B(O,L,z,Y){if(typeof z=="object"&&z!==null&&z.type===Th&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Qb:e:{for(var X=z.key,ne=L;ne!==null;){if(ne.key===X){if(X=z.type,X===Th){if(ne.tag===7){r(O,ne.sibling),L=a(ne,z.props.children),L.return=O,O=L;break e}}else if(ne.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Pc&&s4(X)===ne.type){r(O,ne.sibling),L=a(ne,z.props),L.ref=hg(O,ne,z),L.return=O,O=L;break e}r(O,ne);break}else e(O,ne);ne=ne.sibling}z.type===Th?(L=Du(z.props.children,O.mode,Y,z.key),L.return=O,O=L):(Y=z0(z.type,z.key,z.props,null,O.mode,Y),Y.ref=hg(O,L,z),Y.return=O,O=Y)}return f(O);case Sh:e:{for(ne=z.key;L!==null;){if(L.key===ne)if(L.tag===4&&L.stateNode.containerInfo===z.containerInfo&&L.stateNode.implementation===z.implementation){r(O,L.sibling),L=a(L,z.children||[]),L.return=O,O=L;break e}else{r(O,L);break}else e(O,L);L=L.sibling}L=DC(z,O.mode,Y),L.return=O,O=L}return f(O);case Pc:return ne=z._init,B(O,L,ne(z._payload),Y)}if(Cg(z))return D(O,L,z,Y);if(ag(z))return M(O,L,z,Y);a0(O,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,L!==null&&L.tag===6?(r(O,L.sibling),L=a(L,z),L.return=O,O=L):(r(O,L),L=TC(z,O.mode,Y),L.return=O,O=L),f(O)):r(O,L)}return B}var lf=tj(!0),nj=tj(!1),ek={},Ys=bl(ek),fm=bl(ek),pm=bl(ek);function Cu(t){if(t===ek)throw Error(_e(174));return t}function rS(t,e){switch(ln(pm,e),ln(fm,t),ln(Ys,ek),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:M1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=M1(e,t)}kn(Ys),ln(Ys,e)}function uf(){kn(Ys),kn(fm),kn(pm)}function rj(t){Cu(pm.current);var e=Cu(Ys.current),r=M1(e,t.type);e!==r&&(ln(fm,t),ln(Ys,r))}function iS(t){fm.current===t&&(kn(Ys),kn(fm))}var En=bl(0);function ww(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _C=[];function oS(){for(var t=0;t<_C.length;t++)_C[t]._workInProgressVersionPrimary=null;_C.length=0}var O0=Ya.ReactCurrentDispatcher,AC=Ya.ReactCurrentBatchConfig,Ru=0,Sn=null,ar=null,mr=null,vw=!1,$g=!1,gm=0,lZ=0;function jr(){throw Error(_e(321))}function sS(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!es(t[r],e[r]))return!1;return!0}function aS(t,e,r,o,a,d){if(Ru=d,Sn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,O0.current=t===null||t.memoizedState===null?fZ:pZ,t=r(o,a),$g){d=0;do{if($g=!1,gm=0,25<=d)throw Error(_e(301));d+=1,mr=ar=null,e.updateQueue=null,O0.current=gZ,t=r(o,a)}while($g)}if(O0.current=yw,e=ar!==null&&ar.next!==null,Ru=0,mr=ar=Sn=null,vw=!1,e)throw Error(_e(300));return t}function cS(){var t=gm!==0;return gm=0,t}function js(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Sn.memoizedState=mr=t:mr=mr.next=t,mr}function So(){if(ar===null){var t=Sn.alternate;t=t!==null?t.memoizedState:null}else t=ar.next;var e=mr===null?Sn.memoizedState:mr.next;if(e!==null)mr=e,ar=t;else{if(t===null)throw Error(_e(310));ar=t,t={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},mr===null?Sn.memoizedState=mr=t:mr=mr.next=t}return mr}function mm(t,e){return typeof e=="function"?e(t):e}function CC(t){var e=So(),r=e.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=t;var o=ar,a=o.baseQueue,d=r.pending;if(d!==null){if(a!==null){var f=a.next;a.next=d.next,d.next=f}o.baseQueue=a=d,r.pending=null}if(a!==null){d=a.next,o=o.baseState;var k=f=null,m=null,v=d;do{var A=v.lane;if((Ru&A)===A)m!==null&&(m=m.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),o=v.hasEagerState?v.eagerState:t(o,v.action);else{var x={lane:A,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};m===null?(k=m=x,f=o):m=m.next=x,Sn.lanes|=A,Lu|=A}v=v.next}while(v!==null&&v!==d);m===null?f=o:m.next=k,es(o,e.memoizedState)||(vi=!0),e.memoizedState=o,e.baseState=f,e.baseQueue=m,r.lastRenderedState=o}if(t=r.interleaved,t!==null){a=t;do d=a.lane,Sn.lanes|=d,Lu|=d,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function xC(t){var e=So(),r=e.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=t;var o=r.dispatch,a=r.pending,d=e.memoizedState;if(a!==null){r.pending=null;var f=a=a.next;do d=t(d,f.action),f=f.next;while(f!==a);es(d,e.memoizedState)||(vi=!0),e.memoizedState=d,e.baseQueue===null&&(e.baseState=d),r.lastRenderedState=d}return[d,o]}function ij(){}function oj(t,e){var r=Sn,o=So(),a=e(),d=!es(o.memoizedState,a);if(d&&(o.memoizedState=a,vi=!0),o=o.queue,lS(cj.bind(null,r,o,t),[t]),o.getSnapshot!==e||d||mr!==null&&mr.memoizedState.tag&1){if(r.flags|=2048,km(9,aj.bind(null,r,o,a,e),void 0,null),kr===null)throw Error(_e(349));Ru&30||sj(r,e,a)}return a}function sj(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Sn.updateQueue,e===null?(e={lastEffect:null,stores:null},Sn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function aj(t,e,r,o){e.value=r,e.getSnapshot=o,lj(e)&&uj(t)}function cj(t,e,r){return r(function(){lj(e)&&uj(t)})}function lj(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!es(t,r)}catch{return!0}}function uj(t){var e=ja(t,1);e!==null&&Jo(e,t,1,-1)}function a4(t){var e=js();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mm,lastRenderedState:t},e.queue=t,t=t.dispatch=hZ.bind(null,Sn,t),[e.memoizedState,t]}function km(t,e,r,o){return t={tag:t,create:e,destroy:r,deps:o,next:null},e=Sn.updateQueue,e===null?(e={lastEffect:null,stores:null},Sn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,e.lastEffect=t)),t}function dj(){return So().memoizedState}function R0(t,e,r,o){var a=js();Sn.flags|=t,a.memoizedState=km(1|e,r,void 0,o===void 0?null:o)}function vv(t,e,r,o){var a=So();o=o===void 0?null:o;var d=void 0;if(ar!==null){var f=ar.memoizedState;if(d=f.destroy,o!==null&&sS(o,f.deps)){a.memoizedState=km(e,r,d,o);return}}Sn.flags|=t,a.memoizedState=km(1|e,r,d,o)}function c4(t,e){return R0(8390656,8,t,e)}function lS(t,e){return vv(2048,8,t,e)}function hj(t,e){return vv(4,2,t,e)}function fj(t,e){return vv(4,4,t,e)}function pj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gj(t,e,r){return r=r!=null?r.concat([t]):null,vv(4,4,pj.bind(null,e,t),r)}function uS(){}function mj(t,e){var r=So();e=e===void 0?null:e;var o=r.memoizedState;return o!==null&&e!==null&&sS(e,o[1])?o[0]:(r.memoizedState=[t,e],t)}function kj(t,e){var r=So();e=e===void 0?null:e;var o=r.memoizedState;return o!==null&&e!==null&&sS(e,o[1])?o[0]:(t=t(),r.memoizedState=[t,e],t)}function bj(t,e,r){return Ru&21?(es(r,e)||(r=yB(),Sn.lanes|=r,Lu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vi=!0),t.memoizedState=r)}function uZ(t,e){var r=Zt;Zt=r!==0&&4>r?r:4,t(!0);var o=AC.transition;AC.transition={};try{t(!1),e()}finally{Zt=r,AC.transition=o}}function wj(){return So().memoizedState}function dZ(t,e,r){var o=Jc(t);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},vj(t))yj(e,r);else if(r=ZB(t,e,r,o),r!==null){var a=ii();Jo(r,t,o,a),_j(r,e,o)}}function hZ(t,e,r){var o=Jc(t),a={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(vj(t))yj(e,a);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=e.lastRenderedReducer,d!==null))try{var f=e.lastRenderedState,k=d(f,r);if(a.hasEagerState=!0,a.eagerState=k,es(k,f)){var m=e.interleaved;m===null?(a.next=a,tS(e)):(a.next=m.next,m.next=a),e.interleaved=a;return}}catch{}finally{}r=ZB(t,e,a,o),r!==null&&(a=ii(),Jo(r,t,o,a),_j(r,e,o))}}function vj(t){var e=t.alternate;return t===Sn||e!==null&&e===Sn}function yj(t,e){$g=vw=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function _j(t,e,r){if(r&4194240){var o=e.lanes;o&=t.pendingLanes,r|=o,e.lanes=r,$E(t,r)}}var yw={readContext:Eo,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},fZ={readContext:Eo,useCallback:function(t,e){return js().memoizedState=[t,e===void 0?null:e],t},useContext:Eo,useEffect:c4,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,R0(4194308,4,pj.bind(null,e,t),r)},useLayoutEffect:function(t,e){return R0(4194308,4,t,e)},useInsertionEffect:function(t,e){return R0(4,2,t,e)},useMemo:function(t,e){var r=js();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var o=js();return e=r!==void 0?r(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=dZ.bind(null,Sn,t),[o.memoizedState,t]},useRef:function(t){var e=js();return t={current:t},e.memoizedState=t},useState:a4,useDebugValue:uS,useDeferredValue:function(t){return js().memoizedState=t},useTransition:function(){var t=a4(!1),e=t[0];return t=uZ.bind(null,t[1]),js().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var o=Sn,a=js();if(_n){if(r===void 0)throw Error(_e(407));r=r()}else{if(r=e(),kr===null)throw Error(_e(349));Ru&30||sj(o,e,r)}a.memoizedState=r;var d={value:r,getSnapshot:e};return a.queue=d,c4(cj.bind(null,o,d,t),[t]),o.flags|=2048,km(9,aj.bind(null,o,d,r,e),void 0,null),r},useId:function(){var t=js(),e=kr.identifierPrefix;if(_n){var r=Ta,o=Sa;r=(o&~(1<<32-Zo(o)-1)).toString(32)+r,e=":"+e+"R"+r,r=gm++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=lZ++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pZ={readContext:Eo,useCallback:mj,useContext:Eo,useEffect:lS,useImperativeHandle:gj,useInsertionEffect:hj,useLayoutEffect:fj,useMemo:kj,useReducer:CC,useRef:dj,useState:function(){return CC(mm)},useDebugValue:uS,useDeferredValue:function(t){var e=So();return bj(e,ar.memoizedState,t)},useTransition:function(){var t=CC(mm)[0],e=So().memoizedState;return[t,e]},useMutableSource:ij,useSyncExternalStore:oj,useId:wj,unstable_isNewReconciler:!1},gZ={readContext:Eo,useCallback:mj,useContext:Eo,useEffect:lS,useImperativeHandle:gj,useInsertionEffect:hj,useLayoutEffect:fj,useMemo:kj,useReducer:xC,useRef:dj,useState:function(){return xC(mm)},useDebugValue:uS,useDeferredValue:function(t){var e=So();return ar===null?e.memoizedState=t:bj(e,ar.memoizedState,t)},useTransition:function(){var t=xC(mm)[0],e=So().memoizedState;return[t,e]},useMutableSource:ij,useSyncExternalStore:oj,useId:wj,unstable_isNewReconciler:!1};function df(t,e){try{var r="",o=e;do r+=UK(o),o=o.return;while(o);var a=r}catch(d){a=`
Error generating stack: `+d.message+`
`+d.stack}return{value:t,source:e,stack:a,digest:null}}function EC(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ex(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var mZ=typeof WeakMap=="function"?WeakMap:Map;function Aj(t,e,r){r=Na(-1,r),r.tag=3,r.payload={element:null};var o=e.value;return r.callback=function(){Aw||(Aw=!0,ux=o),ex(t,e)},r}function Cj(t,e,r){r=Na(-1,r),r.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var a=e.value;r.payload=function(){return o(a)},r.callback=function(){ex(t,e)}}var d=t.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){ex(t,e),typeof o!="function"&&(Zc===null?Zc=new Set([this]):Zc.add(this));var f=e.stack;this.componentDidCatch(e.value,{componentStack:f!==null?f:""})}),r}function l4(t,e,r){var o=t.pingCache;if(o===null){o=t.pingCache=new mZ;var a=new Set;o.set(e,a)}else a=o.get(e),a===void 0&&(a=new Set,o.set(e,a));a.has(r)||(a.add(r),t=IZ.bind(null,t,e,r),e.then(t,t))}function u4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d4(t,e,r,o,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Na(-1,1),e.tag=2,Qc(r,e,1))),r.lanes|=1),t)}var kZ=Ya.ReactCurrentOwner,vi=!1;function ni(t,e,r,o){e.child=t===null?nj(e,null,r,o):lf(e,t.child,r,o)}function h4(t,e,r,o,a){r=r.render;var d=e.ref;return qh(e,a),o=aS(t,e,r,o,d,a),r=cS(),t!==null&&!vi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,za(t,e,a)):(_n&&r&&KE(e),e.flags|=1,ni(t,e,o,a),e.child)}function f4(t,e,r,o,a){if(t===null){var d=r.type;return typeof d=="function"&&!bS(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=d,xj(t,e,d,o,a)):(t=z0(r.type,null,o,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(d=t.child,!(t.lanes&a)){var f=d.memoizedProps;if(r=r.compare,r=r!==null?r:lm,r(f,o)&&t.ref===e.ref)return za(t,e,a)}return e.flags|=1,t=Xc(d,o),t.ref=e.ref,t.return=e,e.child=t}function xj(t,e,r,o,a){if(t!==null){var d=t.memoizedProps;if(lm(d,o)&&t.ref===e.ref)if(vi=!1,e.pendingProps=o=d,(t.lanes&a)!==0)t.flags&131072&&(vi=!0);else return e.lanes=t.lanes,za(t,e,a)}return tx(t,e,r,o,a)}function Ej(t,e,r){var o=e.pendingProps,a=o.children,d=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(jh,zi),zi|=r;else{if(!(r&1073741824))return t=d!==null?d.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ln(jh,zi),zi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=d!==null?d.baseLanes:r,ln(jh,zi),zi|=o}else d!==null?(o=d.baseLanes|r,e.memoizedState=null):o=r,ln(jh,zi),zi|=o;return ni(t,e,a,r),e.child}function Sj(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function tx(t,e,r,o,a){var d=Ci(r)?Pu:Kr.current;return d=af(e,d),qh(e,a),r=aS(t,e,r,o,d,a),o=cS(),t!==null&&!vi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,za(t,e,a)):(_n&&o&&KE(e),e.flags|=1,ni(t,e,r,a),e.child)}function p4(t,e,r,o,a){if(Ci(r)){var d=!0;fw(e)}else d=!1;if(qh(e,a),e.stateNode===null)L0(t,e),ej(e,r,o),X1(e,r,o,a),o=!0;else if(t===null){var f=e.stateNode,k=e.memoizedProps;f.props=k;var m=f.context,v=r.contextType;typeof v=="object"&&v!==null?v=Eo(v):(v=Ci(r)?Pu:Kr.current,v=af(e,v));var A=r.getDerivedStateFromProps,x=typeof A=="function"||typeof f.getSnapshotBeforeUpdate=="function";x||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(k!==o||m!==v)&&o4(e,f,o,v),Oc=!1;var _=e.memoizedState;f.state=_,bw(e,o,f,a),m=e.memoizedState,k!==o||_!==m||Ai.current||Oc?(typeof A=="function"&&(J1(e,r,A,o),m=e.memoizedState),(k=Oc||i4(e,r,k,o,_,m,v))?(x||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=m),f.props=o,f.state=m,f.context=v,o=k):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{f=e.stateNode,JB(t,e),k=e.memoizedProps,v=e.type===e.elementType?k:qo(e.type,k),f.props=v,x=e.pendingProps,_=f.context,m=r.contextType,typeof m=="object"&&m!==null?m=Eo(m):(m=Ci(r)?Pu:Kr.current,m=af(e,m));var T=r.getDerivedStateFromProps;(A=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(k!==x||_!==m)&&o4(e,f,o,m),Oc=!1,_=e.memoizedState,f.state=_,bw(e,o,f,a);var D=e.memoizedState;k!==x||_!==D||Ai.current||Oc?(typeof T=="function"&&(J1(e,r,T,o),D=e.memoizedState),(v=Oc||i4(e,r,v,o,_,D,m)||!1)?(A||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,D,m),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,D,m)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||k===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=D),f.props=o,f.state=D,f.context=m,o=v):(typeof f.componentDidUpdate!="function"||k===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),o=!1)}return nx(t,e,r,o,d,a)}function nx(t,e,r,o,a,d){Sj(t,e);var f=(e.flags&128)!==0;if(!o&&!f)return a&&XO(e,r,!1),za(t,e,d);o=e.stateNode,kZ.current=e;var k=f&&typeof r.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&f?(e.child=lf(e,t.child,null,d),e.child=lf(e,null,k,d)):ni(t,e,k,d),e.memoizedState=o.state,a&&XO(e,r,!0),e.child}function Tj(t){var e=t.stateNode;e.pendingContext?JO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&JO(t,e.context,!1),rS(t,e.containerInfo)}function g4(t,e,r,o,a){return cf(),ZE(a),e.flags|=256,ni(t,e,r,o),e.child}var rx={dehydrated:null,treeContext:null,retryLane:0};function ix(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dj(t,e,r){var o=e.pendingProps,a=En.current,d=!1,f=(e.flags&128)!==0,k;if((k=f)||(k=t!==null&&t.memoizedState===null?!1:(a&2)!==0),k?(d=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),ln(En,a&1),t===null)return Q1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(f=o.children,t=o.fallback,d?(o=e.mode,d=e.child,f={mode:"hidden",children:f},!(o&1)&&d!==null?(d.childLanes=0,d.pendingProps=f):d=Av(f,o,0,null),t=Du(t,o,r,null),d.return=e,t.return=e,d.sibling=t,e.child=d,e.child.memoizedState=ix(r),e.memoizedState=rx,t):dS(e,f));if(a=t.memoizedState,a!==null&&(k=a.dehydrated,k!==null))return bZ(t,e,f,o,k,a,r);if(d){d=o.fallback,f=e.mode,a=t.child,k=a.sibling;var m={mode:"hidden",children:o.children};return!(f&1)&&e.child!==a?(o=e.child,o.childLanes=0,o.pendingProps=m,e.deletions=null):(o=Xc(a,m),o.subtreeFlags=a.subtreeFlags&14680064),k!==null?d=Xc(k,d):(d=Du(d,f,r,null),d.flags|=2),d.return=e,o.return=e,o.sibling=d,e.child=o,o=d,d=e.child,f=t.child.memoizedState,f=f===null?ix(r):{baseLanes:f.baseLanes|r,cachePool:null,transitions:f.transitions},d.memoizedState=f,d.childLanes=t.childLanes&~r,e.memoizedState=rx,o}return d=t.child,t=d.sibling,o=Xc(d,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=r),o.return=e,o.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=o,e.memoizedState=null,o}function dS(t,e){return e=Av({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function c0(t,e,r,o){return o!==null&&ZE(o),lf(e,t.child,null,r),t=dS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bZ(t,e,r,o,a,d,f){if(r)return e.flags&256?(e.flags&=-257,o=EC(Error(_e(422))),c0(t,e,f,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(d=o.fallback,a=e.mode,o=Av({mode:"visible",children:o.children},a,0,null),d=Du(d,a,f,null),d.flags|=2,o.return=e,d.return=e,o.sibling=d,e.child=o,e.mode&1&&lf(e,t.child,null,f),e.child.memoizedState=ix(f),e.memoizedState=rx,d);if(!(e.mode&1))return c0(t,e,f,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var k=o.dgst;return o=k,d=Error(_e(419)),o=EC(d,o,void 0),c0(t,e,f,o)}if(k=(f&t.childLanes)!==0,vi||k){if(o=kr,o!==null){switch(f&-f){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|f)?0:a,a!==0&&a!==d.retryLane&&(d.retryLane=a,ja(t,a),Jo(o,t,a,-1))}return kS(),o=EC(Error(_e(421))),c0(t,e,f,o)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=MZ.bind(null,t),a._reactRetry=e,null):(t=d.treeContext,$i=Kc(a.nextSibling),Wi=e,_n=!0,Yo=null,t!==null&&(wo[vo++]=Sa,wo[vo++]=Ta,wo[vo++]=Ou,Sa=t.id,Ta=t.overflow,Ou=e),e=dS(e,o.children),e.flags|=4096,e)}function m4(t,e,r){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Z1(t.return,e,r)}function SC(t,e,r,o,a){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:a}:(d.isBackwards=e,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=r,d.tailMode=a)}function Ij(t,e,r){var o=e.pendingProps,a=o.revealOrder,d=o.tail;if(ni(t,e,o.children,r),o=En.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&m4(t,r,e);else if(t.tag===19)m4(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(ln(En,o),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&ww(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),SC(e,!1,a,r,d);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&ww(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}SC(e,!0,r,null,d);break;case"together":SC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function L0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function za(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Lu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_e(153));if(e.child!==null){for(t=e.child,r=Xc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Xc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function wZ(t,e,r){switch(e.tag){case 3:Tj(e),cf();break;case 5:rj(e);break;case 1:Ci(e.type)&&fw(e);break;case 4:rS(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,a=e.memoizedProps.value;ln(mw,o._currentValue),o._currentValue=a;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(ln(En,En.current&1),e.flags|=128,null):r&e.child.childLanes?Dj(t,e,r):(ln(En,En.current&1),t=za(t,e,r),t!==null?t.sibling:null);ln(En,En.current&1);break;case 19:if(o=(r&e.childLanes)!==0,t.flags&128){if(o)return Ij(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ln(En,En.current),o)break;return null;case 22:case 23:return e.lanes=0,Ej(t,e,r)}return za(t,e,r)}var Mj,ox,Nj,Pj;Mj=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ox=function(){};Nj=function(t,e,r,o){var a=t.memoizedProps;if(a!==o){t=e.stateNode,Cu(Ys.current);var d=null;switch(r){case"input":a=S1(t,a),o=S1(t,o),d=[];break;case"select":a=Tn({},a,{value:void 0}),o=Tn({},o,{value:void 0}),d=[];break;case"textarea":a=I1(t,a),o=I1(t,o),d=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=dw)}N1(r,o);var f;r=null;for(v in a)if(!o.hasOwnProperty(v)&&a.hasOwnProperty(v)&&a[v]!=null)if(v==="style"){var k=a[v];for(f in k)k.hasOwnProperty(f)&&(r||(r={}),r[f]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(nm.hasOwnProperty(v)?d||(d=[]):(d=d||[]).push(v,null));for(v in o){var m=o[v];if(k=a!=null?a[v]:void 0,o.hasOwnProperty(v)&&m!==k&&(m!=null||k!=null))if(v==="style")if(k){for(f in k)!k.hasOwnProperty(f)||m&&m.hasOwnProperty(f)||(r||(r={}),r[f]="");for(f in m)m.hasOwnProperty(f)&&k[f]!==m[f]&&(r||(r={}),r[f]=m[f])}else r||(d||(d=[]),d.push(v,r)),r=m;else v==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,k=k?k.__html:void 0,m!=null&&k!==m&&(d=d||[]).push(v,m)):v==="children"?typeof m!="string"&&typeof m!="number"||(d=d||[]).push(v,""+m):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(nm.hasOwnProperty(v)?(m!=null&&v==="onScroll"&&hn("scroll",t),d||k===m||(d=[])):(d=d||[]).push(v,m))}r&&(d=d||[]).push("style",r);var v=d;(e.updateQueue=v)&&(e.flags|=4)}};Pj=function(t,e,r,o){r!==o&&(e.flags|=4)};function fg(t,e){if(!_n)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function zr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=o,t.childLanes=r,e}function vZ(t,e,r){var o=e.pendingProps;switch(QE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(e),null;case 1:return Ci(e.type)&&hw(),zr(e),null;case 3:return o=e.stateNode,uf(),kn(Ai),kn(Kr),oS(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(s0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yo!==null&&(fx(Yo),Yo=null))),ox(t,e),zr(e),null;case 5:iS(e);var a=Cu(pm.current);if(r=e.type,t!==null&&e.stateNode!=null)Nj(t,e,r,o,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(_e(166));return zr(e),null}if(t=Cu(Ys.current),s0(e)){o=e.stateNode,r=e.type;var d=e.memoizedProps;switch(o[$s]=e,o[hm]=d,t=(e.mode&1)!==0,r){case"dialog":hn("cancel",o),hn("close",o);break;case"iframe":case"object":case"embed":hn("load",o);break;case"video":case"audio":for(a=0;a<Eg.length;a++)hn(Eg[a],o);break;case"source":hn("error",o);break;case"img":case"image":case"link":hn("error",o),hn("load",o);break;case"details":hn("toggle",o);break;case"input":xO(o,d),hn("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!d.multiple},hn("invalid",o);break;case"textarea":SO(o,d),hn("invalid",o)}N1(r,d),a=null;for(var f in d)if(d.hasOwnProperty(f)){var k=d[f];f==="children"?typeof k=="string"?o.textContent!==k&&(d.suppressHydrationWarning!==!0&&o0(o.textContent,k,t),a=["children",k]):typeof k=="number"&&o.textContent!==""+k&&(d.suppressHydrationWarning!==!0&&o0(o.textContent,k,t),a=["children",""+k]):nm.hasOwnProperty(f)&&k!=null&&f==="onScroll"&&hn("scroll",o)}switch(r){case"input":Zb(o),EO(o,d,!0);break;case"textarea":Zb(o),TO(o);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(o.onclick=dw)}o=a,e.updateQueue=o,o!==null&&(e.flags|=4)}else{f=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sB(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=f.createElement(r,{is:o.is}):(t=f.createElement(r),r==="select"&&(f=t,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):t=f.createElementNS(t,r),t[$s]=e,t[hm]=o,Mj(t,e,!1,!1),e.stateNode=t;e:{switch(f=P1(r,o),r){case"dialog":hn("cancel",t),hn("close",t),a=o;break;case"iframe":case"object":case"embed":hn("load",t),a=o;break;case"video":case"audio":for(a=0;a<Eg.length;a++)hn(Eg[a],t);a=o;break;case"source":hn("error",t),a=o;break;case"img":case"image":case"link":hn("error",t),hn("load",t),a=o;break;case"details":hn("toggle",t),a=o;break;case"input":xO(t,o),a=S1(t,o),hn("invalid",t);break;case"option":a=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},a=Tn({},o,{value:void 0}),hn("invalid",t);break;case"textarea":SO(t,o),a=I1(t,o),hn("invalid",t);break;default:a=o}N1(r,a),k=a;for(d in k)if(k.hasOwnProperty(d)){var m=k[d];d==="style"?lB(t,m):d==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&aB(t,m)):d==="children"?typeof m=="string"?(r!=="textarea"||m!=="")&&rm(t,m):typeof m=="number"&&rm(t,""+m):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(nm.hasOwnProperty(d)?m!=null&&d==="onScroll"&&hn("scroll",t):m!=null&&RE(t,d,m,f))}switch(r){case"input":Zb(t),EO(t,o,!1);break;case"textarea":Zb(t),TO(t);break;case"option":o.value!=null&&t.setAttribute("value",""+ll(o.value));break;case"select":t.multiple=!!o.multiple,d=o.value,d!=null?Vh(t,!!o.multiple,d,!1):o.defaultValue!=null&&Vh(t,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=dw)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zr(e),null;case 6:if(t&&e.stateNode!=null)Pj(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(_e(166));if(r=Cu(pm.current),Cu(Ys.current),s0(e)){if(o=e.stateNode,r=e.memoizedProps,o[$s]=e,(d=o.nodeValue!==r)&&(t=Wi,t!==null))switch(t.tag){case 3:o0(o.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&o0(o.nodeValue,r,(t.mode&1)!==0)}d&&(e.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[$s]=e,e.stateNode=o}return zr(e),null;case 13:if(kn(En),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_n&&$i!==null&&e.mode&1&&!(e.flags&128))QB(),cf(),e.flags|=98560,d=!1;else if(d=s0(e),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(_e(318));if(d=e.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(_e(317));d[$s]=e}else cf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zr(e),d=!1}else Yo!==null&&(fx(Yo),Yo=null),d=!0;if(!d)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||En.current&1?cr===0&&(cr=3):kS())),e.updateQueue!==null&&(e.flags|=4),zr(e),null);case 4:return uf(),ox(t,e),t===null&&um(e.stateNode.containerInfo),zr(e),null;case 10:return eS(e.type._context),zr(e),null;case 17:return Ci(e.type)&&hw(),zr(e),null;case 19:if(kn(En),d=e.memoizedState,d===null)return zr(e),null;if(o=(e.flags&128)!==0,f=d.rendering,f===null)if(o)fg(d,!1);else{if(cr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(f=ww(t),f!==null){for(e.flags|=128,fg(d,!1),o=f.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=r,r=e.child;r!==null;)d=r,t=o,d.flags&=14680066,f=d.alternate,f===null?(d.childLanes=0,d.lanes=t,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=f.childLanes,d.lanes=f.lanes,d.child=f.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=f.memoizedProps,d.memoizedState=f.memoizedState,d.updateQueue=f.updateQueue,d.type=f.type,t=f.dependencies,d.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ln(En,En.current&1|2),e.child}t=t.sibling}d.tail!==null&&$n()>hf&&(e.flags|=128,o=!0,fg(d,!1),e.lanes=4194304)}else{if(!o)if(t=ww(f),t!==null){if(e.flags|=128,o=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),fg(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!_n)return zr(e),null}else 2*$n()-d.renderingStartTime>hf&&r!==1073741824&&(e.flags|=128,o=!0,fg(d,!1),e.lanes=4194304);d.isBackwards?(f.sibling=e.child,e.child=f):(r=d.last,r!==null?r.sibling=f:e.child=f,d.last=f)}return d.tail!==null?(e=d.tail,d.rendering=e,d.tail=e.sibling,d.renderingStartTime=$n(),e.sibling=null,r=En.current,ln(En,o?r&1|2:r&1),e):(zr(e),null);case 22:case 23:return mS(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?zi&1073741824&&(zr(e),e.subtreeFlags&6&&(e.flags|=8192)):zr(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function yZ(t,e){switch(QE(e),e.tag){case 1:return Ci(e.type)&&hw(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return uf(),kn(Ai),kn(Kr),oS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return iS(e),null;case 13:if(kn(En),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));cf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return kn(En),null;case 4:return uf(),null;case 10:return eS(e.type._context),null;case 22:case 23:return mS(),null;case 24:return null;default:return null}}var l0=!1,Hr=!1,_Z=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Bh(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){Ln(t,e,o)}else r.current=null}function sx(t,e,r){try{r()}catch(o){Ln(t,e,o)}}var k4=!1;function AZ(t,e){if(U1=cw,t=BB(),YE(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var a=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var f=0,k=-1,m=-1,v=0,A=0,x=t,_=null;t:for(;;){for(var T;x!==r||a!==0&&x.nodeType!==3||(k=f+a),x!==d||o!==0&&x.nodeType!==3||(m=f+o),x.nodeType===3&&(f+=x.nodeValue.length),(T=x.firstChild)!==null;)_=x,x=T;for(;;){if(x===t)break t;if(_===r&&++v===a&&(k=f),_===d&&++A===o&&(m=f),(T=x.nextSibling)!==null)break;x=_,_=x.parentNode}x=T}r=k===-1||m===-1?null:{start:k,end:m}}else r=null}r=r||{start:0,end:0}}else r=null;for(H1={focusedElem:t,selectionRange:r},cw=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){e=ze;try{var D=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var M=D.memoizedProps,B=D.memoizedState,O=e.stateNode,L=O.getSnapshotBeforeUpdate(e.elementType===e.type?M:qo(e.type,M),B);O.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var z=e.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(Y){Ln(e,e.return,Y)}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}return D=k4,k4=!1,D}function Vg(t,e,r){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&t)===t){var d=a.destroy;a.destroy=void 0,d!==void 0&&sx(e,r,d)}a=a.next}while(a!==o)}}function yv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var o=r.create;r.destroy=o()}r=r.next}while(r!==e)}}function ax(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Oj(t){var e=t.alternate;e!==null&&(t.alternate=null,Oj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$s],delete e[hm],delete e[G1],delete e[oZ],delete e[sZ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rj(t){return t.tag===5||t.tag===3||t.tag===4}function b4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cx(t,e,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=dw));else if(o!==4&&(t=t.child,t!==null))for(cx(t,e,r),t=t.sibling;t!==null;)cx(t,e,r),t=t.sibling}function lx(t,e,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(lx(t,e,r),t=t.sibling;t!==null;)lx(t,e,r),t=t.sibling}var Er=null,Go=!1;function Ic(t,e,r){for(r=r.child;r!==null;)Lj(t,e,r),r=r.sibling}function Lj(t,e,r){if(Gs&&typeof Gs.onCommitFiberUnmount=="function")try{Gs.onCommitFiberUnmount(fv,r)}catch{}switch(r.tag){case 5:Hr||Bh(r,e);case 6:var o=Er,a=Go;Er=null,Ic(t,e,r),Er=o,Go=a,Er!==null&&(Go?(t=Er,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Er.removeChild(r.stateNode));break;case 18:Er!==null&&(Go?(t=Er,r=r.stateNode,t.nodeType===8?vC(t.parentNode,r):t.nodeType===1&&vC(t,r),am(t)):vC(Er,r.stateNode));break;case 4:o=Er,a=Go,Er=r.stateNode.containerInfo,Go=!0,Ic(t,e,r),Er=o,Go=a;break;case 0:case 11:case 14:case 15:if(!Hr&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var d=a,f=d.destroy;d=d.tag,f!==void 0&&(d&2||d&4)&&sx(r,e,f),a=a.next}while(a!==o)}Ic(t,e,r);break;case 1:if(!Hr&&(Bh(r,e),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(k){Ln(r,e,k)}Ic(t,e,r);break;case 21:Ic(t,e,r);break;case 22:r.mode&1?(Hr=(o=Hr)||r.memoizedState!==null,Ic(t,e,r),Hr=o):Ic(t,e,r);break;default:Ic(t,e,r)}}function w4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new _Z),e.forEach(function(o){var a=NZ.bind(null,t,o);r.has(o)||(r.add(o),o.then(a,a))})}}function Wo(t,e){var r=e.deletions;if(r!==null)for(var o=0;o<r.length;o++){var a=r[o];try{var d=t,f=e,k=f;e:for(;k!==null;){switch(k.tag){case 5:Er=k.stateNode,Go=!1;break e;case 3:Er=k.stateNode.containerInfo,Go=!0;break e;case 4:Er=k.stateNode.containerInfo,Go=!0;break e}k=k.return}if(Er===null)throw Error(_e(160));Lj(d,f,a),Er=null,Go=!1;var m=a.alternate;m!==null&&(m.return=null),a.return=null}catch(v){Ln(a,e,v)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bj(e,t),e=e.sibling}function Bj(t,e){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wo(e,t),Bs(t),o&4){try{Vg(3,t,t.return),yv(3,t)}catch(M){Ln(t,t.return,M)}try{Vg(5,t,t.return)}catch(M){Ln(t,t.return,M)}}break;case 1:Wo(e,t),Bs(t),o&512&&r!==null&&Bh(r,r.return);break;case 5:if(Wo(e,t),Bs(t),o&512&&r!==null&&Bh(r,r.return),t.flags&32){var a=t.stateNode;try{rm(a,"")}catch(M){Ln(t,t.return,M)}}if(o&4&&(a=t.stateNode,a!=null)){var d=t.memoizedProps,f=r!==null?r.memoizedProps:d,k=t.type,m=t.updateQueue;if(t.updateQueue=null,m!==null)try{k==="input"&&d.type==="radio"&&d.name!=null&&iB(a,d),P1(k,f);var v=P1(k,d);for(f=0;f<m.length;f+=2){var A=m[f],x=m[f+1];A==="style"?lB(a,x):A==="dangerouslySetInnerHTML"?aB(a,x):A==="children"?rm(a,x):RE(a,A,x,v)}switch(k){case"input":T1(a,d);break;case"textarea":oB(a,d);break;case"select":var _=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!d.multiple;var T=d.value;T!=null?Vh(a,!!d.multiple,T,!1):_!==!!d.multiple&&(d.defaultValue!=null?Vh(a,!!d.multiple,d.defaultValue,!0):Vh(a,!!d.multiple,d.multiple?[]:"",!1))}a[hm]=d}catch(M){Ln(t,t.return,M)}}break;case 6:if(Wo(e,t),Bs(t),o&4){if(t.stateNode===null)throw Error(_e(162));a=t.stateNode,d=t.memoizedProps;try{a.nodeValue=d}catch(M){Ln(t,t.return,M)}}break;case 3:if(Wo(e,t),Bs(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{am(e.containerInfo)}catch(M){Ln(t,t.return,M)}break;case 4:Wo(e,t),Bs(t);break;case 13:Wo(e,t),Bs(t),a=t.child,a.flags&8192&&(d=a.memoizedState!==null,a.stateNode.isHidden=d,!d||a.alternate!==null&&a.alternate.memoizedState!==null||(pS=$n())),o&4&&w4(t);break;case 22:if(A=r!==null&&r.memoizedState!==null,t.mode&1?(Hr=(v=Hr)||A,Wo(e,t),Hr=v):Wo(e,t),Bs(t),o&8192){if(v=t.memoizedState!==null,(t.stateNode.isHidden=v)&&!A&&t.mode&1)for(ze=t,A=t.child;A!==null;){for(x=ze=A;ze!==null;){switch(_=ze,T=_.child,_.tag){case 0:case 11:case 14:case 15:Vg(4,_,_.return);break;case 1:Bh(_,_.return);var D=_.stateNode;if(typeof D.componentWillUnmount=="function"){o=_,r=_.return;try{e=o,D.props=e.memoizedProps,D.state=e.memoizedState,D.componentWillUnmount()}catch(M){Ln(o,r,M)}}break;case 5:Bh(_,_.return);break;case 22:if(_.memoizedState!==null){y4(x);continue}}T!==null?(T.return=_,ze=T):y4(x)}A=A.sibling}e:for(A=null,x=t;;){if(x.tag===5){if(A===null){A=x;try{a=x.stateNode,v?(d=a.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(k=x.stateNode,m=x.memoizedProps.style,f=m!=null&&m.hasOwnProperty("display")?m.display:null,k.style.display=cB("display",f))}catch(M){Ln(t,t.return,M)}}}else if(x.tag===6){if(A===null)try{x.stateNode.nodeValue=v?"":x.memoizedProps}catch(M){Ln(t,t.return,M)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===t)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;A===x&&(A=null),x=x.return}A===x&&(A=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Wo(e,t),Bs(t),o&4&&w4(t);break;case 21:break;default:Wo(e,t),Bs(t)}}function Bs(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Rj(r)){var o=r;break e}r=r.return}throw Error(_e(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(rm(a,""),o.flags&=-33);var d=b4(t);lx(t,d,a);break;case 3:case 4:var f=o.stateNode.containerInfo,k=b4(t);cx(t,k,f);break;default:throw Error(_e(161))}}catch(m){Ln(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CZ(t,e,r){ze=t,jj(t)}function jj(t,e,r){for(var o=(t.mode&1)!==0;ze!==null;){var a=ze,d=a.child;if(a.tag===22&&o){var f=a.memoizedState!==null||l0;if(!f){var k=a.alternate,m=k!==null&&k.memoizedState!==null||Hr;k=l0;var v=Hr;if(l0=f,(Hr=m)&&!v)for(ze=a;ze!==null;)f=ze,m=f.child,f.tag===22&&f.memoizedState!==null?_4(a):m!==null?(m.return=f,ze=m):_4(a);for(;d!==null;)ze=d,jj(d),d=d.sibling;ze=a,l0=k,Hr=v}v4(t)}else a.subtreeFlags&8772&&d!==null?(d.return=a,ze=d):v4(t)}}function v4(t){for(;ze!==null;){var e=ze;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hr||yv(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!Hr)if(r===null)o.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:qo(e.type,r.memoizedProps);o.componentDidUpdate(a,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var d=e.updateQueue;d!==null&&r4(e,d,o);break;case 3:var f=e.updateQueue;if(f!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}r4(e,f,r)}break;case 5:var k=e.stateNode;if(r===null&&e.flags&4){r=k;var m=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&r.focus();break;case"img":m.src&&(r.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var v=e.alternate;if(v!==null){var A=v.memoizedState;if(A!==null){var x=A.dehydrated;x!==null&&am(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Hr||e.flags&512&&ax(e)}catch(_){Ln(e,e.return,_)}}if(e===t){ze=null;break}if(r=e.sibling,r!==null){r.return=e.return,ze=r;break}ze=e.return}}function y4(t){for(;ze!==null;){var e=ze;if(e===t){ze=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ze=r;break}ze=e.return}}function _4(t){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{yv(4,e)}catch(m){Ln(e,r,m)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var a=e.return;try{o.componentDidMount()}catch(m){Ln(e,a,m)}}var d=e.return;try{ax(e)}catch(m){Ln(e,d,m)}break;case 5:var f=e.return;try{ax(e)}catch(m){Ln(e,f,m)}}}catch(m){Ln(e,e.return,m)}if(e===t){ze=null;break}var k=e.sibling;if(k!==null){k.return=e.return,ze=k;break}ze=e.return}}var xZ=Math.ceil,_w=Ya.ReactCurrentDispatcher,hS=Ya.ReactCurrentOwner,Co=Ya.ReactCurrentBatchConfig,Nt=0,kr=null,Xn=null,Ir=0,zi=0,jh=bl(0),cr=0,bm=null,Lu=0,_v=0,fS=0,Ug=null,ki=null,pS=0,hf=1/0,xa=null,Aw=!1,ux=null,Zc=null,u0=!1,Uc=null,Cw=0,Hg=0,dx=null,B0=-1,j0=0;function ii(){return Nt&6?$n():B0!==-1?B0:B0=$n()}function Jc(t){return t.mode&1?Nt&2&&Ir!==0?Ir&-Ir:cZ.transition!==null?(j0===0&&(j0=yB()),j0):(t=Zt,t!==0||(t=window.event,t=t===void 0?16:TB(t.type)),t):1}function Jo(t,e,r,o){if(50<Hg)throw Hg=0,dx=null,Error(_e(185));Zm(t,r,o),(!(Nt&2)||t!==kr)&&(t===kr&&(!(Nt&2)&&(_v|=r),cr===4&&Lc(t,Ir)),xi(t,o),r===1&&Nt===0&&!(e.mode&1)&&(hf=$n()+500,bv&&wl()))}function xi(t,e){var r=t.callbackNode;cQ(t,e);var o=aw(t,t===kr?Ir:0);if(o===0)r!==null&&MO(r),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(r!=null&&MO(r),e===1)t.tag===0?aZ(A4.bind(null,t)):GB(A4.bind(null,t)),rZ(function(){!(Nt&6)&&wl()}),r=null;else{switch(_B(o)){case 1:r=FE;break;case 4:r=wB;break;case 16:r=sw;break;case 536870912:r=vB;break;default:r=sw}r=qj(r,zj.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function zj(t,e){if(B0=-1,j0=0,Nt&6)throw Error(_e(327));var r=t.callbackNode;if(Gh()&&t.callbackNode!==r)return null;var o=aw(t,t===kr?Ir:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=xw(t,o);else{e=o;var a=Nt;Nt|=2;var d=$j();(kr!==t||Ir!==e)&&(xa=null,hf=$n()+500,Tu(t,e));do try{TZ();break}catch(k){Fj(t,k)}while(1);XE(),_w.current=d,Nt=a,Xn!==null?e=0:(kr=null,Ir=0,e=cr)}if(e!==0){if(e===2&&(a=j1(t),a!==0&&(o=a,e=hx(t,a))),e===1)throw r=bm,Tu(t,0),Lc(t,o),xi(t,$n()),r;if(e===6)Lc(t,o);else{if(a=t.current.alternate,!(o&30)&&!EZ(a)&&(e=xw(t,o),e===2&&(d=j1(t),d!==0&&(o=d,e=hx(t,d))),e===1))throw r=bm,Tu(t,0),Lc(t,o),xi(t,$n()),r;switch(t.finishedWork=a,t.finishedLanes=o,e){case 0:case 1:throw Error(_e(345));case 2:du(t,ki,xa);break;case 3:if(Lc(t,o),(o&130023424)===o&&(e=pS+500-$n(),10<e)){if(aw(t,0)!==0)break;if(a=t.suspendedLanes,(a&o)!==o){ii(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=q1(du.bind(null,t,ki,xa),e);break}du(t,ki,xa);break;case 4:if(Lc(t,o),(o&4194240)===o)break;for(e=t.eventTimes,a=-1;0<o;){var f=31-Zo(o);d=1<<f,f=e[f],f>a&&(a=f),o&=~d}if(o=a,o=$n()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*xZ(o/1960))-o,10<o){t.timeoutHandle=q1(du.bind(null,t,ki,xa),o);break}du(t,ki,xa);break;case 5:du(t,ki,xa);break;default:throw Error(_e(329))}}}return xi(t,$n()),t.callbackNode===r?zj.bind(null,t):null}function hx(t,e){var r=Ug;return t.current.memoizedState.isDehydrated&&(Tu(t,e).flags|=256),t=xw(t,e),t!==2&&(e=ki,ki=r,e!==null&&fx(e)),t}function fx(t){ki===null?ki=t:ki.push.apply(ki,t)}function EZ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var a=r[o],d=a.getSnapshot;a=a.value;try{if(!es(d(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lc(t,e){for(e&=~fS,e&=~_v,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Zo(e),o=1<<r;t[r]=-1,e&=~o}}function A4(t){if(Nt&6)throw Error(_e(327));Gh();var e=aw(t,0);if(!(e&1))return xi(t,$n()),null;var r=xw(t,e);if(t.tag!==0&&r===2){var o=j1(t);o!==0&&(e=o,r=hx(t,o))}if(r===1)throw r=bm,Tu(t,0),Lc(t,e),xi(t,$n()),r;if(r===6)throw Error(_e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,du(t,ki,xa),xi(t,$n()),null}function gS(t,e){var r=Nt;Nt|=1;try{return t(e)}finally{Nt=r,Nt===0&&(hf=$n()+500,bv&&wl())}}function Bu(t){Uc!==null&&Uc.tag===0&&!(Nt&6)&&Gh();var e=Nt;Nt|=1;var r=Co.transition,o=Zt;try{if(Co.transition=null,Zt=1,t)return t()}finally{Zt=o,Co.transition=r,Nt=e,!(Nt&6)&&wl()}}function mS(){zi=jh.current,kn(jh)}function Tu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,nZ(r)),Xn!==null)for(r=Xn.return;r!==null;){var o=r;switch(QE(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&hw();break;case 3:uf(),kn(Ai),kn(Kr),oS();break;case 5:iS(o);break;case 4:uf();break;case 13:kn(En);break;case 19:kn(En);break;case 10:eS(o.type._context);break;case 22:case 23:mS()}r=r.return}if(kr=t,Xn=t=Xc(t.current,null),Ir=zi=e,cr=0,bm=null,fS=_v=Lu=0,ki=Ug=null,Au!==null){for(e=0;e<Au.length;e++)if(r=Au[e],o=r.interleaved,o!==null){r.interleaved=null;var a=o.next,d=r.pending;if(d!==null){var f=d.next;d.next=a,o.next=f}r.pending=o}Au=null}return t}function Fj(t,e){do{var r=Xn;try{if(XE(),O0.current=yw,vw){for(var o=Sn.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}vw=!1}if(Ru=0,mr=ar=Sn=null,$g=!1,gm=0,hS.current=null,r===null||r.return===null){cr=1,bm=e,Xn=null;break}e:{var d=t,f=r.return,k=r,m=e;if(e=Ir,k.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var v=m,A=k,x=A.tag;if(!(A.mode&1)&&(x===0||x===11||x===15)){var _=A.alternate;_?(A.updateQueue=_.updateQueue,A.memoizedState=_.memoizedState,A.lanes=_.lanes):(A.updateQueue=null,A.memoizedState=null)}var T=u4(f);if(T!==null){T.flags&=-257,d4(T,f,k,d,e),T.mode&1&&l4(d,v,e),e=T,m=v;var D=e.updateQueue;if(D===null){var M=new Set;M.add(m),e.updateQueue=M}else D.add(m);break e}else{if(!(e&1)){l4(d,v,e),kS();break e}m=Error(_e(426))}}else if(_n&&k.mode&1){var B=u4(f);if(B!==null){!(B.flags&65536)&&(B.flags|=256),d4(B,f,k,d,e),ZE(df(m,k));break e}}d=m=df(m,k),cr!==4&&(cr=2),Ug===null?Ug=[d]:Ug.push(d),d=f;do{switch(d.tag){case 3:d.flags|=65536,e&=-e,d.lanes|=e;var O=Aj(d,m,e);n4(d,O);break e;case 1:k=m;var L=d.type,z=d.stateNode;if(!(d.flags&128)&&(typeof L.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Zc===null||!Zc.has(z)))){d.flags|=65536,e&=-e,d.lanes|=e;var Y=Cj(d,k,e);n4(d,Y);break e}}d=d.return}while(d!==null)}Uj(r)}catch(X){e=X,Xn===r&&r!==null&&(Xn=r=r.return);continue}break}while(1)}function $j(){var t=_w.current;return _w.current=yw,t===null?yw:t}function kS(){(cr===0||cr===3||cr===2)&&(cr=4),kr===null||!(Lu&268435455)&&!(_v&268435455)||Lc(kr,Ir)}function xw(t,e){var r=Nt;Nt|=2;var o=$j();(kr!==t||Ir!==e)&&(xa=null,Tu(t,e));do try{SZ();break}catch(a){Fj(t,a)}while(1);if(XE(),Nt=r,_w.current=o,Xn!==null)throw Error(_e(261));return kr=null,Ir=0,cr}function SZ(){for(;Xn!==null;)Vj(Xn)}function TZ(){for(;Xn!==null&&!XK();)Vj(Xn)}function Vj(t){var e=Wj(t.alternate,t,zi);t.memoizedProps=t.pendingProps,e===null?Uj(t):Xn=e,hS.current=null}function Uj(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=yZ(r,e),r!==null){r.flags&=32767,Xn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{cr=6,Xn=null;return}}else if(r=vZ(r,e,zi),r!==null){Xn=r;return}if(e=e.sibling,e!==null){Xn=e;return}Xn=e=t}while(e!==null);cr===0&&(cr=5)}function du(t,e,r){var o=Zt,a=Co.transition;try{Co.transition=null,Zt=1,DZ(t,e,r,o)}finally{Co.transition=a,Zt=o}return null}function DZ(t,e,r,o){do Gh();while(Uc!==null);if(Nt&6)throw Error(_e(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(_e(177));t.callbackNode=null,t.callbackPriority=0;var d=r.lanes|r.childLanes;if(lQ(t,d),t===kr&&(Xn=kr=null,Ir=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||u0||(u0=!0,qj(sw,function(){return Gh(),null})),d=(r.flags&15990)!==0,r.subtreeFlags&15990||d){d=Co.transition,Co.transition=null;var f=Zt;Zt=1;var k=Nt;Nt|=4,hS.current=null,AZ(t,r),Bj(r,t),KQ(H1),cw=!!U1,H1=U1=null,t.current=r,CZ(r),eQ(),Nt=k,Zt=f,Co.transition=d}else t.current=r;if(u0&&(u0=!1,Uc=t,Cw=a),d=t.pendingLanes,d===0&&(Zc=null),rQ(r.stateNode),xi(t,$n()),e!==null)for(o=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],o(a.value,{componentStack:a.stack,digest:a.digest});if(Aw)throw Aw=!1,t=ux,ux=null,t;return Cw&1&&t.tag!==0&&Gh(),d=t.pendingLanes,d&1?t===dx?Hg++:(Hg=0,dx=t):Hg=0,wl(),null}function Gh(){if(Uc!==null){var t=_B(Cw),e=Co.transition,r=Zt;try{if(Co.transition=null,Zt=16>t?16:t,Uc===null)var o=!1;else{if(t=Uc,Uc=null,Cw=0,Nt&6)throw Error(_e(331));var a=Nt;for(Nt|=4,ze=t.current;ze!==null;){var d=ze,f=d.child;if(ze.flags&16){var k=d.deletions;if(k!==null){for(var m=0;m<k.length;m++){var v=k[m];for(ze=v;ze!==null;){var A=ze;switch(A.tag){case 0:case 11:case 15:Vg(8,A,d)}var x=A.child;if(x!==null)x.return=A,ze=x;else for(;ze!==null;){A=ze;var _=A.sibling,T=A.return;if(Oj(A),A===v){ze=null;break}if(_!==null){_.return=T,ze=_;break}ze=T}}}var D=d.alternate;if(D!==null){var M=D.child;if(M!==null){D.child=null;do{var B=M.sibling;M.sibling=null,M=B}while(M!==null)}}ze=d}}if(d.subtreeFlags&2064&&f!==null)f.return=d,ze=f;else e:for(;ze!==null;){if(d=ze,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Vg(9,d,d.return)}var O=d.sibling;if(O!==null){O.return=d.return,ze=O;break e}ze=d.return}}var L=t.current;for(ze=L;ze!==null;){f=ze;var z=f.child;if(f.subtreeFlags&2064&&z!==null)z.return=f,ze=z;else e:for(f=L;ze!==null;){if(k=ze,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:yv(9,k)}}catch(X){Ln(k,k.return,X)}if(k===f){ze=null;break e}var Y=k.sibling;if(Y!==null){Y.return=k.return,ze=Y;break e}ze=k.return}}if(Nt=a,wl(),Gs&&typeof Gs.onPostCommitFiberRoot=="function")try{Gs.onPostCommitFiberRoot(fv,t)}catch{}o=!0}return o}finally{Zt=r,Co.transition=e}}return!1}function C4(t,e,r){e=df(r,e),e=Aj(t,e,1),t=Qc(t,e,1),e=ii(),t!==null&&(Zm(t,1,e),xi(t,e))}function Ln(t,e,r){if(t.tag===3)C4(t,t,r);else for(;e!==null;){if(e.tag===3){C4(e,t,r);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Zc===null||!Zc.has(o))){t=df(r,t),t=Cj(e,t,1),e=Qc(e,t,1),t=ii(),e!==null&&(Zm(e,1,t),xi(e,t));break}}e=e.return}}function IZ(t,e,r){var o=t.pingCache;o!==null&&o.delete(e),e=ii(),t.pingedLanes|=t.suspendedLanes&r,kr===t&&(Ir&r)===r&&(cr===4||cr===3&&(Ir&130023424)===Ir&&500>$n()-pS?Tu(t,0):fS|=r),xi(t,e)}function Hj(t,e){e===0&&(t.mode&1?(e=e0,e0<<=1,!(e0&130023424)&&(e0=4194304)):e=1);var r=ii();t=ja(t,e),t!==null&&(Zm(t,e,r),xi(t,r))}function MZ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Hj(t,r)}function NZ(t,e){var r=0;switch(t.tag){case 13:var o=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(_e(314))}o!==null&&o.delete(e),Hj(t,r)}var Wj;Wj=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ai.current)vi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return vi=!1,wZ(t,e,r);vi=!!(t.flags&131072)}else vi=!1,_n&&e.flags&1048576&&YB(e,gw,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;L0(t,e),t=e.pendingProps;var a=af(e,Kr.current);qh(e,r),a=aS(null,e,o,t,a,r);var d=cS();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ci(o)?(d=!0,fw(e)):d=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,nS(e),a.updater=wv,e.stateNode=a,a._reactInternals=e,X1(e,o,t,r),e=nx(null,e,o,!0,d,r)):(e.tag=0,_n&&d&&KE(e),ni(null,e,a,r),e=e.child),e;case 16:o=e.elementType;e:{switch(L0(t,e),t=e.pendingProps,a=o._init,o=a(o._payload),e.type=o,a=e.tag=OZ(o),t=qo(o,t),a){case 0:e=tx(null,e,o,t,r);break e;case 1:e=p4(null,e,o,t,r);break e;case 11:e=h4(null,e,o,t,r);break e;case 14:e=f4(null,e,o,qo(o.type,t),r);break e}throw Error(_e(306,o,""))}return e;case 0:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:qo(o,a),tx(t,e,o,a,r);case 1:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:qo(o,a),p4(t,e,o,a,r);case 3:e:{if(Tj(e),t===null)throw Error(_e(387));o=e.pendingProps,d=e.memoizedState,a=d.element,JB(t,e),bw(e,o,null,r);var f=e.memoizedState;if(o=f.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},e.updateQueue.baseState=d,e.memoizedState=d,e.flags&256){a=df(Error(_e(423)),e),e=g4(t,e,o,r,a);break e}else if(o!==a){a=df(Error(_e(424)),e),e=g4(t,e,o,r,a);break e}else for($i=Kc(e.stateNode.containerInfo.firstChild),Wi=e,_n=!0,Yo=null,r=nj(e,null,o,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cf(),o===a){e=za(t,e,r);break e}ni(t,e,o,r)}e=e.child}return e;case 5:return rj(e),t===null&&Q1(e),o=e.type,a=e.pendingProps,d=t!==null?t.memoizedProps:null,f=a.children,W1(o,a)?f=null:d!==null&&W1(o,d)&&(e.flags|=32),Sj(t,e),ni(t,e,f,r),e.child;case 6:return t===null&&Q1(e),null;case 13:return Dj(t,e,r);case 4:return rS(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=lf(e,null,o,r):ni(t,e,o,r),e.child;case 11:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:qo(o,a),h4(t,e,o,a,r);case 7:return ni(t,e,e.pendingProps,r),e.child;case 8:return ni(t,e,e.pendingProps.children,r),e.child;case 12:return ni(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(o=e.type._context,a=e.pendingProps,d=e.memoizedProps,f=a.value,ln(mw,o._currentValue),o._currentValue=f,d!==null)if(es(d.value,f)){if(d.children===a.children&&!Ai.current){e=za(t,e,r);break e}}else for(d=e.child,d!==null&&(d.return=e);d!==null;){var k=d.dependencies;if(k!==null){f=d.child;for(var m=k.firstContext;m!==null;){if(m.context===o){if(d.tag===1){m=Na(-1,r&-r),m.tag=2;var v=d.updateQueue;if(v!==null){v=v.shared;var A=v.pending;A===null?m.next=m:(m.next=A.next,A.next=m),v.pending=m}}d.lanes|=r,m=d.alternate,m!==null&&(m.lanes|=r),Z1(d.return,r,e),k.lanes|=r;break}m=m.next}}else if(d.tag===10)f=d.type===e.type?null:d.child;else if(d.tag===18){if(f=d.return,f===null)throw Error(_e(341));f.lanes|=r,k=f.alternate,k!==null&&(k.lanes|=r),Z1(f,r,e),f=d.sibling}else f=d.child;if(f!==null)f.return=d;else for(f=d;f!==null;){if(f===e){f=null;break}if(d=f.sibling,d!==null){d.return=f.return,f=d;break}f=f.return}d=f}ni(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,o=e.pendingProps.children,qh(e,r),a=Eo(a),o=o(a),e.flags|=1,ni(t,e,o,r),e.child;case 14:return o=e.type,a=qo(o,e.pendingProps),a=qo(o.type,a),f4(t,e,o,a,r);case 15:return xj(t,e,e.type,e.pendingProps,r);case 17:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:qo(o,a),L0(t,e),e.tag=1,Ci(o)?(t=!0,fw(e)):t=!1,qh(e,r),ej(e,o,a),X1(e,o,a,r),nx(null,e,o,!0,t,r);case 19:return Ij(t,e,r);case 22:return Ej(t,e,r)}throw Error(_e(156,e.tag))};function qj(t,e){return bB(t,e)}function PZ(t,e,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _o(t,e,r,o){return new PZ(t,e,r,o)}function bS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OZ(t){if(typeof t=="function")return bS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===BE)return 11;if(t===jE)return 14}return 2}function Xc(t,e){var r=t.alternate;return r===null?(r=_o(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function z0(t,e,r,o,a,d){var f=2;if(o=t,typeof t=="function")bS(t)&&(f=1);else if(typeof t=="string")f=5;else e:switch(t){case Th:return Du(r.children,a,d,e);case LE:f=8,a|=8;break;case A1:return t=_o(12,r,e,a|2),t.elementType=A1,t.lanes=d,t;case C1:return t=_o(13,r,e,a),t.elementType=C1,t.lanes=d,t;case x1:return t=_o(19,r,e,a),t.elementType=x1,t.lanes=d,t;case tB:return Av(r,a,d,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XL:f=10;break e;case eB:f=9;break e;case BE:f=11;break e;case jE:f=14;break e;case Pc:f=16,o=null;break e}throw Error(_e(130,t==null?t:typeof t,""))}return e=_o(f,r,e,a),e.elementType=t,e.type=o,e.lanes=d,e}function Du(t,e,r,o){return t=_o(7,t,o,e),t.lanes=r,t}function Av(t,e,r,o){return t=_o(22,t,o,e),t.elementType=tB,t.lanes=r,t.stateNode={isHidden:!1},t}function TC(t,e,r){return t=_o(6,t,null,e),t.lanes=r,t}function DC(t,e,r){return e=_o(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RZ(t,e,r,o,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lC(0),this.expirationTimes=lC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lC(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function wS(t,e,r,o,a,d,f,k,m){return t=new RZ(t,e,r,k,m),e===1?(e=1,d===!0&&(e|=8)):e=0,d=_o(3,null,null,e),t.current=d,d.stateNode=t,d.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nS(d),t}function LZ(t,e,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sh,key:o==null?null:""+o,children:t,containerInfo:e,implementation:r}}function Gj(t){if(!t)return ul;t=t._reactInternals;e:{if(Zu(t)!==t||t.tag!==1)throw Error(_e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ci(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(t.tag===1){var r=t.type;if(Ci(r))return qB(t,r,e)}return e}function Yj(t,e,r,o,a,d,f,k,m){return t=wS(r,o,!0,t,a,d,f,k,m),t.context=Gj(null),r=t.current,o=ii(),a=Jc(r),d=Na(o,a),d.callback=e??null,Qc(r,d,a),t.current.lanes=a,Zm(t,a,o),xi(t,o),t}function Cv(t,e,r,o){var a=e.current,d=ii(),f=Jc(a);return r=Gj(r),e.context===null?e.context=r:e.pendingContext=r,e=Na(d,f),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Qc(a,e,f),t!==null&&(Jo(t,a,f,d),P0(t,a,f)),f}function Ew(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function x4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function vS(t,e){x4(t,e),(t=t.alternate)&&x4(t,e)}function BZ(){return null}var Kj=typeof reportError=="function"?reportError:function(t){console.error(t)};function yS(t){this._internalRoot=t}xv.prototype.render=yS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_e(409));Cv(t,e,null,null)};xv.prototype.unmount=yS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bu(function(){Cv(null,t,null,null)}),e[Ba]=null}};function xv(t){this._internalRoot=t}xv.prototype.unstable_scheduleHydration=function(t){if(t){var e=xB();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Rc.length&&e!==0&&e<Rc[r].priority;r++);Rc.splice(r,0,t),r===0&&SB(t)}};function _S(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ev(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function E4(){}function jZ(t,e,r,o,a){if(a){if(typeof o=="function"){var d=o;o=function(){var v=Ew(f);d.call(v)}}var f=Yj(e,o,t,0,null,!1,!1,"",E4);return t._reactRootContainer=f,t[Ba]=f.current,um(t.nodeType===8?t.parentNode:t),Bu(),f}for(;a=t.lastChild;)t.removeChild(a);if(typeof o=="function"){var k=o;o=function(){var v=Ew(m);k.call(v)}}var m=wS(t,0,!1,null,null,!1,!1,"",E4);return t._reactRootContainer=m,t[Ba]=m.current,um(t.nodeType===8?t.parentNode:t),Bu(function(){Cv(e,m,r,o)}),m}function Sv(t,e,r,o,a){var d=r._reactRootContainer;if(d){var f=d;if(typeof a=="function"){var k=a;a=function(){var m=Ew(f);k.call(m)}}Cv(e,f,t,a)}else f=jZ(r,e,t,a,o);return Ew(f)}AB=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=xg(e.pendingLanes);r!==0&&($E(e,r|1),xi(e,$n()),!(Nt&6)&&(hf=$n()+500,wl()))}break;case 13:Bu(function(){var o=ja(t,1);if(o!==null){var a=ii();Jo(o,t,1,a)}}),vS(t,1)}};VE=function(t){if(t.tag===13){var e=ja(t,134217728);if(e!==null){var r=ii();Jo(e,t,134217728,r)}vS(t,134217728)}};CB=function(t){if(t.tag===13){var e=Jc(t),r=ja(t,e);if(r!==null){var o=ii();Jo(r,t,e,o)}vS(t,e)}};xB=function(){return Zt};EB=function(t,e){var r=Zt;try{return Zt=t,e()}finally{Zt=r}};R1=function(t,e,r){switch(e){case"input":if(T1(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var o=r[e];if(o!==t&&o.form===t.form){var a=kv(o);if(!a)throw Error(_e(90));rB(o),T1(o,a)}}}break;case"textarea":oB(t,r);break;case"select":e=r.value,e!=null&&Vh(t,!!r.multiple,e,!1)}};hB=gS;fB=Bu;var zZ={usingClientEntryPoint:!1,Events:[Xm,Nh,kv,uB,dB,gS]},pg={findFiberByHostInstance:_u,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},FZ={bundleType:pg.bundleType,version:pg.version,rendererPackageName:pg.rendererPackageName,rendererConfig:pg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ya.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mB(t),t===null?null:t.stateNode},findFiberByHostInstance:pg.findFiberByHostInstance||BZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d0.isDisabled&&d0.supportsFiber)try{fv=d0.inject(FZ),Gs=d0}catch{}}Zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zZ;Zi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_S(e))throw Error(_e(200));return LZ(t,e,null,r)};Zi.createRoot=function(t,e){if(!_S(t))throw Error(_e(299));var r=!1,o="",a=Kj;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=wS(t,1,!1,null,null,r,!1,o,a),t[Ba]=e.current,um(t.nodeType===8?t.parentNode:t),new yS(e)};Zi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_e(188)):(t=Object.keys(t).join(","),Error(_e(268,t)));return t=mB(e),t=t===null?null:t.stateNode,t};Zi.flushSync=function(t){return Bu(t)};Zi.hydrate=function(t,e,r){if(!Ev(e))throw Error(_e(200));return Sv(null,t,e,!0,r)};Zi.hydrateRoot=function(t,e,r){if(!_S(t))throw Error(_e(405));var o=r!=null&&r.hydratedSources||null,a=!1,d="",f=Kj;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),e=Yj(e,null,t,1,r??null,a,!1,d,f),t[Ba]=e.current,um(t),o)for(t=0;t<o.length;t++)r=o[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new xv(e)};Zi.render=function(t,e,r){if(!Ev(e))throw Error(_e(200));return Sv(null,t,e,!1,r)};Zi.unmountComponentAtNode=function(t){if(!Ev(t))throw Error(_e(40));return t._reactRootContainer?(Bu(function(){Sv(null,null,t,!1,function(){t._reactRootContainer=null,t[Ba]=null})}),!0):!1};Zi.unstable_batchedUpdates=gS;Zi.unstable_renderSubtreeIntoContainer=function(t,e,r,o){if(!Ev(r))throw Error(_e(200));if(t==null||t._reactInternals===void 0)throw Error(_e(38));return Sv(t,e,r,!1,o)};Zi.version="18.2.0-next-9e3b772b8-20220608";function Qj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qj)}catch(t){console.error(t)}}Qj(),YL.exports=Zi;var ff=YL.exports;const h0=Km(ff);var S4=ff;y1.createRoot=S4.createRoot,y1.hydrateRoot=S4.hydrateRoot;const Zj=({children:t,className:e})=>W.jsx("div",{className:`bg-card px-6 py-10 rounded-xl ${e}`,children:t}),yi=({children:t,className:e,...r})=>W.jsx("p",{className:`${e}`,...r,children:t}),px=({children:t,className:e,onClick:r,...o})=>W.jsx("button",{className:`rounded-lg py-2 px-8 text-white bg-sidebar hover:bg-secondary text-sm font-semibold ${e}`,onClick:r,...o,children:t});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var gx=function(t,e){return gx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},gx(t,e)};function $Z(t,e){gx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var VZ=100,UZ=100,T4=50,mx=50,kx=50;function D4(t){var e=t.className,r=t.counterClockwise,o=t.dashRatio,a=t.pathRadius,d=t.strokeWidth,f=t.style;return G.createElement("path",{className:e,style:Object.assign({},f,WZ({pathRadius:a,dashRatio:o,counterClockwise:r})),d:HZ({pathRadius:a,counterClockwise:r}),strokeWidth:d,fillOpacity:0})}function HZ(t){var e=t.pathRadius,r=t.counterClockwise,o=e,a=r?1:0;return`
      M `+mx+","+kx+`
      m 0,-`+o+`
      a `+o+","+o+" "+a+" 1 1 0,"+2*o+`
      a `+o+","+o+" "+a+" 1 1 0,-"+2*o+`
    `}function WZ(t){var e=t.counterClockwise,r=t.dashRatio,o=t.pathRadius,a=Math.PI*2*o,d=(1-r)*a;return{strokeDasharray:a+"px "+a+"px",strokeDashoffset:(e?-d:d)+"px"}}(function(t){$Z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return T4-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var r=this.props,o=r.value,a=r.minValue,d=r.maxValue,f=Math.min(Math.max(o,a),d);return(f-a)/(d-a)},e.prototype.render=function(){var r=this.props,o=r.circleRatio,a=r.className,d=r.classes,f=r.counterClockwise,k=r.styles,m=r.strokeWidth,v=r.text,A=this.getPathRadius(),x=this.getPathRatio();return G.createElement("svg",{className:d.root+" "+a,style:k.root,viewBox:"0 0 "+VZ+" "+UZ,"data-test-id":"CircularProgressbar"},this.props.background?G.createElement("circle",{className:d.background,style:k.background,cx:mx,cy:kx,r:T4}):null,G.createElement(D4,{className:d.trail,counterClockwise:f,dashRatio:o,pathRadius:A,strokeWidth:m,style:k.trail}),G.createElement(D4,{className:d.path,counterClockwise:f,dashRatio:x*o,pathRadius:A,strokeWidth:m,style:k.path}),v?G.createElement("text",{className:d.text,style:k.text,x:mx,y:kx},v):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e})(G.Component);function bx(t,e){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},bx(t,e)}function qZ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,bx(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=function(t){const e=[];let r=0;for(let o=0;o<t.length;o++){let a=t.charCodeAt(o);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&o+1<t.length&&(t.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++o)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},GZ=function(t){const e=[];let r=0,o=0;for(;r<t.length;){const a=t[r++];if(a<128)e[o++]=String.fromCharCode(a);else if(a>191&&a<224){const d=t[r++];e[o++]=String.fromCharCode((a&31)<<6|d&63)}else if(a>239&&a<365){const d=t[r++],f=t[r++],k=t[r++],m=((a&7)<<18|(d&63)<<12|(f&63)<<6|k&63)-65536;e[o++]=String.fromCharCode(55296+(m>>10)),e[o++]=String.fromCharCode(56320+(m&1023))}else{const d=t[r++],f=t[r++];e[o++]=String.fromCharCode((a&15)<<12|(d&63)<<6|f&63)}}return e.join("")},Xj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<t.length;a+=3){const d=t[a],f=a+1<t.length,k=f?t[a+1]:0,m=a+2<t.length,v=m?t[a+2]:0,A=d>>2,x=(d&3)<<4|k>>4;let _=(k&15)<<2|v>>6,T=v&63;m||(T=64,f||(_=64)),o.push(r[A],r[x],r[_],r[T])}return o.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Jj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GZ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<t.length;){const d=r[t.charAt(a++)],k=a<t.length?r[t.charAt(a)]:0;++a;const v=a<t.length?r[t.charAt(a)]:64;++a;const x=a<t.length?r[t.charAt(a)]:64;if(++a,d==null||k==null||v==null||x==null)throw new YZ;const _=d<<2|k>>4;if(o.push(_),v!==64){const T=k<<4&240|v>>2;if(o.push(T),x!==64){const D=v<<6&192|x;o.push(D)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KZ=function(t){const e=Jj(t);return Xj.encodeByteArray(e,!0)},Sw=function(t){return KZ(t).replace(/\./g,"")},ez=function(t){try{return Xj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZZ=()=>QZ().__FIREBASE_DEFAULTS__,JZ=()=>{if(typeof process>"u"||typeof{}>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XZ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ez(t[1]);return e&&JSON.parse(e)},AS=()=>{try{return ZZ()||JZ()||XZ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tz=t=>{var e,r;return(r=(e=AS())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},eJ=t=>{const e=tz(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),o]:[e.substring(0,r),o]},nz=()=>{var t;return(t=AS())===null||t===void 0?void 0:t.config},rz=t=>{var e;return(e=AS())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tJ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=e||"demo-project",a=t.iat||0,d=t.sub||t.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}}},t),k="";return[Sw(JSON.stringify(r)),Sw(JSON.stringify(f)),k].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qr())}function iJ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oJ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sJ(){const t=Qr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aJ(){try{return typeof indexedDB=="object"}catch{return!1}}function cJ(){return new Promise((t,e)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var d;e(((d=a.error)===null||d===void 0?void 0:d.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJ="FirebaseError";class Ka extends Error{constructor(e,r,o){super(r),this.code=e,this.customData=o,this.name=lJ,Object.setPrototypeOf(this,Ka.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tk.prototype.create)}}class tk{constructor(e,r,o){this.service=e,this.serviceName=r,this.errors=o}create(e,...r){const o=r[0]||{},a=`${this.service}/${e}`,d=this.errors[e],f=d?uJ(d,o):"Error",k=`${this.serviceName}: ${f} (${a}).`;return new Ka(a,k,o)}}function uJ(t,e){return t.replace(dJ,(r,o)=>{const a=e[o];return a!=null?String(a):`<${o}?>`})}const dJ=/\{\$([^}]+)}/g;function hJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tw(t,e){if(t===e)return!0;const r=Object.keys(t),o=Object.keys(e);for(const a of r){if(!o.includes(a))return!1;const d=t[a],f=e[a];if(I4(d)&&I4(f)){if(!Tw(d,f))return!1}else if(d!==f)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function I4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t){const e=[];for(const[r,o]of Object.entries(t))Array.isArray(o)?o.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}function Sg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[a,d]=o.split("=");e[decodeURIComponent(a)]=decodeURIComponent(d)}}),e}function Tg(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function fJ(t,e){const r=new pJ(t,e);return r.subscribe.bind(r)}class pJ{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(o=>{this.error(o)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,o){let a;if(e===void 0&&r===void 0&&o===void 0)throw new Error("Missing Observer.");gJ(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:o},a.next===void 0&&(a.next=IC),a.error===void 0&&(a.error=IC),a.complete===void 0&&(a.complete=IC);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),d}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gJ(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function IC(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t){return t&&t._delegate?t._delegate:t}class ju{constructor(e,r,o){this.name=e,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mJ=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const o=new tJ;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(d){if(a)return null;throw d}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bJ(e))try{this.getOrInitializeService({instanceIdentifier:hu})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const d=this.getOrInitializeService({instanceIdentifier:a});o.resolve(d)}catch{}}}}clearInstance(e=hu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hu){return this.instances.has(e)}getOptions(e=hu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[d,f]of this.instancesDeferred.entries()){const k=this.normalizeInstanceIdentifier(d);o===k&&f.resolve(a)}return a}onInit(e,r){var o;const a=this.normalizeInstanceIdentifier(r),d=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;d.add(e),this.onInitCallbacks.set(a,d);const f=this.instances.get(a);return f&&e(f,a),()=>{d.delete(e)}}invokeOnInitCallbacks(e,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:kJ(e),options:r}),this.instances.set(e,o),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=hu){return this.component?this.component.multipleInstances?e:hu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function kJ(t){return t===hu?void 0:t}function bJ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new mJ(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const vJ={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},yJ=Rt.INFO,_J={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},AJ=(t,e,...r)=>{if(e<t.logLevel)return;const o=new Date().toISOString(),a=_J[e];if(a)console[a](`[${o}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class CS{constructor(e){this.name=e,this._logLevel=yJ,this._logHandler=AJ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const CJ=(t,e)=>e.some(r=>t instanceof r);let M4,N4;function xJ(){return M4||(M4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EJ(){return N4||(N4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iz=new WeakMap,wx=new WeakMap,oz=new WeakMap,MC=new WeakMap,xS=new WeakMap;function SJ(t){const e=new Promise((r,o)=>{const a=()=>{t.removeEventListener("success",d),t.removeEventListener("error",f)},d=()=>{r(el(t.result)),a()},f=()=>{o(t.error),a()};t.addEventListener("success",d),t.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&iz.set(r,t)}).catch(()=>{}),xS.set(e,t),e}function TJ(t){if(wx.has(t))return;const e=new Promise((r,o)=>{const a=()=>{t.removeEventListener("complete",d),t.removeEventListener("error",f),t.removeEventListener("abort",f)},d=()=>{r(),a()},f=()=>{o(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",d),t.addEventListener("error",f),t.addEventListener("abort",f)});wx.set(t,e)}let vx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return wx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oz.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return el(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DJ(t){vx=t(vx)}function IJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const o=t.call(NC(this),e,...r);return oz.set(o,e.sort?e.sort():[e]),el(o)}:EJ().includes(t)?function(...e){return t.apply(NC(this),e),el(iz.get(this))}:function(...e){return el(t.apply(NC(this),e))}}function MJ(t){return typeof t=="function"?IJ(t):(t instanceof IDBTransaction&&TJ(t),CJ(t,xJ())?new Proxy(t,vx):t)}function el(t){if(t instanceof IDBRequest)return SJ(t);if(MC.has(t))return MC.get(t);const e=MJ(t);return e!==t&&(MC.set(t,e),xS.set(e,t)),e}const NC=t=>xS.get(t);function NJ(t,e,{blocked:r,upgrade:o,blocking:a,terminated:d}={}){const f=indexedDB.open(t,e),k=el(f);return o&&f.addEventListener("upgradeneeded",m=>{o(el(f.result),m.oldVersion,m.newVersion,el(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),k.then(m=>{d&&m.addEventListener("close",()=>d()),a&&m.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),k}const PJ=["get","getKey","getAll","getAllKeys","count"],OJ=["put","add","delete","clear"],PC=new Map;function P4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(PC.get(e))return PC.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,a=OJ.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||PJ.includes(r)))return;const d=async function(f,...k){const m=this.transaction(f,a?"readwrite":"readonly");let v=m.store;return o&&(v=v.index(k.shift())),(await Promise.all([v[r](...k),a&&m.done]))[0]};return PC.set(e,d),d}DJ(t=>({...t,get:(e,r,o)=>P4(e,r)||t.get(e,r,o),has:(e,r)=>!!P4(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(LJ(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function LJ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yx="@firebase/app",O4="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new CS("@firebase/app"),BJ="@firebase/app-compat",jJ="@firebase/analytics-compat",zJ="@firebase/analytics",FJ="@firebase/app-check-compat",$J="@firebase/app-check",VJ="@firebase/auth",UJ="@firebase/auth-compat",HJ="@firebase/database",WJ="@firebase/database-compat",qJ="@firebase/functions",GJ="@firebase/functions-compat",YJ="@firebase/installations",KJ="@firebase/installations-compat",QJ="@firebase/messaging",ZJ="@firebase/messaging-compat",JJ="@firebase/performance",XJ="@firebase/performance-compat",eX="@firebase/remote-config",tX="@firebase/remote-config-compat",nX="@firebase/storage",rX="@firebase/storage-compat",iX="@firebase/firestore",oX="@firebase/firestore-compat",sX="firebase",aX="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="[DEFAULT]",cX={[yx]:"fire-core",[BJ]:"fire-core-compat",[zJ]:"fire-analytics",[jJ]:"fire-analytics-compat",[$J]:"fire-app-check",[FJ]:"fire-app-check-compat",[VJ]:"fire-auth",[UJ]:"fire-auth-compat",[HJ]:"fire-rtdb",[WJ]:"fire-rtdb-compat",[qJ]:"fire-fn",[GJ]:"fire-fn-compat",[YJ]:"fire-iid",[KJ]:"fire-iid-compat",[QJ]:"fire-fcm",[ZJ]:"fire-fcm-compat",[JJ]:"fire-perf",[XJ]:"fire-perf-compat",[eX]:"fire-rc",[tX]:"fire-rc-compat",[nX]:"fire-gcs",[rX]:"fire-gcs-compat",[iX]:"fire-fst",[oX]:"fire-fst-compat","fire-js":"fire-js",[sX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map,Ax=new Map;function lX(t,e){try{t.container.addComponent(e)}catch(r){zu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function pf(t){const e=t.name;if(Ax.has(e))return zu.debug(`There were multiple attempts to register component ${e}.`),!1;Ax.set(e,t);for(const r of Dw.values())lX(r,t);return!0}function ES(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},tl=new tk("app","Firebase",uX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(e,r,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new ju("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=aX;function sz(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const o=Object.assign({name:_x,automaticDataCollectionEnabled:!1},e),a=o.name;if(typeof a!="string"||!a)throw tl.create("bad-app-name",{appName:String(a)});if(r||(r=nz()),!r)throw tl.create("no-options");const d=Dw.get(a);if(d){if(Tw(r,d.options)&&Tw(o,d.config))return d;throw tl.create("duplicate-app",{appName:a})}const f=new wJ(a);for(const m of Ax.values())f.addComponent(m);const k=new dX(r,o,f);return Dw.set(a,k),k}function az(t=_x){const e=Dw.get(t);if(!e&&t===_x&&nz())return sz();if(!e)throw tl.create("no-app",{appName:t});return e}function nl(t,e,r){var o;let a=(o=cX[t])!==null&&o!==void 0?o:t;r&&(a+=`-${r}`);const d=a.match(/\s|\//),f=e.match(/\s|\//);if(d||f){const k=[`Unable to register library "${a}" with version "${e}":`];d&&k.push(`library name "${a}" contains illegal characters (whitespace or "/")`),d&&f&&k.push("and"),f&&k.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zu.warn(k.join(" "));return}pf(new ju(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hX="firebase-heartbeat-database",fX=1,wm="firebase-heartbeat-store";let OC=null;function cz(){return OC||(OC=NJ(hX,fX,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wm)}}}).catch(t=>{throw tl.create("idb-open",{originalErrorMessage:t.message})})),OC}async function pX(t){try{return await(await cz()).transaction(wm).objectStore(wm).get(lz(t))}catch(e){if(e instanceof Ka)zu.warn(e.message);else{const r=tl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zu.warn(r.message)}}}async function R4(t,e){try{const o=(await cz()).transaction(wm,"readwrite");await o.objectStore(wm).put(e,lz(t)),await o.done}catch(r){if(r instanceof Ka)zu.warn(r.message);else{const o=tl.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});zu.warn(o.message)}}}function lz(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gX=1024,mX=30*24*60*60*1e3;class kX{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new wX(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=L4();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const d=new Date(a.date).valueOf();return Date.now()-d<=mX}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=L4(),{heartbeatsToSend:r,unsentEntries:o}=bX(this._heartbeatsCache.heartbeats),a=Sw(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function L4(){return new Date().toISOString().substring(0,10)}function bX(t,e=gX){const r=[];let o=t.slice();for(const a of t){const d=r.find(f=>f.agent===a.agent);if(d){if(d.dates.push(a.date),B4(r)>e){d.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),B4(r)>e){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class wX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aJ()?cJ().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await pX(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return R4(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return R4(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function B4(t){return Sw(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(t){pf(new ju("platform-logger",e=>new RJ(e),"PRIVATE")),pf(new ju("heartbeat",e=>new kX(e),"PRIVATE")),nl(yx,O4,t),nl(yx,O4,"esm2017"),nl("fire-js","")}vX("");function SS(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(r[o[a]]=t[o[a]]);return r}function uz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yX=uz,dz=new tk("auth","Firebase",uz());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=new CS("@firebase/auth");function _X(t,...e){Iw.logLevel<=Rt.WARN&&Iw.warn(`Auth (${Pf}): ${t}`,...e)}function F0(t,...e){Iw.logLevel<=Rt.ERROR&&Iw.error(`Auth (${Pf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,...e){throw TS(t,...e)}function Ks(t,...e){return TS(t,...e)}function AX(t,e,r){const o=Object.assign(Object.assign({},yX()),{[e]:r});return new tk("auth","Firebase",o).create(e,{appName:t.name})}function TS(t,...e){if(typeof t!="string"){const r=e[0],o=[...e.slice(1)];return o[0]&&(o[0].appName=t.name),t._errorFactory.create(r,...o)}return dz.create(t,...e)}function rt(t,e,...r){if(!t)throw TS(e,...r)}function Da(t){const e="INTERNAL ASSERTION FAILED: "+t;throw F0(e),new Error(e)}function Fa(t,e){t||Da(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function CX(){return j4()==="http:"||j4()==="https:"}function j4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CX()||iJ()||"connection"in navigator)?navigator.onLine:!0}function EX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,r){this.shortDelay=e,this.longDelay=r,Fa(r>e,"Short delay should be less than long delay!"),this.isMobile=rJ()||oJ()}get(){return xX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t,e){Fa(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{static initialize(e,r,o){this.fetchImpl=e,r&&(this.headersImpl=r),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Da("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Da("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Da("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TX=new rk(3e4,6e4);function Of(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ju(t,e,r,o,a={}){return fz(t,a,async()=>{let d={},f={};o&&(e==="GET"?f=o:d={body:JSON.stringify(o)});const k=nk(Object.assign({key:t.config.apiKey},f)).slice(1),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),hz.fetch()(pz(t,t.config.apiHost,r,k),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},d))})}async function fz(t,e,r){t._canInitEmulator=!1;const o=Object.assign(Object.assign({},SX),e);try{const a=new DX(t),d=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const f=await d.json();if("needConfirmation"in f)throw f0(t,"account-exists-with-different-credential",f);if(d.ok&&!("errorMessage"in f))return f;{const k=d.ok?f.errorMessage:f.error.message,[m,v]=k.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw f0(t,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw f0(t,"email-already-in-use",f);if(m==="USER_DISABLED")throw f0(t,"user-disabled",f);const A=o[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw AX(t,A,v);ts(t,A)}}catch(a){if(a instanceof Ka)throw a;ts(t,"network-request-failed",{message:String(a)})}}async function ik(t,e,r,o,a={}){const d=await Ju(t,e,r,o,a);return"mfaPendingCredential"in d&&ts(t,"multi-factor-auth-required",{_serverResponse:d}),d}function pz(t,e,r,o){const a=`${e}${r}?${o}`;return t.config.emulator?DS(t.config,a):`${t.config.apiScheme}://${a}`}class DX{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,o)=>{this.timer=setTimeout(()=>o(Ks(this.auth,"network-request-failed")),TX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function f0(t,e,r){const o={appName:t.name};r.email&&(o.email=r.email),r.phoneNumber&&(o.phoneNumber=r.phoneNumber);const a=Ks(t,e,o);return a.customData._tokenResponse=r,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IX(t,e){return Ju(t,"POST","/v1/accounts:delete",e)}async function MX(t,e){return Ju(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NX(t,e=!1){const r=ur(t),o=await r.getIdToken(e),a=IS(o);rt(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const d=typeof a.firebase=="object"?a.firebase:void 0,f=d==null?void 0:d.sign_in_provider;return{claims:a,token:o,authTime:Wg(RC(a.auth_time)),issuedAtTime:Wg(RC(a.iat)),expirationTime:Wg(RC(a.exp)),signInProvider:f||null,signInSecondFactor:(d==null?void 0:d.sign_in_second_factor)||null}}function RC(t){return Number(t)*1e3}function IS(t){const[e,r,o]=t.split(".");if(e===void 0||r===void 0||o===void 0)return F0("JWT malformed, contained fewer than 3 sections"),null;try{const a=ez(r);return a?JSON.parse(a):(F0("Failed to decode base64 JWT payload"),null)}catch(a){return F0("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function PX(t){const e=IS(t);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(t,e,r=!1){if(r)return e;try{return await e}catch(o){throw o instanceof Ka&&OX(o)&&t.auth.currentUser===t&&await t.auth.signOut(),o}}function OX({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const o=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),o}else{this.errorBackoff=3e4;const a=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wg(this.lastLoginAt),this.creationTime=Wg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(t){var e;const r=t.auth,o=await t.getIdToken(),a=await gf(t,MX(r,{idToken:o}));rt(a==null?void 0:a.users.length,r,"internal-error");const d=a.users[0];t._notifyReloadListener(d);const f=!((e=d.providerUserInfo)===null||e===void 0)&&e.length?jX(d.providerUserInfo):[],k=BX(t.providerData,f),m=t.isAnonymous,v=!(t.email&&d.passwordHash)&&!(k!=null&&k.length),A=m?v:!1,x={uid:d.localId,displayName:d.displayName||null,photoURL:d.photoUrl||null,email:d.email||null,emailVerified:d.emailVerified||!1,phoneNumber:d.phoneNumber||null,tenantId:d.tenantId||null,providerData:k,metadata:new gz(d.createdAt,d.lastLoginAt),isAnonymous:A};Object.assign(t,x)}async function LX(t){const e=ur(t);await Mw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BX(t,e){return[...t.filter(o=>!e.some(a=>a.providerId===o.providerId)),...e]}function jX(t){return t.map(e=>{var{providerId:r}=e,o=SS(e,["providerId"]);return{providerId:r,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zX(t,e){const r=await fz(t,{},async()=>{const o=nk({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:d}=t.config,f=pz(t,a,"/v1/token",`key=${d}`),k=await t._getAdditionalHeaders();return k["Content-Type"]="application/x-www-form-urlencoded",hz.fetch()(f,{method:"POST",headers:k,body:o})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PX(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}async getToken(e,r=!1){return rt(!this.accessToken||this.refreshToken,e,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:o,refreshToken:a,expiresIn:d}=await zX(e,r);this.updateTokensAndExpiration(o,a,Number(d))}updateTokensAndExpiration(e,r,o){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(e,r){const{refreshToken:o,accessToken:a,expirationTime:d}=r,f=new vm;return o&&(rt(typeof o=="string","internal-error",{appName:e}),f.refreshToken=o),a&&(rt(typeof a=="string","internal-error",{appName:e}),f.accessToken=a),d&&(rt(typeof d=="number","internal-error",{appName:e}),f.expirationTime=d),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vm,this.toJSON())}_performRefresh(){return Da("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t,e){rt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Iu{constructor(e){var{uid:r,auth:o,stsTokenManager:a}=e,d=SS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=o,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=d.displayName||null,this.email=d.email||null,this.emailVerified=d.emailVerified||!1,this.phoneNumber=d.phoneNumber||null,this.photoURL=d.photoURL||null,this.isAnonymous=d.isAnonymous||!1,this.tenantId=d.tenantId||null,this.providerData=d.providerData?[...d.providerData]:[],this.metadata=new gz(d.createdAt||void 0,d.lastLoginAt||void 0)}async getIdToken(e){const r=await gf(this,this.stsTokenManager.getToken(this.auth,e));return rt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return NX(this,e)}reload(){return LX(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Iu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let o=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),o=!0),r&&await Mw(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await gf(this,IX(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var o,a,d,f,k,m,v,A;const x=(o=r.displayName)!==null&&o!==void 0?o:void 0,_=(a=r.email)!==null&&a!==void 0?a:void 0,T=(d=r.phoneNumber)!==null&&d!==void 0?d:void 0,D=(f=r.photoURL)!==null&&f!==void 0?f:void 0,M=(k=r.tenantId)!==null&&k!==void 0?k:void 0,B=(m=r._redirectEventId)!==null&&m!==void 0?m:void 0,O=(v=r.createdAt)!==null&&v!==void 0?v:void 0,L=(A=r.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:z,emailVerified:Y,isAnonymous:X,providerData:ne,stsTokenManager:Z}=r;rt(z&&Z,e,"internal-error");const V=vm.fromJSON(this.name,Z);rt(typeof z=="string",e,"internal-error"),Mc(x,e.name),Mc(_,e.name),rt(typeof Y=="boolean",e,"internal-error"),rt(typeof X=="boolean",e,"internal-error"),Mc(T,e.name),Mc(D,e.name),Mc(M,e.name),Mc(B,e.name),Mc(O,e.name),Mc(L,e.name);const se=new Iu({uid:z,auth:e,email:_,emailVerified:Y,displayName:x,isAnonymous:X,photoURL:D,phoneNumber:T,tenantId:M,stsTokenManager:V,createdAt:O,lastLoginAt:L});return ne&&Array.isArray(ne)&&(se.providerData=ne.map(ie=>Object.assign({},ie))),B&&(se._redirectEventId=B),se}static async _fromIdTokenResponse(e,r,o=!1){const a=new vm;a.updateFromServerResponse(r);const d=new Iu({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o});return await Mw(d),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=new Map;function Ia(t){Fa(t instanceof Function,"Expected a class definition");let e=z4.get(t);return e?(Fa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,z4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}mz.type="NONE";const F4=mz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t,e,r){return`firebase:${t}:${e}:${r}`}class Yh{constructor(e,r,o){this.persistence=e,this.auth=r,this.userKey=o;const{config:a,name:d}=this.auth;this.fullUserKey=$0(this.userKey,a.apiKey,d),this.fullPersistenceKey=$0("persistence",a.apiKey,d),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Iu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,o="authUser"){if(!r.length)return new Yh(Ia(F4),e,o);const a=(await Promise.all(r.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let d=a[0]||Ia(F4);const f=$0(o,e.config.apiKey,e.name);let k=null;for(const v of r)try{const A=await v._get(f);if(A){const x=Iu._fromJSON(e,A);v!==d&&(k=x),d=v;break}}catch{}const m=a.filter(v=>v._shouldAllowMigration);return!d._shouldAllowMigration||!m.length?new Yh(d,e,o):(d=m[0],k&&await d._set(f,k.toJSON()),await Promise.all(r.map(async v=>{if(v!==d)try{await v._remove(f)}catch{}})),new Yh(d,e,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yz(e))return"Blackberry";if(_z(e))return"Webos";if(MS(e))return"Safari";if((e.includes("chrome/")||bz(e))&&!e.includes("edge/"))return"Chrome";if(vz(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=t.match(r);if((o==null?void 0:o.length)===2)return o[1]}return"Other"}function kz(t=Qr()){return/firefox\//i.test(t)}function MS(t=Qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bz(t=Qr()){return/crios\//i.test(t)}function wz(t=Qr()){return/iemobile/i.test(t)}function vz(t=Qr()){return/android/i.test(t)}function yz(t=Qr()){return/blackberry/i.test(t)}function _z(t=Qr()){return/webos/i.test(t)}function Tv(t=Qr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FX(t=Qr()){var e;return Tv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $X(){return sJ()&&document.documentMode===10}function Az(t=Qr()){return Tv(t)||vz(t)||_z(t)||yz(t)||/windows phone/i.test(t)||wz(t)}function VX(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(t,e=[]){let r;switch(t){case"Browser":r=$4(Qr());break;case"Worker":r=`${$4(Qr())}-${t}`;break;default:r=t}const o=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Pf}/${o}`}async function xz(t,e){return Ju(t,"GET","/v2/recaptchaConfig",Of(t,e))}function V4(t){return t!==void 0&&t.enterprise!==void 0}class Ez{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(r=>r.provider==="EMAIL_PASSWORD_PROVIDER"&&r.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UX(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Sz(t){return new Promise((e,r)=>{const o=document.createElement("script");o.setAttribute("src",t),o.onload=e,o.onerror=a=>{const d=Ks("internal-error");d.customData=a,r(d)},o.type="text/javascript",o.charset="UTF-8",UX().appendChild(o)})}function HX(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const WX="https://www.google.com/recaptcha/enterprise.js?render=",qX="recaptcha-enterprise",GX="NO_RECAPTCHA";class Tz{constructor(e){this.type=qX,this.auth=Rf(e)}async verify(e="verify",r=!1){async function o(d){if(!r){if(d.tenantId==null&&d._agentRecaptchaConfig!=null)return d._agentRecaptchaConfig.siteKey;if(d.tenantId!=null&&d._tenantRecaptchaConfigs[d.tenantId]!==void 0)return d._tenantRecaptchaConfigs[d.tenantId].siteKey}return new Promise(async(f,k)=>{xz(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)k(new Error("recaptcha Enterprise site key undefined"));else{const v=new Ez(m);return d.tenantId==null?d._agentRecaptchaConfig=v:d._tenantRecaptchaConfigs[d.tenantId]=v,f(v.siteKey)}}).catch(m=>{k(m)})})}function a(d,f,k){const m=window.grecaptcha;V4(m)?m.enterprise.ready(()=>{m.enterprise.execute(d,{action:e}).then(v=>{f(v)}).catch(()=>{f(GX)})}):k(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((d,f)=>{o(this.auth).then(k=>{if(!r&&V4(window.grecaptcha))a(k,d,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}Sz(WX+k).then(()=>{a(k,d,f)}).catch(m=>{f(m)})}}).catch(k=>{f(k)})})}}async function Nw(t,e,r,o=!1){const a=new Tz(t);let d;try{d=await a.verify(r)}catch{d=await a.verify(r,!0)}const f=Object.assign({},e);return o?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const o=d=>new Promise((f,k)=>{try{const m=e(d);f(m)}catch(m){k(m)}});o.onAbort=r,this.queue.push(o);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const o of this.queue)await o(e),o.onAbort&&r.push(o.onAbort)}catch(o){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{constructor(e,r,o,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=o,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U4(this),this.idTokenSubscription=new U4(this),this.beforeStateQueue=new YX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ia(r)),this._initializationPromise=this.queue(async()=>{var o,a;if(!this._deleted&&(this.persistenceManager=await Yh.create(this,e),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var r;const o=await this.assertedPersistence.getCurrentUser();let a=o,d=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,k=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===k)&&(m!=null&&m.user)&&(a=m.user,d=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(d)try{await this.beforeStateQueue.runMiddleware(a)}catch(f){a=o,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Mw(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EX()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const r=e?ur(e):null;return r&&rt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ia(e))})}async initializeRecaptchaConfig(){const e=await xz(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Ez(e);this.tenantId==null?this._agentRecaptchaConfig=r:this._tenantRecaptchaConfigs[this.tenantId]=r,r.emailPasswordEnabled&&new Tz(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tk("auth","Firebase",e())}onAuthStateChanged(e,r,o){return this.registerStateListener(this.authStateSubscription,e,r,o)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,o){return this.registerStateListener(this.idTokenSubscription,e,r,o)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const o=await this.getOrInitRedirectPersistenceManager(r);return e===null?o.removeCurrentUser():o.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ia(e)||this._popupRedirectResolver;rt(r,this,"argument-error"),this.redirectPersistenceManager=await Yh.create(this,[Ia(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,o;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const o=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==o&&(this.lastNotifiedUid=o,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,o,a){if(this._deleted)return()=>{};const d=typeof r=="function"?r:r.next.bind(r),f=this._isInitialized?Promise.resolve():this._initializationPromise;return rt(f,this,"internal-error"),f.then(()=>d(this.currentUser)),typeof r=="function"?e.addObserver(r,o,a):e.addObserver(r)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const o=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());o&&(r["X-Firebase-Client"]=o);const a=await this._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&_X(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Rf(t){return ur(t)}class U4{constructor(e){this.auth=e,this.observer=null,this.addObserver=fJ(r=>this.observer=r)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QX(t,e){const r=ES(t,"auth");if(r.isInitialized()){const a=r.getImmediate(),d=r.getOptions();if(Tw(d,e??{}))return a;ts(a,"already-initialized")}return r.initialize({options:e})}function ZX(t,e){const r=(e==null?void 0:e.persistence)||[],o=(Array.isArray(r)?r:[r]).map(Ia);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(o,e==null?void 0:e.popupRedirectResolver)}function JX(t,e,r){const o=Rf(t);rt(o._canInitEmulator,o,"emulator-config-failed"),rt(/^https?:\/\//.test(e),o,"invalid-emulator-scheme");const a=!!(r!=null&&r.disableWarnings),d=Dz(e),{host:f,port:k}=XX(e),m=k===null?"":`:${k}`;o.config.emulator={url:`${d}//${f}${m}/`},o.settings.appVerificationDisabledForTesting=!0,o.emulatorConfig=Object.freeze({host:f,port:k,protocol:d.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||eee()}function Dz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XX(t){const e=Dz(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const o=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(o);if(a){const d=a[1];return{host:d,port:H4(o.substr(d.length+1))}}else{const[d,f]=o.split(":");return{host:d,port:H4(f)}}}function H4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eee(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Da("not implemented")}_getIdTokenResponse(e){return Da("not implemented")}_linkToIdToken(e,r){return Da("not implemented")}_getReauthenticationResolver(e){return Da("not implemented")}}async function tee(t,e){return Ju(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(t,e){return ik(t,"POST","/v1/accounts:signInWithPassword",Of(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nee(t,e){return ik(t,"POST","/v1/accounts:signInWithEmailLink",Of(t,e))}async function ree(t,e){return ik(t,"POST","/v1/accounts:signInWithEmailLink",Of(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends NS{constructor(e,r,o,a=null){super("password",o),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new ym(e,r,"password")}static _fromEmailAndCode(e,r,o=null){return new ym(e,r,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){var r;switch(this.signInMethod){case"password":const o={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((r=e._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const a=await Nw(e,o,"signInWithPassword");return LC(e,a)}else return LC(e,o).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const d=await Nw(e,o,"signInWithPassword");return LC(e,d)}else return Promise.reject(a)});case"emailLink":return nee(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":return tee(e,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return ree(e,{idToken:r,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(t,e){return ik(t,"POST","/v1/accounts:signInWithIdp",Of(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee="http://localhost";class Fu extends NS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Fu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ts("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:o,signInMethod:a}=r,d=SS(r,["providerId","signInMethod"]);if(!o||!a)return null;const f=new Fu(o,a);return f.idToken=d.idToken||void 0,f.accessToken=d.accessToken||void 0,f.secret=d.secret,f.nonce=d.nonce,f.pendingToken=d.pendingToken||null,f}_getIdTokenResponse(e){const r=this.buildRequest();return Kh(e,r)}_linkToIdToken(e,r){const o=this.buildRequest();return o.idToken=r,Kh(e,o)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Kh(e,r)}buildRequest(){const e={requestUri:iee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=nk(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function see(t){const e=Sg(Tg(t)).link,r=e?Sg(Tg(e)).deep_link_id:null,o=Sg(Tg(t)).deep_link_id;return(o?Sg(Tg(o)).link:null)||o||r||e||t}class PS{constructor(e){var r,o,a,d,f,k;const m=Sg(Tg(e)),v=(r=m.apiKey)!==null&&r!==void 0?r:null,A=(o=m.oobCode)!==null&&o!==void 0?o:null,x=oee((a=m.mode)!==null&&a!==void 0?a:null);rt(v&&A&&x,"argument-error"),this.apiKey=v,this.operation=x,this.code=A,this.continueUrl=(d=m.continueUrl)!==null&&d!==void 0?d:null,this.languageCode=(f=m.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(k=m.tenantId)!==null&&k!==void 0?k:null}static parseLink(e){const r=see(e);try{return new PS(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(){this.providerId=Lf.PROVIDER_ID}static credential(e,r){return ym._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const o=PS.parseLink(r);return rt(o,"argument-error"),ym._fromEmailAndCode(e,o.code,o.tenantId)}}Lf.PROVIDER_ID="password";Lf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok extends Iz{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends ok{constructor(){super("facebook.com")}static credential(e){return Fu._fromParams({providerId:Bc.PROVIDER_ID,signInMethod:Bc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bc.credentialFromTaggedObject(e)}static credentialFromError(e){return Bc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bc.credential(e.oauthAccessToken)}catch{return null}}}Bc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends ok{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Fu._fromParams({providerId:jc.PROVIDER_ID,signInMethod:jc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return jc.credentialFromTaggedObject(e)}static credentialFromError(e){return jc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:o}=e;if(!r&&!o)return null;try{return jc.credential(r,o)}catch{return null}}}jc.GOOGLE_SIGN_IN_METHOD="google.com";jc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends ok{constructor(){super("github.com")}static credential(e){return Fu._fromParams({providerId:zc.PROVIDER_ID,signInMethod:zc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zc.credentialFromTaggedObject(e)}static credentialFromError(e){return zc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zc.credential(e.oauthAccessToken)}catch{return null}}}zc.GITHUB_SIGN_IN_METHOD="github.com";zc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends ok{constructor(){super("twitter.com")}static credential(e,r){return Fu._fromParams({providerId:Fc.PROVIDER_ID,signInMethod:Fc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Fc.credentialFromTaggedObject(e)}static credentialFromError(e){return Fc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:o}=e;if(!r||!o)return null;try{return Fc.credential(r,o)}catch{return null}}}Fc.TWITTER_SIGN_IN_METHOD="twitter.com";Fc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(t,e){return ik(t,"POST","/v1/accounts:signUp",Of(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,o,a=!1){const d=await Iu._fromIdTokenResponse(e,o,a),f=W4(o);return new $u({user:d,providerId:f,_tokenResponse:o,operationType:r})}static async _forOperation(e,r,o){await e._updateTokensIfNecessary(o,!0);const a=W4(o);return new $u({user:e,providerId:a,_tokenResponse:o,operationType:r})}}function W4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw extends Ka{constructor(e,r,o,a){var d;super(r.code,r.message),this.operationType=o,this.user=a,Object.setPrototypeOf(this,Pw.prototype),this.customData={appName:e.name,tenantId:(d=e.tenantId)!==null&&d!==void 0?d:void 0,_serverResponse:r.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(e,r,o,a){return new Pw(e,r,o,a)}}function Mz(t,e,r,o){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(d=>{throw d.code==="auth/multi-factor-auth-required"?Pw._fromErrorAndOperation(t,d,e,o):d})}async function aee(t,e,r=!1){const o=await gf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return $u._forOperation(t,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cee(t,e,r=!1){const{auth:o}=t,a="reauthenticate";try{const d=await gf(t,Mz(o,a,e,t),r);rt(d.idToken,o,"internal-error");const f=IS(d.idToken);rt(f,o,"internal-error");const{sub:k}=f;return rt(t.uid===k,o,"user-mismatch"),$u._forOperation(t,a,d)}catch(d){throw(d==null?void 0:d.code)==="auth/user-not-found"&&ts(o,"user-mismatch"),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nz(t,e,r=!1){const o="signIn",a=await Mz(t,o,e),d=await $u._fromIdTokenResponse(t,o,a);return r||await t._updateCurrentUser(d.user),d}async function lee(t,e){return Nz(Rf(t),e)}async function uee(t,e,r){var o;const a=Rf(t),d={returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"};let f;if(!((o=a._getRecaptchaConfig())===null||o===void 0)&&o.emailPasswordEnabled){const v=await Nw(a,d,"signUpPassword");f=BC(a,v)}else f=BC(a,d).catch(async v=>{if(v.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const A=await Nw(a,d,"signUpPassword");return BC(a,A)}else return Promise.reject(v)});const k=await f.catch(v=>Promise.reject(v)),m=await $u._fromIdTokenResponse(a,"signIn",k);return await a._updateCurrentUser(m.user),m}function dee(t,e,r){return lee(ur(t),Lf.credential(e,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hee(t,e){return Ju(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fee(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const o=ur(t),d={idToken:await o.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},f=await gf(o,hee(o.auth,d));o.displayName=f.displayName||null,o.photoURL=f.photoUrl||null;const k=o.providerData.find(({providerId:m})=>m==="password");k&&(k.displayName=o.displayName,k.photoURL=o.photoURL),await o._updateTokensIfNecessary(f)}function pee(t,e,r,o){return ur(t).onIdTokenChanged(e,r,o)}function gee(t,e,r){return ur(t).beforeAuthStateChanged(e,r)}function OS(t,e,r,o){return ur(t).onAuthStateChanged(e,r,o)}function mee(t){return ur(t).signOut()}const Ow="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Ow,"1"),this.storage.removeItem(Ow),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kee(){const t=Qr();return MS(t)||Tv(t)}const bee=1e3,wee=10;class Oz extends Pz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=kee()&&VX(),this.fallbackToPolling=Az(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const o=this.storage.getItem(r),a=this.localCache[r];o!==a&&e(r,a,o)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((f,k,m)=>{this.notifyListeners(f,m)});return}const o=e.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(o);if(e.newValue!==f)e.newValue!==null?this.storage.setItem(o,e.newValue):this.storage.removeItem(o);else if(this.localCache[o]===e.newValue&&!r)return}const a=()=>{const f=this.storage.getItem(o);!r&&this.localCache[o]===f||this.notifyListeners(o,f)},d=this.storage.getItem(o);$X()&&d!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,wee):a()}notifyListeners(e,r){this.localCache[e]=r;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:o}),!0)})},bee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Oz.type="LOCAL";const vee=Oz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz extends Pz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Rz.type="SESSION";const Lz=Rz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const o=new Dv(e);return this.receivers.push(o),o}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:o,eventType:a,data:d}=r.data,f=this.handlersMap[a];if(!(f!=null&&f.size))return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:a});const k=Array.from(f).map(async v=>v(r.origin,d)),m=await yee(k);r.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:m})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t="",e=10){let r="";for(let o=0;o<e;o++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,o=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let d,f;return new Promise((k,m)=>{const v=RS("",20);a.port1.start();const A=setTimeout(()=>{m(new Error("unsupported_event"))},o);f={messageChannel:a,onMessage(x){const _=x;if(_.data.eventId===v)switch(_.data.status){case"ack":clearTimeout(A),d=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),k(_.data.response);break;default:clearTimeout(A),clearTimeout(d),m(new Error("invalid_response"));break}}},this.handlers.add(f),a.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:v,data:r},[a.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return window}function Aee(t){Qs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function Cee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Eee(){return Bz()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz="firebaseLocalStorageDb",See=1,Rw="firebaseLocalStorage",zz="fbase_key";class sk{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Iv(t,e){return t.transaction([Rw],e?"readwrite":"readonly").objectStore(Rw)}function Tee(){const t=indexedDB.deleteDatabase(jz);return new sk(t).toPromise()}function xx(){const t=indexedDB.open(jz,See);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const o=t.result;try{o.createObjectStore(Rw,{keyPath:zz})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const o=t.result;o.objectStoreNames.contains(Rw)?e(o):(o.close(),await Tee(),e(await xx()))})})}async function q4(t,e,r){const o=Iv(t,!0).put({[zz]:e,value:r});return new sk(o).toPromise()}async function Dee(t,e){const r=Iv(t,!1).get(e),o=await new sk(r).toPromise();return o===void 0?null:o.value}function G4(t,e){const r=Iv(t,!0).delete(e);return new sk(r).toPromise()}const Iee=800,Mee=3;class Fz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xx(),this.db)}async _withRetries(e){let r=0;for(;;)try{const o=await this._openDb();return await e(o)}catch(o){if(r++>Mee)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dv._getInstance(Eee()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Cee(),!this.activeServiceWorker)return;this.sender=new _ee(this.activeServiceWorker);const o=await this.sender._send("ping",{},800);o&&!((e=o[0])===null||e===void 0)&&e.fulfilled&&!((r=o[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xx();return await q4(e,Ow,"1"),await G4(e,Ow),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(o=>q4(o,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(o=>Dee(o,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>G4(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const d=Iv(a,!1).getAll();return new sk(d).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],o=new Set;for(const{fbase_key:a,value:d}of e)o.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(d)&&(this.notifyListeners(a,d),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!o.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Iee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fz.type="LOCAL";const Nee=Fz;new rk(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pee(t,e){return e?Ia(e):(rt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS extends NS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kh(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Kh(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Kh(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Oee(t){return Nz(t.auth,new LS(t),t.bypassAuthState)}function Ree(t){const{auth:e,user:r}=t;return rt(r,e,"internal-error"),cee(r,new LS(t),t.bypassAuthState)}async function Lee(t){const{auth:e,user:r}=t;return rt(r,e,"internal-error"),aee(r,new LS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e,r,o,a,d=!1){this.auth=e,this.resolver=o,this.user=a,this.bypassAuthState=d,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:o,postBody:a,tenantId:d,error:f,type:k}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:r,sessionId:o,tenantId:d||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(k)(m))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Oee;case"linkViaPopup":case"linkViaRedirect":return Lee;case"reauthViaPopup":case"reauthViaRedirect":return Ree;default:ts(this.auth,"internal-error")}}resolve(e){Fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee=new rk(2e3,1e4);class zh extends $z{constructor(e,r,o,a,d){super(e,r,a,d),this.provider=o,this.authWindow=null,this.pollId=null,zh.currentPopupAction&&zh.currentPopupAction.cancel(),zh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rt(e,this.auth,"internal-error"),e}async onExecution(){Fa(this.filter.length===1,"Popup operations only handle one event");const e=RS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,o;if(!((o=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||o===void 0)&&o.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bee.get())};e()}}zh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jee="pendingRedirect",V0=new Map;class zee extends $z{constructor(e,r,o=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o),this.eventId=null}async execute(){let e=V0.get(this.auth._key());if(!e){try{const o=await Fee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(o)}catch(r){e=()=>Promise.reject(r)}V0.set(this.auth._key(),e)}return this.bypassAuthState||V0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fee(t,e){const r=Uee(e),o=Vee(t);if(!await o._isAvailable())return!1;const a=await o._get(r)==="true";return await o._remove(r),a}function $ee(t,e){V0.set(t._key(),e)}function Vee(t){return Ia(t._redirectPersistence)}function Uee(t){return $0(jee,t.config.apiKey,t.name)}async function Hee(t,e,r=!1){const o=Rf(t),a=Pee(o,e),f=await new zee(o,a,r).execute();return f&&!r&&(delete f.user._redirectEventId,await o._persistUserIfCurrent(f.user),await o._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee=10*60*1e3;class qee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(e,o)&&(r=!0,this.sendToConsumer(e,o),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Gee(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var o;if(e.error&&!Vz(e)){const a=((o=e.error.code)===null||o===void 0?void 0:o.split("auth/")[1])||"internal-error";r.onError(Ks(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const o=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&o}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Wee&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y4(e))}saveEventToCache(e){this.cachedEventUids.add(Y4(e)),this.lastProcessedEventTime=Date.now()}}function Y4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Vz({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Gee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vz(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yee(t,e={}){return Ju(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qee=/^https?/;async function Zee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Yee(t);for(const r of e)try{if(Jee(r))return}catch{}ts(t,"unauthorized-domain")}function Jee(t){const e=Cx(),{protocol:r,hostname:o}=new URL(e);if(t.startsWith("chrome-extension://")){const f=new URL(t);return f.hostname===""&&o===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&f.hostname===o}if(!Qee.test(r))return!1;if(Kee.test(t))return o===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xee=new rk(3e4,6e4);function K4(){const t=Qs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function ete(t){return new Promise((e,r)=>{var o,a,d;function f(){K4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K4(),r(Ks(t,"network-request-failed"))},timeout:Xee.get()})}if(!((a=(o=Qs().gapi)===null||o===void 0?void 0:o.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((d=Qs().gapi)===null||d===void 0)&&d.load)f();else{const k=HX("iframefcb");return Qs()[k]=()=>{gapi.load?f():r(Ks(t,"network-request-failed"))},Sz(`https://apis.google.com/js/api.js?onload=${k}`).catch(m=>r(m))}}).catch(e=>{throw U0=null,e})}let U0=null;function tte(t){return U0=U0||ete(t),U0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte=new rk(5e3,15e3),rte="__/auth/iframe",ite="emulator/auth/iframe",ote={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ste=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ate(t){const e=t.config;rt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?DS(e,ite):`https://${t.config.authDomain}/${rte}`,o={apiKey:e.apiKey,appName:t.name,v:Pf},a=ste.get(t.config.apiHost);a&&(o.eid=a);const d=t._getFrameworks();return d.length&&(o.fw=d.join(",")),`${r}?${nk(o).slice(1)}`}async function cte(t){const e=await tte(t),r=Qs().gapi;return rt(r,t,"internal-error"),e.open({where:document.body,url:ate(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ote,dontclear:!0},o=>new Promise(async(a,d)=>{await o.restyle({setHideOnLeave:!1});const f=Ks(t,"network-request-failed"),k=Qs().setTimeout(()=>{d(f)},nte.get());function m(){Qs().clearTimeout(k),a(o)}o.ping(m).then(m,()=>{d(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ute=500,dte=600,hte="_blank",fte="http://localhost";class Q4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pte(t,e,r,o=ute,a=dte){const d=Math.max((window.screen.availHeight-a)/2,0).toString(),f=Math.max((window.screen.availWidth-o)/2,0).toString();let k="";const m=Object.assign(Object.assign({},lte),{width:o.toString(),height:a.toString(),top:d,left:f}),v=Qr().toLowerCase();r&&(k=bz(v)?hte:r),kz(v)&&(e=e||fte,m.scrollbars="yes");const A=Object.entries(m).reduce((_,[T,D])=>`${_}${T}=${D},`,"");if(FX(v)&&k!=="_self")return gte(e||"",k),new Q4(null);const x=window.open(e||"",k,A);rt(x,t,"popup-blocked");try{x.focus()}catch{}return new Q4(x)}function gte(t,e){const r=document.createElement("a");r.href=t,r.target=e;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte="__/auth/handler",kte="emulator/auth/handler",bte=encodeURIComponent("fac");async function Z4(t,e,r,o,a,d){rt(t.config.authDomain,t,"auth-domain-config-required"),rt(t.config.apiKey,t,"invalid-api-key");const f={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:o,v:Pf,eventId:a};if(e instanceof Iz){e.setDefaultLanguage(t.languageCode),f.providerId=e.providerId||"",hJ(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,x]of Object.entries(d||{}))f[A]=x}if(e instanceof ok){const A=e.getScopes().filter(x=>x!=="");A.length>0&&(f.scopes=A.join(","))}t.tenantId&&(f.tid=t.tenantId);const k=f;for(const A of Object.keys(k))k[A]===void 0&&delete k[A];const m=await t._getAppCheckToken(),v=m?`#${bte}=${encodeURIComponent(m)}`:"";return`${wte(t)}?${nk(k).slice(1)}${v}`}function wte({config:t}){return t.emulator?DS(t,kte):`https://${t.authDomain}/${mte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="webStorageSupport";class vte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lz,this._completeRedirectFn=Hee,this._overrideRedirectResult=$ee}async _openPopup(e,r,o,a){var d;Fa((d=this.eventManagers[e._key()])===null||d===void 0?void 0:d.manager,"_initialize() not called before _openPopup()");const f=await Z4(e,r,o,Cx(),a);return pte(e,f,RS())}async _openRedirect(e,r,o,a){await this._originValidation(e);const d=await Z4(e,r,o,Cx(),a);return Aee(d),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:d}=this.eventManagers[r];return a?Promise.resolve(a):(Fa(d,"If manager is not set, promise should be"),d)}const o=this.initAndGetManager(e);return this.eventManagers[r]={promise:o},o.catch(()=>{delete this.eventManagers[r]}),o}async initAndGetManager(e){const r=await cte(e),o=new qee(e);return r.register("authEvent",a=>(rt(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:o.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:o},this.iframes[e._key()]=r,o}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(jC,{type:jC},a=>{var d;const f=(d=a==null?void 0:a[0])===null||d===void 0?void 0:d[jC];f!==void 0&&r(!!f),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Zee(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Az()||MS()||Tv()}}const yte=vte;var J4="@firebase/auth",X4="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _te{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(o=>{e((o==null?void 0:o.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ate(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Cte(t){pf(new ju("auth",(e,{options:r})=>{const o=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),d=e.getProvider("app-check-internal"),{apiKey:f,authDomain:k}=o.options;rt(f&&!f.includes(":"),"invalid-api-key",{appName:o.name});const m={apiKey:f,authDomain:k,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cz(t)},v=new KX(o,a,d,m);return ZX(v,r),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,o)=>{e.getProvider("auth-internal").initialize()})),pf(new ju("auth-internal",e=>{const r=Rf(e.getProvider("auth").getImmediate());return(o=>new _te(o))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),nl(J4,X4,Ate(t)),nl(J4,X4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xte=5*60,Ete=rz("authIdTokenMaxAge")||xte;let eR=null;const Ste=t=>async e=>{const r=e&&await e.getIdTokenResult(),o=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(o&&o>Ete)return;const a=r==null?void 0:r.token;eR!==a&&(eR=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Tte(t=az()){const e=ES(t,"auth");if(e.isInitialized())return e.getImmediate();const r=QX(t,{popupRedirectResolver:yte,persistence:[Nee,vee,Lz]}),o=rz("authTokenSyncURL");if(o){const d=Ste(o);gee(r,d,()=>d(r.currentUser)),pee(r,f=>d(f))}const a=tz("auth");return a&&JX(r,`http://${a}`),r}Cte("Browser");var Dte="firebase",Ite="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nl(Dte,Ite,"app");var Mte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pe,BS=BS||{},st=Mte||self;function Mv(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ak(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Nte(t){return Object.prototype.hasOwnProperty.call(t,zC)&&t[zC]||(t[zC]=++Pte)}var zC="closure_uid_"+(1e9*Math.random()>>>0),Pte=0;function Ote(t,e,r){return t.call.apply(t.bind,arguments)}function Rte(t,e,r){if(!t)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),t.apply(e,a)}}return function(){return t.apply(e,arguments)}}function qr(t,e,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?qr=Ote:qr=Rte,qr.apply(null,arguments)}function p0(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),t.apply(this,o)}}function wr(t,e){function r(){}r.prototype=e.prototype,t.$=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.ac=function(o,a,d){for(var f=Array(arguments.length-2),k=2;k<arguments.length;k++)f[k-2]=arguments[k];return e.prototype[a].apply(o,f)}}function vl(){this.s=this.s,this.o=this.o}var Lte=0;vl.prototype.s=!1;vl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Lte!=0)&&Nte(this)};vl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Uz=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let r=0;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1};function jS(t){const e=t.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=t[o];return r}return[]}function tR(t,e){for(let r=1;r<arguments.length;r++){const o=arguments[r];if(Mv(o)){const a=t.length||0,d=o.length||0;t.length=a+d;for(let f=0;f<d;f++)t[a+f]=o[f]}else t.push(o)}}function Gr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gr.prototype.h=function(){this.defaultPrevented=!0};var Bte=function(){if(!st.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{st.addEventListener("test",()=>{},e),st.removeEventListener("test",()=>{},e)}catch{}return t}();function _m(t){return/^[\s\xa0]*$/.test(t)}function Nv(){var t=st.navigator;return t&&(t=t.userAgent)?t:""}function Vs(t){return Nv().indexOf(t)!=-1}function zS(t){return zS[" "](t),t}zS[" "]=function(){};function jte(t,e){var r=Ine;return Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=e(t)}var zte=Vs("Opera"),mf=Vs("Trident")||Vs("MSIE"),Hz=Vs("Edge"),Ex=Hz||mf,Wz=Vs("Gecko")&&!(Nv().toLowerCase().indexOf("webkit")!=-1&&!Vs("Edge"))&&!(Vs("Trident")||Vs("MSIE"))&&!Vs("Edge"),Fte=Nv().toLowerCase().indexOf("webkit")!=-1&&!Vs("Edge");function qz(){var t=st.document;return t?t.documentMode:void 0}var Sx;e:{var FC="",$C=function(){var t=Nv();if(Wz)return/rv:([^\);]+)(\)|;)/.exec(t);if(Hz)return/Edge\/([\d\.]+)/.exec(t);if(mf)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Fte)return/WebKit\/(\S+)/.exec(t);if(zte)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if($C&&(FC=$C?$C[1]:""),mf){var VC=qz();if(VC!=null&&VC>parseFloat(FC)){Sx=String(VC);break e}}Sx=FC}var Tx;if(st.document&&mf){var nR=qz();Tx=nR||parseInt(Sx,10)||void 0}else Tx=void 0;var $te=Tx;function Am(t,e){if(Gr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var r=this.type=t.type,o=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Wz){e:{try{zS(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else r=="mouseover"?e=t.fromElement:r=="mouseout"&&(e=t.toElement);this.relatedTarget=e,o?(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Vte[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Am.$.h.call(this)}}wr(Am,Gr);var Vte={2:"touch",3:"pen",4:"mouse"};Am.prototype.h=function(){Am.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ck="closure_listenable_"+(1e6*Math.random()|0),Ute=0;function Hte(t,e,r,o,a){this.listener=t,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.la=a,this.key=++Ute,this.fa=this.ia=!1}function Pv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function FS(t,e,r){for(const o in t)e.call(r,t[o],o,t)}function Wte(t,e){for(const r in t)e.call(void 0,t[r],r,t)}function Gz(t){const e={};for(const r in t)e[r]=t[r];return e}const rR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yz(t,e){let r,o;for(let a=1;a<arguments.length;a++){o=arguments[a];for(r in o)t[r]=o[r];for(let d=0;d<rR.length;d++)r=rR[d],Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}}function Ov(t){this.src=t,this.g={},this.h=0}Ov.prototype.add=function(t,e,r,o,a){var d=t.toString();t=this.g[d],t||(t=this.g[d]=[],this.h++);var f=Ix(t,e,o,a);return-1<f?(e=t[f],r||(e.ia=!1)):(e=new Hte(e,this.src,d,!!o,a),e.ia=r,t.push(e)),e};function Dx(t,e){var r=e.type;if(r in t.g){var o=t.g[r],a=Uz(o,e),d;(d=0<=a)&&Array.prototype.splice.call(o,a,1),d&&(Pv(e),t.g[r].length==0&&(delete t.g[r],t.h--))}}function Ix(t,e,r,o){for(var a=0;a<t.length;++a){var d=t[a];if(!d.fa&&d.listener==e&&d.capture==!!r&&d.la==o)return a}return-1}var $S="closure_lm_"+(1e6*Math.random()|0),UC={};function Kz(t,e,r,o,a){if(o&&o.once)return Zz(t,e,r,o,a);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Kz(t,e[d],r,o,a);return null}return r=HS(r),t&&t[ck]?t.O(e,r,ak(o)?!!o.capture:!!o,a):Qz(t,e,r,!1,o,a)}function Qz(t,e,r,o,a,d){if(!e)throw Error("Invalid event type");var f=ak(a)?!!a.capture:!!a,k=US(t);if(k||(t[$S]=k=new Ov(t)),r=k.add(e,r,o,f,d),r.proxy)return r;if(o=qte(),r.proxy=o,o.src=t,o.listener=r,t.addEventListener)Bte||(a=f),a===void 0&&(a=!1),t.addEventListener(e.toString(),o,a);else if(t.attachEvent)t.attachEvent(Xz(e.toString()),o);else if(t.addListener&&t.removeListener)t.addListener(o);else throw Error("addEventListener and attachEvent are unavailable.");return r}function qte(){function t(r){return e.call(t.src,t.listener,r)}const e=Gte;return t}function Zz(t,e,r,o,a){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Zz(t,e[d],r,o,a);return null}return r=HS(r),t&&t[ck]?t.P(e,r,ak(o)?!!o.capture:!!o,a):Qz(t,e,r,!0,o,a)}function Jz(t,e,r,o,a){if(Array.isArray(e))for(var d=0;d<e.length;d++)Jz(t,e[d],r,o,a);else o=ak(o)?!!o.capture:!!o,r=HS(r),t&&t[ck]?(t=t.i,e=String(e).toString(),e in t.g&&(d=t.g[e],r=Ix(d,r,o,a),-1<r&&(Pv(d[r]),Array.prototype.splice.call(d,r,1),d.length==0&&(delete t.g[e],t.h--)))):t&&(t=US(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ix(e,r,o,a)),(r=-1<t?e[t]:null)&&VS(r))}function VS(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ck])Dx(e.i,t);else{var r=t.type,o=t.proxy;e.removeEventListener?e.removeEventListener(r,o,t.capture):e.detachEvent?e.detachEvent(Xz(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=US(e))?(Dx(r,t),r.h==0&&(r.src=null,e[$S]=null)):Pv(t)}}}function Xz(t){return t in UC?UC[t]:UC[t]="on"+t}function Gte(t,e){if(t.fa)t=!0;else{e=new Am(e,this);var r=t.listener,o=t.la||t.src;t.ia&&VS(t),t=r.call(o,e)}return t}function US(t){return t=t[$S],t instanceof Ov?t:null}var HC="__closure_events_fn_"+(1e9*Math.random()>>>0);function HS(t){return typeof t=="function"?t:(t[HC]||(t[HC]=function(e){return t.handleEvent(e)}),t[HC])}function br(){vl.call(this),this.i=new Ov(this),this.S=this,this.J=null}wr(br,vl);br.prototype[ck]=!0;br.prototype.removeEventListener=function(t,e,r,o){Jz(this,t,e,r,o)};function Mr(t,e){var r,o=t.J;if(o)for(r=[];o;o=o.J)r.push(o);if(t=t.S,o=e.type||e,typeof e=="string")e=new Gr(e,t);else if(e instanceof Gr)e.target=e.target||t;else{var a=e;e=new Gr(o,t),Yz(e,a)}if(a=!0,r)for(var d=r.length-1;0<=d;d--){var f=e.g=r[d];a=g0(f,o,!0,e)&&a}if(f=e.g=t,a=g0(f,o,!0,e)&&a,a=g0(f,o,!1,e)&&a,r)for(d=0;d<r.length;d++)f=e.g=r[d],a=g0(f,o,!1,e)&&a}br.prototype.N=function(){if(br.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var r=t.g[e],o=0;o<r.length;o++)Pv(r[o]);delete t.g[e],t.h--}}this.J=null};br.prototype.O=function(t,e,r,o){return this.i.add(String(t),e,!1,r,o)};br.prototype.P=function(t,e,r,o){return this.i.add(String(t),e,!0,r,o)};function g0(t,e,r,o){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var a=!0,d=0;d<e.length;++d){var f=e[d];if(f&&!f.fa&&f.capture==r){var k=f.listener,m=f.la||f.src;f.ia&&Dx(t.i,f),a=k.call(m,o)!==!1&&a}}return a&&!o.defaultPrevented}var WS=st.JSON.stringify;class Yte{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Kte(){var t=qS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Qte{constructor(){this.h=this.g=null}add(e,r){const o=e6.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}}var e6=new Yte(()=>new Zte,t=>t.reset());class Zte{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Jte(t){var e=1;t=t.split(":");const r=[];for(;0<e&&t.length;)r.push(t.shift()),e--;return t.length&&r.push(t.join(":")),r}function Xte(t){st.setTimeout(()=>{throw t},0)}let Cm,xm=!1,qS=new Qte,t6=()=>{const t=st.Promise.resolve(void 0);Cm=()=>{t.then(ene)}};var ene=()=>{for(var t;t=Kte();){try{t.h.call(t.g)}catch(r){Xte(r)}var e=e6;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}xm=!1};function Rv(t,e){br.call(this),this.h=t||1,this.g=e||st,this.j=qr(this.qb,this),this.l=Date.now()}wr(Rv,br);Pe=Rv.prototype;Pe.ga=!1;Pe.T=null;Pe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mr(this,"tick"),this.ga&&(GS(this),this.start()))}};Pe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function GS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Pe.N=function(){Rv.$.N.call(this),GS(this),delete this.g};function YS(t,e,r){if(typeof t=="function")r&&(t=qr(t,r));else if(t&&typeof t.handleEvent=="function")t=qr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:st.setTimeout(t,e||0)}function n6(t){t.g=YS(()=>{t.g=null,t.i&&(t.i=!1,n6(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class tne extends vl{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:n6(this)}N(){super.N(),this.g&&(st.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Em(t){vl.call(this),this.h=t,this.g={}}wr(Em,vl);var iR=[];function r6(t,e,r,o){Array.isArray(r)||(r&&(iR[0]=r.toString()),r=iR);for(var a=0;a<r.length;a++){var d=Kz(e,r[a],o||t.handleEvent,!1,t.h||t);if(!d)break;t.g[d.key]=d}}function i6(t){FS(t.g,function(e,r){this.g.hasOwnProperty(r)&&VS(e)},t),t.g={}}Em.prototype.N=function(){Em.$.N.call(this),i6(this)};Em.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Lv(){this.g=!0}Lv.prototype.Ea=function(){this.g=!1};function nne(t,e,r,o,a,d){t.info(function(){if(t.g)if(d)for(var f="",k=d.split("&"),m=0;m<k.length;m++){var v=k[m].split("=");if(1<v.length){var A=v[0];v=v[1];var x=A.split("_");f=2<=x.length&&x[1]=="type"?f+(A+"="+v+"&"):f+(A+"=redacted&")}}else f=null;else f=d;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+e+`
`+r+`
`+f})}function rne(t,e,r,o,a,d,f){t.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+e+`
`+r+`
`+d+" "+f})}function Fh(t,e,r,o){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+one(t,r)+(o?" "+o:"")})}function ine(t,e){t.info(function(){return"TIMEOUT: "+e})}Lv.prototype.info=function(){};function one(t,e){if(!t.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r){for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var o=r[t];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var d=a[0];if(d!="noop"&&d!="stop"&&d!="close")for(var f=1;f<a.length;f++)a[f]=""}}}}return WS(r)}catch{return e}}var Xu={},oR=null;function Bv(){return oR=oR||new br}Xu.Ta="serverreachability";function o6(t){Gr.call(this,Xu.Ta,t)}wr(o6,Gr);function Sm(t){const e=Bv();Mr(e,new o6(e))}Xu.STAT_EVENT="statevent";function s6(t,e){Gr.call(this,Xu.STAT_EVENT,t),this.stat=e}wr(s6,Gr);function ri(t){const e=Bv();Mr(e,new s6(e,t))}Xu.Ua="timingevent";function a6(t,e){Gr.call(this,Xu.Ua,t),this.size=e}wr(a6,Gr);function lk(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return st.setTimeout(function(){t()},e)}var jv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},c6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function KS(){}KS.prototype.h=null;function sR(t){return t.h||(t.h=t.i())}function l6(){}var uk={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function QS(){Gr.call(this,"d")}wr(QS,Gr);function ZS(){Gr.call(this,"c")}wr(ZS,Gr);var Mx;function zv(){}wr(zv,KS);zv.prototype.g=function(){return new XMLHttpRequest};zv.prototype.i=function(){return{}};Mx=new zv;function dk(t,e,r,o){this.l=t,this.j=e,this.m=r,this.W=o||1,this.U=new Em(this),this.P=sne,t=Ex?125:void 0,this.V=new Rv(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new u6}function u6(){this.i=null,this.g="",this.h=!1}var sne=45e3,Nx={},Lw={};Pe=dk.prototype;Pe.setTimeout=function(t){this.P=t};function Px(t,e,r){t.L=1,t.v=$v($a(e)),t.s=r,t.S=!0,d6(t,null)}function d6(t,e){t.G=Date.now(),hk(t),t.A=$a(t.v);var r=t.A,o=t.W;Array.isArray(o)||(o=[String(o)]),w6(r.i,"t",o),t.C=0,r=t.l.J,t.h=new u6,t.g=F6(t.l,r?e:null,!t.s),0<t.O&&(t.M=new tne(qr(t.Pa,t,t.g),t.O)),r6(t.U,t.g,"readystatechange",t.nb),e=t.I?Gz(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Sm(),nne(t.j,t.u,t.A,t.m,t.W,t.s)}Pe.nb=function(t){t=t.target;const e=this.M;e&&Hs(t)==3?e.l():this.Pa(t)};Pe.Pa=function(t){try{if(t==this.g)e:{const A=Hs(this.g);var e=this.g.Ia();const x=this.g.da();if(!(3>A)&&(A!=3||Ex||this.g&&(this.h.h||this.g.ja()||uR(this.g)))){this.J||A!=4||e==7||(e==8||0>=x?Sm(3):Sm(2)),Fv(this);var r=this.g.da();this.ca=r;t:if(h6(this)){var o=uR(this.g);t="";var a=o.length,d=Hs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xu(this),qg(this);var f="";break t}this.h.i=new st.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,t+=this.h.i.decode(o[e],{stream:d&&e==a-1});o.splice(0,a),this.h.g+=t,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=r==200,rne(this.j,this.u,this.A,this.m,this.W,A,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var k,m=this.g;if((k=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_m(k)){var v=k;break t}}v=null}if(r=v)Fh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ox(this,r);else{this.i=!1,this.o=3,ri(12),xu(this),qg(this);break e}}this.S?(f6(this,A,f),Ex&&this.i&&A==3&&(r6(this.U,this.V,"tick",this.mb),this.V.start())):(Fh(this.j,this.m,f,null),Ox(this,f)),A==4&&xu(this),this.i&&!this.J&&(A==4?L6(this.l,this):(this.i=!1,hk(this)))}else Sne(this.g),r==400&&0<f.indexOf("Unknown SID")?(this.o=3,ri(12)):(this.o=0,ri(13)),xu(this),qg(this)}}}catch{}finally{}};function h6(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function f6(t,e,r){let o=!0,a;for(;!t.J&&t.C<r.length;)if(a=ane(t,r),a==Lw){e==4&&(t.o=4,ri(14),o=!1),Fh(t.j,t.m,null,"[Incomplete Response]");break}else if(a==Nx){t.o=4,ri(15),Fh(t.j,t.m,r,"[Invalid Chunk]"),o=!1;break}else Fh(t.j,t.m,a,null),Ox(t,a);h6(t)&&a!=Lw&&a!=Nx&&(t.h.g="",t.C=0),e!=4||r.length!=0||t.h.h||(t.o=1,ri(16),o=!1),t.i=t.i&&o,o?0<r.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),r2(e),e.M=!0,ri(11))):(Fh(t.j,t.m,r,"[Invalid Chunked Response]"),xu(t),qg(t))}Pe.mb=function(){if(this.g){var t=Hs(this.g),e=this.g.ja();this.C<e.length&&(Fv(this),f6(this,t,e),this.i&&t!=4&&hk(this))}};function ane(t,e){var r=t.C,o=e.indexOf(`
`,r);return o==-1?Lw:(r=Number(e.substring(r,o)),isNaN(r)?Nx:(o+=1,o+r>e.length?Lw:(e=e.slice(o,o+r),t.C=o+r,e)))}Pe.cancel=function(){this.J=!0,xu(this)};function hk(t){t.Y=Date.now()+t.P,p6(t,t.P)}function p6(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=lk(qr(t.lb,t),e)}function Fv(t){t.B&&(st.clearTimeout(t.B),t.B=null)}Pe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(ine(this.j,this.A),this.L!=2&&(Sm(),ri(17)),xu(this),this.o=2,qg(this)):p6(this,this.Y-t)};function qg(t){t.l.H==0||t.J||L6(t.l,t)}function xu(t){Fv(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,GS(t.V),i6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ox(t,e){try{var r=t.l;if(r.H!=0&&(r.g==t||Rx(r.i,t))){if(!t.K&&Rx(r.i,t)&&r.H==3){try{var o=r.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&o.length==3){var a=o;if(a[0]==0){e:if(!r.u){if(r.g)if(r.g.G+3e3<t.G)zw(r),Hv(r);else break e;n2(r),ri(18)}}else r.Fa=a[1],0<r.Fa-r.V&&37500>a[2]&&r.G&&r.A==0&&!r.v&&(r.v=lk(qr(r.ib,r),6e3));if(1>=_6(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else Eu(r,11)}else if((t.K||r.g==t)&&zw(r),!_m(e))for(a=r.Ja.g.parse(e),e=0;e<a.length;e++){let v=a[e];if(r.V=v[0],v=v[1],r.H==2)if(v[0]=="c"){r.K=v[1],r.pa=v[2];const A=v[3];A!=null&&(r.ra=A,r.l.info("VER="+r.ra));const x=v[4];x!=null&&(r.Ga=x,r.l.info("SVER="+r.Ga));const _=v[5];_!=null&&typeof _=="number"&&0<_&&(o=1.5*_,r.L=o,r.l.info("backChannelRequestTimeoutMs_="+o)),o=r;const T=t.g;if(T){const D=T.g?T.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var d=o.i;d.g||D.indexOf("spdy")==-1&&D.indexOf("quic")==-1&&D.indexOf("h2")==-1||(d.j=d.l,d.g=new Set,d.h&&(JS(d,d.h),d.h=null))}if(o.F){const M=T.g?T.g.getResponseHeader("X-HTTP-Session-Id"):null;M&&(o.Da=M,gn(o.I,o.F,M))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-t.G,r.l.info("Handshake RTT: "+r.S+"ms")),o=r;var f=t;if(o.wa=z6(o,o.J?o.pa:null,o.Y),f.K){A6(o.i,f);var k=f,m=o.L;m&&k.setTimeout(m),k.B&&(Fv(k),hk(k)),o.g=f}else O6(o);0<r.j.length&&Wv(r)}else v[0]!="stop"&&v[0]!="close"||Eu(r,7);else r.H==3&&(v[0]=="stop"||v[0]=="close"?v[0]=="stop"?Eu(r,7):t2(r):v[0]!="noop"&&r.h&&r.h.Aa(v),r.A=0)}}Sm(4)}catch{}}function cne(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Mv(t)){for(var e=[],r=t.length,o=0;o<r;o++)e.push(t[o]);return e}e=[],r=0;for(o in t)e[r++]=t[o];return e}function lne(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Mv(t)||typeof t=="string"){var e=[];t=t.length;for(var r=0;r<t;r++)e.push(r);return e}e=[],r=0;for(const o in t)e[r++]=o;return e}}}function g6(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Mv(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var r=lne(t),o=cne(t),a=o.length,d=0;d<a;d++)e.call(void 0,o[d],r&&r[d],t)}var m6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function une(t,e){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var o=t[r].indexOf("="),a=null;if(0<=o){var d=t[r].substring(0,o);a=t[r].substring(o+1)}else d=t[r];e(d,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}function Mu(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Mu){this.h=t.h,Bw(this,t.j),this.s=t.s,this.g=t.g,jw(this,t.m),this.l=t.l;var e=t.i,r=new Tm;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),aR(this,r),this.o=t.o}else t&&(e=String(t).match(m6))?(this.h=!1,Bw(this,e[1]||"",!0),this.s=Dg(e[2]||""),this.g=Dg(e[3]||"",!0),jw(this,e[4]),this.l=Dg(e[5]||"",!0),aR(this,e[6]||"",!0),this.o=Dg(e[7]||"")):(this.h=!1,this.i=new Tm(null,this.h))}Mu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ig(e,cR,!0),":");var r=this.g;return(r||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ig(e,cR,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&t.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&t.push("/"),t.push(Ig(r,r.charAt(0)=="/"?fne:hne,!0))),(r=this.i.toString())&&t.push("?",r),(r=this.o)&&t.push("#",Ig(r,gne)),t.join("")};function $a(t){return new Mu(t)}function Bw(t,e,r){t.j=r?Dg(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function jw(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function aR(t,e,r){e instanceof Tm?(t.i=e,mne(t.i,t.h)):(r||(e=Ig(e,pne)),t.i=new Tm(e,t.h))}function gn(t,e,r){t.i.set(e,r)}function $v(t){return gn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Dg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ig(t,e,r){return typeof t=="string"?(t=encodeURI(t).replace(e,dne),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function dne(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var cR=/[#\/\?@]/g,hne=/[#\?:]/g,fne=/[#\?]/g,pne=/[#\?@]/g,gne=/#/g;function Tm(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function yl(t){t.g||(t.g=new Map,t.h=0,t.i&&une(t.i,function(e,r){t.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}Pe=Tm.prototype;Pe.add=function(t,e){yl(this),this.i=null,t=Bf(this,t);var r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(e),this.h+=1,this};function k6(t,e){yl(t),e=Bf(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function b6(t,e){return yl(t),e=Bf(t,e),t.g.has(e)}Pe.forEach=function(t,e){yl(this),this.g.forEach(function(r,o){r.forEach(function(a){t.call(e,a,o,this)},this)},this)};Pe.ta=function(){yl(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let o=0;o<e.length;o++){const a=t[o];for(let d=0;d<a.length;d++)r.push(e[o])}return r};Pe.Z=function(t){yl(this);let e=[];if(typeof t=="string")b6(this,t)&&(e=e.concat(this.g.get(Bf(this,t))));else{t=Array.from(this.g.values());for(let r=0;r<t.length;r++)e=e.concat(t[r])}return e};Pe.set=function(t,e){return yl(this),this.i=null,t=Bf(this,t),b6(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Pe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function w6(t,e,r){k6(t,e),0<r.length&&(t.i=null,t.g.set(Bf(t,e),jS(r)),t.h+=r.length)}Pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var o=e[r];const d=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var a=d;f[o]!==""&&(a+="="+encodeURIComponent(String(f[o]))),t.push(a)}}return this.i=t.join("&")};function Bf(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function mne(t,e){e&&!t.j&&(yl(t),t.i=null,t.g.forEach(function(r,o){var a=o.toLowerCase();o!=a&&(k6(this,o),w6(this,a,r))},t)),t.j=e}var kne=class{constructor(t,e){this.g=t,this.map=e}};function v6(t){this.l=t||bne,st.PerformanceNavigationTiming?(t=st.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(st.g&&st.g.Ka&&st.g.Ka()&&st.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bne=10;function y6(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function _6(t){return t.h?1:t.g?t.g.size:0}function Rx(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function JS(t,e){t.g?t.g.add(e):t.h=e}function A6(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}v6.prototype.cancel=function(){if(this.i=C6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function C6(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const r of t.g.values())e=e.concat(r.F);return e}return jS(t.i)}var wne=class{stringify(t){return st.JSON.stringify(t,void 0)}parse(t){return st.JSON.parse(t,void 0)}};function vne(){this.g=new wne}function yne(t,e,r){const o=r||"";try{g6(t,function(a,d){let f=a;ak(a)&&(f=WS(a)),e.push(o+d+"="+encodeURIComponent(f))})}catch(a){throw e.push(o+"type="+encodeURIComponent("_badmap")),a}}function _ne(t,e){const r=new Lv;if(st.Image){const o=new Image;o.onload=p0(m0,r,o,"TestLoadImage: loaded",!0,e),o.onerror=p0(m0,r,o,"TestLoadImage: error",!1,e),o.onabort=p0(m0,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=p0(m0,r,o,"TestLoadImage: timeout",!1,e),st.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=t}else e(!1)}function m0(t,e,r,o,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(o)}catch{}}function fk(t){this.l=t.fc||null,this.j=t.ob||!1}wr(fk,KS);fk.prototype.g=function(){return new Vv(this.l,this.j)};fk.prototype.i=function(t){return function(){return t}}({});function Vv(t,e){br.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=XS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wr(Vv,br);var XS=0;Pe=Vv.prototype;Pe.open=function(t,e){if(this.readyState!=XS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Dm(this)};Pe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||st).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pk(this)),this.readyState=XS};Pe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Dm(this)),this.g&&(this.readyState=3,Dm(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof st.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;x6(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function x6(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Pe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pk(this):Dm(this),this.readyState==3&&x6(this)}};Pe.Za=function(t){this.g&&(this.response=this.responseText=t,pk(this))};Pe.Ya=function(t){this.g&&(this.response=t,pk(this))};Pe.ka=function(){this.g&&pk(this)};function pk(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Dm(t)}Pe.setRequestHeader=function(t,e){this.v.append(t,e)};Pe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Pe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var r=e.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=e.next();return t.join(`\r
`)};function Dm(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Vv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Ane=st.JSON.parse;function Bn(t){br.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=E6,this.L=this.M=!1}wr(Bn,br);var E6="",Cne=/^https?$/i,xne=["POST","PUT"];Pe=Bn.prototype;Pe.Oa=function(t){this.M=t};Pe.ha=function(t,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Mx.g(),this.C=this.u?sR(this.u):sR(Mx),this.g.onreadystatechange=qr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(d){lR(this,d);return}if(t=r||"",r=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var a in o)r.set(a,o[a]);else if(typeof o.keys=="function"&&typeof o.get=="function")for(const d of o.keys())r.set(d,o.get(d));else throw Error("Unknown input type for opt_headers: "+String(o));o=Array.from(r.keys()).find(d=>d.toLowerCase()=="content-type"),a=st.FormData&&t instanceof st.FormData,!(0<=Uz(xne,e))||o||a||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,f]of r)this.g.setRequestHeader(d,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{D6(this),0<this.B&&((this.L=Ene(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qr(this.ua,this)):this.A=YS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(d){lR(this,d)}};function Ene(t){return mf&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Pe.ua=function(){typeof BS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mr(this,"timeout"),this.abort(8))};function lR(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,S6(t),Uv(t)}function S6(t){t.F||(t.F=!0,Mr(t,"complete"),Mr(t,"error"))}Pe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Mr(this,"complete"),Mr(this,"abort"),Uv(this))};Pe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uv(this,!0)),Bn.$.N.call(this)};Pe.La=function(){this.s||(this.G||this.v||this.l?T6(this):this.kb())};Pe.kb=function(){T6(this)};function T6(t){if(t.h&&typeof BS<"u"&&(!t.C[1]||Hs(t)!=4||t.da()!=2)){if(t.v&&Hs(t)==4)YS(t.La,0,t);else if(Mr(t,"readystatechange"),Hs(t)==4){t.h=!1;try{const f=t.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=f===0){var a=String(t.I).match(m6)[1]||null;!a&&st.self&&st.self.location&&(a=st.self.location.protocol.slice(0,-1)),o=!Cne.test(a?a.toLowerCase():"")}r=o}if(r)Mr(t,"complete"),Mr(t,"success");else{t.m=6;try{var d=2<Hs(t)?t.g.statusText:""}catch{d=""}t.j=d+" ["+t.da()+"]",S6(t)}}finally{Uv(t)}}}}function Uv(t,e){if(t.g){D6(t);const r=t.g,o=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Mr(t,"ready");try{r.onreadystatechange=o}catch{}}}function D6(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(st.clearTimeout(t.A),t.A=null)}Pe.isActive=function(){return!!this.g};function Hs(t){return t.g?t.g.readyState:0}Pe.da=function(){try{return 2<Hs(this)?this.g.status:-1}catch{return-1}};Pe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Pe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Ane(e)}};function uR(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case E6:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Sne(t){const e={};t=(t.g&&2<=Hs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let o=0;o<t.length;o++){if(_m(t[o]))continue;var r=Jte(t[o]);const a=r[0];if(r=r[1],typeof r!="string")continue;r=r.trim();const d=e[a]||[];e[a]=d,d.push(r)}Wte(e,function(o){return o.join(", ")})}Pe.Ia=function(){return this.m};Pe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function I6(t){let e="";return FS(t,function(r,o){e+=o,e+=":",e+=r,e+=`\r
`}),e}function e2(t,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=I6(r),typeof t=="string"?r!=null&&encodeURIComponent(String(r)):gn(t,e,r))}function gg(t,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||e}function M6(t){this.Ga=0,this.j=[],this.l=new Lv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gg("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gg("baseRetryDelayMs",5e3,t),this.hb=gg("retryDelaySeedMs",1e4,t),this.eb=gg("forwardChannelMaxRetries",2,t),this.xa=gg("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new v6(t&&t.concurrentRequestLimit),this.Ja=new vne,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Pe=M6.prototype;Pe.ra=8;Pe.H=1;function t2(t){if(N6(t),t.H==3){var e=t.W++,r=$a(t.I);if(gn(r,"SID",t.K),gn(r,"RID",e),gn(r,"TYPE","terminate"),gk(t,r),e=new dk(t,t.l,e),e.L=2,e.v=$v($a(r)),r=!1,st.navigator&&st.navigator.sendBeacon)try{r=st.navigator.sendBeacon(e.v.toString(),"")}catch{}!r&&st.Image&&(new Image().src=e.v,r=!0),r||(e.g=F6(e.l,null),e.g.ha(e.v)),e.G=Date.now(),hk(e)}j6(t)}function Hv(t){t.g&&(r2(t),t.g.cancel(),t.g=null)}function N6(t){Hv(t),t.u&&(st.clearTimeout(t.u),t.u=null),zw(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&st.clearTimeout(t.m),t.m=null)}function Wv(t){if(!y6(t.i)&&!t.m){t.m=!0;var e=t.Na;Cm||t6(),xm||(Cm(),xm=!0),qS.add(e,t),t.C=0}}function Tne(t,e){return _6(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=lk(qr(t.Na,t,e),B6(t,t.C)),t.C++,!0)}Pe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const a=new dk(this,this.l,t);let d=this.s;if(this.U&&(d?(d=Gz(d),Yz(d,this.U)):d=this.U),this.o!==null||this.O||(a.I=d,d=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){t:{var o=this.j[r];if("__data__"in o.map&&(o=o.map.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(e+=o,4096<e){e=r;break e}if(e===4096||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=P6(this,a,e),r=$a(this.I),gn(r,"RID",t),gn(r,"CVER",22),this.F&&gn(r,"X-HTTP-Session-Id",this.F),gk(this,r),d&&(this.O?e="headers="+encodeURIComponent(String(I6(d)))+"&"+e:this.o&&e2(r,this.o,d)),JS(this.i,a),this.bb&&gn(r,"TYPE","init"),this.P?(gn(r,"$req",e),gn(r,"SID","null"),a.aa=!0,Px(a,r,null)):Px(a,r,e),this.H=2}}else this.H==3&&(t?dR(this,t):this.j.length==0||y6(this.i)||dR(this))};function dR(t,e){var r;e?r=e.m:r=t.W++;const o=$a(t.I);gn(o,"SID",t.K),gn(o,"RID",r),gn(o,"AID",t.V),gk(t,o),t.o&&t.s&&e2(o,t.o,t.s),r=new dk(t,t.l,r,t.C+1),t.o===null&&(r.I=t.s),e&&(t.j=e.F.concat(t.j)),e=P6(t,r,1e3),r.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),JS(t.i,r),Px(r,o,e)}function gk(t,e){t.na&&FS(t.na,function(r,o){gn(e,o,r)}),t.h&&g6({},function(r,o){gn(e,o,r)})}function P6(t,e,r){r=Math.min(t.j.length,r);var o=t.h?qr(t.h.Va,t.h,t):null;e:{var a=t.j;let d=-1;for(;;){const f=["count="+r];d==-1?0<r?(d=a[0].g,f.push("ofs="+d)):d=0:f.push("ofs="+d);let k=!0;for(let m=0;m<r;m++){let v=a[m].g;const A=a[m].map;if(v-=d,0>v)d=Math.max(0,a[m].g-100),k=!1;else try{yne(A,f,"req"+v+"_")}catch{o&&o(A)}}if(k){o=f.join("&");break e}}}return t=t.j.splice(0,r),e.F=t,o}function O6(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Cm||t6(),xm||(Cm(),xm=!0),qS.add(e,t),t.A=0}}function n2(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=lk(qr(t.Ma,t),B6(t,t.A)),t.A++,!0)}Pe.Ma=function(){if(this.u=null,R6(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=lk(qr(this.jb,this),t)}};Pe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ri(10),Hv(this),R6(this))};function r2(t){t.B!=null&&(st.clearTimeout(t.B),t.B=null)}function R6(t){t.g=new dk(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=$a(t.wa);gn(e,"RID","rpc"),gn(e,"SID",t.K),gn(e,"AID",t.V),gn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&gn(e,"TO",t.qa),gn(e,"TYPE","xmlhttp"),gk(t,e),t.o&&t.s&&e2(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var r=t.g;t=t.pa,r.L=1,r.v=$v($a(e)),r.s=null,r.S=!0,d6(r,t)}Pe.ib=function(){this.v!=null&&(this.v=null,Hv(this),n2(this),ri(19))};function zw(t){t.v!=null&&(st.clearTimeout(t.v),t.v=null)}function L6(t,e){var r=null;if(t.g==e){zw(t),r2(t),t.g=null;var o=2}else if(Rx(t.i,e))r=e.F,A6(t.i,e),o=1;else return;if(t.H!=0){if(e.i)if(o==1){r=e.s?e.s.length:0,e=Date.now()-e.G;var a=t.C;o=Bv(),Mr(o,new a6(o,r)),Wv(t)}else O6(t);else if(a=e.o,a==3||a==0&&0<e.ca||!(o==1&&Tne(t,e)||o==2&&n2(t)))switch(r&&0<r.length&&(e=t.i,e.i=e.i.concat(r)),a){case 1:Eu(t,5);break;case 4:Eu(t,10);break;case 3:Eu(t,6);break;default:Eu(t,2)}}}function B6(t,e){let r=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(r*=2),r*e}function Eu(t,e){if(t.l.info("Error code "+e),e==2){var r=null;t.h&&(r=null);var o=qr(t.pb,t);r||(r=new Mu("//www.google.com/images/cleardot.gif"),st.location&&st.location.protocol=="http"||Bw(r,"https"),$v(r)),_ne(r.toString(),o)}else ri(2);t.H=0,t.h&&t.h.za(e),j6(t),N6(t)}Pe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ri(2)):(this.l.info("Failed to ping google.com"),ri(1))};function j6(t){if(t.H=0,t.ma=[],t.h){const e=C6(t.i);(e.length!=0||t.j.length!=0)&&(tR(t.ma,e),tR(t.ma,t.j),t.i.i.length=0,jS(t.j),t.j.length=0),t.h.ya()}}function z6(t,e,r){var o=r instanceof Mu?$a(r):new Mu(r);if(o.g!="")e&&(o.g=e+"."+o.g),jw(o,o.m);else{var a=st.location;o=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var d=new Mu(null);o&&Bw(d,o),e&&(d.g=e),a&&jw(d,a),r&&(d.l=r),o=d}return r=t.F,e=t.Da,r&&e&&gn(o,r,e),gn(o,"VER",t.ra),gk(t,o),o}function F6(t,e,r){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=r&&t.Ha&&!t.va?new Bn(new fk({ob:!0})):new Bn(t.va),e.Oa(t.J),e}Pe.isActive=function(){return!!this.h&&this.h.isActive(this)};function $6(){}Pe=$6.prototype;Pe.Ba=function(){};Pe.Aa=function(){};Pe.za=function(){};Pe.ya=function(){};Pe.isActive=function(){return!0};Pe.Va=function(){};function Fw(){if(mf&&!(10<=Number($te)))throw Error("Environmental error: no available transport.")}Fw.prototype.g=function(t,e){return new Ki(t,e)};function Ki(t,e){br.call(this),this.g=new M6(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!_m(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_m(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new jf(this)}wr(Ki,br);Ki.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,r=this.h||void 0;ri(0),t.Y=e,t.na=r||{},t.G=t.aa,t.I=z6(t,null,t.Y),Wv(t)};Ki.prototype.close=function(){t2(this.g)};Ki.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var r={};r.__data__=t,t=r}else this.v&&(r={},r.__data__=WS(t),t=r);e.j.push(new kne(e.fb++,t)),e.H==3&&Wv(e)};Ki.prototype.N=function(){this.g.h=null,delete this.j,t2(this.g),delete this.g,Ki.$.N.call(this)};function V6(t){QS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const r in e){t=r;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}wr(V6,QS);function U6(){ZS.call(this),this.status=1}wr(U6,ZS);function jf(t){this.g=t}wr(jf,$6);jf.prototype.Ba=function(){Mr(this.g,"a")};jf.prototype.Aa=function(t){Mr(this.g,new V6(t))};jf.prototype.za=function(t){Mr(this.g,new U6)};jf.prototype.ya=function(){Mr(this.g,"b")};function Dne(){this.blockSize=-1}function ns(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}wr(ns,Dne);ns.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function WC(t,e,r){r||(r=0);var o=Array(16);if(typeof e=="string")for(var a=0;16>a;++a)o[a]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(a=0;16>a;++a)o[a]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;e=t.g[0],r=t.g[1],a=t.g[2];var d=t.g[3],f=e+(d^r&(a^d))+o[0]+3614090360&4294967295;e=r+(f<<7&4294967295|f>>>25),f=d+(a^e&(r^a))+o[1]+3905402710&4294967295,d=e+(f<<12&4294967295|f>>>20),f=a+(r^d&(e^r))+o[2]+606105819&4294967295,a=d+(f<<17&4294967295|f>>>15),f=r+(e^a&(d^e))+o[3]+3250441966&4294967295,r=a+(f<<22&4294967295|f>>>10),f=e+(d^r&(a^d))+o[4]+4118548399&4294967295,e=r+(f<<7&4294967295|f>>>25),f=d+(a^e&(r^a))+o[5]+1200080426&4294967295,d=e+(f<<12&4294967295|f>>>20),f=a+(r^d&(e^r))+o[6]+2821735955&4294967295,a=d+(f<<17&4294967295|f>>>15),f=r+(e^a&(d^e))+o[7]+4249261313&4294967295,r=a+(f<<22&4294967295|f>>>10),f=e+(d^r&(a^d))+o[8]+1770035416&4294967295,e=r+(f<<7&4294967295|f>>>25),f=d+(a^e&(r^a))+o[9]+2336552879&4294967295,d=e+(f<<12&4294967295|f>>>20),f=a+(r^d&(e^r))+o[10]+4294925233&4294967295,a=d+(f<<17&4294967295|f>>>15),f=r+(e^a&(d^e))+o[11]+2304563134&4294967295,r=a+(f<<22&4294967295|f>>>10),f=e+(d^r&(a^d))+o[12]+1804603682&4294967295,e=r+(f<<7&4294967295|f>>>25),f=d+(a^e&(r^a))+o[13]+4254626195&4294967295,d=e+(f<<12&4294967295|f>>>20),f=a+(r^d&(e^r))+o[14]+2792965006&4294967295,a=d+(f<<17&4294967295|f>>>15),f=r+(e^a&(d^e))+o[15]+1236535329&4294967295,r=a+(f<<22&4294967295|f>>>10),f=e+(a^d&(r^a))+o[1]+4129170786&4294967295,e=r+(f<<5&4294967295|f>>>27),f=d+(r^a&(e^r))+o[6]+3225465664&4294967295,d=e+(f<<9&4294967295|f>>>23),f=a+(e^r&(d^e))+o[11]+643717713&4294967295,a=d+(f<<14&4294967295|f>>>18),f=r+(d^e&(a^d))+o[0]+3921069994&4294967295,r=a+(f<<20&4294967295|f>>>12),f=e+(a^d&(r^a))+o[5]+3593408605&4294967295,e=r+(f<<5&4294967295|f>>>27),f=d+(r^a&(e^r))+o[10]+38016083&4294967295,d=e+(f<<9&4294967295|f>>>23),f=a+(e^r&(d^e))+o[15]+3634488961&4294967295,a=d+(f<<14&4294967295|f>>>18),f=r+(d^e&(a^d))+o[4]+3889429448&4294967295,r=a+(f<<20&4294967295|f>>>12),f=e+(a^d&(r^a))+o[9]+568446438&4294967295,e=r+(f<<5&4294967295|f>>>27),f=d+(r^a&(e^r))+o[14]+3275163606&4294967295,d=e+(f<<9&4294967295|f>>>23),f=a+(e^r&(d^e))+o[3]+4107603335&4294967295,a=d+(f<<14&4294967295|f>>>18),f=r+(d^e&(a^d))+o[8]+1163531501&4294967295,r=a+(f<<20&4294967295|f>>>12),f=e+(a^d&(r^a))+o[13]+2850285829&4294967295,e=r+(f<<5&4294967295|f>>>27),f=d+(r^a&(e^r))+o[2]+4243563512&4294967295,d=e+(f<<9&4294967295|f>>>23),f=a+(e^r&(d^e))+o[7]+1735328473&4294967295,a=d+(f<<14&4294967295|f>>>18),f=r+(d^e&(a^d))+o[12]+2368359562&4294967295,r=a+(f<<20&4294967295|f>>>12),f=e+(r^a^d)+o[5]+4294588738&4294967295,e=r+(f<<4&4294967295|f>>>28),f=d+(e^r^a)+o[8]+2272392833&4294967295,d=e+(f<<11&4294967295|f>>>21),f=a+(d^e^r)+o[11]+1839030562&4294967295,a=d+(f<<16&4294967295|f>>>16),f=r+(a^d^e)+o[14]+4259657740&4294967295,r=a+(f<<23&4294967295|f>>>9),f=e+(r^a^d)+o[1]+2763975236&4294967295,e=r+(f<<4&4294967295|f>>>28),f=d+(e^r^a)+o[4]+1272893353&4294967295,d=e+(f<<11&4294967295|f>>>21),f=a+(d^e^r)+o[7]+4139469664&4294967295,a=d+(f<<16&4294967295|f>>>16),f=r+(a^d^e)+o[10]+3200236656&4294967295,r=a+(f<<23&4294967295|f>>>9),f=e+(r^a^d)+o[13]+681279174&4294967295,e=r+(f<<4&4294967295|f>>>28),f=d+(e^r^a)+o[0]+3936430074&4294967295,d=e+(f<<11&4294967295|f>>>21),f=a+(d^e^r)+o[3]+3572445317&4294967295,a=d+(f<<16&4294967295|f>>>16),f=r+(a^d^e)+o[6]+76029189&4294967295,r=a+(f<<23&4294967295|f>>>9),f=e+(r^a^d)+o[9]+3654602809&4294967295,e=r+(f<<4&4294967295|f>>>28),f=d+(e^r^a)+o[12]+3873151461&4294967295,d=e+(f<<11&4294967295|f>>>21),f=a+(d^e^r)+o[15]+530742520&4294967295,a=d+(f<<16&4294967295|f>>>16),f=r+(a^d^e)+o[2]+3299628645&4294967295,r=a+(f<<23&4294967295|f>>>9),f=e+(a^(r|~d))+o[0]+4096336452&4294967295,e=r+(f<<6&4294967295|f>>>26),f=d+(r^(e|~a))+o[7]+1126891415&4294967295,d=e+(f<<10&4294967295|f>>>22),f=a+(e^(d|~r))+o[14]+2878612391&4294967295,a=d+(f<<15&4294967295|f>>>17),f=r+(d^(a|~e))+o[5]+4237533241&4294967295,r=a+(f<<21&4294967295|f>>>11),f=e+(a^(r|~d))+o[12]+1700485571&4294967295,e=r+(f<<6&4294967295|f>>>26),f=d+(r^(e|~a))+o[3]+2399980690&4294967295,d=e+(f<<10&4294967295|f>>>22),f=a+(e^(d|~r))+o[10]+4293915773&4294967295,a=d+(f<<15&4294967295|f>>>17),f=r+(d^(a|~e))+o[1]+2240044497&4294967295,r=a+(f<<21&4294967295|f>>>11),f=e+(a^(r|~d))+o[8]+1873313359&4294967295,e=r+(f<<6&4294967295|f>>>26),f=d+(r^(e|~a))+o[15]+4264355552&4294967295,d=e+(f<<10&4294967295|f>>>22),f=a+(e^(d|~r))+o[6]+2734768916&4294967295,a=d+(f<<15&4294967295|f>>>17),f=r+(d^(a|~e))+o[13]+1309151649&4294967295,r=a+(f<<21&4294967295|f>>>11),f=e+(a^(r|~d))+o[4]+4149444226&4294967295,e=r+(f<<6&4294967295|f>>>26),f=d+(r^(e|~a))+o[11]+3174756917&4294967295,d=e+(f<<10&4294967295|f>>>22),f=a+(e^(d|~r))+o[2]+718787259&4294967295,a=d+(f<<15&4294967295|f>>>17),f=r+(d^(a|~e))+o[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,t.g[2]=t.g[2]+a&4294967295,t.g[3]=t.g[3]+d&4294967295}ns.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var r=e-this.blockSize,o=this.m,a=this.h,d=0;d<e;){if(a==0)for(;d<=r;)WC(this,t,d),d+=this.blockSize;if(typeof t=="string"){for(;d<e;)if(o[a++]=t.charCodeAt(d++),a==this.blockSize){WC(this,o),a=0;break}}else for(;d<e;)if(o[a++]=t[d++],a==this.blockSize){WC(this,o),a=0;break}}this.h=a,this.i+=e};ns.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var r=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=r&255,r/=256;for(this.j(t),t=Array(16),e=r=0;4>e;++e)for(var o=0;32>o;o+=8)t[r++]=this.g[e]>>>o&255;return t};function Jt(t,e){this.h=e;for(var r=[],o=!0,a=t.length-1;0<=a;a--){var d=t[a]|0;o&&d==e||(r[a]=d,o=!1)}this.g=r}var Ine={};function i2(t){return-128<=t&&128>t?jte(t,function(e){return new Jt([e|0],0>e?-1:0)}):new Jt([t|0],0>t?-1:0)}function Ws(t){if(isNaN(t)||!isFinite(t))return Qh;if(0>t)return Dr(Ws(-t));for(var e=[],r=1,o=0;t>=r;o++)e[o]=t/r|0,r*=Lx;return new Jt(e,0)}function H6(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Dr(H6(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ws(Math.pow(e,8)),o=Qh,a=0;a<t.length;a+=8){var d=Math.min(8,t.length-a),f=parseInt(t.substring(a,a+d),e);8>d?(d=Ws(Math.pow(e,d)),o=o.R(d).add(Ws(f))):(o=o.R(r),o=o.add(Ws(f)))}return o}var Lx=4294967296,Qh=i2(0),Bx=i2(1),hR=i2(16777216);Pe=Jt.prototype;Pe.ea=function(){if(yo(this))return-Dr(this).ea();for(var t=0,e=1,r=0;r<this.g.length;r++){var o=this.D(r);t+=(0<=o?o:Lx+o)*e,e*=Lx}return t};Pe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ma(this))return"0";if(yo(this))return"-"+Dr(this).toString(t);for(var e=Ws(Math.pow(t,6)),r=this,o="";;){var a=Vw(r,e).g;r=$w(r,a.R(e));var d=((0<r.g.length?r.g[0]:r.h)>>>0).toString(t);if(r=a,Ma(r))return d+o;for(;6>d.length;)d="0"+d;o=d+o}};Pe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ma(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function yo(t){return t.h==-1}Pe.X=function(t){return t=$w(this,t),yo(t)?-1:Ma(t)?0:1};function Dr(t){for(var e=t.g.length,r=[],o=0;o<e;o++)r[o]=~t.g[o];return new Jt(r,~t.h).add(Bx)}Pe.abs=function(){return yo(this)?Dr(this):this};Pe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],o=0,a=0;a<=e;a++){var d=o+(this.D(a)&65535)+(t.D(a)&65535),f=(d>>>16)+(this.D(a)>>>16)+(t.D(a)>>>16);o=f>>>16,d&=65535,f&=65535,r[a]=f<<16|d}return new Jt(r,r[r.length-1]&-2147483648?-1:0)};function $w(t,e){return t.add(Dr(e))}Pe.R=function(t){if(Ma(this)||Ma(t))return Qh;if(yo(this))return yo(t)?Dr(this).R(Dr(t)):Dr(Dr(this).R(t));if(yo(t))return Dr(this.R(Dr(t)));if(0>this.X(hR)&&0>t.X(hR))return Ws(this.ea()*t.ea());for(var e=this.g.length+t.g.length,r=[],o=0;o<2*e;o++)r[o]=0;for(o=0;o<this.g.length;o++)for(var a=0;a<t.g.length;a++){var d=this.D(o)>>>16,f=this.D(o)&65535,k=t.D(a)>>>16,m=t.D(a)&65535;r[2*o+2*a]+=f*m,k0(r,2*o+2*a),r[2*o+2*a+1]+=d*m,k0(r,2*o+2*a+1),r[2*o+2*a+1]+=f*k,k0(r,2*o+2*a+1),r[2*o+2*a+2]+=d*k,k0(r,2*o+2*a+2)}for(o=0;o<e;o++)r[o]=r[2*o+1]<<16|r[2*o];for(o=e;o<2*e;o++)r[o]=0;return new Jt(r,0)};function k0(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function mg(t,e){this.g=t,this.h=e}function Vw(t,e){if(Ma(e))throw Error("division by zero");if(Ma(t))return new mg(Qh,Qh);if(yo(t))return e=Vw(Dr(t),e),new mg(Dr(e.g),Dr(e.h));if(yo(e))return e=Vw(t,Dr(e)),new mg(Dr(e.g),e.h);if(30<t.g.length){if(yo(t)||yo(e))throw Error("slowDivide_ only works with positive integers.");for(var r=Bx,o=e;0>=o.X(t);)r=fR(r),o=fR(o);var a=kh(r,1),d=kh(o,1);for(o=kh(o,2),r=kh(r,2);!Ma(o);){var f=d.add(o);0>=f.X(t)&&(a=a.add(r),d=f),o=kh(o,1),r=kh(r,1)}return e=$w(t,a.R(e)),new mg(a,e)}for(a=Qh;0<=t.X(e);){for(r=Math.max(1,Math.floor(t.ea()/e.ea())),o=Math.ceil(Math.log(r)/Math.LN2),o=48>=o?1:Math.pow(2,o-48),d=Ws(r),f=d.R(e);yo(f)||0<f.X(t);)r-=o,d=Ws(r),f=d.R(e);Ma(d)&&(d=Bx),a=a.add(d),t=$w(t,f)}return new mg(a,t)}Pe.gb=function(t){return Vw(this,t).h};Pe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],o=0;o<e;o++)r[o]=this.D(o)&t.D(o);return new Jt(r,this.h&t.h)};Pe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],o=0;o<e;o++)r[o]=this.D(o)|t.D(o);return new Jt(r,this.h|t.h)};Pe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],o=0;o<e;o++)r[o]=this.D(o)^t.D(o);return new Jt(r,this.h^t.h)};function fR(t){for(var e=t.g.length+1,r=[],o=0;o<e;o++)r[o]=t.D(o)<<1|t.D(o-1)>>>31;return new Jt(r,t.h)}function kh(t,e){var r=e>>5;e%=32;for(var o=t.g.length-r,a=[],d=0;d<o;d++)a[d]=0<e?t.D(d+r)>>>e|t.D(d+r+1)<<32-e:t.D(d+r);return new Jt(a,t.h)}Fw.prototype.createWebChannel=Fw.prototype.g;Ki.prototype.send=Ki.prototype.u;Ki.prototype.open=Ki.prototype.m;Ki.prototype.close=Ki.prototype.close;jv.NO_ERROR=0;jv.TIMEOUT=8;jv.HTTP_ERROR=6;c6.COMPLETE="complete";l6.EventType=uk;uk.OPEN="a";uk.CLOSE="b";uk.ERROR="c";uk.MESSAGE="d";br.prototype.listen=br.prototype.O;Bn.prototype.listenOnce=Bn.prototype.P;Bn.prototype.getLastError=Bn.prototype.Sa;Bn.prototype.getLastErrorCode=Bn.prototype.Ia;Bn.prototype.getStatus=Bn.prototype.da;Bn.prototype.getResponseJson=Bn.prototype.Wa;Bn.prototype.getResponseText=Bn.prototype.ja;Bn.prototype.send=Bn.prototype.ha;Bn.prototype.setWithCredentials=Bn.prototype.Oa;ns.prototype.digest=ns.prototype.l;ns.prototype.reset=ns.prototype.reset;ns.prototype.update=ns.prototype.j;Jt.prototype.add=Jt.prototype.add;Jt.prototype.multiply=Jt.prototype.R;Jt.prototype.modulo=Jt.prototype.gb;Jt.prototype.compare=Jt.prototype.X;Jt.prototype.toNumber=Jt.prototype.ea;Jt.prototype.toString=Jt.prototype.toString;Jt.prototype.getBits=Jt.prototype.D;Jt.fromNumber=Ws;Jt.fromString=H6;var Mne=function(){return new Fw},Nne=function(){return Bv()},qC=jv,Pne=c6,One=Xu,pR={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Rne=fk,b0=l6,Lne=Bn,Bne=ns,Zh=Jt;const gR="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=new CS("@firebase/firestore");function mR(){return Vu.logLevel}function We(t,...e){if(Vu.logLevel<=Rt.DEBUG){const r=e.map(o2);Vu.debug(`Firestore (${zf}): ${t}`,...r)}}function Va(t,...e){if(Vu.logLevel<=Rt.ERROR){const r=e.map(o2);Vu.error(`Firestore (${zf}): ${t}`,...r)}}function kf(t,...e){if(Vu.logLevel<=Rt.WARN){const r=e.map(o2);Vu.warn(`Firestore (${zf}): ${t}`,...r)}}function o2(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t="Unexpected state"){const e=`FIRESTORE (${zf}) INTERNAL ASSERTION FAILED: `+t;throw Va(e),new Error(e)}function bn(t,e){t||it()}function dt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let Fe=class extends Ka{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W6=class{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},jne=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ur.UNAUTHENTICATED))}shutdown(){}},zne=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}},Fne=class{constructor(e){this.t=e,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){let o=this.i;const a=m=>this.i!==o?(o=this.i,r(m)):Promise.resolve();let d=new rl;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new rl,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const m=d;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},k=m=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(m=>k(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?k(m):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new rl)}},0),f()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(bn(typeof o.accessToken=="string"),new W6(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bn(e===null||typeof e=="string"),new Ur(e)}},$ne=class{constructor(e,r,o){this.h=e,this.l=r,this.m=o,this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},Vne=class{constructor(e,r,o){this.h=e,this.l=r,this.m=o}getToken(){return Promise.resolve(new $ne(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(Ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}};class Une{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hne{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,r){const o=d=>{d.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const f=d.token!==this.T;return this.T=d.token,We("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const a=d=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.I.onInit(d=>a(d)),setTimeout(()=>{if(!this.appCheck){const d=this.I.getImmediate({optional:!0});d?a(d):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(bn(typeof r.token=="string"),this.T=r.token,new Une(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let o=0;o<t;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const a=Wne(40);for(let d=0;d<a.length;++d)o.length<20&&a[d]<r&&(o+=e.charAt(a[d]%e.length))}return o}}function zt(t,e){return t<e?-1:t>e?1:0}function bf(t,e,r){return t.length===e.length&&t.every((o,a)=>r(o,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lr.fromMillis(Date.now())}static fromDate(e){return lr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new lr(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ct(e)}static min(){return new ct(new lr(0,0))}static max(){return new ct(new lr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,r,o){r===void 0?r=0:r>e.length&&it(),o===void 0?o=e.length-r:o>e.length-r&&it(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return Im.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Im?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let a=0;a<o;a++){const d=e.get(a),f=r.get(a);if(d<f)return-1;if(d>f)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class mn extends Im{construct(e,r,o){return new mn(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(a=>a.length>0))}return new mn(r)}static emptyPath(){return new mn([])}}const qne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wr extends Im{construct(e,r,o){return new Wr(e,r,o)}static isValidIdentifier(e){return qne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wr(["__name__"])}static fromServerFormat(e){const r=[];let o="",a=0;const d=()=>{if(o.length===0)throw new Fe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let f=!1;for(;a<e.length;){const k=e[a];if(k==="\\"){if(a+1===e.length)throw new Fe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Fe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=m,a+=2}else k==="`"?(f=!f,a++):k!=="."||f?(o+=k,a++):(d(),a++)}if(d(),f)throw new Fe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wr(r)}static emptyPath(){return new Wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(mn.fromString(e))}static fromName(e){return new Ke(mn.fromString(e).popFirst(5))}static empty(){return new Ke(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return mn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new mn(e.slice()))}}function Gne(t,e){const r=t.toTimestamp().seconds,o=t.toTimestamp().nanoseconds+1,a=ct.fromTimestamp(o===1e9?new lr(r+1,0):new lr(r,o));return new dl(a,Ke.empty(),e)}function Yne(t){return new dl(t.readTime,t.key,-1)}class dl{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new dl(ct.min(),Ke.empty(),-1)}static max(){return new dl(ct.max(),Ke.empty(),-1)}}function Kne(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ke.comparator(t.documentKey,e.documentKey),r!==0?r:zt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==Qne)throw t;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ce((o,a)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,a)},this.catchCallback=d=>{this.wrapFailure(r,d).next(o,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ce?r:Ce.resolve(r)}catch(r){return Ce.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ce.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ce.reject(r)}static resolve(e){return new Ce((r,o)=>{r(e)})}static reject(e){return new Ce((r,o)=>{o(e)})}static waitFor(e){return new Ce((r,o)=>{let a=0,d=0,f=!1;e.forEach(k=>{++a,k.next(()=>{++d,f&&d===a&&r()},m=>o(m))}),f=!0,d===a&&r()})}static or(e){let r=Ce.resolve(!1);for(const o of e)r=r.next(a=>a?Ce.resolve(a):o());return r}static forEach(e,r){const o=[];return e.forEach((a,d)=>{o.push(r.call(this,a,d))}),this.waitFor(o)}static mapArray(e,r){return new Ce((o,a)=>{const d=e.length,f=new Array(d);let k=0;for(let m=0;m<d;m++){const v=m;r(e[v]).next(A=>{f[v]=A,++k,k===d&&o(f)},A=>a(A))}})}static doWhile(e,r){return new Ce((o,a)=>{const d=()=>{e()===!0?r().next(()=>{d()},a):o()};d()})}}function kk(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}s2.ct=-1;function qv(t){return t==null}function Uw(t){return t===0&&1/t==-1/0}function Jne(t){return typeof t=="number"&&Number.isInteger(t)&&!Uw(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ed(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function G6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,r){this.comparator=e,this.root=r||Sr.EMPTY}insert(e,r){return new Dn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Sr.BLACK,null,null))}remove(e){return new Dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(a===0)return r+o.left.size;a<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new w0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new w0(this.root,e,this.comparator,!1)}getReverseIterator(){return new w0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new w0(this.root,e,this.comparator,!0)}}class w0{constructor(e,r,o,a){this.isReverse=a,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=r?o(e.key,r):1,r&&a&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(d===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sr{constructor(e,r,o,a,d){this.key=e,this.value=r,this.color=o??Sr.RED,this.left=a??Sr.EMPTY,this.right=d??Sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,a,d){return new Sr(e??this.key,r??this.value,o??this.color,a??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let a=this;const d=o(e,a.key);return a=d<0?a.copy(null,null,null,a.left.insert(e,r,o),null):d===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return Sr.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}Sr.EMPTY=null,Sr.RED=!0,Sr.BLACK=!1;Sr.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(t,e,r,o,a){return this}insert(t,e,r){return new Sr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.comparator=e,this.data=new Dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new bR(this.data.getIterator())}getIteratorFrom(e){return new bR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Yr)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,d=o.getNext().key;if(this.comparator(a,d)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Yr(this.comparator);return r.data=e,r}}class bR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.fields=e,e.sort(Wr.comparator)}static empty(){return new Vi([])}unionWith(e){let r=new Yr(Wr.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Vi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return bf(this.fields,e.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Y6("Invalid base64 string: "+a):a}}(e);return new Zr(r)}static fromUint8Array(e){const r=function(o){let a="";for(let d=0;d<o.length;++d)a+=String.fromCharCode(o[d]);return a}(e);return new Zr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zr.EMPTY_BYTE_STRING=new Zr("");const Xne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hl(t){if(bn(!!t),typeof t=="string"){let e=0;const r=Xne.exec(t);if(bn(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Zn(t.seconds),nanos:Zn(t.nanos)}}function Zn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Uu(t){return typeof t=="string"?Zr.fromBase64String(t):Zr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function c2(t){const e=t.mapValue.fields.__previous_value__;return a2(e)?c2(e):e}function Mm(t){const e=hl(t.mapValue.fields.__local_write_time__.timestampValue);return new lr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ere{constructor(e,r,o,a,d,f,k,m,v){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=a,this.ssl=d,this.forceLongPolling=f,this.autoDetectLongPolling=k,this.longPollingOptions=m,this.useFetchStreams=v}}class Nm{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Nm("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a2(t)?4:tre(t)?9007199254740991:10:it()}function na(t,e){if(t===e)return!0;const r=Hu(t);if(r!==Hu(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mm(t).isEqual(Mm(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const d=hl(o.timestampValue),f=hl(a.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return Uu(o.bytesValue).isEqual(Uu(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return Zn(o.geoPointValue.latitude)===Zn(a.geoPointValue.latitude)&&Zn(o.geoPointValue.longitude)===Zn(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Zn(o.integerValue)===Zn(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const d=Zn(o.doubleValue),f=Zn(a.doubleValue);return d===f?Uw(d)===Uw(f):isNaN(d)&&isNaN(f)}return!1}(t,e);case 9:return bf(t.arrayValue.values||[],e.arrayValue.values||[],na);case 10:return function(o,a){const d=o.mapValue.fields||{},f=a.mapValue.fields||{};if(kR(d)!==kR(f))return!1;for(const k in d)if(d.hasOwnProperty(k)&&(f[k]===void 0||!na(d[k],f[k])))return!1;return!0}(t,e);default:return it()}}function Pm(t,e){return(t.values||[]).find(r=>na(r,e))!==void 0}function wf(t,e){if(t===e)return 0;const r=Hu(t),o=Hu(e);if(r!==o)return zt(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return zt(t.booleanValue,e.booleanValue);case 2:return function(a,d){const f=Zn(a.integerValue||a.doubleValue),k=Zn(d.integerValue||d.doubleValue);return f<k?-1:f>k?1:f===k?0:isNaN(f)?isNaN(k)?0:-1:1}(t,e);case 3:return wR(t.timestampValue,e.timestampValue);case 4:return wR(Mm(t),Mm(e));case 5:return zt(t.stringValue,e.stringValue);case 6:return function(a,d){const f=Uu(a),k=Uu(d);return f.compareTo(k)}(t.bytesValue,e.bytesValue);case 7:return function(a,d){const f=a.split("/"),k=d.split("/");for(let m=0;m<f.length&&m<k.length;m++){const v=zt(f[m],k[m]);if(v!==0)return v}return zt(f.length,k.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,d){const f=zt(Zn(a.latitude),Zn(d.latitude));return f!==0?f:zt(Zn(a.longitude),Zn(d.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(a,d){const f=a.values||[],k=d.values||[];for(let m=0;m<f.length&&m<k.length;++m){const v=wf(f[m],k[m]);if(v)return v}return zt(f.length,k.length)}(t.arrayValue,e.arrayValue);case 10:return function(a,d){if(a===v0.mapValue&&d===v0.mapValue)return 0;if(a===v0.mapValue)return 1;if(d===v0.mapValue)return-1;const f=a.fields||{},k=Object.keys(f),m=d.fields||{},v=Object.keys(m);k.sort(),v.sort();for(let A=0;A<k.length&&A<v.length;++A){const x=zt(k[A],v[A]);if(x!==0)return x;const _=wf(f[k[A]],m[v[A]]);if(_!==0)return _}return zt(k.length,v.length)}(t.mapValue,e.mapValue);default:throw it()}}function wR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return zt(t,e);const r=hl(t),o=hl(e),a=zt(r.seconds,o.seconds);return a!==0?a:zt(r.nanos,o.nanos)}function vf(t){return jx(t)}function jx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(o){const a=hl(o);return`time(${a.seconds},${a.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Uu(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,Ke.fromName(r).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(o){let a="[",d=!0;for(const f of o.values||[])d?d=!1:a+=",",a+=jx(f);return a+"]"}(t.arrayValue):"mapValue"in t?function(o){const a=Object.keys(o.fields||{}).sort();let d="{",f=!0;for(const k of a)f?f=!1:d+=",",d+=`${k}:${jx(o.fields[k])}`;return d+"}"}(t.mapValue):it();var e,r}function vR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zx(t){return!!t&&"integerValue"in t}function l2(t){return!!t&&"arrayValue"in t}function yR(t){return!!t&&"nullValue"in t}function _R(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function H0(t){return!!t&&"mapValue"in t}function Gg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ed(t.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Gg(o)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Gg(t.arrayValue.values[r]);return e}return Object.assign({},t)}function tre(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko=class Fx{constructor(e){this.value=e}static empty(){return new Fx({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!H0(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gg(r)}setAll(e){let r=Wr.emptyPath(),o={},a=[];e.forEach((f,k)=>{if(!r.isImmediateParentOf(k)){const m=this.getFieldsMap(r);this.applyChanges(m,o,a),o={},a=[],r=k.popLast()}f?o[k.lastSegment()]=Gg(f):a.push(k.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,o,a)}delete(e){const r=this.field(e.popLast());H0(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return na(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=r.mapValue.fields[e.get(o)];H0(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,o){ed(r,(a,d)=>e[a]=d);for(const a of o)delete e[a]}clone(){return new Fx(Gg(this.value))}};function K6(t){const e=[];return ed(t.fields,(r,o)=>{const a=new Wr([r]);if(H0(o)){const d=K6(o.mapValue).fields;if(d.length===0)e.push(a);else for(const f of d)e.push(a.child(f))}else e.push(a)}),new Vi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua=class fu{constructor(e,r,o,a,d,f,k){this.key=e,this.documentType=r,this.version=o,this.readTime=a,this.createTime=d,this.data=f,this.documentState=k}static newInvalidDocument(e){return new fu(e,0,ct.min(),ct.min(),ct.min(),Ko.empty(),0)}static newFoundDocument(e,r,o,a){return new fu(e,1,r,ct.min(),o,a,0)}static newNoDocument(e,r){return new fu(e,2,r,ct.min(),ct.min(),Ko.empty(),0)}static newUnknownDocument(e,r){return new fu(e,3,r,ct.min(),ct.min(),Ko.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ko.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ko.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,r){this.position=e,this.inclusive=r}}function AR(t,e,r){let o=0;for(let a=0;a<t.position.length;a++){const d=e[a],f=t.position[a];if(d.field.isKeyField()?o=Ke.comparator(Ke.fromName(f.referenceValue),r.key):o=wf(f,r.data.field(d.field)),d.dir==="desc"&&(o*=-1),o!==0)break}return o}function CR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!na(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,r="asc"){this.field=e,this.dir=r}}function nre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{}class er extends Q6{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,o):new ire(e,r,o):r==="array-contains"?new are(e,o):r==="in"?new cre(e,o):r==="not-in"?new lre(e,o):r==="array-contains-any"?new ure(e,o):new er(e,r,o)}static createKeyFieldInFilter(e,r,o){return r==="in"?new ore(e,o):new sre(e,o)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(wf(r,this.value)):r!==null&&Hu(this.value)===Hu(r)&&this.matchesComparison(wf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class rs extends Q6{constructor(e,r){super(),this.filters=e,this.op=r,this.lt=null}static create(e,r){return new rs(e,r)}matches(e){return Z6(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(r=>r.isInequality());return e!==null?e.field:null}ft(e){for(const r of this.getFlattenedFilters())if(e(r))return r;return null}}function Z6(t){return t.op==="and"}function J6(t){return rre(t)&&Z6(t)}function rre(t){for(const e of t.filters)if(e instanceof rs)return!1;return!0}function $x(t){if(t instanceof er)return t.field.canonicalString()+t.op.toString()+vf(t.value);if(J6(t))return t.filters.map(e=>$x(e)).join(",");{const e=t.filters.map(r=>$x(r)).join(",");return`${t.op}(${e})`}}function X6(t,e){return t instanceof er?function(r,o){return o instanceof er&&r.op===o.op&&r.field.isEqual(o.field)&&na(r.value,o.value)}(t,e):t instanceof rs?function(r,o){return o instanceof rs&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,d,f)=>a&&X6(d,o.filters[f]),!0):!1}(t,e):void it()}function eF(t){return t instanceof er?function(e){return`${e.field.canonicalString()} ${e.op} ${vf(e.value)}`}(t):t instanceof rs?function(e){return e.op.toString()+" {"+e.getFilters().map(eF).join(" ,")+"}"}(t):"Filter"}class ire extends er{constructor(e,r,o){super(e,r,o),this.key=Ke.fromName(o.referenceValue)}matches(e){const r=Ke.comparator(e.key,this.key);return this.matchesComparison(r)}}class ore extends er{constructor(e,r){super(e,"in",r),this.keys=tF("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class sre extends er{constructor(e,r){super(e,"not-in",r),this.keys=tF("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function tF(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>Ke.fromName(o.referenceValue))}class are extends er{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return l2(r)&&Pm(r.arrayValue,this.value)}}class cre extends er{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Pm(this.value.arrayValue,r)}}class lre extends er{constructor(e,r){super(e,"not-in",r)}matches(e){if(Pm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Pm(this.value.arrayValue,r)}}class ure extends er{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!l2(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Pm(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{constructor(e,r=null,o=[],a=[],d=null,f=null,k=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=a,this.limit=d,this.startAt=f,this.endAt=k,this.dt=null}}function xR(t,e=null,r=[],o=[],a=null,d=null,f=null){return new dre(t,e,r,o,a,d,f)}function u2(t){const e=dt(t);if(e.dt===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>$x(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>function(a){return a.field.canonicalString()+a.dir}(o)).join(","),qv(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>vf(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>vf(o)).join(",")),e.dt=r}return e.dt}function d2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!nre(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!X6(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CR(t.startAt,e.startAt)&&CR(t.endAt,e.endAt)}function Vx(t){return Ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,r=null,o=[],a=[],d=null,f="F",k=null,m=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=a,this.limit=d,this.limitType=f,this.startAt=k,this.endAt=m,this.wt=null,this._t=null,this.startAt,this.endAt}}function hre(t,e,r,o,a,d,f,k){return new bk(t,e,r,o,a,d,f,k)}function nF(t){return new bk(t)}function ER(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rF(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function h2(t){for(const e of t.filters){const r=e.getFirstInequalityField();if(r!==null)return r}return null}function iF(t){return t.collectionGroup!==null}function Jh(t){const e=dt(t);if(e.wt===null){e.wt=[];const r=h2(e),o=rF(e);if(r!==null&&o===null)r.isKeyField()||e.wt.push(new Yg(r)),e.wt.push(new Yg(Wr.keyField(),"asc"));else{let a=!1;for(const d of e.explicitOrderBy)e.wt.push(d),d.field.isKeyField()&&(a=!0);if(!a){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Yg(Wr.keyField(),d))}}}return e.wt}function Ha(t){const e=dt(t);if(!e._t)if(e.limitType==="F")e._t=xR(e.path,e.collectionGroup,Jh(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const d of Jh(e)){const f=d.dir==="desc"?"asc":"desc";r.push(new Yg(d.field,f))}const o=e.endAt?new Hw(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Hw(e.startAt.position,e.startAt.inclusive):null;e._t=xR(e.path,e.collectionGroup,r,e.filters,e.limit,o,a)}return e._t}function Ux(t,e){e.getFirstInequalityField(),h2(t);const r=t.filters.concat([e]);return new bk(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Hx(t,e,r){return new bk(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Gv(t,e){return d2(Ha(t),Ha(e))&&t.limitType===e.limitType}function oF(t){return`${u2(Ha(t))}|lt:${t.limitType}`}function Wx(t){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(o=>eF(o)).join(", ")}]`),qv(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(o=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(o)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>vf(o)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>vf(o)).join(",")),`Target(${r})`}(Ha(t))}; limitType=${t.limitType})`}function Yv(t,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,o){for(const a of Jh(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(a,d,f){const k=AR(a,d,f);return a.inclusive?k<=0:k<0}(r.startAt,Jh(r),o)||r.endAt&&!function(a,d,f){const k=AR(a,d,f);return a.inclusive?k>=0:k>0}(r.endAt,Jh(r),o))}(t,e)}function fre(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sF(t){return(e,r)=>{let o=!1;for(const a of Jh(t)){const d=pre(a,e,r);if(d!==0)return d;o=o||a.field.isKeyField()}return 0}}function pre(t,e,r){const o=t.field.isKeyField()?Ke.comparator(e.key,r.key):function(a,d,f){const k=d.data.field(a),m=f.data.field(a);return k!==null&&m!==null?wf(k,m):it()}(t.field,e,r);switch(t.dir){case"asc":return o;case"desc":return-1*o;default:return it()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o!==void 0){for(const[a,d]of o)if(this.equalsFn(a,e))return d}}has(e){return this.get(e)!==void 0}set(e,r){const o=this.mapKeyFn(e),a=this.inner[o];if(a===void 0)return this.inner[o]=[[e,r]],void this.innerSize++;for(let d=0;d<a.length;d++)if(this.equalsFn(a[d][0],e))return void(a[d]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return o.length===1?delete this.inner[r]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ed(this.inner,(r,o)=>{for(const[a,d]of o)e(a,d)})}isEmpty(){return G6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gre=new Dn(Ke.comparator);function Wa(){return gre}const aF=new Dn(Ke.comparator);function Mg(...t){let e=aF;for(const r of t)e=e.insert(r.key,r);return e}function cF(t){let e=aF;return t.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Su(){return Kg()}function lF(){return Kg()}function Kg(){return new Ff(t=>t.toString(),(t,e)=>t.isEqual(e))}const mre=new Dn(Ke.comparator),kre=new Yr(Ke.comparator);function vt(...t){let e=kre;for(const r of t)e=e.add(r);return e}const bre=new Yr(zt);function wre(){return bre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uw(e)?"-0":e}}function dF(t){return{integerValue:""+t}}function vre(t,e){return Jne(e)?dF(e):uF(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this._=void 0}}function yre(t,e,r){return t instanceof Ww?function(o,a){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&a2(a)&&(a=c2(a)),a&&(d.fields.__previous_value__=a),{mapValue:d}}(r,e):t instanceof Om?fF(t,e):t instanceof Rm?pF(t,e):function(o,a){const d=hF(o,a),f=SR(d)+SR(o.gt);return zx(d)&&zx(o.gt)?dF(f):uF(o.serializer,f)}(t,e)}function _re(t,e,r){return t instanceof Om?fF(t,e):t instanceof Rm?pF(t,e):r}function hF(t,e){return t instanceof qw?zx(r=e)||function(o){return!!o&&"doubleValue"in o}(r)?e:{integerValue:0}:null;var r}class Ww extends Kv{}class Om extends Kv{constructor(e){super(),this.elements=e}}function fF(t,e){const r=gF(e);for(const o of t.elements)r.some(a=>na(a,o))||r.push(o);return{arrayValue:{values:r}}}class Rm extends Kv{constructor(e){super(),this.elements=e}}function pF(t,e){let r=gF(e);for(const o of t.elements)r=r.filter(a=>!na(a,o));return{arrayValue:{values:r}}}class qw extends Kv{constructor(e,r){super(),this.serializer=e,this.gt=r}}function SR(t){return Zn(t.integerValue||t.doubleValue)}function gF(t){return l2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Are(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof Om&&o instanceof Om||r instanceof Rm&&o instanceof Rm?bf(r.elements,o.elements,na):r instanceof qw&&o instanceof qw?na(r.gt,o.gt):r instanceof Ww&&o instanceof Ww}(t.transform,e.transform)}class Cre{constructor(e,r){this.version=e,this.transformResults=r}}class Xo{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Xo}static exists(e){return new Xo(void 0,e)}static updateTime(e){return new Xo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function W0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qv{}function mF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f2(t.key,Xo.none()):new wk(t.key,t.data,Xo.none());{const r=t.data,o=Ko.empty();let a=new Yr(Wr.comparator);for(let d of e.fields)if(!a.has(d)){let f=r.field(d);f===null&&d.length>1&&(d=d.popLast(),f=r.field(d)),f===null?o.delete(d):o.set(d,f),a=a.add(d)}return new _l(t.key,o,new Vi(a.toArray()),Xo.none())}}function xre(t,e,r){t instanceof wk?function(o,a,d){const f=o.value.clone(),k=DR(o.fieldTransforms,a,d.transformResults);f.setAll(k),a.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(t,e,r):t instanceof _l?function(o,a,d){if(!W0(o.precondition,a))return void a.convertToUnknownDocument(d.version);const f=DR(o.fieldTransforms,a,d.transformResults),k=a.data;k.setAll(kF(o)),k.setAll(f),a.convertToFoundDocument(d.version,k).setHasCommittedMutations()}(t,e,r):function(o,a,d){a.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,r)}function Qg(t,e,r,o){return t instanceof wk?function(a,d,f,k){if(!W0(a.precondition,d))return f;const m=a.value.clone(),v=IR(a.fieldTransforms,k,d);return m.setAll(v),d.convertToFoundDocument(d.version,m).setHasLocalMutations(),null}(t,e,r,o):t instanceof _l?function(a,d,f,k){if(!W0(a.precondition,d))return f;const m=IR(a.fieldTransforms,k,d),v=d.data;return v.setAll(kF(a)),v.setAll(m),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(A=>A.field))}(t,e,r,o):function(a,d,f){return W0(a.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f}(t,e,r)}function Ere(t,e){let r=null;for(const o of t.fieldTransforms){const a=e.data.field(o.field),d=hF(o.transform,a||null);d!=null&&(r===null&&(r=Ko.empty()),r.set(o.field,d))}return r||null}function TR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&bf(r,o,(a,d)=>Are(a,d))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wk extends Qv{constructor(e,r,o,a=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class _l extends Qv{constructor(e,r,o,a,d=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=a,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function kF(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=t.data.field(r);e.set(r,o)}}),e}function DR(t,e,r){const o=new Map;bn(t.length===r.length);for(let a=0;a<r.length;a++){const d=t[a],f=d.transform,k=e.data.field(d.field);o.set(d.field,_re(f,k,r[a]))}return o}function IR(t,e,r){const o=new Map;for(const a of t){const d=a.transform,f=r.data.field(a.field);o.set(a.field,yre(d,f,e))}return o}class f2 extends Qv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sre extends Qv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tre{constructor(e,r,o,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const d=this.mutations[a];d.key.isEqual(e.key)&&xre(d,e,o[a])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Qg(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Qg(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=lF();return this.mutations.forEach(a=>{const d=e.get(a.key),f=d.overlayedDocument;let k=this.applyToLocalView(f,d.mutatedFields);k=r.has(a.key)?null:k;const m=mF(f,k);m!==null&&o.set(a.key,m),f.isValidDocument()||f.convertToNoDocument(ct.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),vt())}isEqual(e){return this.batchId===e.batchId&&bf(this.mutations,e.mutations,(r,o)=>TR(r,o))&&bf(this.baseMutations,e.baseMutations,(r,o)=>TR(r,o))}}class p2{constructor(e,r,o,a){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=a}static from(e,r,o){bn(e.mutations.length===o.length);let a=mre;const d=e.mutations;for(let f=0;f<d.length;f++)a=a.insert(d[f].key,o[f].version);return new p2(e,r,o,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ire{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn,Dt;function Mre(t){switch(t){default:return it();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function bF(t){if(t===void 0)return Va("GRPC error has no .code"),me.UNKNOWN;switch(t){case Qn.OK:return me.OK;case Qn.CANCELLED:return me.CANCELLED;case Qn.UNKNOWN:return me.UNKNOWN;case Qn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Qn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Qn.INTERNAL:return me.INTERNAL;case Qn.UNAVAILABLE:return me.UNAVAILABLE;case Qn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Qn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Qn.NOT_FOUND:return me.NOT_FOUND;case Qn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Qn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Qn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Qn.ABORTED:return me.ABORTED;case Qn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Qn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Qn.DATA_LOSS:return me.DATA_LOSS;default:return it()}}(Dt=Qn||(Qn={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return y0}static getOrCreateInstance(){return y0===null&&(y0=new g2),y0}onExistenceFilterMismatch(e){const r=Symbol();return this.onExistenceFilterMismatchCallbacks.set(r,e),()=>this.onExistenceFilterMismatchCallbacks.delete(r)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(r=>r(e))}}let y0=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nre(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pre=new Zh([4294967295,4294967295],0);function MR(t){const e=Nre().encode(t),r=new Bne;return r.update(e),new Uint8Array(r.digest())}function NR(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new Zh([r,o],0),new Zh([a,d],0)]}class m2{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Ng(`Invalid padding: ${r}`);if(o<0)throw new Ng(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new Ng(`Invalid hash count: ${o}`);if(e.length===0&&r!==0)throw new Ng(`Invalid padding when bitmap length is 0: ${r}`);this.It=8*e.length-r,this.Tt=Zh.fromNumber(this.It)}Et(e,r,o){let a=e.add(r.multiply(Zh.fromNumber(o)));return a.compare(Pre)===1&&(a=new Zh([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const r=MR(e),[o,a]=NR(r);for(let d=0;d<this.hashCount;d++){const f=this.Et(o,a,d);if(!this.At(f))return!1}return!0}static create(e,r,o){const a=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),f=new m2(d,a,r);return o.forEach(k=>f.insert(k)),f}insert(e){if(this.It===0)return;const r=MR(e),[o,a]=NR(r);for(let d=0;d<this.hashCount;d++){const f=this.Et(o,a,d);this.Rt(f)}}Rt(e){const r=Math.floor(e/8),o=e%8;this.bitmap[r]|=1<<o}}class Ng extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,r,o,a,d){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const a=new Map;return a.set(e,vk.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new Zv(ct.min(),a,new Dn(zt),Wa(),vt())}}class vk{constructor(e,r,o,a,d){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new vk(o,r,vt(),vt(),vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,r,o,a){this.Pt=e,this.removedTargetIds=r,this.key=o,this.bt=a}}class wF{constructor(e,r){this.targetId=e,this.Vt=r}}class vF{constructor(e,r,o=Zr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=a}}class PR{constructor(){this.St=0,this.Dt=RR(),this.Ct=Zr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=vt(),r=vt(),o=vt();return this.Dt.forEach((a,d)=>{switch(d){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:o=o.add(a);break;default:it()}}),new vk(this.Ct,this.xt,e,r,o)}Ft(){this.Nt=!1,this.Dt=RR()}Bt(e,r){this.Nt=!0,this.Dt=this.Dt.insert(e,r)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Ore{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Wa(),this.zt=OR(),this.Wt=new Dn(zt)}Ht(e){for(const r of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt);for(const r of e.removedTargetIds)this.Yt(r,e.key,e.bt)}Xt(e){this.forEachTarget(e,r=>{const o=this.Zt(r);switch(e.state){case 0:this.te(r)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(r);break;case 3:this.te(r)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(r)&&(this.ee(r),o.$t(e.resumeToken));break;default:it()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Qt.forEach((o,a)=>{this.te(a)&&r(a)})}ne(e){var r;const o=e.targetId,a=e.Vt.count,d=this.se(o);if(d){const f=d.target;if(Vx(f))if(a===0){const k=new Ke(f.path);this.Yt(o,k,Ua.newNoDocument(k,ct.min()))}else bn(a===1);else{const k=this.ie(o);if(k!==a){const m=this.re(e,k);if(m!==0){this.ee(o);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(o,v)}(r=g2.instance)===null||r===void 0||r.notifyOnExistenceFilterMismatch(function(v,A,x){var _,T,D,M,B,O;const L={localCacheCount:A,existenceFilterCount:x.count},z=x.unchangedNames;return z&&(L.bloomFilter={applied:v===0,hashCount:(_=z==null?void 0:z.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(M=(D=(T=z==null?void 0:z.bits)===null||T===void 0?void 0:T.bitmap)===null||D===void 0?void 0:D.length)!==null&&M!==void 0?M:0,padding:(O=(B=z==null?void 0:z.bits)===null||B===void 0?void 0:B.padding)!==null&&O!==void 0?O:0}),L}(m,k,e.Vt))}}}}re(e,r){const{unchangedNames:o,count:a}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:d="",padding:f=0},hashCount:k=0}=o;let m,v;try{m=Uu(d).toUint8Array()}catch(A){if(A instanceof Y6)return kf("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw A}try{v=new m2(m,f,k)}catch(A){return kf(A instanceof Ng?"BloomFilter error: ":"Applying bloom filter failed: ",A),1}return v.It===0?1:a!==r-this.oe(e.targetId,v)?2:0}oe(e,r){const o=this.Gt.getRemoteKeysForTarget(e);let a=0;return o.forEach(d=>{const f=this.Gt.ue(),k=`projects/${f.projectId}/databases/${f.database}/documents/${d.path.canonicalString()}`;r.vt(k)||(this.Yt(e,d,null),a++)}),a}ce(e){const r=new Map;this.Qt.forEach((d,f)=>{const k=this.se(f);if(k){if(d.current&&Vx(k.target)){const m=new Ke(k.target.path);this.jt.get(m)!==null||this.ae(f,m)||this.Yt(f,m,Ua.newNoDocument(m,e))}d.Mt&&(r.set(f,d.Ot()),d.Ft())}});let o=vt();this.zt.forEach((d,f)=>{let k=!0;f.forEachWhile(m=>{const v=this.se(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(k=!1,!1)}),k&&(o=o.add(d))}),this.jt.forEach((d,f)=>f.setReadTime(e));const a=new Zv(e,r,this.Wt,this.jt,o);return this.jt=Wa(),this.zt=OR(),this.Wt=new Dn(zt),a}Jt(e,r){if(!this.te(e))return;const o=this.ae(e,r.key)?2:0;this.Zt(e).Bt(r.key,o),this.jt=this.jt.insert(r.key,r),this.zt=this.zt.insert(r.key,this.he(r.key).add(e))}Yt(e,r,o){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,r)?a.Bt(r,1):a.Lt(r),this.zt=this.zt.insert(r,this.he(r).delete(e)),o&&(this.jt=this.jt.insert(r,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const r=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let r=this.Qt.get(e);return r||(r=new PR,this.Qt.set(e,r)),r}he(e){let r=this.zt.get(e);return r||(r=new Yr(zt),this.zt=this.zt.insert(e,r)),r}te(e){const r=this.se(e)!==null;return r||We("WatchChangeAggregator","Detected inactive target",e),r}se(e){const r=this.Qt.get(e);return r&&r.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new PR),this.Gt.getRemoteKeysForTarget(e).forEach(r=>{this.Yt(e,r,null)})}ae(e,r){return this.Gt.getRemoteKeysForTarget(e).has(r)}}function OR(){return new Dn(Ke.comparator)}function RR(){return new Dn(Ke.comparator)}const Rre=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Lre=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Bre=(()=>({and:"AND",or:"OR"}))();class jre{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function qx(t,e){return t.useProto3Json||qv(e)?e:{value:e}}function Gw(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zre(t,e){return Gw(t,e.toTimestamp())}function Zs(t){return bn(!!t),ct.fromTimestamp(function(e){const r=hl(e);return new lr(r.seconds,r.nanos)}(t))}function k2(t,e){return function(r){return new mn(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function _F(t){const e=mn.fromString(t);return bn(EF(e)),e}function Gx(t,e){return k2(t.databaseId,e.path)}function GC(t,e){const r=_F(e);if(r.get(1)!==t.databaseId.projectId)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ke(AF(r))}function Yx(t,e){return k2(t.databaseId,e)}function Fre(t){const e=_F(t);return e.length===4?mn.emptyPath():AF(e)}function Kx(t){return new mn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AF(t){return bn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function LR(t,e,r){return{name:Gx(t,e),fields:r.value.mapValue.fields}}function $re(t,e){let r;if("targetChange"in e){e.targetChange;const o=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:it()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],d=function(m,v){return m.useProto3Json?(bn(v===void 0||typeof v=="string"),Zr.fromBase64String(v||"")):(bn(v===void 0||v instanceof Uint8Array),Zr.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),f=e.targetChange.cause,k=f&&function(m){const v=m.code===void 0?me.UNKNOWN:bF(m.code);return new Fe(v,m.message||"")}(f);r=new vF(o,a,d,k||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const a=GC(t,o.document.name),d=Zs(o.document.updateTime),f=o.document.createTime?Zs(o.document.createTime):ct.min(),k=new Ko({mapValue:{fields:o.document.fields}}),m=Ua.newFoundDocument(a,d,f,k),v=o.targetIds||[],A=o.removedTargetIds||[];r=new q0(v,A,m.key,m)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const a=GC(t,o.document),d=o.readTime?Zs(o.readTime):ct.min(),f=Ua.newNoDocument(a,d),k=o.removedTargetIds||[];r=new q0([],k,f.key,f)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const a=GC(t,o.document),d=o.removedTargetIds||[];r=new q0([],d,a,null)}else{if(!("filter"in e))return it();{e.filter;const o=e.filter;o.targetId;const{count:a=0,unchangedNames:d}=o,f=new Ire(a,d),k=o.targetId;r=new wF(k,f)}}return r}function Vre(t,e){let r;if(e instanceof wk)r={update:LR(t,e.key,e.value)};else if(e instanceof f2)r={delete:Gx(t,e.key)};else if(e instanceof _l)r={update:LR(t,e.key,e.data),updateMask:Zre(e.fieldMask)};else{if(!(e instanceof Sre))return it();r={verify:Gx(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(a,d){const f=d.transform;if(f instanceof Ww)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Om)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Rm)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof qw)return{fieldPath:d.field.canonicalString(),increment:f.gt};throw it()}(0,o))),e.precondition.isNone||(r.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:zre(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:it()}(t,e.precondition)),r}function Ure(t,e){return t&&t.length>0?(bn(e!==void 0),t.map(r=>function(o,a){let d=o.updateTime?Zs(o.updateTime):Zs(a);return d.isEqual(ct.min())&&(d=Zs(a)),new Cre(d,o.transformResults||[])}(r,e))):[]}function Hre(t,e){return{documents:[Yx(t,e.path)]}}function Wre(t,e){const r={structuredQuery:{}},o=e.path;e.collectionGroup!==null?(r.parent=Yx(t,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=Yx(t,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function(m){if(m.length!==0)return xF(rs.create(m,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const d=function(m){if(m.length!==0)return m.map(v=>function(A){return{field:Ch(A.field),direction:Yre(A.dir)}}(v))}(e.orderBy);d&&(r.structuredQuery.orderBy=d);const f=qx(t,e.limit);var k;return f!==null&&(r.structuredQuery.limit=f),e.startAt&&(r.structuredQuery.startAt={before:(k=e.startAt).inclusive,values:k.position}),e.endAt&&(r.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),r}function qre(t){let e=Fre(t.parent);const r=t.structuredQuery,o=r.from?r.from.length:0;let a=null;if(o>0){bn(o===1);const A=r.from[0];A.allDescendants?a=A.collectionId:e=e.child(A.collectionId)}let d=[];r.where&&(d=function(A){const x=CF(A);return x instanceof rs&&J6(x)?x.getFilters():[x]}(r.where));let f=[];r.orderBy&&(f=r.orderBy.map(A=>function(x){return new Yg(xh(x.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(A)));let k=null;r.limit&&(k=function(A){let x;return x=typeof A=="object"?A.value:A,qv(x)?null:x}(r.limit));let m=null;r.startAt&&(m=function(A){const x=!!A.before,_=A.values||[];return new Hw(_,x)}(r.startAt));let v=null;return r.endAt&&(v=function(A){const x=!A.before,_=A.values||[];return new Hw(_,x)}(r.endAt)),hre(e,a,f,d,k,"F",m,v)}function Gre(t,e){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function CF(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=xh(e.unaryFilter.field);return er.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=xh(e.unaryFilter.field);return er.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=xh(e.unaryFilter.field);return er.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=xh(e.unaryFilter.field);return er.create(d,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(t):t.fieldFilter!==void 0?function(e){return er.create(xh(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return rs.create(e.compositeFilter.filters.map(r=>CF(r)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return it()}}(e.compositeFilter.op))}(t):it()}function Yre(t){return Rre[t]}function Kre(t){return Lre[t]}function Qre(t){return Bre[t]}function Ch(t){return{fieldPath:t.canonicalString()}}function xh(t){return Wr.fromServerFormat(t.fieldPath)}function xF(t){return t instanceof er?function(e){if(e.op==="=="){if(_R(e.value))return{unaryFilter:{field:Ch(e.field),op:"IS_NAN"}};if(yR(e.value))return{unaryFilter:{field:Ch(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(_R(e.value))return{unaryFilter:{field:Ch(e.field),op:"IS_NOT_NAN"}};if(yR(e.value))return{unaryFilter:{field:Ch(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ch(e.field),op:Kre(e.op),value:e.value}}}(t):t instanceof rs?function(e){const r=e.getFilters().map(o=>xF(o));return r.length===1?r[0]:{compositeFilter:{op:Qre(e.op),filters:r}}}(t):it()}function Zre(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function EF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,r,o,a,d=ct.min(),f=ct.min(),k=Zr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=k,this.expectedCount=m}withSequenceNumber(e){return new Hc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Hc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jre{constructor(e){this.fe=e}}function Xre(t){const e=qre({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eie{constructor(){this.rn=new tie}addToCollectionParentIndex(e,r){return this.rn.add(r),Ce.resolve()}getCollectionParents(e,r){return Ce.resolve(this.rn.getEntries(r))}addFieldIndex(e,r){return Ce.resolve()}deleteFieldIndex(e,r){return Ce.resolve()}getDocumentsMatchingTarget(e,r){return Ce.resolve(null)}getIndexType(e,r){return Ce.resolve(0)}getFieldIndexes(e,r){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,r){return Ce.resolve(dl.min())}getMinOffsetFromCollectionGroup(e,r){return Ce.resolve(dl.min())}updateCollectionGroup(e,r,o){return Ce.resolve()}updateIndexEntries(e,r){return Ce.resolve()}}class tie{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),a=this.index[r]||new Yr(mn.comparator),d=!a.has(o);return this.index[r]=a.add(o),d}has(e){const r=e.lastSegment(),o=e.popLast(),a=this.index[r];return a&&a.has(o)}getEntries(e){return(this.index[e]||new Yr(mn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new yf(0)}static Mn(){return new yf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nie{constructor(){this.changes=new Ff(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ua.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?Ce.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rie{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iie{constructor(e,r,o,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(o!==null&&Qg(o.mutation,a,Vi.empty(),lr.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,vt()).next(()=>o))}getLocalViewOfDocuments(e,r,o=vt()){const a=Su();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,o).next(d=>{let f=Mg();return d.forEach((k,m)=>{f=f.insert(k,m.overlayedDocument)}),f}))}getOverlayedDocuments(e,r){const o=Su();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,vt()))}populateOverlays(e,r,o){const a=[];return o.forEach(d=>{r.has(d)||a.push(d)}),this.documentOverlayCache.getOverlays(e,a).next(d=>{d.forEach((f,k)=>{r.set(f,k)})})}computeViews(e,r,o,a){let d=Wa();const f=Kg(),k=Kg();return r.forEach((m,v)=>{const A=o.get(v.key);a.has(v.key)&&(A===void 0||A.mutation instanceof _l)?d=d.insert(v.key,v):A!==void 0?(f.set(v.key,A.mutation.getFieldMask()),Qg(A.mutation,v,A.mutation.getFieldMask(),lr.now())):f.set(v.key,Vi.empty())}),this.recalculateAndSaveOverlays(e,d).next(m=>(m.forEach((v,A)=>f.set(v,A)),r.forEach((v,A)=>{var x;return k.set(v,new rie(A,(x=f.get(v))!==null&&x!==void 0?x:null))}),k))}recalculateAndSaveOverlays(e,r){const o=Kg();let a=new Dn((f,k)=>f-k),d=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(f=>{for(const k of f)k.keys().forEach(m=>{const v=r.get(m);if(v===null)return;let A=o.get(m)||Vi.empty();A=k.applyToLocalView(v,A),o.set(m,A);const x=(a.get(k.batchId)||vt()).add(m);a=a.insert(k.batchId,x)})}).next(()=>{const f=[],k=a.getReverseIterator();for(;k.hasNext();){const m=k.getNext(),v=m.key,A=m.value,x=lF();A.forEach(_=>{if(!d.has(_)){const T=mF(r.get(_),o.get(_));T!==null&&x.set(_,T),d=d.add(_)}}),f.push(this.documentOverlayCache.saveOverlays(e,v,x))}return Ce.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o){return function(a){return Ke.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):iF(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o):this.getDocumentsMatchingCollectionQuery(e,r,o)}getNextDocuments(e,r,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,a).next(d=>{const f=a-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,a-d.size):Ce.resolve(Su());let k=-1,m=d;return f.next(v=>Ce.forEach(v,(A,x)=>(k<x.largestBatchId&&(k=x.largestBatchId),d.get(A)?Ce.resolve():this.remoteDocumentCache.getEntry(e,A).next(_=>{m=m.insert(A,_)}))).next(()=>this.populateOverlays(e,v,d)).next(()=>this.computeViews(e,m,v,vt())).next(A=>({batchId:k,changes:cF(A)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ke(r)).next(o=>{let a=Mg();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,o){const a=r.collectionGroup;let d=Mg();return this.indexManager.getCollectionParents(e,a).next(f=>Ce.forEach(f,k=>{const m=function(v,A){return new bk(A,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(r,k.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,o).next(v=>{v.forEach((A,x)=>{d=d.insert(A,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(d=>(a=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,a))).next(d=>{a.forEach((k,m)=>{const v=m.getKey();d.get(v)===null&&(d=d.insert(v,Ua.newInvalidDocument(v)))});let f=Mg();return d.forEach((k,m)=>{const v=a.get(k);v!==void 0&&Qg(v.mutation,m,Vi.empty(),lr.now()),Yv(r,m)&&(f=f.insert(k,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oie{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,r){return Ce.resolve(this.cs.get(r))}saveBundleMetadata(e,r){var o;return this.cs.set(r.id,{id:(o=r).id,version:o.version,createTime:Zs(o.createTime)}),Ce.resolve()}getNamedQuery(e,r){return Ce.resolve(this.hs.get(r))}saveNamedQuery(e,r){return this.hs.set(r.name,function(o){return{name:o.name,query:Xre(o.bundledQuery),readTime:Zs(o.readTime)}}(r)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sie{constructor(){this.overlays=new Dn(Ke.comparator),this.ls=new Map}getOverlay(e,r){return Ce.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Su();return Ce.forEach(r,a=>this.getOverlay(e,a).next(d=>{d!==null&&o.set(a,d)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((a,d)=>{this.we(e,r,d)}),Ce.resolve()}removeOverlaysForBatchId(e,r,o){const a=this.ls.get(o);return a!==void 0&&(a.forEach(d=>this.overlays=this.overlays.remove(d)),this.ls.delete(o)),Ce.resolve()}getOverlaysForCollection(e,r,o){const a=Su(),d=r.length+1,f=new Ke(r.child("")),k=this.overlays.getIteratorFrom(f);for(;k.hasNext();){const m=k.getNext().value,v=m.getKey();if(!r.isPrefixOf(v.path))break;v.path.length===d&&m.largestBatchId>o&&a.set(m.getKey(),m)}return Ce.resolve(a)}getOverlaysForCollectionGroup(e,r,o,a){let d=new Dn((v,A)=>v-A);const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===r&&v.largestBatchId>o){let A=d.get(v.largestBatchId);A===null&&(A=Su(),d=d.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const k=Su(),m=d.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,A)=>k.set(v,A)),!(k.size()>=a)););return Ce.resolve(k)}we(e,r,o){const a=this.overlays.get(o.key);if(a!==null){const f=this.ls.get(a.largestBatchId).delete(o.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Dre(r,o));let d=this.ls.get(r);d===void 0&&(d=vt(),this.ls.set(r,d)),this.ls.set(r,d.add(o.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.fs=new Yr(gr.ds),this.ws=new Yr(gr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,r){const o=new gr(e,r);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.ys(new gr(e,r))}ps(e,r){e.forEach(o=>this.removeReference(o,r))}Is(e){const r=new Ke(new mn([])),o=new gr(r,e),a=new gr(r,e+1),d=[];return this.ws.forEachInRange([o,a],f=>{this.ys(f),d.push(f.key)}),d}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const r=new Ke(new mn([])),o=new gr(r,e),a=new gr(r,e+1);let d=vt();return this.ws.forEachInRange([o,a],f=>{d=d.add(f.key)}),d}containsKey(e){const r=new gr(e,0),o=this.fs.firstAfterOrEqual(r);return o!==null&&e.isEqual(o.key)}}class gr{constructor(e,r){this.key=e,this.As=r}static ds(e,r){return Ke.comparator(e.key,r.key)||zt(e.As,r.As)}static _s(e,r){return zt(e.As,r.As)||Ke.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aie{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.vs=1,this.Rs=new Yr(gr.ds)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,o,a){const d=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Tre(d,r,o,a);this.mutationQueue.push(f);for(const k of a)this.Rs=this.Rs.add(new gr(k.key,d)),this.indexManager.addToCollectionParentIndex(e,k.key.path.popLast());return Ce.resolve(f)}lookupMutationBatch(e,r){return Ce.resolve(this.Ps(r))}getNextMutationBatchAfterBatchId(e,r){const o=r+1,a=this.bs(o),d=a<0?0:a;return Ce.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new gr(r,0),a=new gr(r,Number.POSITIVE_INFINITY),d=[];return this.Rs.forEachInRange([o,a],f=>{const k=this.Ps(f.As);d.push(k)}),Ce.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Yr(zt);return r.forEach(a=>{const d=new gr(a,0),f=new gr(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([d,f],k=>{o=o.add(k.As)})}),Ce.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,a=o.length+1;let d=o;Ke.isDocumentKey(d)||(d=d.child(""));const f=new gr(new Ke(d),0);let k=new Yr(zt);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!o.isPrefixOf(v)&&(v.length===a&&(k=k.add(m.As)),!0)},f),Ce.resolve(this.Vs(k))}Vs(e){const r=[];return e.forEach(o=>{const a=this.Ps(o);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){bn(this.Ss(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.Rs;return Ce.forEach(r.mutations,a=>{const d=new gr(a.key,r.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,r){const o=new gr(r,0),a=this.Rs.firstAfterOrEqual(o);return Ce.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}Ss(e,r){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const r=this.bs(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cie{constructor(e){this.Ds=e,this.docs=new Dn(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,a=this.docs.get(o),d=a?a.size:0,f=this.Ds(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:f}),this.size+=f-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return Ce.resolve(o?o.document.mutableCopy():Ua.newInvalidDocument(r))}getEntries(e,r){let o=Wa();return r.forEach(a=>{const d=this.docs.get(a);o=o.insert(a,d?d.document.mutableCopy():Ua.newInvalidDocument(a))}),Ce.resolve(o)}getDocumentsMatchingQuery(e,r,o,a){let d=Wa();const f=r.path,k=new Ke(f.child("")),m=this.docs.getIteratorFrom(k);for(;m.hasNext();){const{key:v,value:{document:A}}=m.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||Kne(Yne(A),o)<=0||(a.has(A.key)||Yv(r,A))&&(d=d.insert(A.key,A.mutableCopy()))}return Ce.resolve(d)}getAllFromCollectionGroup(e,r,o,a){it()}Cs(e,r){return Ce.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new lie(this)}getSize(e){return Ce.resolve(this.size)}}class lie extends nie{constructor(e){super(),this.os=e}applyChanges(e){const r=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?r.push(this.os.addEntry(e,a)):this.os.removeEntry(o)}),Ce.waitFor(r)}getFromCache(e,r){return this.os.getEntry(e,r)}getAllFromCache(e,r){return this.os.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{constructor(e){this.persistence=e,this.xs=new Ff(r=>u2(r),d2),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.Ns=0,this.ks=new b2,this.targetCount=0,this.Ms=yf.kn()}forEachTarget(e,r){return this.xs.forEach((o,a)=>r(a)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Ns&&(this.Ns=r),Ce.resolve()}Fn(e){this.xs.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Ms=new yf(r),this.highestTargetId=r),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,r){return this.Fn(r),this.targetCount+=1,Ce.resolve()}updateTargetData(e,r){return this.Fn(r),Ce.resolve()}removeTargetData(e,r){return this.xs.delete(r.target),this.ks.Is(r.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,r,o){let a=0;const d=[];return this.xs.forEach((f,k)=>{k.sequenceNumber<=r&&o.get(k.targetId)===null&&(this.xs.delete(f),d.push(this.removeMatchingKeysForTargetId(e,k.targetId)),a++)}),Ce.waitFor(d).next(()=>a)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,r){const o=this.xs.get(r)||null;return Ce.resolve(o)}addMatchingKeys(e,r,o){return this.ks.gs(r,o),Ce.resolve()}removeMatchingKeys(e,r,o){this.ks.ps(r,o);const a=this.persistence.referenceDelegate,d=[];return a&&r.forEach(f=>{d.push(a.markPotentiallyOrphaned(e,f))}),Ce.waitFor(d)}removeMatchingKeysForTargetId(e,r){return this.ks.Is(r),Ce.resolve()}getMatchingKeysForTargetId(e,r){const o=this.ks.Es(r);return Ce.resolve(o)}containsKey(e,r){return Ce.resolve(this.ks.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class die{constructor(e,r){this.$s={},this.overlays={},this.Os=new s2(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new uie(this),this.indexManager=new eie,this.remoteDocumentCache=function(o){return new cie(o)}(o=>this.referenceDelegate.Ls(o)),this.serializer=new Jre(r),this.qs=new oie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new sie,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.$s[e.toKey()];return o||(o=new aie(r,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,r,o){We("MemoryPersistence","Starting transaction:",e);const a=new hie(this.Os.next());return this.referenceDelegate.Us(),o(a).next(d=>this.referenceDelegate.Ks(a).next(()=>d)).toPromise().then(d=>(a.raiseOnCommittedEvent(),d))}Gs(e,r){return Ce.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,r)))}}class hie extends Zne{constructor(e){super(),this.currentSequenceNumber=e}}class w2{constructor(e){this.persistence=e,this.Qs=new b2,this.js=null}static zs(e){return new w2(e)}get Ws(){if(this.js)return this.js;throw it()}addReference(e,r,o){return this.Qs.addReference(o,r),this.Ws.delete(o.toString()),Ce.resolve()}removeReference(e,r,o){return this.Qs.removeReference(o,r),this.Ws.add(o.toString()),Ce.resolve()}markPotentiallyOrphaned(e,r){return this.Ws.add(r.toString()),Ce.resolve()}removeTarget(e,r){this.Qs.Is(r.targetId).forEach(a=>this.Ws.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(d=>this.Ws.add(d.toString()))}).next(()=>o.removeTargetData(e,r))}Us(){this.js=new Set}Ks(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Ws,o=>{const a=Ke.fromPath(o);return this.Hs(e,a).next(d=>{d||r.removeEntry(a,ct.min())})}).next(()=>(this.js=null,r.apply(e)))}updateLimboDocument(e,r){return this.Hs(e,r).next(o=>{o?this.Ws.delete(r.toString()):this.Ws.add(r.toString())})}Ls(e){return 0}Hs(e,r){return Ce.or([()=>Ce.resolve(this.Qs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gs(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,r,o,a){this.targetId=e,this.fromCache=r,this.Fi=o,this.Bi=a}static Li(e,r){let o=vt(),a=vt();for(const d of r.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:a=a.add(d.doc.key)}return new v2(e,r.fromCache,o,a)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fie{constructor(){this.qi=!1}initialize(e,r){this.Ui=e,this.indexManager=r,this.qi=!0}getDocumentsMatchingQuery(e,r,o,a){return this.Ki(e,r).next(d=>d||this.Gi(e,r,a,o)).next(d=>d||this.Qi(e,r))}Ki(e,r){if(ER(r))return Ce.resolve(null);let o=Ha(r);return this.indexManager.getIndexType(e,o).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=Hx(r,null,"F"),o=Ha(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const f=vt(...d);return this.Ui.getDocuments(e,f).next(k=>this.indexManager.getMinOffset(e,o).next(m=>{const v=this.ji(r,k);return this.zi(r,v,f,m.readTime)?this.Ki(e,Hx(r,null,"F")):this.Wi(e,v,r,m)}))})))}Gi(e,r,o,a){return ER(r)||a.isEqual(ct.min())?this.Qi(e,r):this.Ui.getDocuments(e,o).next(d=>{const f=this.ji(r,d);return this.zi(r,f,o,a)?this.Qi(e,r):(mR()<=Rt.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Wx(r)),this.Wi(e,f,r,Gne(a,-1)))})}ji(e,r){let o=new Yr(sF(e));return r.forEach((a,d)=>{Yv(e,d)&&(o=o.add(d))}),o}zi(e,r,o,a){if(e.limit===null)return!1;if(o.size!==r.size)return!0;const d=e.limitType==="F"?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(a)>0)}Qi(e,r){return mR()<=Rt.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",Wx(r)),this.Ui.getDocumentsMatchingQuery(e,r,dl.min())}Wi(e,r,o,a){return this.Ui.getDocumentsMatchingQuery(e,o,a).next(d=>(r.forEach(f=>{d=d.insert(f.key,f)}),d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pie{constructor(e,r,o,a){this.persistence=e,this.Hi=r,this.serializer=a,this.Ji=new Dn(zt),this.Yi=new Ff(d=>u2(d),d2),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iie(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ji))}}function gie(t,e,r,o){return new pie(t,e,r,o)}async function SF(t,e){const r=dt(t);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let a;return r.mutationQueue.getAllMutationBatches(o).next(d=>(a=d,r.tr(e),r.mutationQueue.getAllMutationBatches(o))).next(d=>{const f=[],k=[];let m=vt();for(const v of a){f.push(v.batchId);for(const A of v.mutations)m=m.add(A.key)}for(const v of d){k.push(v.batchId);for(const A of v.mutations)m=m.add(A.key)}return r.localDocuments.getDocuments(o,m).next(v=>({er:v,removedBatchIds:f,addedBatchIds:k}))})})}function mie(t,e){const r=dt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),d=r.Zi.newChangeBuffer({trackRemovals:!0});return function(f,k,m,v){const A=m.batch,x=A.keys();let _=Ce.resolve();return x.forEach(T=>{_=_.next(()=>v.getEntry(k,T)).next(D=>{const M=m.docVersions.get(T);bn(M!==null),D.version.compareTo(M)<0&&(A.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),v.addEntry(D)))})}),_.next(()=>f.mutationQueue.removeMutationBatch(k,A))}(r,o,e,d).next(()=>d.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let k=vt();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(k=k.add(f.batch.mutations[m].key));return k}(e))).next(()=>r.localDocuments.getDocuments(o,a))})}function TF(t){const e=dt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Bs.getLastRemoteSnapshotVersion(r))}function kie(t,e){const r=dt(t),o=e.snapshotVersion;let a=r.Ji;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const f=r.Zi.newChangeBuffer({trackRemovals:!0});a=r.Ji;const k=[];e.targetChanges.forEach((A,x)=>{const _=a.get(x);if(!_)return;k.push(r.Bs.removeMatchingKeys(d,A.removedDocuments,x).next(()=>r.Bs.addMatchingKeys(d,A.addedDocuments,x)));let T=_.withSequenceNumber(d.currentSequenceNumber);e.targetMismatches.get(x)!==null?T=T.withResumeToken(Zr.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):A.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(A.resumeToken,o)),a=a.insert(x,T),function(D,M,B){return D.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(_,T,A)&&k.push(r.Bs.updateTargetData(d,T))});let m=Wa(),v=vt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&k.push(r.persistence.referenceDelegate.updateLimboDocument(d,A))}),k.push(bie(d,f,e.documentUpdates).next(A=>{m=A.nr,v=A.sr})),!o.isEqual(ct.min())){const A=r.Bs.getLastRemoteSnapshotVersion(d).next(x=>r.Bs.setTargetsMetadata(d,d.currentSequenceNumber,o));k.push(A)}return Ce.waitFor(k).next(()=>f.apply(d)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,m,v)).next(()=>m)}).then(d=>(r.Ji=a,d))}function bie(t,e,r){let o=vt(),a=vt();return r.forEach(d=>o=o.add(d)),e.getEntries(t,o).next(d=>{let f=Wa();return r.forEach((k,m)=>{const v=d.get(k);m.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(k)),m.isNoDocument()&&m.version.isEqual(ct.min())?(e.removeEntry(k,m.readTime),f=f.insert(k,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),f=f.insert(k,m)):We("LocalStore","Ignoring outdated watch update for ",k,". Current version:",v.version," Watch version:",m.version)}),{nr:f,sr:a}})}function wie(t,e){const r=dt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function vie(t,e){const r=dt(t);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return r.Bs.getTargetData(o,e).next(d=>d?(a=d,Ce.resolve(a)):r.Bs.allocateTargetId(o).next(f=>(a=new Hc(e,f,"TargetPurposeListen",o.currentSequenceNumber),r.Bs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=r.Ji.get(o.targetId);return(a===null||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ji=r.Ji.insert(o.targetId,o),r.Yi.set(e,o.targetId)),o})}async function Qx(t,e,r){const o=dt(t),a=o.Ji.get(e),d=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",d,f=>o.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!kk(f))throw f;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(a.target)}function BR(t,e,r){const o=dt(t);let a=ct.min(),d=vt();return o.persistence.runTransaction("Execute query","readonly",f=>function(k,m,v){const A=dt(k),x=A.Yi.get(v);return x!==void 0?Ce.resolve(A.Ji.get(x)):A.Bs.getTargetData(m,v)}(o,f,Ha(e)).next(k=>{if(k)return a=k.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,k.targetId).next(m=>{d=m})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,r?a:ct.min(),r?d:vt())).next(k=>(yie(o,fre(e),k),{documents:k,ir:d})))}function yie(t,e,r){let o=t.Xi.get(e)||ct.min();r.forEach((a,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),t.Xi.set(e,o)}class jR{constructor(){this.activeTargetIds=wre()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _ie{constructor(){this.Hr=new jR,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,r,o){this.Jr[e]=r}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new jR,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aie{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _0=null;function YC(){return _0===null?_0=268435456+Math.round(2147483648*Math.random()):_0++,"0x"+_0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xie{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="WebChannelConnection";class Eie extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http";this.mo=r+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,r,o,a,d){const f=YC(),k=this.To(e,r);We("RestConnection",`Sending RPC '${e}' ${f}:`,k,o);const m={};return this.Eo(m,a,d),this.Ao(e,k,m,o).then(v=>(We("RestConnection",`Received RPC '${e}' ${f}: `,v),v),v=>{throw kf("RestConnection",`RPC '${e}' ${f} failed with error: `,v,"url: ",k,"request:",o),v})}vo(e,r,o,a,d,f){return this.Io(e,r,o,a,d)}Eo(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+zf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,d)=>e[d]=a),o&&o.headers.forEach((a,d)=>e[d]=a)}To(e,r){const o=Cie[e];return`${this.mo}/v1/${r}:${o}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,r,o,a){const d=YC();return new Promise((f,k)=>{const m=new Lne;m.setWithCredentials(!0),m.listenOnce(Pne.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case qC.NO_ERROR:const A=m.getResponseJson();We(Fr,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),f(A);break;case qC.TIMEOUT:We(Fr,`RPC '${e}' ${d} timed out`),k(new Fe(me.DEADLINE_EXCEEDED,"Request time out"));break;case qC.HTTP_ERROR:const x=m.getStatus();if(We(Fr,`RPC '${e}' ${d} failed with status:`,x,"response text:",m.getResponseText()),x>0){let _=m.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const D=function(M){const B=M.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(B)>=0?B:me.UNKNOWN}(T.status);k(new Fe(D,T.message))}else k(new Fe(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else k(new Fe(me.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{We(Fr,`RPC '${e}' ${d} completed.`)}});const v=JSON.stringify(a);We(Fr,`RPC '${e}' ${d} sending request:`,a),m.send(r,"POST",v,o,15)})}Ro(e,r,o){const a=YC(),d=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Mne(),k=Nne(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new Rne({})),this.Eo(m.initMessageHeaders,r,o),m.encodeInitMessageHeaders=!0;const A=d.join("");We(Fr,`Creating RPC '${e}' stream ${a}: ${A}`,m);const x=f.createWebChannel(A,m);let _=!1,T=!1;const D=new xie({ro:B=>{T?We(Fr,`Not sending because RPC '${e}' stream ${a} is closed:`,B):(_||(We(Fr,`Opening RPC '${e}' stream ${a} transport.`),x.open(),_=!0),We(Fr,`RPC '${e}' stream ${a} sending:`,B),x.send(B))},oo:()=>x.close()}),M=(B,O,L)=>{B.listen(O,z=>{try{L(z)}catch(Y){setTimeout(()=>{throw Y},0)}})};return M(x,b0.EventType.OPEN,()=>{T||We(Fr,`RPC '${e}' stream ${a} transport opened.`)}),M(x,b0.EventType.CLOSE,()=>{T||(T=!0,We(Fr,`RPC '${e}' stream ${a} transport closed`),D.wo())}),M(x,b0.EventType.ERROR,B=>{T||(T=!0,kf(Fr,`RPC '${e}' stream ${a} transport errored:`,B),D.wo(new Fe(me.UNAVAILABLE,"The operation could not be completed")))}),M(x,b0.EventType.MESSAGE,B=>{var O;if(!T){const L=B.data[0];bn(!!L);const z=L,Y=z.error||((O=z[0])===null||O===void 0?void 0:O.error);if(Y){We(Fr,`RPC '${e}' stream ${a} received error:`,Y);const X=Y.status;let ne=function(V){const se=Qn[V];if(se!==void 0)return bF(se)}(X),Z=Y.message;ne===void 0&&(ne=me.INTERNAL,Z="Unknown error status: "+X+" with message "+Y.message),T=!0,D.wo(new Fe(ne,Z)),x.close()}else We(Fr,`RPC '${e}' stream ${a} received:`,L),D._o(L)}}),M(k,One.STAT_EVENT,B=>{B.stat===pR.PROXY?We(Fr,`RPC '${e}' stream ${a} detected buffering proxy`):B.stat===pR.NOPROXY&&We(Fr,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{D.fo()},0),D}}function KC(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t){return new jre(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,r,o=1e3,a=1.5,d=6e4){this.ii=e,this.timerId=r,this.Po=o,this.bo=a,this.Vo=d,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const r=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),a=Math.max(0,r-o);a>0&&We("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,r,o,a,d,f,k,m){this.ii=e,this.$o=o,this.Oo=a,this.connection=d,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=k,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new DF(e,r)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,r){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():r&&r.code===me.RESOURCE_EXHAUSTED?(Va(r.toString()),Va("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):r&&r.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(r)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),r=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Fo===r&&this.Zo(o,a)},o=>{e(()=>{const a=new Fe(me.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(a)})})}Zo(e,r){const o=this.Xo(this.Fo);this.stream=this.eu(e,r),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{o(()=>this.tu(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return r=>{this.ii.enqueueAndForget(()=>this.Fo===e?r():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sie extends IF{constructor(e,r,o,a,d,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,a,f),this.serializer=d}eu(e,r){return this.connection.Ro("Listen",e,r)}onMessage(e){this.qo.reset();const r=$re(this.serializer,e),o=function(a){if(!("targetChange"in a))return ct.min();const d=a.targetChange;return d.targetIds&&d.targetIds.length?ct.min():d.readTime?Zs(d.readTime):ct.min()}(e);return this.listener.nu(r,o)}su(e){const r={};r.database=Kx(this.serializer),r.addTarget=function(a,d){let f;const k=d.target;if(f=Vx(k)?{documents:Hre(a,k)}:{query:Wre(a,k)},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=yF(a,d.resumeToken);const m=qx(a,d.expectedCount);m!==null&&(f.expectedCount=m)}else if(d.snapshotVersion.compareTo(ct.min())>0){f.readTime=Gw(a,d.snapshotVersion.toTimestamp());const m=qx(a,d.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const o=Gre(this.serializer,e);o&&(r.labels=o),this.Wo(r)}iu(e){const r={};r.database=Kx(this.serializer),r.removeTarget=e,this.Wo(r)}}class Tie extends IF{constructor(e,r,o,a,d,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,a,f),this.serializer=d,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,r){return this.connection.Ro("Write",e,r)}onMessage(e){if(bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const r=Ure(e.writeResults,e.commitTime),o=Zs(e.commitTime);return this.listener.cu(o,r)}return bn(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Kx(this.serializer),this.Wo(e)}uu(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Vre(this.serializer,o))};this.Wo(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Die extends class{}{constructor(e,r,o,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.connection.Io(e,r,o,a,d)).catch(a=>{throw a.name==="FirebaseError"?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Fe(me.UNKNOWN,a.toString())})}vo(e,r,o,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.vo(e,r,o,d,f,a)).catch(d=>{throw d.name==="FirebaseError"?(d.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Fe(me.UNKNOWN,d.toString())})}terminate(){this.lu=!0}}class Iie{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Va(r),this.mu=!1):We("OnlineStateTracker",r)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mie{constructor(e,r,o,a,d){this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=d,this.Pu.Yr(f=>{o.enqueueAndForget(async()=>{td(this)&&(We("RemoteStore","Restarting streams for network reachability change."),await async function(k){const m=dt(k);m.vu.add(4),await yk(m),m.bu.set("Unknown"),m.vu.delete(4),await Xv(m)}(this))})}),this.bu=new Iie(o,a)}}async function Xv(t){if(td(t))for(const e of t.Ru)await e(!0)}async function yk(t){for(const e of t.Ru)await e(!1)}function MF(t,e){const r=dt(t);r.Au.has(e.targetId)||(r.Au.set(e.targetId,e),A2(r)?_2(r):$f(r).Ko()&&y2(r,e))}function NF(t,e){const r=dt(t),o=$f(r);r.Au.delete(e),o.Ko()&&PF(r,e),r.Au.size===0&&(o.Ko()?o.jo():td(r)&&r.bu.set("Unknown"))}function y2(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ct.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}$f(t).su(e)}function PF(t,e){t.Vu.qt(e),$f(t).iu(e)}function _2(t){t.Vu=new Ore({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),$f(t).start(),t.bu.gu()}function A2(t){return td(t)&&!$f(t).Uo()&&t.Au.size>0}function td(t){return dt(t).vu.size===0}function OF(t){t.Vu=void 0}async function Nie(t){t.Au.forEach((e,r)=>{y2(t,e)})}async function Pie(t,e){OF(t),A2(t)?(t.bu.Iu(e),_2(t)):t.bu.set("Unknown")}async function Oie(t,e,r){if(t.bu.set("Online"),e instanceof vF&&e.state===2&&e.cause)try{await async function(o,a){const d=a.cause;for(const f of a.targetIds)o.Au.has(f)&&(await o.remoteSyncer.rejectListen(f,d),o.Au.delete(f),o.Vu.removeTarget(f))}(t,e)}catch(o){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Yw(t,o)}else if(e instanceof q0?t.Vu.Ht(e):e instanceof wF?t.Vu.ne(e):t.Vu.Xt(e),!r.isEqual(ct.min()))try{const o=await TF(t.localStore);r.compareTo(o)>=0&&await function(a,d){const f=a.Vu.ce(d);return f.targetChanges.forEach((k,m)=>{if(k.resumeToken.approximateByteSize()>0){const v=a.Au.get(m);v&&a.Au.set(m,v.withResumeToken(k.resumeToken,d))}}),f.targetMismatches.forEach((k,m)=>{const v=a.Au.get(k);if(!v)return;a.Au.set(k,v.withResumeToken(Zr.EMPTY_BYTE_STRING,v.snapshotVersion)),PF(a,k);const A=new Hc(v.target,k,m,v.sequenceNumber);y2(a,A)}),a.remoteSyncer.applyRemoteEvent(f)}(t,r)}catch(o){We("RemoteStore","Failed to raise snapshot:",o),await Yw(t,o)}}async function Yw(t,e,r){if(!kk(e))throw e;t.vu.add(1),await yk(t),t.bu.set("Offline"),r||(r=()=>TF(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{We("RemoteStore","Retrying IndexedDB access"),await r(),t.vu.delete(1),await Xv(t)})}function RF(t,e){return e().catch(r=>Yw(t,r,e))}async function ey(t){const e=dt(t),r=fl(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Rie(e);)try{const a=await wie(e.localStore,o);if(a===null){e.Eu.length===0&&r.jo();break}o=a.batchId,Lie(e,a)}catch(a){await Yw(e,a)}LF(e)&&BF(e)}function Rie(t){return td(t)&&t.Eu.length<10}function Lie(t,e){t.Eu.push(e);const r=fl(t);r.Ko()&&r.ou&&r.uu(e.mutations)}function LF(t){return td(t)&&!fl(t).Uo()&&t.Eu.length>0}function BF(t){fl(t).start()}async function Bie(t){fl(t).hu()}async function jie(t){const e=fl(t);for(const r of t.Eu)e.uu(r.mutations)}async function zie(t,e,r){const o=t.Eu.shift(),a=p2.from(o,e,r);await RF(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await ey(t)}async function Fie(t,e){e&&fl(t).ou&&await async function(r,o){if(a=o.code,Mre(a)&&a!==me.ABORTED){const d=r.Eu.shift();fl(r).Qo(),await RF(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),await ey(r)}var a}(t,e),LF(t)&&BF(t)}async function FR(t,e){const r=dt(t);r.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const o=td(r);r.vu.add(3),await yk(r),o&&r.bu.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.vu.delete(3),await Xv(r)}async function $ie(t,e){const r=dt(t);e?(r.vu.delete(2),await Xv(r)):e||(r.vu.add(2),await yk(r),r.bu.set("Unknown"))}function $f(t){return t.Su||(t.Su=function(e,r,o){const a=dt(e);return a.fu(),new Sie(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{uo:Nie.bind(null,t),ao:Pie.bind(null,t),nu:Oie.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),A2(t)?_2(t):t.bu.set("Unknown")):(await t.Su.stop(),OF(t))})),t.Su}function fl(t){return t.Du||(t.Du=function(e,r,o){const a=dt(e);return a.fu(),new Tie(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{uo:Bie.bind(null,t),ao:Fie.bind(null,t),au:jie.bind(null,t),cu:zie.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await ey(t)):(await t.Du.stop(),t.Eu.length>0&&(We("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,r,o,a,d){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=a,this.removalCallback=d,this.deferred=new rl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,r,o,a,d){const f=Date.now()+o,k=new C2(e,r,f,a,d);return k.start(o),k}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x2(t,e){if(Va("AsyncQueue",`${e}: ${t}`),kk(t))return new Fe(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Ke.comparator(r.key,o.key):(r,o)=>Ke.comparator(r.key,o.key),this.keyedMap=Mg(),this.sortedSet=new Dn(this.comparator)}static emptySet(e){return new Xh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Xh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,d=o.getNext().key;if(!a.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const o=new Xh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.Cu=new Dn(Ke.comparator)}track(e){const r=e.doc.key,o=this.Cu.get(r);o?e.type!==0&&o.type===3?this.Cu=this.Cu.insert(r,e):e.type===3&&o.type!==1?this.Cu=this.Cu.insert(r,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.Cu=this.Cu.insert(r,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.Cu=this.Cu.insert(r,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.Cu=this.Cu.remove(r):e.type===1&&o.type===2?this.Cu=this.Cu.insert(r,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.Cu=this.Cu.insert(r,{type:2,doc:e.doc}):it():this.Cu=this.Cu.insert(r,e)}xu(){const e=[];return this.Cu.inorderTraversal((r,o)=>{e.push(o)}),e}}class _f{constructor(e,r,o,a,d,f,k,m,v){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=d,this.fromCache=f,this.syncStateChanged=k,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,r,o,a,d){const f=[];return r.forEach(k=>{f.push({type:0,doc:k})}),new _f(e,r,Xh.emptySet(r),f,o,a,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==o[a].type||!r[a].doc.isEqual(o[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{constructor(){this.Nu=void 0,this.listeners=[]}}class Uie{constructor(){this.queries=new Ff(e=>oF(e),Gv),this.onlineState="Unknown",this.ku=new Set}}async function Hie(t,e){const r=dt(t),o=e.query;let a=!1,d=r.queries.get(o);if(d||(a=!0,d=new Vie),a)try{d.Nu=await r.onListen(o)}catch(f){const k=x2(f,`Initialization of query '${Wx(e.query)}' failed`);return void e.onError(k)}r.queries.set(o,d),d.listeners.push(e),e.Mu(r.onlineState),d.Nu&&e.$u(d.Nu)&&E2(r)}async function Wie(t,e){const r=dt(t),o=e.query;let a=!1;const d=r.queries.get(o);if(d){const f=d.listeners.indexOf(e);f>=0&&(d.listeners.splice(f,1),a=d.listeners.length===0)}if(a)return r.queries.delete(o),r.onUnlisten(o)}function qie(t,e){const r=dt(t);let o=!1;for(const a of e){const d=a.query,f=r.queries.get(d);if(f){for(const k of f.listeners)k.$u(a)&&(o=!0);f.Nu=a}}o&&E2(r)}function Gie(t,e,r){const o=dt(t),a=o.queries.get(e);if(a)for(const d of a.listeners)d.onError(r);o.queries.delete(e)}function E2(t){t.ku.forEach(e=>{e.next()})}class Yie{constructor(e,r,o){this.query=e,this.Ou=r,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)a.type!==3&&o.push(a);e=new _f(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),r=!0):this.qu(e,this.onlineState)&&(this.Uu(e),r=!0),this.Bu=e,r}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let r=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),r=!0),r}qu(e,r){if(!e.fromCache)return!0;const o=r!=="Offline";return(!this.options.Ku||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const r=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Uu(e){e=_f.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.key=e}}class zF{constructor(e){this.key=e}}class Kie{constructor(e,r){this.query=e,this.Yu=r,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=vt(),this.mutatedKeys=vt(),this.tc=sF(e),this.ec=new Xh(this.tc)}get nc(){return this.Yu}sc(e,r){const o=r?r.ic:new $R,a=r?r.ec:this.ec;let d=r?r.mutatedKeys:this.mutatedKeys,f=a,k=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((A,x)=>{const _=a.get(A),T=Yv(this.query,x)?x:null,D=!!_&&this.mutatedKeys.has(_.key),M=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let B=!1;_&&T?_.data.isEqual(T.data)?D!==M&&(o.track({type:3,doc:T}),B=!0):this.rc(_,T)||(o.track({type:2,doc:T}),B=!0,(m&&this.tc(T,m)>0||v&&this.tc(T,v)<0)&&(k=!0)):!_&&T?(o.track({type:0,doc:T}),B=!0):_&&!T&&(o.track({type:1,doc:_}),B=!0,(m||v)&&(k=!0)),B&&(T?(f=f.add(T),d=M?d.add(A):d.delete(A)):(f=f.delete(A),d=d.delete(A)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),d=d.delete(A.key),o.track({type:1,doc:A})}return{ec:f,ic:o,zi:k,mutatedKeys:d}}rc(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const d=e.ic.xu();d.sort((v,A)=>function(x,_){const T=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return T(x)-T(_)}(v.type,A.type)||this.tc(v.doc,A.doc)),this.oc(o);const f=r?this.uc():[],k=this.Zu.size===0&&this.current?1:0,m=k!==this.Xu;return this.Xu=k,d.length!==0||m?{snapshot:new _f(this.query,e.ec,a,d,e.mutatedKeys,k===0,m,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new $R,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(r=>this.Yu=this.Yu.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Yu=this.Yu.delete(r)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=vt(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const r=[];return e.forEach(o=>{this.Zu.has(o)||r.push(new zF(o))}),this.Zu.forEach(o=>{e.has(o)||r.push(new jF(o))}),r}hc(e){this.Yu=e.ir,this.Zu=vt();const r=this.sc(e.documents);return this.applyChanges(r,!0)}lc(){return _f.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class Qie{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class Zie{constructor(e){this.key=e,this.fc=!1}}class Jie{constructor(e,r,o,a,d,f){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=a,this.currentUser=d,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new Ff(k=>oF(k),Gv),this._c=new Map,this.mc=new Set,this.gc=new Dn(Ke.comparator),this.yc=new Map,this.Ic=new b2,this.Tc={},this.Ec=new Map,this.Ac=yf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function Xie(t,e){const r=loe(t);let o,a;const d=r.wc.get(e);if(d)o=d.targetId,r.sharedClientState.addLocalQueryTarget(o),a=d.view.lc();else{const f=await vie(r.localStore,Ha(e)),k=r.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,a=await eoe(r,e,o,k==="current",f.resumeToken),r.isPrimaryClient&&MF(r.remoteStore,f)}return a}async function eoe(t,e,r,o,a){t.Rc=(x,_,T)=>async function(D,M,B,O){let L=M.view.sc(B);L.zi&&(L=await BR(D.localStore,M.query,!1).then(({documents:X})=>M.view.sc(X,L)));const z=O&&O.targetChanges.get(M.targetId),Y=M.view.applyChanges(L,D.isPrimaryClient,z);return UR(D,M.targetId,Y.cc),Y.snapshot}(t,x,_,T);const d=await BR(t.localStore,e,!0),f=new Kie(e,d.ir),k=f.sc(d.documents),m=vk.createSynthesizedTargetChangeForCurrentChange(r,o&&t.onlineState!=="Offline",a),v=f.applyChanges(k,t.isPrimaryClient,m);UR(t,r,v.cc);const A=new Qie(e,r,f);return t.wc.set(e,A),t._c.has(r)?t._c.get(r).push(e):t._c.set(r,[e]),v.snapshot}async function toe(t,e){const r=dt(t),o=r.wc.get(e),a=r._c.get(o.targetId);if(a.length>1)return r._c.set(o.targetId,a.filter(d=>!Gv(d,e))),void r.wc.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Qx(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),NF(r.remoteStore,o.targetId),Zx(r,o.targetId)}).catch(mk)):(Zx(r,o.targetId),await Qx(r.localStore,o.targetId,!0))}async function noe(t,e,r){const o=uoe(t);try{const a=await function(d,f){const k=dt(d),m=lr.now(),v=f.reduce((_,T)=>_.add(T.key),vt());let A,x;return k.persistence.runTransaction("Locally write mutations","readwrite",_=>{let T=Wa(),D=vt();return k.Zi.getEntries(_,v).next(M=>{T=M,T.forEach((B,O)=>{O.isValidDocument()||(D=D.add(B))})}).next(()=>k.localDocuments.getOverlayedDocuments(_,T)).next(M=>{A=M;const B=[];for(const O of f){const L=Ere(O,A.get(O.key).overlayedDocument);L!=null&&B.push(new _l(O.key,L,K6(L.value.mapValue),Xo.exists(!0)))}return k.mutationQueue.addMutationBatch(_,m,B,f)}).next(M=>{x=M;const B=M.applyToLocalDocumentSet(A,D);return k.documentOverlayCache.saveOverlays(_,M.batchId,B)})}).then(()=>({batchId:x.batchId,changes:cF(A)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),function(d,f,k){let m=d.Tc[d.currentUser.toKey()];m||(m=new Dn(zt)),m=m.insert(f,k),d.Tc[d.currentUser.toKey()]=m}(o,a.batchId,r),await _k(o,a.changes),await ey(o.remoteStore)}catch(a){const d=x2(a,"Failed to persist write");r.reject(d)}}async function FF(t,e){const r=dt(t);try{const o=await kie(r.localStore,e);e.targetChanges.forEach((a,d)=>{const f=r.yc.get(d);f&&(bn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?bn(f.fc):a.removedDocuments.size>0&&(bn(f.fc),f.fc=!1))}),await _k(r,o,e)}catch(o){await mk(o)}}function VR(t,e,r){const o=dt(t);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const a=[];o.wc.forEach((d,f)=>{const k=f.view.Mu(e);k.snapshot&&a.push(k.snapshot)}),function(d,f){const k=dt(d);k.onlineState=f;let m=!1;k.queries.forEach((v,A)=>{for(const x of A.listeners)x.Mu(f)&&(m=!0)}),m&&E2(k)}(o.eventManager,e),a.length&&o.dc.nu(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function roe(t,e,r){const o=dt(t);o.sharedClientState.updateQueryState(e,"rejected",r);const a=o.yc.get(e),d=a&&a.key;if(d){let f=new Dn(Ke.comparator);f=f.insert(d,Ua.newNoDocument(d,ct.min()));const k=vt().add(d),m=new Zv(ct.min(),new Map,new Dn(zt),f,k);await FF(o,m),o.gc=o.gc.remove(d),o.yc.delete(e),S2(o)}else await Qx(o.localStore,e,!1).then(()=>Zx(o,e,r)).catch(mk)}async function ioe(t,e){const r=dt(t),o=e.batch.batchId;try{const a=await mie(r.localStore,e);VF(r,o,null),$F(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),await _k(r,a)}catch(a){await mk(a)}}async function ooe(t,e,r){const o=dt(t);try{const a=await function(d,f){const k=dt(d);return k.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return k.mutationQueue.lookupMutationBatch(m,f).next(A=>(bn(A!==null),v=A.keys(),k.mutationQueue.removeMutationBatch(m,A))).next(()=>k.mutationQueue.performConsistencyCheck(m)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>k.localDocuments.getDocuments(m,v))})}(o.localStore,e);VF(o,e,r),$F(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),await _k(o,a)}catch(a){await mk(a)}}function $F(t,e){(t.Ec.get(e)||[]).forEach(r=>{r.resolve()}),t.Ec.delete(e)}function VF(t,e,r){const o=dt(t);let a=o.Tc[o.currentUser.toKey()];if(a){const d=a.get(e);d&&(r?d.reject(r):d.resolve(),a=a.remove(e)),o.Tc[o.currentUser.toKey()]=a}}function Zx(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const o of t._c.get(e))t.wc.delete(o),r&&t.dc.Pc(o,r);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(o=>{t.Ic.containsKey(o)||UF(t,o)})}function UF(t,e){t.mc.delete(e.path.canonicalString());const r=t.gc.get(e);r!==null&&(NF(t.remoteStore,r),t.gc=t.gc.remove(e),t.yc.delete(r),S2(t))}function UR(t,e,r){for(const o of r)o instanceof jF?(t.Ic.addReference(o.key,e),soe(t,o)):o instanceof zF?(We("SyncEngine","Document no longer in limbo: "+o.key),t.Ic.removeReference(o.key,e),t.Ic.containsKey(o.key)||UF(t,o.key)):it()}function soe(t,e){const r=e.key,o=r.path.canonicalString();t.gc.get(r)||t.mc.has(o)||(We("SyncEngine","New document in limbo: "+r),t.mc.add(o),S2(t))}function S2(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const r=new Ke(mn.fromString(e)),o=t.Ac.next();t.yc.set(o,new Zie(r)),t.gc=t.gc.insert(r,o),MF(t.remoteStore,new Hc(Ha(nF(r.path)),o,"TargetPurposeLimboResolution",s2.ct))}}async function _k(t,e,r){const o=dt(t),a=[],d=[],f=[];o.wc.isEmpty()||(o.wc.forEach((k,m)=>{f.push(o.Rc(m,e,r).then(v=>{if((v||r)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(m.targetId,v!=null&&v.fromCache?"not-current":"current"),v){a.push(v);const A=v2.Li(m.targetId,v);d.push(A)}}))}),await Promise.all(f),o.dc.nu(a),await async function(k,m){const v=dt(k);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Ce.forEach(m,x=>Ce.forEach(x.Fi,_=>v.persistence.referenceDelegate.addReference(A,x.targetId,_)).next(()=>Ce.forEach(x.Bi,_=>v.persistence.referenceDelegate.removeReference(A,x.targetId,_)))))}catch(A){if(!kk(A))throw A;We("LocalStore","Failed to update sequence numbers: "+A)}for(const A of m){const x=A.targetId;if(!A.fromCache){const _=v.Ji.get(x),T=_.snapshotVersion,D=_.withLastLimboFreeSnapshotVersion(T);v.Ji=v.Ji.insert(x,D)}}}(o.localStore,d))}async function aoe(t,e){const r=dt(t);if(!r.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const o=await SF(r.localStore,e);r.currentUser=e,function(a,d){a.Ec.forEach(f=>{f.forEach(k=>{k.reject(new Fe(me.CANCELLED,d))})}),a.Ec.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await _k(r,o.er)}}function coe(t,e){const r=dt(t),o=r.yc.get(e);if(o&&o.fc)return vt().add(o.key);{let a=vt();const d=r._c.get(e);if(!d)return a;for(const f of d){const k=r.wc.get(f);a=a.unionWith(k.view.nc)}return a}}function loe(t){const e=dt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=coe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=roe.bind(null,e),e.dc.nu=qie.bind(null,e.eventManager),e.dc.Pc=Gie.bind(null,e.eventManager),e}function uoe(t){const e=dt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ioe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ooe.bind(null,e),e}class HR{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Jv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return gie(this.persistence,new fie,e.initialUser,this.serializer)}createPersistence(e){return new die(w2.zs,this.serializer)}createSharedClientState(e){return new _ie}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class doe{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>VR(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=aoe.bind(null,this.syncEngine),await $ie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Uie}createDatastore(e){const r=Jv(e.databaseInfo.databaseId),o=(a=e.databaseInfo,new Eie(a));var a;return function(d,f,k,m){return new Die(d,f,k,m)}(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return r=this.localStore,o=this.datastore,a=e.asyncQueue,d=k=>VR(this.syncEngine,k,0),f=zR.D()?new zR:new Aie,new Mie(r,o,a,d,f);var r,o,a,d,f}createSyncEngine(e,r){return function(o,a,d,f,k,m,v){const A=new Jie(o,a,d,f,k,m);return v&&(A.vc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return async function(e){const r=dt(e);We("RemoteStore","RemoteStore shutting down."),r.vu.add(5),await yk(r),r.Pu.shutdown(),r.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hoe{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Va("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class foe{constructor(e,r,o,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=a,this.user=Ur.UNAUTHENTICATED,this.clientId=q6.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,async d=>{We("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(o,d=>(We("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=x2(r,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function QC(t,e){t.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const r=await t.getConfiguration();await e.initialize(r);let o=r.initialUser;t.setCredentialChangeListener(async a=>{o.isEqual(a)||(await SF(e.localStore,a),o=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function WR(t,e){t.asyncQueue.verifyOperationInProgress();const r=await goe(t);We("FirestoreClient","Initializing OnlineComponentProvider");const o=await t.getConfiguration();await e.initialize(r,o),t.setCredentialChangeListener(a=>FR(e.remoteStore,a)),t.setAppCheckTokenChangeListener((a,d)=>FR(e.remoteStore,d)),t._onlineComponents=e}function poe(t){return t.name==="FirebaseError"?t.code===me.FAILED_PRECONDITION||t.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function goe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{await QC(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!poe(r))throw r;kf("Error using user provided cache. Falling back to memory cache: "+r),await QC(t,new HR)}}else We("FirestoreClient","Using default OfflineComponentProvider"),await QC(t,new HR);return t._offlineComponents}async function HF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),await WR(t,t._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),await WR(t,new doe))),t._onlineComponents}function moe(t){return HF(t).then(e=>e.syncEngine)}async function koe(t){const e=await HF(t),r=e.eventManager;return r.onListen=Xie.bind(null,e.syncEngine),r.onUnlisten=toe.bind(null,e.syncEngine),r}function boe(t,e,r={}){const o=new rl;return t.asyncQueue.enqueueAndForget(async()=>function(a,d,f,k,m){const v=new hoe({next:x=>{d.enqueueAndForget(()=>Wie(a,A)),x.fromCache&&k.source==="server"?m.reject(new Fe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),A=new Yie(f,v,{includeMetadataChanges:!0,Ku:!0});return Hie(a,A)}(await koe(t),t.asyncQueue,e,r,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t,e,r){if(!r)throw new Fe(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function woe(t,e,r,o){if(e===!0&&o===!0)throw new Fe(me.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function GR(t){if(!Ke.isDocumentKey(t))throw new Fe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YR(t){if(Ke.isDocumentKey(t))throw new Fe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ty(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":it()}function Wu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ty(t);throw new Fe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){var r,o;if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Fe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}woe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WF((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(r=this.experimentalLongPollingOptions,o=e.experimentalLongPollingOptions,r.timeoutSeconds===o.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var r,o}}class ny{constructor(e,r,o,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jne;switch(r.type){case"firstParty":return new Vne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Fe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=qR.get(e);r&&(We("ComponentProvider","Removing Datastore"),qR.delete(e),r.terminate())}(this),Promise.resolve()}}function voe(t,e,r,o={}){var a;const d=(t=Wu(t,ny))._getSettings(),f=`${e}:${r}`;if(d.host!=="firestore.googleapis.com"&&d.host!==f&&kf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},d),{host:f,ssl:!1})),o.mockUserToken){let k,m;if(typeof o.mockUserToken=="string")k=o.mockUserToken,m=Ur.MOCK_USER;else{k=nJ(o.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const v=o.mockUserToken.sub||o.mockUserToken.user_id;if(!v)throw new Fe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ur(v)}t._authCredentials=new zne(new W6(k,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qi(this.firestore,e,this._key)}}class Vf{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Vf(this.firestore,e,this._query)}}class il extends Vf{constructor(e,r,o){super(e,r,nF(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qi(this.firestore,null,new Ke(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function Kw(t,e,...r){if(t=ur(t),qF("collection","path",e),t instanceof ny){const o=mn.fromString(e,...r);return YR(o),new il(t,null,o)}{if(!(t instanceof qi||t instanceof il))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=t._path.child(mn.fromString(e,...r));return YR(o),new il(t.firestore,null,o)}}function Jx(t,e,...r){if(t=ur(t),arguments.length===1&&(e=q6.A()),qF("doc","path",e),t instanceof ny){const o=mn.fromString(e,...r);return GR(o),new qi(t,null,new Ke(o))}{if(!(t instanceof qi||t instanceof il))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=t._path.child(mn.fromString(e,...r));return GR(o),new qi(t.firestore,t instanceof il?t.converter:null,new Ke(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new DF(this,"async_queue_retry"),this.Xc=()=>{const r=KC();r&&We("AsyncQueue","Visibility state changed to "+r.visibilityState),this.qo.Mo()};const e=KC();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const r=KC();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const r=new rl;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!kk(e))throw e;We("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const r=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{this.Wc=o,this.Hc=!1;const a=function(d){let f=d.message||"";return d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),f}(o);throw Va("INTERNAL UNHANDLED ERROR: ",a),o}).then(o=>(this.Hc=!1,o))));return this.Gc=r,r}enqueueAfterDelay(e,r,o){this.Zc(),this.Yc.indexOf(e)>-1&&(r=0);const a=C2.createAndSchedule(this,e,r,o,d=>this.na(d));return this.zc.push(a),a}Zc(){this.Wc&&it()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const r of this.zc)if(r.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.zc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const r=this.zc.indexOf(e);this.zc.splice(r,1)}}class Ak extends ny{constructor(e,r,o,a){super(e,r,o,a),this.type="firestore",this._queue=new yoe,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||YF(this),this._firestoreClient.terminate()}}function _oe(t,e){const r=typeof t=="object"?t:az(),o=typeof t=="string"?t:e||"(default)",a=ES(r,"firestore").getImmediate({identifier:o});if(!a._initialized){const d=eJ("firestore");d&&voe(a,...d)}return a}function GF(t){return t._firestoreClient||YF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function YF(t){var e,r,o;const a=t._freezeSettings(),d=function(f,k,m,v){return new ere(f,k,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,WF(v.experimentalLongPollingOptions),v.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._firestoreClient=new foe(t._authCredentials,t._appCheckCredentials,t._queue,d),!((r=a.cache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=a.cache)===null||o===void 0)&&o._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Af(Zr.fromBase64String(e))}catch(r){throw new Fe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Af(Zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Fe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Fe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Fe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aoe=/^__.*__$/;class Coe{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return this.fieldMask!==null?new _l(e,this.data,this.fieldMask,r,this.fieldTransforms):new wk(e,this.data,r,this.fieldTransforms)}}class KF{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new _l(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function QF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class I2{constructor(e,r,o,a,d,f){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=a,d===void 0&&this.ua(),this.fieldTransforms=d||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new I2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.aa({path:o,la:!1});return a.fa(e),a}da(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.aa({path:o,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Qw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(QF(this.ca)&&Aoe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class xoe{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||Jv(e)}ya(e,r,o,a=!1){return new I2({ca:e,methodName:r,ga:o,path:Wr.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M2(t){const e=t._freezeSettings(),r=Jv(t._databaseId);return new xoe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Eoe(t,e,r,o,a,d={}){const f=t.ya(d.merge||d.mergeFields?2:0,e,r,a);N2("Data must be an object, but it was:",f,o);const k=ZF(o,f);let m,v;if(d.merge)m=new Vi(f.fieldMask),v=f.fieldTransforms;else if(d.mergeFields){const A=[];for(const x of d.mergeFields){const _=Xx(e,x,r);if(!f.contains(_))throw new Fe(me.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);XF(A,_)||A.push(_)}m=new Vi(A),v=f.fieldTransforms.filter(x=>m.covers(x.field))}else m=null,v=f.fieldTransforms;return new Coe(new Ko(k),m,v)}class iy extends T2{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iy}}function Soe(t,e,r,o){const a=t.ya(1,e,r);N2("Data must be an object, but it was:",a,o);const d=[],f=Ko.empty();ed(o,(m,v)=>{const A=P2(e,m,r);v=ur(v);const x=a.da(A);if(v instanceof iy)d.push(A);else{const _=Ck(v,x);_!=null&&(d.push(A),f.set(A,_))}});const k=new Vi(d);return new KF(f,k,a.fieldTransforms)}function Toe(t,e,r,o,a,d){const f=t.ya(1,e,r),k=[Xx(e,o,r)],m=[a];if(d.length%2!=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<d.length;_+=2)k.push(Xx(e,d[_])),m.push(d[_+1]);const v=[],A=Ko.empty();for(let _=k.length-1;_>=0;--_)if(!XF(v,k[_])){const T=k[_];let D=m[_];D=ur(D);const M=f.da(T);if(D instanceof iy)v.push(T);else{const B=Ck(D,M);B!=null&&(v.push(T),A.set(T,B))}}const x=new Vi(v);return new KF(A,x,f.fieldTransforms)}function Doe(t,e,r,o=!1){return Ck(r,t.ya(o?4:3,e))}function Ck(t,e){if(JF(t=ur(t)))return N2("Unsupported field value:",e,t),ZF(t,e);if(t instanceof T2)return function(r,o){if(!QF(o.ca))throw o._a(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(r,o){const a=[];let d=0;for(const f of r){let k=Ck(f,o.wa(d));k==null&&(k={nullValue:"NULL_VALUE"}),a.push(k),d++}return{arrayValue:{values:a}}}(t,e)}return function(r,o){if((r=ur(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vre(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=lr.fromDate(r);return{timestampValue:Gw(o.serializer,a)}}if(r instanceof lr){const a=new lr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gw(o.serializer,a)}}if(r instanceof D2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Af)return{bytesValue:yF(o.serializer,r._byteString)};if(r instanceof qi){const a=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(a))throw o._a(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:k2(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o._a(`Unsupported field value: ${ty(r)}`)}(t,e)}function ZF(t,e){const r={};return G6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ed(t,(o,a)=>{const d=Ck(a,e.ha(o));d!=null&&(r[o]=d)}),{mapValue:{fields:r}}}function JF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lr||t instanceof D2||t instanceof Af||t instanceof qi||t instanceof T2)}function N2(t,e,r){if(!JF(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const o=ty(r);throw o==="an object"?e._a(t+" a custom object"):e._a(t+" "+o)}}function Xx(t,e,r){if((e=ur(e))instanceof ry)return e._internalPath;if(typeof e=="string")return P2(t,e);throw Qw("Field path arguments must be of type string or ",t,!1,void 0,r)}const Ioe=new RegExp("[~\\*/\\[\\]]");function P2(t,e,r){if(e.search(Ioe)>=0)throw Qw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new ry(...e.split("."))._internalPath}catch{throw Qw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Qw(t,e,r,o,a){const d=o&&!o.isEmpty(),f=a!==void 0;let k=`Function ${e}() called with invalid data`;r&&(k+=" (via `toFirestore()`)"),k+=". ";let m="";return(d||f)&&(m+=" (found",d&&(m+=` in field ${o}`),f&&(m+=` in document ${a}`),m+=")"),new Fe(me.INVALID_ARGUMENT,k+t+m)}function XF(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,r,o,a,d){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=a,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Moe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(O2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Moe extends e9{data(){return super.data()}}function O2(t,e){return typeof e=="string"?P2(t,e):e instanceof ry?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Noe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Fe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R2{}class Poe extends R2{}function L2(t,e,...r){let o=[];e instanceof R2&&o.push(e),o=o.concat(r),function(a){const d=a.filter(k=>k instanceof j2).length,f=a.filter(k=>k instanceof oy).length;if(d>1||d>0&&f>0)throw new Fe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const a of o)t=a._apply(t);return t}class oy extends Poe{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new oy(e,r,o)}_apply(e){const r=this._parse(e);return t9(e._query,r),new Vf(e.firestore,e.converter,Ux(e._query,r))}_parse(e){const r=M2(e.firestore);return function(a,d,f,k,m,v,A){let x;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){ZR(A,v);const _=[];for(const T of A)_.push(QR(k,a,T));x={arrayValue:{values:_}}}else x=QR(k,a,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||ZR(A,v),x=Doe(f,d,A,v==="in"||v==="not-in");return er.create(m,v,x)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function B2(t,e,r){const o=e,a=O2("where",t);return oy._create(a,o,r)}class j2 extends R2{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new j2(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return r.length===1?r[0]:rs.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(o,a){let d=o;const f=a.getFlattenedFilters();for(const k of f)t9(d,k),d=Ux(d,k)}(e._query,r),new Vf(e.firestore,e.converter,Ux(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function QR(t,e,r){if(typeof(r=ur(r))=="string"){if(r==="")throw new Fe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iF(e)&&r.indexOf("/")!==-1)throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(mn.fromString(r));if(!Ke.isDocumentKey(o))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return vR(t,new Ke(o))}if(r instanceof qi)return vR(t,r._key);throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ty(r)}.`)}function ZR(t,e){if(!Array.isArray(t)||t.length===0)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t9(t,e){if(e.isInequality()){const o=h2(t),a=e.field;if(o!==null&&!o.isEqual(a))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${a.toString()}'`);const d=rF(t);d!==null&&Ooe(t,a,d)}const r=function(o,a){for(const d of o)for(const f of d.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Fe(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Fe(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}function Ooe(t,e,r){if(!r.isEqual(e))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class Roe{convertValue(e,r="none"){switch(Hu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Uu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw it()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return ed(e,(a,d)=>{o[a]=this.convertValue(d,r)}),o}convertGeoPoint(e){return new D2(Zn(e.latitude),Zn(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=c2(e);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Mm(e));default:return null}}convertTimestamp(e){const r=hl(e);return new lr(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=mn.fromString(e);bn(EF(o));const a=new Nm(o.get(1),o.get(3)),d=new Ke(o.popFirst(5));return a.isEqual(r)||Va(`Document ${d} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Loe(t,e,r){let o;return o=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Boe extends e9{constructor(e,r,o,a,d,f){super(e,r,o,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new G0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(O2("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class G0 extends Boe{data(e={}){return super.data(e)}}class joe{constructor(e,r,o,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new A0(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new G0(this._firestore,this._userDataWriter,o.key,o,new A0(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Fe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(f=>{const k=new G0(o._firestore,o._userDataWriter,f.doc.key,f.doc,new A0(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:k,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const k=new G0(o._firestore,o._userDataWriter,f.doc.key,f.doc,new A0(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),f.type!==1&&(d=d.add(f.doc),v=d.indexOf(f.doc.key)),{type:zoe(f.type),doc:k,oldIndex:m,newIndex:v}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function zoe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}class Foe extends Roe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Af(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new qi(this.firestore,null,r)}}function z2(t){t=Wu(t,Vf);const e=Wu(t.firestore,Ak),r=GF(e),o=new Foe(e);return Noe(t._query),boe(r,t._query).then(a=>new joe(e,o,t,a))}function $oe(t,e,r,...o){t=Wu(t,qi);const a=Wu(t.firestore,Ak),d=M2(a);let f;return f=typeof(e=ur(e))=="string"||e instanceof ry?Toe(d,"updateDoc",t._key,e,r,o):Soe(d,"updateDoc",t._key,e),F2(a,[f.toMutation(t._key,Xo.exists(!0))])}function Voe(t){return F2(Wu(t.firestore,Ak),[new f2(t._key,Xo.none())])}function Uoe(t,e){const r=Wu(t.firestore,Ak),o=Jx(t),a=Loe(t.converter,e);return F2(r,[Eoe(M2(t.firestore),"addDoc",o._key,a,t.converter!==null,{}).toMutation(o._key,Xo.exists(!1))]).then(()=>o)}function F2(t,e){return function(r,o){const a=new rl;return r.asyncQueue.enqueueAndForget(async()=>noe(await moe(r),o,a)),a.promise}(GF(t),e)}(function(t,e=!0){(function(r){zf=r})(Pf),pf(new ju("firestore",(r,{instanceIdentifier:o,options:a})=>{const d=r.getProvider("app").getImmediate(),f=new Ak(new Fne(r.getProvider("auth-internal")),new Hne(r.getProvider("app-check-internal")),function(k,m){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new Fe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nm(k.options.projectId,m)}(d,o),d);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),nl(gR,"3.13.0",t),nl(gR,"3.13.0","esm2017")})();const Hoe={apiKey:"AIzaSyD3Q0uxN1ja0UFJ7z9vll_UM7lg3q3H0BE",authDomain:"weather-app-8ec3e.firebaseapp.com",projectId:"weather-app-8ec3e",storageBucket:"weather-app-8ec3e.appspot.com",messagingSenderId:"180288020924",appId:"1:180288020924:web:a787b50d983baf588ccbb9"},n9=sz(Hoe),qu=Tte(n9),ef=_oe(n9);var r9={exports:{}},i9={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cf=G;function Woe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qoe=typeof Object.is=="function"?Object.is:Woe,Goe=Cf.useState,Yoe=Cf.useEffect,Koe=Cf.useLayoutEffect,Qoe=Cf.useDebugValue;function Zoe(t,e){var r=e(),o=Goe({inst:{value:r,getSnapshot:e}}),a=o[0].inst,d=o[1];return Koe(function(){a.value=r,a.getSnapshot=e,ZC(a)&&d({inst:a})},[t,r,e]),Yoe(function(){return ZC(a)&&d({inst:a}),t(function(){ZC(a)&&d({inst:a})})},[t]),Qoe(r),r}function ZC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!qoe(t,r)}catch{return!0}}function Joe(t,e){return e()}var Xoe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Joe:Zoe;i9.useSyncExternalStore=Cf.useSyncExternalStore!==void 0?Cf.useSyncExternalStore:Xoe;r9.exports=i9;var ese=r9.exports,o9={exports:{}},s9={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy=G,tse=ese;function nse(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rse=typeof Object.is=="function"?Object.is:nse,ise=tse.useSyncExternalStore,ose=sy.useRef,sse=sy.useEffect,ase=sy.useMemo,cse=sy.useDebugValue;s9.useSyncExternalStoreWithSelector=function(t,e,r,o,a){var d=ose(null);if(d.current===null){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=ase(function(){function m(T){if(!v){if(v=!0,A=T,T=o(T),a!==void 0&&f.hasValue){var D=f.value;if(a(D,T))return x=D}return x=T}if(D=x,rse(A,T))return D;var M=o(T);return a!==void 0&&a(D,M)?D:(A=T,x=M)}var v=!1,A,x,_=r===void 0?null:r;return[function(){return m(e())},_===null?void 0:function(){return m(_())}]},[e,r,o,a]);var k=ise(t,d[0],d[1]);return sse(function(){f.hasValue=!0,f.value=k},[k]),cse(k),k};o9.exports=s9;var lse=o9.exports;function use(t){t()}let a9=use;const dse=t=>a9=t,hse=()=>a9,JR=Symbol.for("react-redux-context"),XR=typeof globalThis<"u"?globalThis:{};function fse(){var t;if(!G.createContext)return{};const e=(t=XR[JR])!=null?t:XR[JR]=new Map;let r=e.get(G.createContext);return r||(r=G.createContext(null),e.set(G.createContext,r)),r}const pl=fse();function $2(t=pl){return function(){return G.useContext(t)}}const c9=$2(),pse=()=>{throw new Error("uSES not initialized!")};let l9=pse;const gse=t=>{l9=t},mse=(t,e)=>t===e;function kse(t=pl){const e=t===pl?c9:$2(t);return function(o,a={}){const{equalityFn:d=mse,stabilityCheck:f=void 0,noopCheck:k=void 0}=typeof a=="function"?{equalityFn:a}:a,{store:m,subscription:v,getServerState:A,stabilityCheck:x,noopCheck:_}=e();G.useRef(!0);const T=G.useCallback({[o.name](M){return o(M)}}[o.name],[o,x,f]),D=l9(v.addNestedSub,m.getState,A||m.getState,T,d);return G.useDebugValue(D),D}}const Zw=kse();function be(){return be=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},be.apply(this,arguments)}function wn(t,e){if(t==null)return{};var r={},o=Object.keys(t),a,d;for(d=0;d<o.length;d++)a=o[d],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}var u9={exports:{}},Xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=typeof Symbol=="function"&&Symbol.for,V2=vr?Symbol.for("react.element"):60103,U2=vr?Symbol.for("react.portal"):60106,ay=vr?Symbol.for("react.fragment"):60107,cy=vr?Symbol.for("react.strict_mode"):60108,ly=vr?Symbol.for("react.profiler"):60114,uy=vr?Symbol.for("react.provider"):60109,dy=vr?Symbol.for("react.context"):60110,H2=vr?Symbol.for("react.async_mode"):60111,hy=vr?Symbol.for("react.concurrent_mode"):60111,fy=vr?Symbol.for("react.forward_ref"):60112,py=vr?Symbol.for("react.suspense"):60113,bse=vr?Symbol.for("react.suspense_list"):60120,gy=vr?Symbol.for("react.memo"):60115,my=vr?Symbol.for("react.lazy"):60116,wse=vr?Symbol.for("react.block"):60121,vse=vr?Symbol.for("react.fundamental"):60117,yse=vr?Symbol.for("react.responder"):60118,_se=vr?Symbol.for("react.scope"):60119;function Xi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case V2:switch(t=t.type,t){case H2:case hy:case ay:case ly:case cy:case py:return t;default:switch(t=t&&t.$$typeof,t){case dy:case fy:case my:case gy:case uy:return t;default:return e}}case U2:return e}}}function d9(t){return Xi(t)===hy}Xt.AsyncMode=H2;Xt.ConcurrentMode=hy;Xt.ContextConsumer=dy;Xt.ContextProvider=uy;Xt.Element=V2;Xt.ForwardRef=fy;Xt.Fragment=ay;Xt.Lazy=my;Xt.Memo=gy;Xt.Portal=U2;Xt.Profiler=ly;Xt.StrictMode=cy;Xt.Suspense=py;Xt.isAsyncMode=function(t){return d9(t)||Xi(t)===H2};Xt.isConcurrentMode=d9;Xt.isContextConsumer=function(t){return Xi(t)===dy};Xt.isContextProvider=function(t){return Xi(t)===uy};Xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===V2};Xt.isForwardRef=function(t){return Xi(t)===fy};Xt.isFragment=function(t){return Xi(t)===ay};Xt.isLazy=function(t){return Xi(t)===my};Xt.isMemo=function(t){return Xi(t)===gy};Xt.isPortal=function(t){return Xi(t)===U2};Xt.isProfiler=function(t){return Xi(t)===ly};Xt.isStrictMode=function(t){return Xi(t)===cy};Xt.isSuspense=function(t){return Xi(t)===py};Xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ay||t===hy||t===ly||t===cy||t===py||t===bse||typeof t=="object"&&t!==null&&(t.$$typeof===my||t.$$typeof===gy||t.$$typeof===uy||t.$$typeof===dy||t.$$typeof===fy||t.$$typeof===vse||t.$$typeof===yse||t.$$typeof===_se||t.$$typeof===wse)};Xt.typeOf=Xi;u9.exports=Xt;var Ase=u9.exports,h9=Ase,Cse={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xse={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},f9={};f9[h9.ForwardRef]=Cse;f9[h9.Memo]=xse;var on={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W2=Symbol.for("react.element"),q2=Symbol.for("react.portal"),ky=Symbol.for("react.fragment"),by=Symbol.for("react.strict_mode"),wy=Symbol.for("react.profiler"),vy=Symbol.for("react.provider"),yy=Symbol.for("react.context"),Ese=Symbol.for("react.server_context"),_y=Symbol.for("react.forward_ref"),Ay=Symbol.for("react.suspense"),Cy=Symbol.for("react.suspense_list"),xy=Symbol.for("react.memo"),Ey=Symbol.for("react.lazy"),Sse=Symbol.for("react.offscreen"),p9;p9=Symbol.for("react.module.reference");function To(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case W2:switch(t=t.type,t){case ky:case wy:case by:case Ay:case Cy:return t;default:switch(t=t&&t.$$typeof,t){case Ese:case yy:case _y:case Ey:case xy:case vy:return t;default:return e}}case q2:return e}}}on.ContextConsumer=yy;on.ContextProvider=vy;on.Element=W2;on.ForwardRef=_y;on.Fragment=ky;on.Lazy=Ey;on.Memo=xy;on.Portal=q2;on.Profiler=wy;on.StrictMode=by;on.Suspense=Ay;on.SuspenseList=Cy;on.isAsyncMode=function(){return!1};on.isConcurrentMode=function(){return!1};on.isContextConsumer=function(t){return To(t)===yy};on.isContextProvider=function(t){return To(t)===vy};on.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===W2};on.isForwardRef=function(t){return To(t)===_y};on.isFragment=function(t){return To(t)===ky};on.isLazy=function(t){return To(t)===Ey};on.isMemo=function(t){return To(t)===xy};on.isPortal=function(t){return To(t)===q2};on.isProfiler=function(t){return To(t)===wy};on.isStrictMode=function(t){return To(t)===by};on.isSuspense=function(t){return To(t)===Ay};on.isSuspenseList=function(t){return To(t)===Cy};on.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ky||t===wy||t===by||t===Ay||t===Cy||t===Sse||typeof t=="object"&&t!==null&&(t.$$typeof===Ey||t.$$typeof===xy||t.$$typeof===vy||t.$$typeof===yy||t.$$typeof===_y||t.$$typeof===p9||t.getModuleId!==void 0)};on.typeOf=To;function Tse(){const t=hse();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let o=e;for(;o;)o.callback(),o=o.next})},get(){let o=[],a=e;for(;a;)o.push(a),a=a.next;return o},subscribe(o){let a=!0,d=r={callback:o,next:null,prev:r};return d.prev?d.prev.next=d:e=d,function(){!a||e===null||(a=!1,d.next?d.next.prev=d.prev:r=d.prev,d.prev?d.prev.next=d.next:e=d.next)}}}}const e3={notify(){},get:()=>[]};function Dse(t,e){let r,o=e3;function a(x){return m(),o.subscribe(x)}function d(){o.notify()}function f(){A.onStateChange&&A.onStateChange()}function k(){return!!r}function m(){r||(r=e?e.addNestedSub(f):t.subscribe(f),o=Tse())}function v(){r&&(r(),r=void 0,o.clear(),o=e3)}const A={addNestedSub:a,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:k,trySubscribe:m,tryUnsubscribe:v,getListeners:()=>o};return A}const Ise=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mse=Ise?G.useLayoutEffect:G.useEffect;function Nse({store:t,context:e,children:r,serverState:o,stabilityCheck:a="once",noopCheck:d="once"}){const f=G.useMemo(()=>{const v=Dse(t);return{store:t,subscription:v,getServerState:o?()=>o:void 0,stabilityCheck:a,noopCheck:d}},[t,o,a,d]),k=G.useMemo(()=>t.getState(),[t]);Mse(()=>{const{subscription:v}=f;return v.onStateChange=v.notifyNestedSubs,v.trySubscribe(),k!==t.getState()&&v.notifyNestedSubs(),()=>{v.tryUnsubscribe(),v.onStateChange=void 0}},[f,k]);const m=e||pl;return G.createElement(m.Provider,{value:f},r)}function g9(t=pl){const e=t===pl?c9:$2(t);return function(){const{store:o}=e();return o}}const Pse=g9();function Ose(t=pl){const e=t===pl?Pse:g9(t);return function(){return e().dispatch}}const m9=Ose();gse(lse.useSyncExternalStoreWithSelector);dse(ff.unstable_batchedUpdates);function Qo(t){for(var e=arguments.length,r=Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function gl(t){return!!t&&!!t[yn]}function qa(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var o=Object.getPrototypeOf(r);if(o===null)return!0;var a=Object.hasOwnProperty.call(o,"constructor")&&o.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===Use}(t)||Array.isArray(t)||!!t[a3]||!!(!((e=t.constructor)===null||e===void 0)&&e[a3])||G2(t)||Y2(t))}function Gu(t,e,r){r===void 0&&(r=!1),Uf(t)===0?(r?Object.keys:nf)(t).forEach(function(o){r&&typeof o=="symbol"||e(o,t[o],t)}):t.forEach(function(o,a){return e(a,o,t)})}function Uf(t){var e=t[yn];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:G2(t)?2:Y2(t)?3:0}function tf(t,e){return Uf(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Rse(t,e){return Uf(t)===2?t.get(e):t[e]}function k9(t,e,r){var o=Uf(t);o===2?t.set(e,r):o===3?t.add(r):t[e]=r}function b9(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function G2(t){return $se&&t instanceof Map}function Y2(t){return Vse&&t instanceof Set}function pu(t){return t.o||t.t}function K2(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=v9(t);delete e[yn];for(var r=nf(e),o=0;o<r.length;o++){var a=r[o],d=e[a];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(e[a]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[a]})}return Object.create(Object.getPrototypeOf(t),e)}function Q2(t,e){return e===void 0&&(e=!1),Z2(t)||gl(t)||!qa(t)||(Uf(t)>1&&(t.set=t.add=t.clear=t.delete=Lse),Object.freeze(t),e&&Gu(t,function(r,o){return Q2(o,!0)},!0)),t}function Lse(){Qo(2)}function Z2(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Js(t){var e=rE[t];return e||Qo(18,t),e}function Bse(t,e){rE[t]||(rE[t]=e)}function eE(){return Lm}function JC(t,e){e&&(Js("Patches"),t.u=[],t.s=[],t.v=e)}function Jw(t){tE(t),t.p.forEach(jse),t.p=null}function tE(t){t===Lm&&(Lm=t.l)}function t3(t){return Lm={p:[],l:Lm,h:t,m:!0,_:0}}function jse(t){var e=t[yn];e.i===0||e.i===1?e.j():e.g=!0}function XC(t,e){e._=e.p.length;var r=e.p[0],o=t!==void 0&&t!==r;return e.h.O||Js("ES5").S(e,t,o),o?(r[yn].P&&(Jw(e),Qo(4)),qa(t)&&(t=Xw(e,t),e.l||ev(e,t)),e.u&&Js("Patches").M(r[yn].t,t,e.u,e.s)):t=Xw(e,r,[]),Jw(e),e.u&&e.v(e.u,e.s),t!==w9?t:void 0}function Xw(t,e,r){if(Z2(e))return e;var o=e[yn];if(!o)return Gu(e,function(k,m){return n3(t,o,e,k,m,r)},!0),e;if(o.A!==t)return e;if(!o.P)return ev(t,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var a=o.i===4||o.i===5?o.o=K2(o.k):o.o,d=a,f=!1;o.i===3&&(d=new Set(a),a.clear(),f=!0),Gu(d,function(k,m){return n3(t,o,a,k,m,r,f)}),ev(t,a,!1),r&&t.u&&Js("Patches").N(o,r,t.u,t.s)}return o.o}function n3(t,e,r,o,a,d,f){if(gl(a)){var k=Xw(t,a,d&&e&&e.i!==3&&!tf(e.R,o)?d.concat(o):void 0);if(k9(r,o,k),!gl(k))return;t.m=!1}else f&&r.add(a);if(qa(a)&&!Z2(a)){if(!t.h.D&&t._<1)return;Xw(t,a),e&&e.A.l||ev(t,a)}}function ev(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&Q2(e,r)}function e1(t,e){var r=t[yn];return(r?pu(r):t)[e]}function r3(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var o=Object.getOwnPropertyDescriptor(r,e);if(o)return o;r=Object.getPrototypeOf(r)}}function $c(t){t.P||(t.P=!0,t.l&&$c(t.l))}function t1(t){t.o||(t.o=K2(t.t))}function nE(t,e,r){var o=G2(e)?Js("MapSet").F(e,r):Y2(e)?Js("MapSet").T(e,r):t.O?function(a,d){var f=Array.isArray(a),k={i:f?1:0,A:d?d.A:eE(),P:!1,I:!1,R:{},l:d,t:a,k:null,o:null,j:null,C:!1},m=k,v=Bm;f&&(m=[k],v=Pg);var A=Proxy.revocable(m,v),x=A.revoke,_=A.proxy;return k.k=_,k.j=x,_}(e,r):Js("ES5").J(e,r);return(r?r.A:eE()).p.push(o),o}function zse(t){return gl(t)||Qo(22,t),function e(r){if(!qa(r))return r;var o,a=r[yn],d=Uf(r);if(a){if(!a.P&&(a.i<4||!Js("ES5").K(a)))return a.t;a.I=!0,o=i3(r,d),a.I=!1}else o=i3(r,d);return Gu(o,function(f,k){a&&Rse(a.t,f)===k||k9(o,f,e(k))}),d===3?new Set(o):o}(t)}function i3(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return K2(t)}function Fse(){function t(d,f){var k=a[d];return k?k.enumerable=f:a[d]=k={configurable:!0,enumerable:f,get:function(){var m=this[yn];return Bm.get(m,d)},set:function(m){var v=this[yn];Bm.set(v,d,m)}},k}function e(d){for(var f=d.length-1;f>=0;f--){var k=d[f][yn];if(!k.P)switch(k.i){case 5:o(k)&&$c(k);break;case 4:r(k)&&$c(k)}}}function r(d){for(var f=d.t,k=d.k,m=nf(k),v=m.length-1;v>=0;v--){var A=m[v];if(A!==yn){var x=f[A];if(x===void 0&&!tf(f,A))return!0;var _=k[A],T=_&&_[yn];if(T?T.t!==x:!b9(_,x))return!0}}var D=!!f[yn];return m.length!==nf(f).length+(D?0:1)}function o(d){var f=d.k;if(f.length!==d.t.length)return!0;var k=Object.getOwnPropertyDescriptor(f,f.length-1);if(k&&!k.get)return!0;for(var m=0;m<f.length;m++)if(!f.hasOwnProperty(m))return!0;return!1}var a={};Bse("ES5",{J:function(d,f){var k=Array.isArray(d),m=function(A,x){if(A){for(var _=Array(x.length),T=0;T<x.length;T++)Object.defineProperty(_,""+T,t(T,!0));return _}var D=v9(x);delete D[yn];for(var M=nf(D),B=0;B<M.length;B++){var O=M[B];D[O]=t(O,A||!!D[O].enumerable)}return Object.create(Object.getPrototypeOf(x),D)}(k,d),v={i:k?5:4,A:f?f.A:eE(),P:!1,I:!1,R:{},l:f,t:d,k:m,o:null,g:!1,C:!1};return Object.defineProperty(m,yn,{value:v,writable:!0}),m},S:function(d,f,k){k?gl(f)&&f[yn].A===d&&e(d.p):(d.u&&function m(v){if(v&&typeof v=="object"){var A=v[yn];if(A){var x=A.t,_=A.k,T=A.R,D=A.i;if(D===4)Gu(_,function(z){z!==yn&&(x[z]!==void 0||tf(x,z)?T[z]||m(_[z]):(T[z]=!0,$c(A)))}),Gu(x,function(z){_[z]!==void 0||tf(_,z)||(T[z]=!1,$c(A))});else if(D===5){if(o(A)&&($c(A),T.length=!0),_.length<x.length)for(var M=_.length;M<x.length;M++)T[M]=!1;else for(var B=x.length;B<_.length;B++)T[B]=!0;for(var O=Math.min(_.length,x.length),L=0;L<O;L++)_.hasOwnProperty(L)||(T[L]=!0),T[L]===void 0&&m(_[L])}}}}(d.p[0]),e(d.p))},K:function(d){return d.i===4?r(d):o(d)}})}var o3,Lm,J2=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",$se=typeof Map<"u",Vse=typeof Set<"u",s3=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",w9=J2?Symbol.for("immer-nothing"):((o3={})["immer-nothing"]=!0,o3),a3=J2?Symbol.for("immer-draftable"):"__$immer_draftable",yn=J2?Symbol.for("immer-state"):"__$immer_state",Use=""+Object.prototype.constructor,nf=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,v9=Object.getOwnPropertyDescriptors||function(t){var e={};return nf(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},rE={},Bm={get:function(t,e){if(e===yn)return t;var r=pu(t);if(!tf(r,e))return function(a,d,f){var k,m=r3(d,f);return m?"value"in m?m.value:(k=m.get)===null||k===void 0?void 0:k.call(a.k):void 0}(t,r,e);var o=r[e];return t.I||!qa(o)?o:o===e1(t.t,e)?(t1(t),t.o[e]=nE(t.A.h,o,t)):o},has:function(t,e){return e in pu(t)},ownKeys:function(t){return Reflect.ownKeys(pu(t))},set:function(t,e,r){var o=r3(pu(t),e);if(o!=null&&o.set)return o.set.call(t.k,r),!0;if(!t.P){var a=e1(pu(t),e),d=a==null?void 0:a[yn];if(d&&d.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(b9(r,a)&&(r!==void 0||tf(t.t,e)))return!0;t1(t),$c(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return e1(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,t1(t),$c(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=pu(t),o=Reflect.getOwnPropertyDescriptor(r,e);return o&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:o.enumerable,value:r[e]}},defineProperty:function(){Qo(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Qo(12)}},Pg={};Gu(Bm,function(t,e){Pg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Pg.deleteProperty=function(t,e){return Pg.set.call(this,t,e,void 0)},Pg.set=function(t,e,r){return Bm.set.call(this,t[0],e,r,t[0])};var Hse=function(){function t(r){var o=this;this.O=s3,this.D=!0,this.produce=function(a,d,f){if(typeof a=="function"&&typeof d!="function"){var k=d;d=a;var m=o;return function(M){var B=this;M===void 0&&(M=k);for(var O=arguments.length,L=Array(O>1?O-1:0),z=1;z<O;z++)L[z-1]=arguments[z];return m.produce(M,function(Y){var X;return(X=d).call.apply(X,[B,Y].concat(L))})}}var v;if(typeof d!="function"&&Qo(6),f!==void 0&&typeof f!="function"&&Qo(7),qa(a)){var A=t3(o),x=nE(o,a,void 0),_=!0;try{v=d(x),_=!1}finally{_?Jw(A):tE(A)}return typeof Promise<"u"&&v instanceof Promise?v.then(function(M){return JC(A,f),XC(M,A)},function(M){throw Jw(A),M}):(JC(A,f),XC(v,A))}if(!a||typeof a!="object"){if((v=d(a))===void 0&&(v=a),v===w9&&(v=void 0),o.D&&Q2(v,!0),f){var T=[],D=[];Js("Patches").M(a,v,T,D),f(T,D)}return v}Qo(21,a)},this.produceWithPatches=function(a,d){if(typeof a=="function")return function(v){for(var A=arguments.length,x=Array(A>1?A-1:0),_=1;_<A;_++)x[_-1]=arguments[_];return o.produceWithPatches(v,function(T){return a.apply(void 0,[T].concat(x))})};var f,k,m=o.produce(a,d,function(v,A){f=v,k=A});return typeof Promise<"u"&&m instanceof Promise?m.then(function(v){return[v,f,k]}):[m,f,k]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){qa(r)||Qo(8),gl(r)&&(r=zse(r));var o=t3(this),a=nE(this,r,void 0);return a[yn].C=!0,tE(o),a},e.finishDraft=function(r,o){var a=r&&r[yn],d=a.A;return JC(d,o),XC(void 0,d)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!s3&&Qo(20),this.O=r},e.applyPatches=function(r,o){var a;for(a=o.length-1;a>=0;a--){var d=o[a];if(d.path.length===0&&d.op==="replace"){r=d.value;break}}a>-1&&(o=o.slice(a+1));var f=Js("Patches").$;return gl(r)?f(r,o):this.produce(r,function(k){return f(k,o)})},t}(),Qi=new Hse,y9=Qi.produce;Qi.produceWithPatches.bind(Qi);Qi.setAutoFreeze.bind(Qi);Qi.setUseProxies.bind(Qi);Qi.applyPatches.bind(Qi);Qi.createDraft.bind(Qi);Qi.finishDraft.bind(Qi);function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function Wse(t,e){if(jm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e||"default");if(jm(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qse(t){var e=Wse(t,"string");return jm(e)==="symbol"?e:String(e)}function Gse(t,e,r){return e=qse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function l3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c3(Object(r),!0).forEach(function(o){Gse(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function Vr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var u3=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),n1=function(){return Math.random().toString(36).substring(7).split("").join(".")},tv={INIT:"@@redux/INIT"+n1(),REPLACE:"@@redux/REPLACE"+n1(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+n1()}};function Yse(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function _9(t,e,r){var o;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Vr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Vr(1));return r(_9)(t,e)}if(typeof t!="function")throw new Error(Vr(2));var a=t,d=e,f=[],k=f,m=!1;function v(){k===f&&(k=f.slice())}function A(){if(m)throw new Error(Vr(3));return d}function x(M){if(typeof M!="function")throw new Error(Vr(4));if(m)throw new Error(Vr(5));var B=!0;return v(),k.push(M),function(){if(B){if(m)throw new Error(Vr(6));B=!1,v();var L=k.indexOf(M);k.splice(L,1),f=null}}}function _(M){if(!Yse(M))throw new Error(Vr(7));if(typeof M.type>"u")throw new Error(Vr(8));if(m)throw new Error(Vr(9));try{m=!0,d=a(d,M)}finally{m=!1}for(var B=f=k,O=0;O<B.length;O++){var L=B[O];L()}return M}function T(M){if(typeof M!="function")throw new Error(Vr(10));a=M,_({type:tv.REPLACE})}function D(){var M,B=x;return M={subscribe:function(L){if(typeof L!="object"||L===null)throw new Error(Vr(11));function z(){L.next&&L.next(A())}z();var Y=B(z);return{unsubscribe:Y}}},M[u3]=function(){return this},M}return _({type:tv.INIT}),o={dispatch:_,subscribe:x,getState:A,replaceReducer:T},o[u3]=D,o}function Kse(t){Object.keys(t).forEach(function(e){var r=t[e],o=r(void 0,{type:tv.INIT});if(typeof o>"u")throw new Error(Vr(12));if(typeof r(void 0,{type:tv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Vr(13))})}function Qse(t){for(var e=Object.keys(t),r={},o=0;o<e.length;o++){var a=e[o];typeof t[a]=="function"&&(r[a]=t[a])}var d=Object.keys(r),f;try{Kse(r)}catch(k){f=k}return function(m,v){if(m===void 0&&(m={}),f)throw f;for(var A=!1,x={},_=0;_<d.length;_++){var T=d[_],D=r[T],M=m[T],B=D(M,v);if(typeof B>"u")throw v&&v.type,new Error(Vr(14));x[T]=B,A=A||B!==M}return A=A||d.length!==Object.keys(m).length,A?x:m}}function nv(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(o){return o}:e.length===1?e[0]:e.reduce(function(o,a){return function(){return o(a.apply(void 0,arguments))}})}function Zse(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(o){return function(){var a=o.apply(void 0,arguments),d=function(){throw new Error(Vr(15))},f={getState:a.getState,dispatch:function(){return d.apply(void 0,arguments)}},k=e.map(function(m){return m(f)});return d=nv.apply(void 0,k)(a.dispatch),l3(l3({},a),{},{dispatch:d})}}}function A9(t){var e=function(o){var a=o.dispatch,d=o.getState;return function(f){return function(k){return typeof k=="function"?k(a,d,t):f(k)}}};return e}var C9=A9();C9.withExtraArgument=A9;const d3=C9;var x9=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function o(){this.constructor=e}e.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),Jse=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,a,d,f;return f={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function k(v){return function(A){return m([v,A])}}function m(v){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,a&&(d=v[0]&2?a.return:v[0]?a.throw||((d=a.return)&&d.call(a),0):a.next)&&!(d=d.call(a,v[1])).done)return d;switch(a=0,d&&(v=[v[0]&2,d.value]),v[0]){case 0:case 1:d=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,a=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!d||v[1]>d[0]&&v[1]<d[3])){r.label=v[1];break}if(v[0]===6&&r.label<d[1]){r.label=d[1],d=v;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(v);break}d[2]&&r.ops.pop(),r.trys.pop();continue}v=e.call(t,r)}catch(A){v=[6,A],a=0}finally{o=d=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},xf=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,o=e.length,a=t.length;r<o;r++,a++)t[a]=e[r];return t},Xse=Object.defineProperty,eae=Object.defineProperties,tae=Object.getOwnPropertyDescriptors,h3=Object.getOwnPropertySymbols,nae=Object.prototype.hasOwnProperty,rae=Object.prototype.propertyIsEnumerable,f3=function(t,e,r){return e in t?Xse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},ol=function(t,e){for(var r in e||(e={}))nae.call(e,r)&&f3(t,r,e[r]);if(h3)for(var o=0,a=h3(e);o<a.length;o++){var r=a[o];rae.call(e,r)&&f3(t,r,e[r])}return t},r1=function(t,e){return eae(t,tae(e))},iae=function(t,e,r){return new Promise(function(o,a){var d=function(m){try{k(r.next(m))}catch(v){a(v)}},f=function(m){try{k(r.throw(m))}catch(v){a(v)}},k=function(m){return m.done?o(m.value):Promise.resolve(m.value).then(d,f)};k((r=r.apply(t,e)).next())})},oae=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nv:nv.apply(null,arguments)};function sae(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}var aae=function(t){x9(e,t);function e(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var a=t.apply(this,r)||this;return Object.setPrototypeOf(a,e.prototype),a}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,xf([void 0],r[0].concat(this)))):new(e.bind.apply(e,xf([void 0],r.concat(this))))},e}(Array),cae=function(t){x9(e,t);function e(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var a=t.apply(this,r)||this;return Object.setPrototypeOf(a,e.prototype),a}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,xf([void 0],r[0].concat(this)))):new(e.bind.apply(e,xf([void 0],r.concat(this))))},e}(Array);function iE(t){return qa(t)?y9(t,function(){}):t}function lae(t){return typeof t=="boolean"}function uae(){return function(e){return dae(e)}}function dae(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var o=new aae;return r&&(lae(r)?o.push(d3):o.push(d3.withExtraArgument(r.extraArgument))),o}var hae=!0;function fae(t){var e=uae(),r=t||{},o=r.reducer,a=o===void 0?void 0:o,d=r.middleware,f=d===void 0?e():d,k=r.devTools,m=k===void 0?!0:k,v=r.preloadedState,A=v===void 0?void 0:v,x=r.enhancers,_=x===void 0?void 0:x,T;if(typeof a=="function")T=a;else if(sae(a))T=Qse(a);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var D=f;typeof D=="function"&&(D=D(e));var M=Zse.apply(void 0,D),B=nv;m&&(B=oae(ol({trace:!hae},typeof m=="object"&&m)));var O=new cae(M),L=O;Array.isArray(_)?L=xf([M],_):typeof _=="function"&&(L=_(O));var z=B.apply(void 0,L);return _9(T,A,z)}function sl(t,e){function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(e){var d=e.apply(void 0,o);if(!d)throw new Error("prepareAction did not return an object");return ol(ol({type:t,payload:d.payload},"meta"in d&&{meta:d.meta}),"error"in d&&{error:d.error})}return{type:t,payload:o[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(o){return o.type===t},r}function E9(t){var e={},r=[],o,a={addCase:function(d,f){var k=typeof d=="string"?d:d.type;if(k in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[k]=f,a},addMatcher:function(d,f){return r.push({matcher:d,reducer:f}),a},addDefaultCase:function(d){return o=d,a}};return t(a),[e,r,o]}function pae(t){return typeof t=="function"}function gae(t,e,r,o){r===void 0&&(r=[]);var a=typeof e=="function"?E9(e):[e,r,o],d=a[0],f=a[1],k=a[2],m;if(pae(t))m=function(){return iE(t())};else{var v=iE(t);m=function(){return v}}function A(x,_){x===void 0&&(x=m());var T=xf([d[_.type]],f.filter(function(D){var M=D.matcher;return M(_)}).map(function(D){var M=D.reducer;return M}));return T.filter(function(D){return!!D}).length===0&&(T=[k]),T.reduce(function(D,M){if(M)if(gl(D)){var B=D,O=M(B,_);return O===void 0?D:O}else{if(qa(D))return y9(D,function(L){return M(L,_)});var O=M(D,_);if(O===void 0){if(D===null)return D;throw Error("A case reducer on a non-draftable value must not return undefined")}return O}return D},x)}return A.getInitialState=m,A}function mae(t,e){return t+"/"+e}function S9(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof t.initialState=="function"?t.initialState:iE(t.initialState),o=t.reducers||{},a=Object.keys(o),d={},f={},k={};a.forEach(function(A){var x=o[A],_=mae(e,A),T,D;"reducer"in x?(T=x.reducer,D=x.prepare):T=x,d[A]=T,f[_]=T,k[A]=D?sl(_,D):sl(_)});function m(){var A=typeof t.extraReducers=="function"?E9(t.extraReducers):[t.extraReducers],x=A[0],_=x===void 0?{}:x,T=A[1],D=T===void 0?[]:T,M=A[2],B=M===void 0?void 0:M,O=ol(ol({},_),f);return gae(r,function(L){for(var z in O)L.addCase(z,O[z]);for(var Y=0,X=D;Y<X.length;Y++){var ne=X[Y];L.addMatcher(ne.matcher,ne.reducer)}B&&L.addDefaultCase(B)})}var v;return{name:e,reducer:function(A,x){return v||(v=m()),v(A,x)},actions:k,caseReducers:d,getInitialState:function(){return v||(v=m()),v.getInitialState()}}}var kae="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",bae=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=kae[Math.random()*64|0];return e},wae=["name","message","stack","code"],i1=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),p3=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),vae=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,o=wae;r<o.length;r++){var a=o[r];typeof t[a]=="string"&&(e[a]=t[a])}return e}return{message:String(t)}},yae=function(){function t(e,r,o){var a=sl(e+"/fulfilled",function(v,A,x,_){return{payload:v,meta:r1(ol({},_||{}),{arg:x,requestId:A,requestStatus:"fulfilled"})}}),d=sl(e+"/pending",function(v,A,x){return{payload:void 0,meta:r1(ol({},x||{}),{arg:A,requestId:v,requestStatus:"pending"})}}),f=sl(e+"/rejected",function(v,A,x,_,T){return{payload:_,error:(o&&o.serializeError||vae)(v||"Rejected"),meta:r1(ol({},T||{}),{arg:x,requestId:A,rejectedWithValue:!!_,requestStatus:"rejected",aborted:(v==null?void 0:v.name)==="AbortError",condition:(v==null?void 0:v.name)==="ConditionError"})}}),k=typeof AbortController<"u"?AbortController:function(){function v(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return v.prototype.abort=function(){},v}();function m(v){return function(A,x,_){var T=o!=null&&o.idGenerator?o.idGenerator(v):bae(),D=new k,M;function B(L){M=L,D.abort()}var O=function(){return iae(this,null,function(){var L,z,Y,X,ne,Z,V;return Jse(this,function(se){switch(se.label){case 0:return se.trys.push([0,4,,5]),X=(L=o==null?void 0:o.condition)==null?void 0:L.call(o,v,{getState:x,extra:_}),Aae(X)?[4,X]:[3,2];case 1:X=se.sent(),se.label=2;case 2:if(X===!1||D.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return ne=new Promise(function(ie,he){return D.signal.addEventListener("abort",function(){return he({name:"AbortError",message:M||"Aborted"})})}),A(d(T,v,(z=o==null?void 0:o.getPendingMeta)==null?void 0:z.call(o,{requestId:T,arg:v},{getState:x,extra:_}))),[4,Promise.race([ne,Promise.resolve(r(v,{dispatch:A,getState:x,extra:_,requestId:T,signal:D.signal,abort:B,rejectWithValue:function(ie,he){return new i1(ie,he)},fulfillWithValue:function(ie,he){return new p3(ie,he)}})).then(function(ie){if(ie instanceof i1)throw ie;return ie instanceof p3?a(ie.payload,T,v,ie.meta):a(ie,T,v)})])];case 3:return Y=se.sent(),[3,5];case 4:return Z=se.sent(),Y=Z instanceof i1?f(null,T,v,Z.payload,Z.meta):f(Z,T,v),[3,5];case 5:return V=o&&!o.dispatchConditionRejection&&f.match(Y)&&Y.meta.condition,V||A(Y),[2,Y]}})})}();return Object.assign(O,{abort:B,requestId:T,arg:v,unwrap:function(){return O.then(_ae)}})}}return Object.assign(m,{pending:d,rejected:f,fulfilled:a,typePrefix:e})}return t.withTypes=function(){return t},t}();function _ae(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Aae(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var X2="listenerMiddleware";sl(X2+"/add");sl(X2+"/removeAll");sl(X2+"/remove");var g3;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Fse();const Cae={value:""},T9=S9({name:"user",initialState:Cae,reducers:{setCurrentUser:(t,e)=>{t.value=e.payload}}}),{setCurrentUser:xae}=T9.actions,D9=()=>t=>{OS(qu,e=>{e?t(xae(e)):console.log("Unable to get current user")})},Eae=T9.reducer,Sae={value:[],status:"idle",error:null},Y0=yae("note/notesFetch",async t=>{try{const e=L2(Kw(ef,"notes"),B2("uid","==",t));return(await z2(e)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){throw e}}),Tae=S9({name:"note",initialState:Sae,reducers:{},extraReducers:{[Y0.pending]:(t,e)=>{t.status="pending"},[Y0.fulfilled]:(t,e)=>{t.status="success",t.value=e.payload},[Y0.rejected]:(t,e)=>{t.status="rejected",t.error=e.error.message}}}),Dae=Tae.reducer;/**
 * @remix-run/router v1.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},rv.apply(this,arguments)}var Wc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wc||(Wc={}));const m3="popstate";function Iae(t){t===void 0&&(t={});function e(o,a){let{pathname:d,search:f,hash:k}=o.location;return oE("",{pathname:d,search:f,hash:k},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(o,a){return typeof a=="string"?a:sE(a)}return Nae(e,r,null,t)}function Mae(){return Math.random().toString(36).substr(2,8)}function k3(t){return{usr:t.state,key:t.key}}function oE(t,e,r,o){return r===void 0&&(r=null),rv({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hf(e):e,{state:r,key:e&&e.key||o||Mae()})}function sE(t){let{pathname:e="/",search:r="",hash:o=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function Hf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let o=t.indexOf("?");o>=0&&(e.search=t.substr(o),t=t.substr(0,o)),t&&(e.pathname=t)}return e}function Nae(t,e,r,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:d=!1}=o,f=a.history,k=Wc.Pop,m=null;function v(){k=Wc.Pop,m&&m({action:k,location:_.location})}function A(T,D){k=Wc.Push;let M=oE(_.location,T,D);r&&r(M,T);let B=k3(M),O=_.createHref(M);try{f.pushState(B,"",O)}catch{a.location.assign(O)}d&&m&&m({action:k,location:M})}function x(T,D){k=Wc.Replace;let M=oE(_.location,T,D);r&&r(M,T);let B=k3(M),O=_.createHref(M);f.replaceState(B,"",O),d&&m&&m({action:k,location:M})}let _={get action(){return k},get location(){return t(a,f)},listen(T){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(m3,v),m=T,()=>{a.removeEventListener(m3,v),m=null}},createHref(T){return e(a,T)},push:A,replace:x,go(T){return f.go(T)}};return _}var b3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(b3||(b3={}));function Pae(t,e,r){r===void 0&&(r="/");let o=typeof e=="string"?Hf(e):e,a=M9(o.pathname||"/",r);if(a==null)return null;let d=I9(t);Oae(d);let f=null;for(let k=0;f==null&&k<d.length;++k)f=Uae(d[k],a);return f}function I9(t,e,r,o){return e===void 0&&(e=[]),r===void 0&&(r=[]),o===void 0&&(o=""),t.forEach((a,d)=>{let f={relativePath:a.path||"",caseSensitive:a.caseSensitive===!0,childrenIndex:d,route:a};f.relativePath.startsWith("/")&&(tr(f.relativePath.startsWith(o),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(o.length));let k=al([o,f.relativePath]),m=r.concat(f);a.children&&a.children.length>0&&(tr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+k+'".')),I9(a.children,e,m,k)),!(a.path==null&&!a.index)&&e.push({path:k,score:$ae(k,a.index),routesMeta:m})}),e}function Oae(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Vae(e.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const Rae=/^:\w+$/,Lae=3,Bae=2,jae=1,zae=10,Fae=-2,w3=t=>t==="*";function $ae(t,e){let r=t.split("/"),o=r.length;return r.some(w3)&&(o+=Fae),e&&(o+=Bae),r.filter(a=>!w3(a)).reduce((a,d)=>a+(Rae.test(d)?Lae:d===""?jae:zae),o)}function Vae(t,e){return t.length===e.length&&t.slice(0,-1).every((o,a)=>o===e[a])?t[t.length-1]-e[e.length-1]:0}function Uae(t,e){let{routesMeta:r}=t,o={},a="/",d=[];for(let f=0;f<r.length;++f){let k=r[f],m=f===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",A=eT({path:k.relativePath,caseSensitive:k.caseSensitive,end:m},v);if(!A)return null;Object.assign(o,A.params);let x=k.route;d.push({params:o,pathname:al([a,A.pathname]),pathnameBase:Yae(al([a,A.pathnameBase])),route:x}),A.pathnameBase!=="/"&&(a=al([a,A.pathnameBase]))}return d}function eT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,o]=Hae(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let d=a[0],f=d.replace(/(.)\/+$/,"$1"),k=a.slice(1);return{params:o.reduce((v,A,x)=>{if(A==="*"){let _=k[x]||"";f=d.slice(0,d.length-_.length).replace(/(.)\/+$/,"$1")}return v[A]=Wae(k[x]||"",A),v},{}),pathname:d,pathnameBase:f,pattern:t}}function Hae(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),N9(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(f,k)=>(o.push(k),"([^\\/]+)"));return t.endsWith("*")?(o.push("*"),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),o]}function Wae(t,e){try{return decodeURIComponent(t)}catch(r){return N9(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function M9(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,o=t.charAt(r);return o&&o!=="/"?null:t.slice(r)||"/"}function tr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function N9(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qae(t,e){e===void 0&&(e="/");let{pathname:r,search:o="",hash:a=""}=typeof t=="string"?Hf(t):t;return{pathname:r?r.startsWith("/")?r:Gae(r,e):e,search:Kae(o),hash:Qae(a)}}function Gae(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function o1(t,e,r,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P9(t,e,r,o){o===void 0&&(o=!1);let a;typeof t=="string"?a=Hf(t):(a=rv({},t),tr(!a.pathname||!a.pathname.includes("?"),o1("?","pathname","search",a)),tr(!a.pathname||!a.pathname.includes("#"),o1("#","pathname","hash",a)),tr(!a.search||!a.search.includes("#"),o1("#","search","hash",a)));let d=t===""||a.pathname==="",f=d?"/":a.pathname,k;if(o||f==null)k=r;else{let x=e.length-1;if(f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),x-=1;a.pathname=_.join("/")}k=x>=0?e[x]:"/"}let m=qae(a,k),v=f&&f!=="/"&&f.endsWith("/"),A=(d||f===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(v||A)&&(m.pathname+="/"),m}const al=t=>t.join("/").replace(/\/\/+/g,"/"),Yae=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Kae=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qae=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Zae{constructor(e,r,o){this.status=e,this.statusText=r||"",this.data=o}}function Jae(t){return t instanceof Zae}/**
 * React Router v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aE(){return aE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},aE.apply(this,arguments)}function Xae(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const ece=typeof Object.is=="function"?Object.is:Xae,{useState:tce,useEffect:nce,useLayoutEffect:rce,useDebugValue:ice}=tm;function oce(t,e,r){const o=e(),[{inst:a},d]=tce({inst:{value:o,getSnapshot:e}});return rce(()=>{a.value=o,a.getSnapshot=e,s1(a)&&d({inst:a})},[t,o,e]),nce(()=>(s1(a)&&d({inst:a}),t(()=>{s1(a)&&d({inst:a})})),[t]),ice(o),o}function s1(t){const e=t.getSnapshot,r=t.value;try{const o=e();return!ece(r,o)}catch{return!0}}function sce(t,e,r){return e()}const ace=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cce=!ace,lce=cce?sce:oce;"useSyncExternalStore"in tm&&(t=>t.useSyncExternalStore)(tm);const uce=G.createContext(null),dce=G.createContext(null),Sy=G.createContext(null),tT=G.createContext(null),Ty=G.createContext(null),nd=G.createContext({outlet:null,matches:[]}),O9=G.createContext(null);function hce(t,e){let{relative:r}=e===void 0?{}:e;rd()||tr(!1);let{basename:o,navigator:a}=G.useContext(tT),{hash:d,pathname:f,search:k}=iv(t,{relative:r}),m=f;return o!=="/"&&(m=f==="/"?o:al([o,f])),a.createHref({pathname:m,search:k,hash:d})}function rd(){return G.useContext(Ty)!=null}function xk(){return rd()||tr(!1),G.useContext(Ty).location}function fce(t){rd()||tr(!1);let{pathname:e}=xk();return G.useMemo(()=>eT(t,e),[e,t])}function R9(t){return t.filter((e,r)=>r===0||!e.route.index&&e.pathnameBase!==t[r-1].pathnameBase)}function id(){rd()||tr(!1);let{basename:t,navigator:e}=G.useContext(tT),{matches:r}=G.useContext(nd),{pathname:o}=xk(),a=JSON.stringify(R9(r).map(k=>k.pathnameBase)),d=G.useRef(!1);return G.useEffect(()=>{d.current=!0}),G.useCallback(function(k,m){if(m===void 0&&(m={}),!d.current)return;if(typeof k=="number"){e.go(k);return}let v=P9(k,JSON.parse(a),o,m.relative==="path");t!=="/"&&(v.pathname=v.pathname==="/"?t:al([t,v.pathname])),(m.replace?e.replace:e.push)(v,m.state,m)},[t,e,a,o])}const pce=G.createContext(null);function gce(t){let e=G.useContext(nd).outlet;return e&&G.createElement(pce.Provider,{value:t},e)}function mce(){let{matches:t}=G.useContext(nd),e=t[t.length-1];return e?e.params:{}}function iv(t,e){let{relative:r}=e===void 0?{}:e,{matches:o}=G.useContext(nd),{pathname:a}=xk(),d=JSON.stringify(R9(o).map(f=>f.pathnameBase));return G.useMemo(()=>P9(t,JSON.parse(d),a,r==="path"),[t,d,a,r])}function kce(t,e){rd()||tr(!1);let r=G.useContext(Sy),{matches:o}=G.useContext(nd),a=o[o.length-1],d=a?a.params:{};a&&a.pathname;let f=a?a.pathnameBase:"/";a&&a.route;let k=xk(),m;if(e){var v;let D=typeof e=="string"?Hf(e):e;f==="/"||(v=D.pathname)!=null&&v.startsWith(f)||tr(!1),m=D}else m=k;let A=m.pathname||"/",x=f==="/"?A:A.slice(f.length)||"/",_=Pae(t,{pathname:x}),T=yce(_&&_.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:al([f,D.pathname]),pathnameBase:D.pathnameBase==="/"?f:al([f,D.pathnameBase])})),o,r||void 0);return e?G.createElement(Ty.Provider,{value:{location:aE({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Wc.Pop}},T):T}function bce(){let t=Ace(),e=Jae(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unhandled Thrown Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),r?G.createElement("pre",{style:a},r):null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:d},"errorElement")," props on ",G.createElement("code",{style:d},"<Route>")))}class wce extends G.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location?{error:e.error,location:e.location}:{error:e.error||r.error,location:r.location}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?G.createElement(O9.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function vce(t){let{routeContext:e,match:r,children:o}=t,a=G.useContext(uce);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),G.createElement(nd.Provider,{value:e},o)}function yce(t,e,r){if(e===void 0&&(e=[]),t==null)if(r!=null&&r.errors)t=r.matches;else return null;let o=t,a=r==null?void 0:r.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));d>=0||tr(!1),o=o.slice(0,Math.min(o.length,d+1))}return o.reduceRight((d,f,k)=>{let m=f.route.id?a==null?void 0:a[f.route.id]:null,v=r?f.route.errorElement||G.createElement(bce,null):null,A=()=>G.createElement(vce,{match:f,routeContext:{outlet:d,matches:e.concat(o.slice(0,k+1))}},m?v:f.route.element!==void 0?f.route.element:d);return r&&(f.route.errorElement||k===0)?G.createElement(wce,{location:r.location,component:v,error:m,children:A()}):A()},null)}var v3;(function(t){t.UseRevalidator="useRevalidator"})(v3||(v3={}));var cE;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(cE||(cE={}));function _ce(t){let e=G.useContext(Sy);return e||tr(!1),e}function Ace(){var t;let e=G.useContext(O9),r=_ce(cE.UseRouteError),o=G.useContext(nd),a=o.matches[o.matches.length-1];return e||(o||tr(!1),a.route.id||tr(!1),(t=r.errors)==null?void 0:t[a.route.id])}function Cce(t){let{to:e,replace:r,state:o,relative:a}=t;rd()||tr(!1);let d=G.useContext(Sy),f=id();return G.useEffect(()=>{d&&d.navigation.state!=="idle"||f(e,{replace:r,state:o,relative:a})}),null}function xce(t){return gce(t.context)}function Ca(t){tr(!1)}function Ece(t){let{basename:e="/",children:r=null,location:o,navigationType:a=Wc.Pop,navigator:d,static:f=!1}=t;rd()&&tr(!1);let k=e.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:k,navigator:d,static:f}),[k,d,f]);typeof o=="string"&&(o=Hf(o));let{pathname:v="/",search:A="",hash:x="",state:_=null,key:T="default"}=o,D=G.useMemo(()=>{let M=M9(v,k);return M==null?null:{pathname:M,search:A,hash:x,state:_,key:T}},[k,v,A,x,_,T]);return D==null?null:G.createElement(tT.Provider,{value:m},G.createElement(Ty.Provider,{children:r,value:{location:D,navigationType:a}}))}function Sce(t){let{children:e,location:r}=t,o=G.useContext(dce),a=o&&!e?o.router.routes:lE(e);return kce(a,r)}var y3;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(y3||(y3={}));new Promise(()=>{});function lE(t,e){e===void 0&&(e=[]);let r=[];return G.Children.forEach(t,(o,a)=>{if(!G.isValidElement(o))return;if(o.type===G.Fragment){r.push.apply(r,lE(o.props.children,e));return}o.type!==Ca&&tr(!1),!o.props.index||!o.props.children||tr(!1);let d=[...e,a],f={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,hasErrorBoundary:o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle};o.props.children&&(f.children=lE(o.props.children,d)),r.push(f)}),r}/**
 * React Router DOM v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ov.apply(this,arguments)}function L9(t,e){if(t==null)return{};var r={},o=Object.keys(t),a,d;for(d=0;d<o.length;d++)a=o[d],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Tce(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Dce(t,e){return t.button===0&&(!e||e==="_self")&&!Tce(t)}const Ice=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Mce=["aria-current","caseSensitive","className","end","style","to","children"];function Nce(t){let{basename:e,children:r,window:o}=t,a=G.useRef();a.current==null&&(a.current=Iae({window:o,v5Compat:!0}));let d=a.current,[f,k]=G.useState({action:d.action,location:d.location});return G.useLayoutEffect(()=>d.listen(k),[d]),G.createElement(Ece,{basename:e,children:r,location:f.location,navigationType:f.action,navigator:d})}const Pce=G.forwardRef(function(e,r){let{onClick:o,relative:a,reloadDocument:d,replace:f,state:k,target:m,to:v,preventScrollReset:A}=e,x=L9(e,Ice),_=hce(v,{relative:a}),T=Oce(v,{replace:f,state:k,target:m,preventScrollReset:A,relative:a});function D(M){o&&o(M),M.defaultPrevented||T(M)}return G.createElement("a",ov({},x,{href:_,onClick:d?o:D,ref:r,target:m}))}),Xs=G.forwardRef(function(e,r){let{"aria-current":o="page",caseSensitive:a=!1,className:d="",end:f=!1,style:k,to:m,children:v}=e,A=L9(e,Mce),x=iv(m),_=fce({path:x.pathname,end:f,caseSensitive:a}),T=G.useContext(Sy),D=T==null?void 0:T.navigation.location,M=iv(D||""),O=G.useMemo(()=>D?eT({path:x.pathname,end:f,caseSensitive:a},M.pathname):null,[D,x.pathname,a,f,M.pathname])!=null,L=_!=null,z=L?o:void 0,Y;typeof d=="function"?Y=d({isActive:L,isPending:O}):Y=[d,L?"active":null,O?"pending":null].filter(Boolean).join(" ");let X=typeof k=="function"?k({isActive:L,isPending:O}):k;return G.createElement(Pce,ov({},A,{"aria-current":z,className:Y,ref:r,style:X,to:m}),typeof v=="function"?v({isActive:L,isPending:O}):v)});var _3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(_3||(_3={}));var A3;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(A3||(A3={}));function Oce(t,e){let{target:r,replace:o,state:a,preventScrollReset:d,relative:f}=e===void 0?{}:e,k=id(),m=xk(),v=iv(t,{relative:f});return G.useCallback(A=>{if(Dce(A,r)){A.preventDefault();let x=o!==void 0?o:sE(m)===sE(v);k(t,{replace:x,state:a,preventScrollReset:d,relative:f})}},[m,k,v,o,a,r,t,d,f])}const Rce=()=>{const[t,e]=G.useState(25),[r,o]=G.useState(5),[a,d]=G.useState(!1),[f,k]=G.useState("Work"),[m,v]=G.useState(t*60),[A,x]=G.useState(r*60),_=M=>{const B=Math.floor(M/60),O=M%60;return`${B.toString().padStart(2,"0")}m : ${O.toString().padStart(2,"0")}s`},T=()=>{d(M=>!M)},D=()=>{d(!1),k("Work"),v(t*60),x(r*60)};return G.useEffect(()=>{let M;return a&&m>0?M=setInterval(()=>{v(B=>B-1)},1e3):m===0&&(clearInterval(M),T(),f==="Work"?(k("Break"),v(A)):(k("Work"),v(t))),()=>{clearInterval(M)}},[a,m,f,t,r]),W.jsxs(Zj,{className:"text-center pb-16",children:[W.jsx(yi,{className:"font-semibold text-xl",children:"Ready, set, focus!"}),W.jsx(yi,{className:"text-sm pt-2",children:"Achieve your daily goals and get more done using the Pomodoro Technique"}),W.jsx("div",{className:"flex justify-center items-center mt-8",children:W.jsx("div",{className:"py-2 px-4 rounded-md border-b border-x-0 border-x-white border-t-0 border-t-white border-white ",children:W.jsx("div",{className:"px-4 flex space-x-4 rounded-md",children:W.jsx("div",{className:"flex flex-col",children:W.jsx("span",{className:"text-4xl font-semibold",children:_(m)})})})})}),W.jsxs(yi,{className:"text-sm mt-6",children:[f==="Work"&&W.jsx("span",{children:"It's time work"}),f==="Break"&&W.jsx("span",{children:"Time to take some rest"})]}),W.jsxs("div",{className:"flex flex-col",children:[W.jsx(px,{onClick:T,className:"mt-6 w-auto px-10 mx-auto",children:a?"Pause session":"Start session"}),W.jsx(px,{onClick:D,className:"mt-6 w-auto mx-auto",children:"Reset"})]})]})},Lce=()=>{const t=Zw(d=>d.user.value),{value:e,status:r}=Zw(d=>d.note),o=m9(),a=id();return G.useEffect(()=>{const d=setInterval(()=>{},1e3);return()=>clearInterval(d)},[]),G.useEffect(()=>{o(D9())},[o]),G.useEffect(()=>{o(Y0(t.uid))},[o,t.uid]),W.jsx("section",{className:"text-white pt-10 pb-24 px-3  md:pt-10 md:pb-20",children:W.jsxs("section",{className:"grid grid-cols-1 space-y-6 md:space-y-0 md:gap-4",children:[W.jsx(Rce,{}),W.jsxs(Zj,{className:"py-4 col-span-2",children:[W.jsxs("div",{className:"flex justify-between",children:[W.jsx(yi,{className:"text-lg font-semibold mb-10",children:"Notes"}),W.jsx("div",{className:"text-2xl cursor-pointer",onClick:()=>a("/notes"),children:"+"})]}),W.jsx("section",{className:"flex justify-center items-center text-center",children:W.jsxs("div",{children:[W.jsx(yi,{className:"font-bold text-2xl",children:"Stay focused"}),W.jsx(yi,{className:"pt-2 pb-6 text-sm",children:"Add notes while on your focus sessions"}),W.jsx(px,{onClick:()=>a("/notes"),children:"Add note"})]})}),W.jsx("div",{className:"mt-20",children:W.jsx("div",{className:"grid grid-container gap-x-4 gap-y-6 w-full",children:e.slice(0,4).map(d=>W.jsxs("div",{className:"relative todo-weekly rounded-lg shadow-md",children:[W.jsx(yi,{style:{fontSize:"10px"},className:"text-right px-2",children:d.dateCreated}),W.jsx("div",{className:"pt-2 border-b border-sidebar"}),d.notes.length>=257?W.jsx("div",{style:{wordWrap:"break-word"},className:"p-2 text-xs",dangerouslySetInnerHTML:{__html:d.notes.substring(0,257)+" . . ."}}):W.jsx("div",{style:{wordWrap:"break-word"},className:"p-2 text-xs",dangerouslySetInnerHTML:{__html:d.notes}}),W.jsx("div",{})]},d.id))})})]})]})})};var B9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},C3=wi.createContext&&wi.createContext(B9),cl=globalThis&&globalThis.__assign||function(){return cl=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},cl.apply(this,arguments)},Bce=globalThis&&globalThis.__rest||function(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(r[o[a]]=t[o[a]]);return r};function j9(t){return t&&t.map(function(e,r){return wi.createElement(e.tag,cl({key:r},e.attr),j9(e.child))})}function od(t){return function(e){return wi.createElement(jce,cl({attr:cl({},t.attr)},e),j9(t.child))}}function jce(t){var e=function(r){var o=t.attr,a=t.size,d=t.title,f=Bce(t,["attr","size","title"]),k=a||r.size||"1em",m;return r.className&&(m=r.className),t.className&&(m=(m?m+" ":"")+t.className),wi.createElement("svg",cl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,o,f,{className:m,style:cl(cl({color:t.color||r.color},r.style),t.style),height:k,width:k,xmlns:"http://www.w3.org/2000/svg"}),d&&wi.createElement("title",null,d),t.children)};return C3!==void 0?wi.createElement(C3.Consumer,null,function(r){return e(r)}):e(B9)}function zce(t){return od({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"}}]})(t)}function Fce(t){return od({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"}}]})(t)}function $ce(t){return od({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"}}]})(t)}function Vce(t){return od({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(t)}function Uce(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var z9={exports:{}};(function(t,e){(function(r,o){t.exports=o()})(bi,function(){var r;function o(){return r.apply(null,arguments)}function a(b){r=b}function d(b){return b instanceof Array||Object.prototype.toString.call(b)==="[object Array]"}function f(b){return b!=null&&Object.prototype.toString.call(b)==="[object Object]"}function k(b,E){return Object.prototype.hasOwnProperty.call(b,E)}function m(b){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(b).length===0;var E;for(E in b)if(k(b,E))return!1;return!0}function v(b){return b===void 0}function A(b){return typeof b=="number"||Object.prototype.toString.call(b)==="[object Number]"}function x(b){return b instanceof Date||Object.prototype.toString.call(b)==="[object Date]"}function _(b,E){var I=[],R,U=b.length;for(R=0;R<U;++R)I.push(E(b[R],R));return I}function T(b,E){for(var I in E)k(E,I)&&(b[I]=E[I]);return k(E,"toString")&&(b.toString=E.toString),k(E,"valueOf")&&(b.valueOf=E.valueOf),b}function D(b,E,I,R){return Rd(b,E,I,R,!0).utc()}function M(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function B(b){return b._pf==null&&(b._pf=M()),b._pf}var O;Array.prototype.some?O=Array.prototype.some:O=function(b){var E=Object(this),I=E.length>>>0,R;for(R=0;R<I;R++)if(R in E&&b.call(this,E[R],R,E))return!0;return!1};function L(b){if(b._isValid==null){var E=B(b),I=O.call(E.parsedDateParts,function(U){return U!=null}),R=!isNaN(b._d.getTime())&&E.overflow<0&&!E.empty&&!E.invalidEra&&!E.invalidMonth&&!E.invalidWeekday&&!E.weekdayMismatch&&!E.nullInput&&!E.invalidFormat&&!E.userInvalidated&&(!E.meridiem||E.meridiem&&I);if(b._strict&&(R=R&&E.charsLeftOver===0&&E.unusedTokens.length===0&&E.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(b))b._isValid=R;else return R}return b._isValid}function z(b){var E=D(NaN);return b!=null?T(B(E),b):B(E).userInvalidated=!0,E}var Y=o.momentProperties=[],X=!1;function ne(b,E){var I,R,U,Q=Y.length;if(v(E._isAMomentObject)||(b._isAMomentObject=E._isAMomentObject),v(E._i)||(b._i=E._i),v(E._f)||(b._f=E._f),v(E._l)||(b._l=E._l),v(E._strict)||(b._strict=E._strict),v(E._tzm)||(b._tzm=E._tzm),v(E._isUTC)||(b._isUTC=E._isUTC),v(E._offset)||(b._offset=E._offset),v(E._pf)||(b._pf=B(E)),v(E._locale)||(b._locale=E._locale),Q>0)for(I=0;I<Q;I++)R=Y[I],U=E[R],v(U)||(b[R]=U);return b}function Z(b){ne(this,b),this._d=new Date(b._d!=null?b._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),X===!1&&(X=!0,o.updateOffset(this),X=!1)}function V(b){return b instanceof Z||b!=null&&b._isAMomentObject!=null}function se(b){o.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+b)}function ie(b,E){var I=!0;return T(function(){if(o.deprecationHandler!=null&&o.deprecationHandler(null,b),I){var R=[],U,Q,ue,je=arguments.length;for(Q=0;Q<je;Q++){if(U="",typeof arguments[Q]=="object"){U+=`
[`+Q+"] ";for(ue in arguments[0])k(arguments[0],ue)&&(U+=ue+": "+arguments[0][ue]+", ");U=U.slice(0,-2)}else U=arguments[Q];R.push(U)}se(b+`
Arguments: `+Array.prototype.slice.call(R).join("")+`
`+new Error().stack),I=!1}return E.apply(this,arguments)},E)}var he={};function $e(b,E){o.deprecationHandler!=null&&o.deprecationHandler(b,E),he[b]||(se(E),he[b]=!0)}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null;function De(b){return typeof Function<"u"&&b instanceof Function||Object.prototype.toString.call(b)==="[object Function]"}function Re(b){var E,I;for(I in b)k(b,I)&&(E=b[I],De(E)?this[I]=E:this["_"+I]=E);this._config=b,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ge(b,E){var I=T({},b),R;for(R in E)k(E,R)&&(f(b[R])&&f(E[R])?(I[R]={},T(I[R],b[R]),T(I[R],E[R])):E[R]!=null?I[R]=E[R]:delete I[R]);for(R in b)k(b,R)&&!k(E,R)&&f(b[R])&&(I[R]=T({},I[R]));return I}function He(b){b!=null&&this.set(b)}var qe;Object.keys?qe=Object.keys:qe=function(b){var E,I=[];for(E in b)k(b,E)&&I.push(E);return I};var de={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function xe(b,E,I){var R=this._calendar[b]||this._calendar.sameElse;return De(R)?R.call(E,I):R}function we(b,E,I){var R=""+Math.abs(b),U=E-R.length,Q=b>=0;return(Q?I?"+":"":"-")+Math.pow(10,Math.max(0,U)).toString().substr(1)+R}var ee=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,oe=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,J={},pe={};function ce(b,E,I,R){var U=R;typeof R=="string"&&(U=function(){return this[R]()}),b&&(pe[b]=U),E&&(pe[E[0]]=function(){return we(U.apply(this,arguments),E[1],E[2])}),I&&(pe[I]=function(){return this.localeData().ordinal(U.apply(this,arguments),b)})}function Ne(b){return b.match(/\[[\s\S]/)?b.replace(/^\[|\]$/g,""):b.replace(/\\/g,"")}function Be(b){var E=b.match(ee),I,R;for(I=0,R=E.length;I<R;I++)pe[E[I]]?E[I]=pe[E[I]]:E[I]=Ne(E[I]);return function(U){var Q="",ue;for(ue=0;ue<R;ue++)Q+=De(E[ue])?E[ue].call(U,b):E[ue];return Q}}function Se(b,E){return b.isValid()?(E=_t(E,b.localeData()),J[E]=J[E]||Be(E),J[E](b)):b.localeData().invalidDate()}function _t(b,E){var I=5;function R(U){return E.longDateFormat(U)||U}for(oe.lastIndex=0;I>=0&&oe.test(b);)b=b.replace(oe,R),oe.lastIndex=0,I-=1;return b}var At={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function xt(b){var E=this._longDateFormat[b],I=this._longDateFormat[b.toUpperCase()];return E||!I?E:(this._longDateFormat[b]=I.match(ee).map(function(R){return R==="MMMM"||R==="MM"||R==="DD"||R==="dddd"?R.slice(1):R}).join(""),this._longDateFormat[b])}var ot="Invalid date";function Lt(){return this._invalidDate}var ht="%d",ut=/\d{1,2}/;function rr(b){return this._ordinal.replace("%d",b)}var Wt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ir(b,E,I,R){var U=this._relativeTime[I];return De(U)?U(b,E,I,R):U.replace(/%d/i,b)}function or(b,E){var I=this._relativeTime[b>0?"future":"past"];return De(I)?I(E):I.replace(/%s/i,E)}var Vn={};function an(b,E){var I=b.toLowerCase();Vn[I]=Vn[I+"s"]=Vn[E]=b}function re(b){return typeof b=="string"?Vn[b]||Vn[b.toLowerCase()]:void 0}function Ae(b){var E={},I,R;for(R in b)k(b,R)&&(I=re(R),I&&(E[I]=b[R]));return E}var Ie={};function Me(b,E){Ie[b]=E}function Qe(b){var E=[],I;for(I in b)k(b,I)&&E.push({unit:I,priority:Ie[I]});return E.sort(function(R,U){return R.priority-U.priority}),E}function Ye(b){return b%4===0&&b%100!==0||b%400===0}function et(b){return b<0?Math.ceil(b)||0:Math.floor(b)}function Ue(b){var E=+b,I=0;return E!==0&&isFinite(E)&&(I=et(E)),I}function dr(b,E){return function(I){return I!=null?(ai(this,b,I),o.updateOffset(this,E),this):Pr(this,b)}}function Pr(b,E){return b.isValid()?b._d["get"+(b._isUTC?"UTC":"")+E]():NaN}function ai(b,E,I){b.isValid()&&!isNaN(I)&&(E==="FullYear"&&Ye(b.year())&&b.month()===1&&b.date()===29?(I=Ue(I),b._d["set"+(b._isUTC?"UTC":"")+E](I,b.month(),tc(I,b.month()))):b._d["set"+(b._isUTC?"UTC":"")+E](I))}function Ja(b){return b=re(b),De(this[b])?this[b]():this}function os(b,E){if(typeof b=="object"){b=Ae(b);var I=Qe(b),R,U=I.length;for(R=0;R<U;R++)this[I[R].unit](b[I[R].unit])}else if(b=re(b),De(this[b]))return this[b](E);return this}var ss=/\d/,Un=/\d\d/,Si=/\d{3}/,sn=/\d{4}/,An=/[+-]?\d{6}/,Et=/\d\d?/,Cl=/\d\d\d\d?/,xl=/\d\d\d\d\d\d?/,as=/\d{1,3}/,El=/\d{1,4}/,Xa=/[+-]?\d{1,6}/,Do=/\d+/,ec=/[+-]?\d+/,cs=/Z|[+-]\d\d:?\d\d/gi,jn=/Z|[+-]\d\d(?::?\d\d)?/gi,Zf=/[+-]?\d+(\.\d{1,3})?/,Ti=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ci;ci={};function Le(b,E,I){ci[b]=De(E)?E:function(R,U){return R&&I?I:E}}function Jf(b,E){return k(ci,b)?ci[b](E._strict,E._locale):new RegExp(Xf(b))}function Xf(b){return yr(b.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(E,I,R,U,Q){return I||R||U||Q}))}function yr(b){return b.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var eo={};function kt(b,E){var I,R=E,U;for(typeof b=="string"&&(b=[b]),A(E)&&(R=function(Q,ue){ue[E]=Ue(Q)}),U=b.length,I=0;I<U;I++)eo[b[I]]=R}function to(b,E){kt(b,function(I,R,U,Q){U._w=U._w||{},E(I,U._w,U,Q)})}function ls(b,E,I){E!=null&&k(eo,b)&&eo[b](E,I._a,I,b)}var Hn=0,Di=1,Jr=2,Ft=3,_r=4,Xr=5,li=6,ep=7,no=8;function hd(b,E){return(b%E+E)%E}var un;Array.prototype.indexOf?un=Array.prototype.indexOf:un=function(b){var E;for(E=0;E<this.length;++E)if(this[E]===b)return E;return-1};function tc(b,E){if(isNaN(b)||isNaN(E))return NaN;var I=hd(E,12);return b+=(E-I)/12,I===1?Ye(b)?29:28:31-I%7%2}ce("M",["MM",2],"Mo",function(){return this.month()+1}),ce("MMM",0,0,function(b){return this.localeData().monthsShort(this,b)}),ce("MMMM",0,0,function(b){return this.localeData().months(this,b)}),an("month","M"),Me("month",8),Le("M",Et),Le("MM",Et,Un),Le("MMM",function(b,E){return E.monthsShortRegex(b)}),Le("MMMM",function(b,E){return E.monthsRegex(b)}),kt(["M","MM"],function(b,E){E[Di]=Ue(b)-1}),kt(["MMM","MMMM"],function(b,E,I,R){var U=I._locale.monthsParse(b,R,I._strict);U!=null?E[Di]=U:B(I).invalidMonth=b});var tp="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nc="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),fd=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pd=Ti,gd=Ti;function ro(b,E){return b?d(this._months)?this._months[b.month()]:this._months[(this._months.isFormat||fd).test(E)?"format":"standalone"][b.month()]:d(this._months)?this._months:this._months.standalone}function us(b,E){return b?d(this._monthsShort)?this._monthsShort[b.month()]:this._monthsShort[fd.test(E)?"format":"standalone"][b.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function oa(b,E,I){var R,U,Q,ue=b.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],R=0;R<12;++R)Q=D([2e3,R]),this._shortMonthsParse[R]=this.monthsShort(Q,"").toLocaleLowerCase(),this._longMonthsParse[R]=this.months(Q,"").toLocaleLowerCase();return I?E==="MMM"?(U=un.call(this._shortMonthsParse,ue),U!==-1?U:null):(U=un.call(this._longMonthsParse,ue),U!==-1?U:null):E==="MMM"?(U=un.call(this._shortMonthsParse,ue),U!==-1?U:(U=un.call(this._longMonthsParse,ue),U!==-1?U:null)):(U=un.call(this._longMonthsParse,ue),U!==-1?U:(U=un.call(this._shortMonthsParse,ue),U!==-1?U:null))}function np(b,E,I){var R,U,Q;if(this._monthsParseExact)return oa.call(this,b,E,I);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),R=0;R<12;R++){if(U=D([2e3,R]),I&&!this._longMonthsParse[R]&&(this._longMonthsParse[R]=new RegExp("^"+this.months(U,"").replace(".","")+"$","i"),this._shortMonthsParse[R]=new RegExp("^"+this.monthsShort(U,"").replace(".","")+"$","i")),!I&&!this._monthsParse[R]&&(Q="^"+this.months(U,"")+"|^"+this.monthsShort(U,""),this._monthsParse[R]=new RegExp(Q.replace(".",""),"i")),I&&E==="MMMM"&&this._longMonthsParse[R].test(b))return R;if(I&&E==="MMM"&&this._shortMonthsParse[R].test(b))return R;if(!I&&this._monthsParse[R].test(b))return R}}function Sl(b,E){var I;if(!b.isValid())return b;if(typeof E=="string"){if(/^\d+$/.test(E))E=Ue(E);else if(E=b.localeData().monthsParse(E),!A(E))return b}return I=Math.min(b.date(),tc(b.year(),E)),b._d["set"+(b._isUTC?"UTC":"")+"Month"](E,I),b}function $t(b){return b!=null?(Sl(this,b),o.updateOffset(this,!0),this):Pr(this,"Month")}function rp(){return tc(this.year(),this.month())}function Tl(b){return this._monthsParseExact?(k(this,"_monthsRegex")||ds.call(this),b?this._monthsShortStrictRegex:this._monthsShortRegex):(k(this,"_monthsShortRegex")||(this._monthsShortRegex=pd),this._monthsShortStrictRegex&&b?this._monthsShortStrictRegex:this._monthsShortRegex)}function md(b){return this._monthsParseExact?(k(this,"_monthsRegex")||ds.call(this),b?this._monthsStrictRegex:this._monthsRegex):(k(this,"_monthsRegex")||(this._monthsRegex=gd),this._monthsStrictRegex&&b?this._monthsStrictRegex:this._monthsRegex)}function ds(){function b(ue,je){return je.length-ue.length}var E=[],I=[],R=[],U,Q;for(U=0;U<12;U++)Q=D([2e3,U]),E.push(this.monthsShort(Q,"")),I.push(this.months(Q,"")),R.push(this.months(Q,"")),R.push(this.monthsShort(Q,""));for(E.sort(b),I.sort(b),R.sort(b),U=0;U<12;U++)E[U]=yr(E[U]),I[U]=yr(I[U]);for(U=0;U<24;U++)R[U]=yr(R[U]);this._monthsRegex=new RegExp("^("+R.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+I.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+E.join("|")+")","i")}ce("Y",0,0,function(){var b=this.year();return b<=9999?we(b,4):"+"+b}),ce(0,["YY",2],0,function(){return this.year()%100}),ce(0,["YYYY",4],0,"year"),ce(0,["YYYYY",5],0,"year"),ce(0,["YYYYYY",6,!0],0,"year"),an("year","y"),Me("year",1),Le("Y",ec),Le("YY",Et,Un),Le("YYYY",El,sn),Le("YYYYY",Xa,An),Le("YYYYYY",Xa,An),kt(["YYYYY","YYYYYY"],Hn),kt("YYYY",function(b,E){E[Hn]=b.length===2?o.parseTwoDigitYear(b):Ue(b)}),kt("YY",function(b,E){E[Hn]=o.parseTwoDigitYear(b)}),kt("Y",function(b,E){E[Hn]=parseInt(b,10)});function Or(b){return Ye(b)?366:365}o.parseTwoDigitYear=function(b){return Ue(b)+(Ue(b)>68?1900:2e3)};var io=dr("FullYear",!0);function kd(){return Ye(this.year())}function ip(b,E,I,R,U,Q,ue){var je;return b<100&&b>=0?(je=new Date(b+400,E,I,R,U,Q,ue),isFinite(je.getFullYear())&&je.setFullYear(b)):je=new Date(b,E,I,R,U,Q,ue),je}function oo(b){var E,I;return b<100&&b>=0?(I=Array.prototype.slice.call(arguments),I[0]=b+400,E=new Date(Date.UTC.apply(null,I)),isFinite(E.getUTCFullYear())&&E.setUTCFullYear(b)):E=new Date(Date.UTC.apply(null,arguments)),E}function sa(b,E,I){var R=7+E-I,U=(7+oo(b,0,R).getUTCDay()-E)%7;return-U+R-1}function bd(b,E,I,R,U){var Q=(7+I-R)%7,ue=sa(b,R,U),je=1+7*(E-1)+Q+ue,lt,Pt;return je<=0?(lt=b-1,Pt=Or(lt)+je):je>Or(b)?(lt=b+1,Pt=je-Or(b)):(lt=b,Pt=je),{year:lt,dayOfYear:Pt}}function Io(b,E,I){var R=sa(b.year(),E,I),U=Math.floor((b.dayOfYear()-R-1)/7)+1,Q,ue;return U<1?(ue=b.year()-1,Q=U+ui(ue,E,I)):U>ui(b.year(),E,I)?(Q=U-ui(b.year(),E,I),ue=b.year()+1):(ue=b.year(),Q=U),{week:Q,year:ue}}function ui(b,E,I){var R=sa(b,E,I),U=sa(b+1,E,I);return(Or(b)-R+U)/7}ce("w",["ww",2],"wo","week"),ce("W",["WW",2],"Wo","isoWeek"),an("week","w"),an("isoWeek","W"),Me("week",5),Me("isoWeek",5),Le("w",Et),Le("ww",Et,Un),Le("W",Et),Le("WW",Et,Un),to(["w","ww","W","WW"],function(b,E,I,R){E[R.substr(0,1)]=Ue(b)});function hs(b){return Io(b,this._week.dow,this._week.doy).week}var rc={dow:0,doy:6};function op(){return this._week.dow}function Mo(){return this._week.doy}function No(b){var E=this.localeData().week(this);return b==null?E:this.add((b-E)*7,"d")}function sp(b){var E=Io(this,1,4).week;return b==null?E:this.add((b-E)*7,"d")}ce("d",0,"do","day"),ce("dd",0,0,function(b){return this.localeData().weekdaysMin(this,b)}),ce("ddd",0,0,function(b){return this.localeData().weekdaysShort(this,b)}),ce("dddd",0,0,function(b){return this.localeData().weekdays(this,b)}),ce("e",0,0,"weekday"),ce("E",0,0,"isoWeekday"),an("day","d"),an("weekday","e"),an("isoWeekday","E"),Me("day",11),Me("weekday",11),Me("isoWeekday",11),Le("d",Et),Le("e",Et),Le("E",Et),Le("dd",function(b,E){return E.weekdaysMinRegex(b)}),Le("ddd",function(b,E){return E.weekdaysShortRegex(b)}),Le("dddd",function(b,E){return E.weekdaysRegex(b)}),to(["dd","ddd","dddd"],function(b,E,I,R){var U=I._locale.weekdaysParse(b,R,I._strict);U!=null?E.d=U:B(I).invalidWeekday=b}),to(["d","e","E"],function(b,E,I,R){E[R]=Ue(b)});function ic(b,E){return typeof b!="string"?b:isNaN(b)?(b=E.weekdaysParse(b),typeof b=="number"?b:null):parseInt(b,10)}function Dl(b,E){return typeof b=="string"?E.weekdaysParse(b)%7||7:isNaN(b)?null:b}function Il(b,E){return b.slice(E,7).concat(b.slice(0,E))}var aa="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Po="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wd="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ml=Ti,Nl=Ti,vd=Ti;function ap(b,E){var I=d(this._weekdays)?this._weekdays:this._weekdays[b&&b!==!0&&this._weekdays.isFormat.test(E)?"format":"standalone"];return b===!0?Il(I,this._week.dow):b?I[b.day()]:I}function Pl(b){return b===!0?Il(this._weekdaysShort,this._week.dow):b?this._weekdaysShort[b.day()]:this._weekdaysShort}function cp(b){return b===!0?Il(this._weekdaysMin,this._week.dow):b?this._weekdaysMin[b.day()]:this._weekdaysMin}function Ol(b,E,I){var R,U,Q,ue=b.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],R=0;R<7;++R)Q=D([2e3,1]).day(R),this._minWeekdaysParse[R]=this.weekdaysMin(Q,"").toLocaleLowerCase(),this._shortWeekdaysParse[R]=this.weekdaysShort(Q,"").toLocaleLowerCase(),this._weekdaysParse[R]=this.weekdays(Q,"").toLocaleLowerCase();return I?E==="dddd"?(U=un.call(this._weekdaysParse,ue),U!==-1?U:null):E==="ddd"?(U=un.call(this._shortWeekdaysParse,ue),U!==-1?U:null):(U=un.call(this._minWeekdaysParse,ue),U!==-1?U:null):E==="dddd"?(U=un.call(this._weekdaysParse,ue),U!==-1||(U=un.call(this._shortWeekdaysParse,ue),U!==-1)?U:(U=un.call(this._minWeekdaysParse,ue),U!==-1?U:null)):E==="ddd"?(U=un.call(this._shortWeekdaysParse,ue),U!==-1||(U=un.call(this._weekdaysParse,ue),U!==-1)?U:(U=un.call(this._minWeekdaysParse,ue),U!==-1?U:null)):(U=un.call(this._minWeekdaysParse,ue),U!==-1||(U=un.call(this._weekdaysParse,ue),U!==-1)?U:(U=un.call(this._shortWeekdaysParse,ue),U!==-1?U:null))}function yd(b,E,I){var R,U,Q;if(this._weekdaysParseExact)return Ol.call(this,b,E,I);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),R=0;R<7;R++){if(U=D([2e3,1]).day(R),I&&!this._fullWeekdaysParse[R]&&(this._fullWeekdaysParse[R]=new RegExp("^"+this.weekdays(U,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[R]=new RegExp("^"+this.weekdaysShort(U,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[R]=new RegExp("^"+this.weekdaysMin(U,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[R]||(Q="^"+this.weekdays(U,"")+"|^"+this.weekdaysShort(U,"")+"|^"+this.weekdaysMin(U,""),this._weekdaysParse[R]=new RegExp(Q.replace(".",""),"i")),I&&E==="dddd"&&this._fullWeekdaysParse[R].test(b))return R;if(I&&E==="ddd"&&this._shortWeekdaysParse[R].test(b))return R;if(I&&E==="dd"&&this._minWeekdaysParse[R].test(b))return R;if(!I&&this._weekdaysParse[R].test(b))return R}}function Rl(b){if(!this.isValid())return b!=null?this:NaN;var E=this._isUTC?this._d.getUTCDay():this._d.getDay();return b!=null?(b=ic(b,this.localeData()),this.add(b-E,"d")):E}function Oo(b){if(!this.isValid())return b!=null?this:NaN;var E=(this.day()+7-this.localeData()._week.dow)%7;return b==null?E:this.add(b-E,"d")}function lp(b){if(!this.isValid())return b!=null?this:NaN;if(b!=null){var E=Dl(b,this.localeData());return this.day(this.day()%7?E:E-7)}else return this.day()||7}function oc(b){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Ll.call(this),b?this._weekdaysStrictRegex:this._weekdaysRegex):(k(this,"_weekdaysRegex")||(this._weekdaysRegex=Ml),this._weekdaysStrictRegex&&b?this._weekdaysStrictRegex:this._weekdaysRegex)}function sc(b){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Ll.call(this),b?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(k(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Nl),this._weekdaysShortStrictRegex&&b?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Vt(b){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Ll.call(this),b?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(k(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=vd),this._weekdaysMinStrictRegex&&b?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ll(){function b(Gn,jo){return jo.length-Gn.length}var E=[],I=[],R=[],U=[],Q,ue,je,lt,Pt;for(Q=0;Q<7;Q++)ue=D([2e3,1]).day(Q),je=yr(this.weekdaysMin(ue,"")),lt=yr(this.weekdaysShort(ue,"")),Pt=yr(this.weekdays(ue,"")),E.push(je),I.push(lt),R.push(Pt),U.push(je),U.push(lt),U.push(Pt);E.sort(b),I.sort(b),R.sort(b),U.sort(b),this._weekdaysRegex=new RegExp("^("+U.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+R.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+I.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+E.join("|")+")","i")}function fs(){return this.hours()%12||12}function _d(){return this.hours()||24}ce("H",["HH",2],0,"hour"),ce("h",["hh",2],0,fs),ce("k",["kk",2],0,_d),ce("hmm",0,0,function(){return""+fs.apply(this)+we(this.minutes(),2)}),ce("hmmss",0,0,function(){return""+fs.apply(this)+we(this.minutes(),2)+we(this.seconds(),2)}),ce("Hmm",0,0,function(){return""+this.hours()+we(this.minutes(),2)}),ce("Hmmss",0,0,function(){return""+this.hours()+we(this.minutes(),2)+we(this.seconds(),2)});function ps(b,E){ce(b,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),E)})}ps("a",!0),ps("A",!1),an("hour","h"),Me("hour",13);function gs(b,E){return E._meridiemParse}Le("a",gs),Le("A",gs),Le("H",Et),Le("h",Et),Le("k",Et),Le("HH",Et,Un),Le("hh",Et,Un),Le("kk",Et,Un),Le("hmm",Cl),Le("hmmss",xl),Le("Hmm",Cl),Le("Hmmss",xl),kt(["H","HH"],Ft),kt(["k","kk"],function(b,E,I){var R=Ue(b);E[Ft]=R===24?0:R}),kt(["a","A"],function(b,E,I){I._isPm=I._locale.isPM(b),I._meridiem=b}),kt(["h","hh"],function(b,E,I){E[Ft]=Ue(b),B(I).bigHour=!0}),kt("hmm",function(b,E,I){var R=b.length-2;E[Ft]=Ue(b.substr(0,R)),E[_r]=Ue(b.substr(R)),B(I).bigHour=!0}),kt("hmmss",function(b,E,I){var R=b.length-4,U=b.length-2;E[Ft]=Ue(b.substr(0,R)),E[_r]=Ue(b.substr(R,2)),E[Xr]=Ue(b.substr(U)),B(I).bigHour=!0}),kt("Hmm",function(b,E,I){var R=b.length-2;E[Ft]=Ue(b.substr(0,R)),E[_r]=Ue(b.substr(R))}),kt("Hmmss",function(b,E,I){var R=b.length-4,U=b.length-2;E[Ft]=Ue(b.substr(0,R)),E[_r]=Ue(b.substr(R,2)),E[Xr]=Ue(b.substr(U))});function so(b){return(b+"").toLowerCase().charAt(0)==="p"}var ac=/[ap]\.?m?\.?/i,ca=dr("Hours",!0);function Ad(b,E,I){return b>11?I?"pm":"PM":I?"am":"AM"}var cc={calendar:de,longDateFormat:At,invalidDate:ot,ordinal:ht,dayOfMonthOrdinalParse:ut,relativeTime:Wt,months:tp,monthsShort:nc,week:rc,weekdays:aa,weekdaysMin:wd,weekdaysShort:Po,meridiemParse:ac},qt={},ao={},ms;function up(b,E){var I,R=Math.min(b.length,E.length);for(I=0;I<R;I+=1)if(b[I]!==E[I])return I;return R}function Cd(b){return b&&b.toLowerCase().replace("_","-")}function lc(b){for(var E=0,I,R,U,Q;E<b.length;){for(Q=Cd(b[E]).split("-"),I=Q.length,R=Cd(b[E+1]),R=R?R.split("-"):null;I>0;){if(U=uc(Q.slice(0,I).join("-")),U)return U;if(R&&R.length>=I&&up(Q,R)>=I-1)break;I--}E++}return ms}function Bl(b){return b.match("^[^/\\\\]*$")!=null}function uc(b){var E=null,I;if(qt[b]===void 0&&t&&t.exports&&Bl(b))try{E=ms._abbr,I=Uce,I("./locale/"+b),hr(E)}catch{qt[b]=null}return qt[b]}function hr(b,E){var I;return b&&(v(E)?I=fr(b):I=la(b,E),I?ms=I:typeof console<"u"&&console.warn&&console.warn("Locale "+b+" not found. Did you forget to load it?")),ms._abbr}function la(b,E){if(E!==null){var I,R=cc;if(E.abbr=b,qt[b]!=null)$e("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),R=qt[b]._config;else if(E.parentLocale!=null)if(qt[E.parentLocale]!=null)R=qt[E.parentLocale]._config;else if(I=uc(E.parentLocale),I!=null)R=I._config;else return ao[E.parentLocale]||(ao[E.parentLocale]=[]),ao[E.parentLocale].push({name:b,config:E}),null;return qt[b]=new He(Ge(R,E)),ao[b]&&ao[b].forEach(function(U){la(U.name,U.config)}),hr(b),qt[b]}else return delete qt[b],null}function dp(b,E){if(E!=null){var I,R,U=cc;qt[b]!=null&&qt[b].parentLocale!=null?qt[b].set(Ge(qt[b]._config,E)):(R=uc(b),R!=null&&(U=R._config),E=Ge(U,E),R==null&&(E.abbr=b),I=new He(E),I.parentLocale=qt[b],qt[b]=I),hr(b)}else qt[b]!=null&&(qt[b].parentLocale!=null?(qt[b]=qt[b].parentLocale,b===hr()&&hr(b)):qt[b]!=null&&delete qt[b]);return qt[b]}function fr(b){var E;if(b&&b._locale&&b._locale._abbr&&(b=b._locale._abbr),!b)return ms;if(!d(b)){if(E=uc(b),E)return E;b=[b]}return lc(b)}function xd(){return qe(qt)}function ks(b){var E,I=b._a;return I&&B(b).overflow===-2&&(E=I[Di]<0||I[Di]>11?Di:I[Jr]<1||I[Jr]>tc(I[Hn],I[Di])?Jr:I[Ft]<0||I[Ft]>24||I[Ft]===24&&(I[_r]!==0||I[Xr]!==0||I[li]!==0)?Ft:I[_r]<0||I[_r]>59?_r:I[Xr]<0||I[Xr]>59?Xr:I[li]<0||I[li]>999?li:-1,B(b)._overflowDayOfYear&&(E<Hn||E>Jr)&&(E=Jr),B(b)._overflowWeeks&&E===-1&&(E=ep),B(b)._overflowWeekday&&E===-1&&(E=no),B(b).overflow=E),b}var Ed=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sd=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Td=/Z|[+-]\d\d(?::?\d\d)?/,bs=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ua=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],hp=/^\/?Date\((-?\d+)/i,Dd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,fp={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function dc(b){var E,I,R=b._i,U=Ed.exec(R)||Sd.exec(R),Q,ue,je,lt,Pt=bs.length,Gn=ua.length;if(U){for(B(b).iso=!0,E=0,I=Pt;E<I;E++)if(bs[E][1].exec(U[1])){ue=bs[E][0],Q=bs[E][2]!==!1;break}if(ue==null){b._isValid=!1;return}if(U[3]){for(E=0,I=Gn;E<I;E++)if(ua[E][1].exec(U[3])){je=(U[2]||" ")+ua[E][0];break}if(je==null){b._isValid=!1;return}}if(!Q&&je!=null){b._isValid=!1;return}if(U[4])if(Td.exec(U[4]))lt="Z";else{b._isValid=!1;return}b._f=ue+(je||"")+(lt||""),St(b)}else b._isValid=!1}function jl(b,E,I,R,U,Q){var ue=[pp(b),nc.indexOf(E),parseInt(I,10),parseInt(R,10),parseInt(U,10)];return Q&&ue.push(parseInt(Q,10)),ue}function pp(b){var E=parseInt(b,10);return E<=49?2e3+E:E<=999?1900+E:E}function Id(b){return b.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function zl(b,E,I){if(b){var R=Po.indexOf(b),U=new Date(E[0],E[1],E[2]).getDay();if(R!==U)return B(I).weekdayMismatch=!0,I._isValid=!1,!1}return!0}function gp(b,E,I){if(b)return fp[b];if(E)return 0;var R=parseInt(I,10),U=R%100,Q=(R-U)/100;return Q*60+U}function Fl(b){var E=Dd.exec(Id(b._i)),I;if(E){if(I=jl(E[4],E[3],E[2],E[5],E[6],E[7]),!zl(E[1],I,b))return;b._a=I,b._tzm=gp(E[8],E[9],E[10]),b._d=oo.apply(null,b._a),b._d.setUTCMinutes(b._d.getUTCMinutes()-b._tzm),B(b).rfc2822=!0}else b._isValid=!1}function hc(b){var E=hp.exec(b._i);if(E!==null){b._d=new Date(+E[1]);return}if(dc(b),b._isValid===!1)delete b._isValid;else return;if(Fl(b),b._isValid===!1)delete b._isValid;else return;b._strict?b._isValid=!1:o.createFromInputFallback(b)}o.createFromInputFallback=ie("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(b){b._d=new Date(b._i+(b._useUTC?" UTC":""))});function ws(b,E,I){return b??E??I}function fc(b){var E=new Date(o.now());return b._useUTC?[E.getUTCFullYear(),E.getUTCMonth(),E.getUTCDate()]:[E.getFullYear(),E.getMonth(),E.getDate()]}function vs(b){var E,I,R=[],U,Q,ue;if(!b._d){for(U=fc(b),b._w&&b._a[Jr]==null&&b._a[Di]==null&&pc(b),b._dayOfYear!=null&&(ue=ws(b._a[Hn],U[Hn]),(b._dayOfYear>Or(ue)||b._dayOfYear===0)&&(B(b)._overflowDayOfYear=!0),I=oo(ue,0,b._dayOfYear),b._a[Di]=I.getUTCMonth(),b._a[Jr]=I.getUTCDate()),E=0;E<3&&b._a[E]==null;++E)b._a[E]=R[E]=U[E];for(;E<7;E++)b._a[E]=R[E]=b._a[E]==null?E===2?1:0:b._a[E];b._a[Ft]===24&&b._a[_r]===0&&b._a[Xr]===0&&b._a[li]===0&&(b._nextDay=!0,b._a[Ft]=0),b._d=(b._useUTC?oo:ip).apply(null,R),Q=b._useUTC?b._d.getUTCDay():b._d.getDay(),b._tzm!=null&&b._d.setUTCMinutes(b._d.getUTCMinutes()-b._tzm),b._nextDay&&(b._a[Ft]=24),b._w&&typeof b._w.d<"u"&&b._w.d!==Q&&(B(b).weekdayMismatch=!0)}}function pc(b){var E,I,R,U,Q,ue,je,lt,Pt;E=b._w,E.GG!=null||E.W!=null||E.E!=null?(Q=1,ue=4,I=ws(E.GG,b._a[Hn],Io(Gt(),1,4).year),R=ws(E.W,1),U=ws(E.E,1),(U<1||U>7)&&(lt=!0)):(Q=b._locale._week.dow,ue=b._locale._week.doy,Pt=Io(Gt(),Q,ue),I=ws(E.gg,b._a[Hn],Pt.year),R=ws(E.w,Pt.week),E.d!=null?(U=E.d,(U<0||U>6)&&(lt=!0)):E.e!=null?(U=E.e+Q,(E.e<0||E.e>6)&&(lt=!0)):U=Q),R<1||R>ui(I,Q,ue)?B(b)._overflowWeeks=!0:lt!=null?B(b)._overflowWeekday=!0:(je=bd(I,R,U,Q,ue),b._a[Hn]=je.year,b._dayOfYear=je.dayOfYear)}o.ISO_8601=function(){},o.RFC_2822=function(){};function St(b){if(b._f===o.ISO_8601){dc(b);return}if(b._f===o.RFC_2822){Fl(b);return}b._a=[],B(b).empty=!0;var E=""+b._i,I,R,U,Q,ue,je=E.length,lt=0,Pt,Gn;for(U=_t(b._f,b._locale).match(ee)||[],Gn=U.length,I=0;I<Gn;I++)Q=U[I],R=(E.match(Jf(Q,b))||[])[0],R&&(ue=E.substr(0,E.indexOf(R)),ue.length>0&&B(b).unusedInput.push(ue),E=E.slice(E.indexOf(R)+R.length),lt+=R.length),pe[Q]?(R?B(b).empty=!1:B(b).unusedTokens.push(Q),ls(Q,R,b)):b._strict&&!R&&B(b).unusedTokens.push(Q);B(b).charsLeftOver=je-lt,E.length>0&&B(b).unusedInput.push(E),b._a[Ft]<=12&&B(b).bigHour===!0&&b._a[Ft]>0&&(B(b).bigHour=void 0),B(b).parsedDateParts=b._a.slice(0),B(b).meridiem=b._meridiem,b._a[Ft]=Md(b._locale,b._a[Ft],b._meridiem),Pt=B(b).era,Pt!==null&&(b._a[Hn]=b._locale.erasConvertYear(Pt,b._a[Hn])),vs(b),ks(b)}function Md(b,E,I){var R;return I==null?E:b.meridiemHour!=null?b.meridiemHour(E,I):(b.isPM!=null&&(R=b.isPM(I),R&&E<12&&(E+=12),!R&&E===12&&(E=0)),E)}function Nd(b){var E,I,R,U,Q,ue,je=!1,lt=b._f.length;if(lt===0){B(b).invalidFormat=!0,b._d=new Date(NaN);return}for(U=0;U<lt;U++)Q=0,ue=!1,E=ne({},b),b._useUTC!=null&&(E._useUTC=b._useUTC),E._f=b._f[U],St(E),L(E)&&(ue=!0),Q+=B(E).charsLeftOver,Q+=B(E).unusedTokens.length*10,B(E).score=Q,je?Q<R&&(R=Q,I=E):(R==null||Q<R||ue)&&(R=Q,I=E,ue&&(je=!0));T(b,I||E)}function Pd(b){if(!b._d){var E=Ae(b._i),I=E.day===void 0?E.date:E.day;b._a=_([E.year,E.month,I,E.hour,E.minute,E.second,E.millisecond],function(R){return R&&parseInt(R,10)}),vs(b)}}function Od(b){var E=new Z(ks(gc(b)));return E._nextDay&&(E.add(1,"d"),E._nextDay=void 0),E}function gc(b){var E=b._i,I=b._f;return b._locale=b._locale||fr(b._l),E===null||I===void 0&&E===""?z({nullInput:!0}):(typeof E=="string"&&(b._i=E=b._locale.preparse(E)),V(E)?new Z(ks(E)):(x(E)?b._d=E:d(I)?Nd(b):I?St(b):mp(b),L(b)||(b._d=null),b))}function mp(b){var E=b._i;v(E)?b._d=new Date(o.now()):x(E)?b._d=new Date(E.valueOf()):typeof E=="string"?hc(b):d(E)?(b._a=_(E.slice(0),function(I){return parseInt(I,10)}),vs(b)):f(E)?Pd(b):A(E)?b._d=new Date(E):o.createFromInputFallback(b)}function Rd(b,E,I,R,U){var Q={};return(E===!0||E===!1)&&(R=E,E=void 0),(I===!0||I===!1)&&(R=I,I=void 0),(f(b)&&m(b)||d(b)&&b.length===0)&&(b=void 0),Q._isAMomentObject=!0,Q._useUTC=Q._isUTC=U,Q._l=I,Q._i=b,Q._f=E,Q._strict=R,Od(Q)}function Gt(b,E,I,R){return Rd(b,E,I,R,!1)}var kp=ie("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var b=Gt.apply(null,arguments);return this.isValid()&&b.isValid()?b<this?this:b:z()}),Ld=ie("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var b=Gt.apply(null,arguments);return this.isValid()&&b.isValid()?b>this?this:b:z()});function Rr(b,E){var I,R;if(E.length===1&&d(E[0])&&(E=E[0]),!E.length)return Gt();for(I=E[0],R=1;R<E.length;++R)(!E[R].isValid()||E[R][b](I))&&(I=E[R]);return I}function ys(){var b=[].slice.call(arguments,0);return Rr("isBefore",b)}function bp(){var b=[].slice.call(arguments,0);return Rr("isAfter",b)}var Bd=function(){return Date.now?Date.now():+new Date},Ii=["year","quarter","month","week","day","hour","minute","second","millisecond"];function da(b){var E,I=!1,R,U=Ii.length;for(E in b)if(k(b,E)&&!(un.call(Ii,E)!==-1&&(b[E]==null||!isNaN(b[E]))))return!1;for(R=0;R<U;++R)if(b[Ii[R]]){if(I)return!1;parseFloat(b[Ii[R]])!==Ue(b[Ii[R]])&&(I=!0)}return!0}function $l(){return this._isValid}function _s(){return di(NaN)}function mc(b){var E=Ae(b),I=E.year||0,R=E.quarter||0,U=E.month||0,Q=E.week||E.isoWeek||0,ue=E.day||0,je=E.hour||0,lt=E.minute||0,Pt=E.second||0,Gn=E.millisecond||0;this._isValid=da(E),this._milliseconds=+Gn+Pt*1e3+lt*6e4+je*1e3*60*60,this._days=+ue+Q*7,this._months=+U+R*3+I*12,this._data={},this._locale=fr(),this._bubble()}function F(b){return b instanceof mc}function $(b){return b<0?Math.round(-1*b)*-1:Math.round(b)}function K(b,E,I){var R=Math.min(b.length,E.length),U=Math.abs(b.length-E.length),Q=0,ue;for(ue=0;ue<R;ue++)(I&&b[ue]!==E[ue]||!I&&Ue(b[ue])!==Ue(E[ue]))&&Q++;return Q+U}function ae(b,E){ce(b,0,0,function(){var I=this.utcOffset(),R="+";return I<0&&(I=-I,R="-"),R+we(~~(I/60),2)+E+we(~~I%60,2)})}ae("Z",":"),ae("ZZ",""),Le("Z",jn),Le("ZZ",jn),kt(["Z","ZZ"],function(b,E,I){I._useUTC=!0,I._tzm=Ze(jn,b)});var Ve=/([\+\-]|\d\d)/gi;function Ze(b,E){var I=(E||"").match(b),R,U,Q;return I===null?null:(R=I[I.length-1]||[],U=(R+"").match(Ve)||["-",0,0],Q=+(U[1]*60)+Ue(U[2]),Q===0?0:U[0]==="+"?Q:-Q)}function nt(b,E){var I,R;return E._isUTC?(I=E.clone(),R=(V(b)||x(b)?b.valueOf():Gt(b).valueOf())-I.valueOf(),I._d.setTime(I._d.valueOf()+R),o.updateOffset(I,!1),I):Gt(b).local()}function tt(b){return-Math.round(b._d.getTimezoneOffset())}o.updateOffset=function(){};function dn(b,E,I){var R=this._offset||0,U;if(!this.isValid())return b!=null?this:NaN;if(b!=null){if(typeof b=="string"){if(b=Ze(jn,b),b===null)return this}else Math.abs(b)<16&&!I&&(b=b*60);return!this._isUTC&&E&&(U=tt(this)),this._offset=b,this._isUTC=!0,U!=null&&this.add(U,"m"),R!==b&&(!E||this._changeInProgress?wp(this,di(b-R,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?R:tt(this)}function en(b,E){return b!=null?(typeof b!="string"&&(b=-b),this.utcOffset(b,E),this):-this.utcOffset()}function kc(b){return this.utcOffset(0,b)}function Ro(b){return this._isUTC&&(this.utcOffset(0,b),this._isUTC=!1,b&&this.subtract(tt(this),"m")),this}function ei(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var b=Ze(cs,this._i);b!=null?this.utcOffset(b):this.utcOffset(0,!0)}return this}function As(b){return this.isValid()?(b=b?Gt(b).utcOffset():0,(this.utcOffset()-b)%60===0):!1}function Cs(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function co(){if(!v(this._isDSTShifted))return this._isDSTShifted;var b={},E;return ne(b,this),b=gc(b),b._a?(E=b._isUTC?D(b._a):Gt(b._a),this._isDSTShifted=this.isValid()&&K(b._a,E.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Lr(){return this.isValid()?!this._isUTC:!1}function pt(){return this.isValid()?this._isUTC:!1}function Wn(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ti=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ar=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function di(b,E){var I=b,R=null,U,Q,ue;return F(b)?I={ms:b._milliseconds,d:b._days,M:b._months}:A(b)||!isNaN(+b)?(I={},E?I[E]=+b:I.milliseconds=+b):(R=ti.exec(b))?(U=R[1]==="-"?-1:1,I={y:0,d:Ue(R[Jr])*U,h:Ue(R[Ft])*U,m:Ue(R[_r])*U,s:Ue(R[Xr])*U,ms:Ue($(R[li]*1e3))*U}):(R=Ar.exec(b))?(U=R[1]==="-"?-1:1,I={y:xs(R[2],U),M:xs(R[3],U),w:xs(R[4],U),d:xs(R[5],U),h:xs(R[6],U),m:xs(R[7],U),s:xs(R[8],U)}):I==null?I={}:typeof I=="object"&&("from"in I||"to"in I)&&(ue=Es(Gt(I.from),Gt(I.to)),I={},I.ms=ue.milliseconds,I.M=ue.months),Q=new mc(I),F(b)&&k(b,"_locale")&&(Q._locale=b._locale),F(b)&&k(b,"_isValid")&&(Q._isValid=b._isValid),Q}di.fn=mc.prototype,di.invalid=_s;function xs(b,E){var I=b&&parseFloat(b.replace(",","."));return(isNaN(I)?0:I)*E}function Pk(b,E){var I={};return I.months=E.month()-b.month()+(E.year()-b.year())*12,b.clone().add(I.months,"M").isAfter(E)&&--I.months,I.milliseconds=+E-+b.clone().add(I.months,"M"),I}function Es(b,E){var I;return b.isValid()&&E.isValid()?(E=nt(E,b),b.isBefore(E)?I=Pk(b,E):(I=Pk(E,b),I.milliseconds=-I.milliseconds,I.months=-I.months),I):{milliseconds:0,months:0}}function Vl(b,E){return function(I,R){var U,Q;return R!==null&&!isNaN(+R)&&($e(E,"moment()."+E+"(period, number) is deprecated. Please use moment()."+E+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Q=I,I=R,R=Q),U=di(I,R),wp(this,U,b),this}}function wp(b,E,I,R){var U=E._milliseconds,Q=$(E._days),ue=$(E._months);b.isValid()&&(R=R??!0,ue&&Sl(b,Pr(b,"Month")+ue*I),Q&&ai(b,"Date",Pr(b,"Date")+Q*I),U&&b._d.setTime(b._d.valueOf()+U*I),R&&o.updateOffset(b,Q||ue))}var Ss=Vl(1,"add"),Xy=Vl(-1,"subtract");function vp(b){return typeof b=="string"||b instanceof String}function yp(b){return V(b)||x(b)||vp(b)||A(b)||_p(b)||at(b)||b===null||b===void 0}function at(b){var E=f(b)&&!m(b),I=!1,R=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],U,Q,ue=R.length;for(U=0;U<ue;U+=1)Q=R[U],I=I||k(b,Q);return E&&I}function _p(b){var E=d(b),I=!1;return E&&(I=b.filter(function(R){return!A(R)&&vp(b)}).length===0),E&&I}function jd(b){var E=f(b)&&!m(b),I=!1,R=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],U,Q;for(U=0;U<R.length;U+=1)Q=R[U],I=I||k(b,Q);return E&&I}function Ok(b,E){var I=b.diff(E,"days",!0);return I<-6?"sameElse":I<-1?"lastWeek":I<0?"lastDay":I<1?"sameDay":I<2?"nextDay":I<7?"nextWeek":"sameElse"}function In(b,E){arguments.length===1&&(arguments[0]?yp(arguments[0])?(b=arguments[0],E=void 0):jd(arguments[0])&&(E=arguments[0],b=void 0):(b=void 0,E=void 0));var I=b||Gt(),R=nt(I,this).startOf("day"),U=o.calendarFormat(this,R)||"sameElse",Q=E&&(De(E[U])?E[U].call(this,I):E[U]);return this.format(Q||this.localeData().calendar(U,this,Gt(I)))}function Rk(){return new Z(this)}function Ut(b,E){var I=V(b)?b:Gt(b);return this.isValid()&&I.isValid()?(E=re(E)||"millisecond",E==="millisecond"?this.valueOf()>I.valueOf():I.valueOf()<this.clone().startOf(E).valueOf()):!1}function zd(b,E){var I=V(b)?b:Gt(b);return this.isValid()&&I.isValid()?(E=re(E)||"millisecond",E==="millisecond"?this.valueOf()<I.valueOf():this.clone().endOf(E).valueOf()<I.valueOf()):!1}function Lk(b,E,I,R){var U=V(b)?b:Gt(b),Q=V(E)?E:Gt(E);return this.isValid()&&U.isValid()&&Q.isValid()?(R=R||"()",(R[0]==="("?this.isAfter(U,I):!this.isBefore(U,I))&&(R[1]===")"?this.isBefore(Q,I):!this.isAfter(Q,I))):!1}function Bk(b,E){var I=V(b)?b:Gt(b),R;return this.isValid()&&I.isValid()?(E=re(E)||"millisecond",E==="millisecond"?this.valueOf()===I.valueOf():(R=I.valueOf(),this.clone().startOf(E).valueOf()<=R&&R<=this.clone().endOf(E).valueOf())):!1}function jk(b,E){return this.isSame(b,E)||this.isAfter(b,E)}function Cn(b,E){return this.isSame(b,E)||this.isBefore(b,E)}function Fd(b,E,I){var R,U,Q;if(!this.isValid())return NaN;if(R=nt(b,this),!R.isValid())return NaN;switch(U=(R.utcOffset()-this.utcOffset())*6e4,E=re(E),E){case"year":Q=$d(this,R)/12;break;case"month":Q=$d(this,R);break;case"quarter":Q=$d(this,R)/3;break;case"second":Q=(this-R)/1e3;break;case"minute":Q=(this-R)/6e4;break;case"hour":Q=(this-R)/36e5;break;case"day":Q=(this-R-U)/864e5;break;case"week":Q=(this-R-U)/6048e5;break;default:Q=this-R}return I?Q:et(Q)}function $d(b,E){if(b.date()<E.date())return-$d(E,b);var I=(E.year()-b.year())*12+(E.month()-b.month()),R=b.clone().add(I,"months"),U,Q;return E-R<0?(U=b.clone().add(I-1,"months"),Q=(E-R)/(R-U)):(U=b.clone().add(I+1,"months"),Q=(E-R)/(U-R)),-(I+Q)||0}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ap(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Vd(b){if(!this.isValid())return null;var E=b!==!0,I=E?this.clone().utc():this;return I.year()<0||I.year()>9999?Se(I,E?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):De(Date.prototype.toISOString)?E?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Se(I,"Z")):Se(I,E?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function zk(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var b="moment",E="",I,R,U,Q;return this.isLocal()||(b=this.utcOffset()===0?"moment.utc":"moment.parseZone",E="Z"),I="["+b+'("]',R=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",U="-MM-DD[T]HH:mm:ss.SSS",Q=E+'[")]',this.format(I+R+U+Q)}function Ul(b){b||(b=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var E=Se(this,b);return this.localeData().postformat(E)}function ha(b,E){return this.isValid()&&(V(b)&&b.isValid()||Gt(b).isValid())?di({to:this,from:b}).locale(this.locale()).humanize(!E):this.localeData().invalidDate()}function Fk(b){return this.from(Gt(),b)}function $k(b,E){return this.isValid()&&(V(b)&&b.isValid()||Gt(b).isValid())?di({from:this,to:b}).locale(this.locale()).humanize(!E):this.localeData().invalidDate()}function Vk(b){return this.to(Gt(),b)}function Ud(b){var E;return b===void 0?this._locale._abbr:(E=fr(b),E!=null&&(this._locale=E),this)}var Cp=ie("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===void 0?this.localeData():this.locale(b)});function Uk(){return this._locale}var Hd=1e3,fa=60*Hd,Hl=60*fa,xp=(365*400+97)*24*Hl;function pa(b,E){return(b%E+E)%E}function Wd(b,E,I){return b<100&&b>=0?new Date(b+400,E,I)-xp:new Date(b,E,I).valueOf()}function Hk(b,E,I){return b<100&&b>=0?Date.UTC(b+400,E,I)-xp:Date.UTC(b,E,I)}function Wk(b){var E,I;if(b=re(b),b===void 0||b==="millisecond"||!this.isValid())return this;switch(I=this._isUTC?Hk:Wd,b){case"year":E=I(this.year(),0,1);break;case"quarter":E=I(this.year(),this.month()-this.month()%3,1);break;case"month":E=I(this.year(),this.month(),1);break;case"week":E=I(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":E=I(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":E=I(this.year(),this.month(),this.date());break;case"hour":E=this._d.valueOf(),E-=pa(E+(this._isUTC?0:this.utcOffset()*fa),Hl);break;case"minute":E=this._d.valueOf(),E-=pa(E,fa);break;case"second":E=this._d.valueOf(),E-=pa(E,Hd);break}return this._d.setTime(E),o.updateOffset(this,!0),this}function e_(b){var E,I;if(b=re(b),b===void 0||b==="millisecond"||!this.isValid())return this;switch(I=this._isUTC?Hk:Wd,b){case"year":E=I(this.year()+1,0,1)-1;break;case"quarter":E=I(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":E=I(this.year(),this.month()+1,1)-1;break;case"week":E=I(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":E=I(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":E=I(this.year(),this.month(),this.date()+1)-1;break;case"hour":E=this._d.valueOf(),E+=Hl-pa(E+(this._isUTC?0:this.utcOffset()*fa),Hl)-1;break;case"minute":E=this._d.valueOf(),E+=fa-pa(E,fa)-1;break;case"second":E=this._d.valueOf(),E+=Hd-pa(E,Hd)-1;break}return this._d.setTime(E),o.updateOffset(this,!0),this}function t_(){return this._d.valueOf()-(this._offset||0)*6e4}function bt(){return Math.floor(this.valueOf()/1e3)}function n_(){return new Date(this.valueOf())}function bc(){var b=this;return[b.year(),b.month(),b.date(),b.hour(),b.minute(),b.second(),b.millisecond()]}function qd(){var b=this;return{years:b.year(),months:b.month(),date:b.date(),hours:b.hours(),minutes:b.minutes(),seconds:b.seconds(),milliseconds:b.milliseconds()}}function qk(){return this.isValid()?this.toISOString():null}function Ep(){return L(this)}function qn(){return T({},B(this))}function r_(){return B(this).overflow}function i_(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ce("N",0,0,"eraAbbr"),ce("NN",0,0,"eraAbbr"),ce("NNN",0,0,"eraAbbr"),ce("NNNN",0,0,"eraName"),ce("NNNNN",0,0,"eraNarrow"),ce("y",["y",1],"yo","eraYear"),ce("y",["yy",2],0,"eraYear"),ce("y",["yyy",3],0,"eraYear"),ce("y",["yyyy",4],0,"eraYear"),Le("N",Ip),Le("NN",Ip),Le("NNN",Ip),Le("NNNN",Yk),Le("NNNNN",Ts),kt(["N","NN","NNN","NNNN","NNNNN"],function(b,E,I,R){var U=I._locale.erasParse(b,R,I._strict);U?B(I).era=U:B(I).invalidEra=b}),Le("y",Do),Le("yy",Do),Le("yyy",Do),Le("yyyy",Do),Le("yo",s_),kt(["y","yy","yyy","yyyy"],Hn),kt(["yo"],function(b,E,I,R){var U;I._locale._eraYearOrdinalRegex&&(U=b.match(I._locale._eraYearOrdinalRegex)),I._locale.eraYearOrdinalParse?E[Hn]=I._locale.eraYearOrdinalParse(b,U):E[Hn]=parseInt(b,10)});function Gk(b,E){var I,R,U,Q=this._eras||fr("en")._eras;for(I=0,R=Q.length;I<R;++I){switch(typeof Q[I].since){case"string":U=o(Q[I].since).startOf("day"),Q[I].since=U.valueOf();break}switch(typeof Q[I].until){case"undefined":Q[I].until=1/0;break;case"string":U=o(Q[I].until).startOf("day").valueOf(),Q[I].until=U.valueOf();break}}return Q}function o_(b,E,I){var R,U,Q=this.eras(),ue,je,lt;for(b=b.toUpperCase(),R=0,U=Q.length;R<U;++R)if(ue=Q[R].name.toUpperCase(),je=Q[R].abbr.toUpperCase(),lt=Q[R].narrow.toUpperCase(),I)switch(E){case"N":case"NN":case"NNN":if(je===b)return Q[R];break;case"NNNN":if(ue===b)return Q[R];break;case"NNNNN":if(lt===b)return Q[R];break}else if([ue,je,lt].indexOf(b)>=0)return Q[R]}function Mi(b,E){var I=b.since<=b.until?1:-1;return E===void 0?o(b.since).year():o(b.since).year()+(E-b.offset)*I}function Mn(){var b,E,I,R=this.localeData().eras();for(b=0,E=R.length;b<E;++b)if(I=this.clone().startOf("day").valueOf(),R[b].since<=I&&I<=R[b].until||R[b].until<=I&&I<=R[b].since)return R[b].name;return""}function hi(){var b,E,I,R=this.localeData().eras();for(b=0,E=R.length;b<E;++b)if(I=this.clone().startOf("day").valueOf(),R[b].since<=I&&I<=R[b].until||R[b].until<=I&&I<=R[b].since)return R[b].narrow;return""}function lo(){var b,E,I,R=this.localeData().eras();for(b=0,E=R.length;b<E;++b)if(I=this.clone().startOf("day").valueOf(),R[b].since<=I&&I<=R[b].until||R[b].until<=I&&I<=R[b].since)return R[b].abbr;return""}function uo(){var b,E,I,R,U=this.localeData().eras();for(b=0,E=U.length;b<E;++b)if(I=U[b].since<=U[b].until?1:-1,R=this.clone().startOf("day").valueOf(),U[b].since<=R&&R<=U[b].until||U[b].until<=R&&R<=U[b].since)return(this.year()-o(U[b].since).year())*I+U[b].offset;return this.year()}function Sp(b){return k(this,"_erasNameRegex")||Oe.call(this),b?this._erasNameRegex:this._erasRegex}function Tp(b){return k(this,"_erasAbbrRegex")||Oe.call(this),b?this._erasAbbrRegex:this._erasRegex}function Dp(b){return k(this,"_erasNarrowRegex")||Oe.call(this),b?this._erasNarrowRegex:this._erasRegex}function Ip(b,E){return E.erasAbbrRegex(b)}function Yk(b,E){return E.erasNameRegex(b)}function Ts(b,E){return E.erasNarrowRegex(b)}function s_(b,E){return E._eraYearOrdinalRegex||Do}function Oe(){var b=[],E=[],I=[],R=[],U,Q,ue=this.eras();for(U=0,Q=ue.length;U<Q;++U)E.push(yr(ue[U].name)),b.push(yr(ue[U].abbr)),I.push(yr(ue[U].narrow)),R.push(yr(ue[U].name)),R.push(yr(ue[U].abbr)),R.push(yr(ue[U].narrow));this._erasRegex=new RegExp("^("+R.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+E.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+b.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+I.join("|")+")","i")}ce(0,["gg",2],0,function(){return this.weekYear()%100}),ce(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Wl(b,E){ce(0,[b,b.length],0,E)}Wl("gggg","weekYear"),Wl("ggggg","weekYear"),Wl("GGGG","isoWeekYear"),Wl("GGGGG","isoWeekYear"),an("weekYear","gg"),an("isoWeekYear","GG"),Me("weekYear",1),Me("isoWeekYear",1),Le("G",ec),Le("g",ec),Le("GG",Et,Un),Le("gg",Et,Un),Le("GGGG",El,sn),Le("gggg",El,sn),Le("GGGGG",Xa,An),Le("ggggg",Xa,An),to(["gggg","ggggg","GGGG","GGGGG"],function(b,E,I,R){E[R.substr(0,2)]=Ue(b)}),to(["gg","GG"],function(b,E,I,R){E[R]=o.parseTwoDigitYear(b)});function a_(b){return Gl.call(this,b,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function gt(b){return Gl.call(this,b,this.isoWeek(),this.isoWeekday(),1,4)}function Ni(){return ui(this.year(),1,4)}function ql(){return ui(this.isoWeekYear(),1,4)}function c_(){var b=this.localeData()._week;return ui(this.year(),b.dow,b.doy)}function Kk(){var b=this.localeData()._week;return ui(this.weekYear(),b.dow,b.doy)}function Gl(b,E,I,R,U){var Q;return b==null?Io(this,R,U).year:(Q=ui(b,R,U),E>Q&&(E=Q),Qk.call(this,b,E,I,R,U))}function Qk(b,E,I,R,U){var Q=bd(b,E,I,R,U),ue=oo(Q.year,0,Q.dayOfYear);return this.year(ue.getUTCFullYear()),this.month(ue.getUTCMonth()),this.date(ue.getUTCDate()),this}ce("Q",0,"Qo","quarter"),an("quarter","Q"),Me("quarter",7),Le("Q",ss),kt("Q",function(b,E){E[Di]=(Ue(b)-1)*3});function l_(b){return b==null?Math.ceil((this.month()+1)/3):this.month((b-1)*3+this.month()%3)}ce("D",["DD",2],"Do","date"),an("date","D"),Me("date",9),Le("D",Et),Le("DD",Et,Un),Le("Do",function(b,E){return b?E._dayOfMonthOrdinalParse||E._ordinalParse:E._dayOfMonthOrdinalParseLenient}),kt(["D","DD"],Jr),kt("Do",function(b,E){E[Jr]=Ue(b.match(Et)[0])});var Zk=dr("Date",!0);ce("DDD",["DDDD",3],"DDDo","dayOfYear"),an("dayOfYear","DDD"),Me("dayOfYear",4),Le("DDD",as),Le("DDDD",Si),kt(["DDD","DDDD"],function(b,E,I){I._dayOfYear=Ue(b)});function u_(b){var E=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return b==null?E:this.add(b-E,"d")}ce("m",["mm",2],0,"minute"),an("minute","m"),Me("minute",14),Le("m",Et),Le("mm",Et,Un),kt(["m","mm"],_r);var Jk=dr("Minutes",!1);ce("s",["ss",2],0,"second"),an("second","s"),Me("second",15),Le("s",Et),Le("ss",Et,Un),kt(["s","ss"],Xr);var Xk=dr("Seconds",!1);ce("S",0,0,function(){return~~(this.millisecond()/100)}),ce(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ce(0,["SSS",3],0,"millisecond"),ce(0,["SSSS",4],0,function(){return this.millisecond()*10}),ce(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ce(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ce(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ce(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ce(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),an("millisecond","ms"),Me("millisecond",16),Le("S",as,ss),Le("SS",as,Un),Le("SSS",as,Si);var Lo,Mp;for(Lo="SSSS";Lo.length<=9;Lo+="S")Le(Lo,Do);function eb(b,E){E[li]=Ue(("0."+b)*1e3)}for(Lo="S";Lo.length<=9;Lo+="S")kt(Lo,eb);Mp=dr("Milliseconds",!1),ce("z",0,0,"zoneAbbr"),ce("zz",0,0,"zoneName");function tb(){return this._isUTC?"UTC":""}function wc(){return this._isUTC?"Coordinated Universal Time":""}var ve=Z.prototype;ve.add=Ss,ve.calendar=In,ve.clone=Rk,ve.diff=Fd,ve.endOf=e_,ve.format=Ul,ve.from=ha,ve.fromNow=Fk,ve.to=$k,ve.toNow=Vk,ve.get=Ja,ve.invalidAt=r_,ve.isAfter=Ut,ve.isBefore=zd,ve.isBetween=Lk,ve.isSame=Bk,ve.isSameOrAfter=jk,ve.isSameOrBefore=Cn,ve.isValid=Ep,ve.lang=Cp,ve.locale=Ud,ve.localeData=Uk,ve.max=Ld,ve.min=kp,ve.parsingFlags=qn,ve.set=os,ve.startOf=Wk,ve.subtract=Xy,ve.toArray=bc,ve.toObject=qd,ve.toDate=n_,ve.toISOString=Vd,ve.inspect=zk,typeof Symbol<"u"&&Symbol.for!=null&&(ve[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ve.toJSON=qk,ve.toString=Ap,ve.unix=bt,ve.valueOf=t_,ve.creationData=i_,ve.eraName=Mn,ve.eraNarrow=hi,ve.eraAbbr=lo,ve.eraYear=uo,ve.year=io,ve.isLeapYear=kd,ve.weekYear=a_,ve.isoWeekYear=gt,ve.quarter=ve.quarters=l_,ve.month=$t,ve.daysInMonth=rp,ve.week=ve.weeks=No,ve.isoWeek=ve.isoWeeks=sp,ve.weeksInYear=c_,ve.weeksInWeekYear=Kk,ve.isoWeeksInYear=Ni,ve.isoWeeksInISOWeekYear=ql,ve.date=Zk,ve.day=ve.days=Rl,ve.weekday=Oo,ve.isoWeekday=lp,ve.dayOfYear=u_,ve.hour=ve.hours=ca,ve.minute=ve.minutes=Jk,ve.second=ve.seconds=Xk,ve.millisecond=ve.milliseconds=Mp,ve.utcOffset=dn,ve.utc=kc,ve.local=Ro,ve.parseZone=ei,ve.hasAlignedHourOffset=As,ve.isDST=Cs,ve.isLocal=Lr,ve.isUtcOffset=pt,ve.isUtc=Wn,ve.isUTC=Wn,ve.zoneAbbr=tb,ve.zoneName=wc,ve.dates=ie("dates accessor is deprecated. Use date instead.",Zk),ve.months=ie("months accessor is deprecated. Use month instead",$t),ve.years=ie("years accessor is deprecated. Use year instead",io),ve.zone=ie("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",en),ve.isDSTShifted=ie("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",co);function Np(b){return Gt(b*1e3)}function Pp(){return Gt.apply(null,arguments).parseZone()}function Op(b){return b}var Ct=He.prototype;Ct.calendar=xe,Ct.longDateFormat=xt,Ct.invalidDate=Lt,Ct.ordinal=rr,Ct.preparse=Op,Ct.postformat=Op,Ct.relativeTime=ir,Ct.pastFuture=or,Ct.set=Re,Ct.eras=Gk,Ct.erasParse=o_,Ct.erasConvertYear=Mi,Ct.erasAbbrRegex=Tp,Ct.erasNameRegex=Sp,Ct.erasNarrowRegex=Dp,Ct.months=ro,Ct.monthsShort=us,Ct.monthsParse=np,Ct.monthsRegex=md,Ct.monthsShortRegex=Tl,Ct.week=hs,Ct.firstDayOfYear=Mo,Ct.firstDayOfWeek=op,Ct.weekdays=ap,Ct.weekdaysMin=cp,Ct.weekdaysShort=Pl,Ct.weekdaysParse=yd,Ct.weekdaysRegex=oc,Ct.weekdaysShortRegex=sc,Ct.weekdaysMinRegex=Vt,Ct.isPM=so,Ct.meridiem=Ad;function Gd(b,E,I,R){var U=fr(),Q=D().set(R,E);return U[I](Q,b)}function Rp(b,E,I){if(A(b)&&(E=b,b=void 0),b=b||"",E!=null)return Gd(b,E,I,"month");var R,U=[];for(R=0;R<12;R++)U[R]=Gd(b,R,I,"month");return U}function Lp(b,E,I,R){typeof b=="boolean"?(A(E)&&(I=E,E=void 0),E=E||""):(E=b,I=E,b=!1,A(E)&&(I=E,E=void 0),E=E||"");var U=fr(),Q=b?U._week.dow:0,ue,je=[];if(I!=null)return Gd(E,(I+Q)%7,R,"day");for(ue=0;ue<7;ue++)je[ue]=Gd(E,(ue+Q)%7,R,"day");return je}function nb(b,E){return Rp(b,E,"months")}function vc(b,E){return Rp(b,E,"monthsShort")}function rb(b,E,I){return Lp(b,E,I,"weekdays")}function d_(b,E,I){return Lp(b,E,I,"weekdaysShort")}function tn(b,E,I){return Lp(b,E,I,"weekdaysMin")}hr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(b){var E=b%10,I=Ue(b%100/10)===1?"th":E===1?"st":E===2?"nd":E===3?"rd":"th";return b+I}}),o.lang=ie("moment.lang is deprecated. Use moment.locale instead.",hr),o.langData=ie("moment.langData is deprecated. Use moment.localeData instead.",fr);var ho=Math.abs;function h_(){var b=this._data;return this._milliseconds=ho(this._milliseconds),this._days=ho(this._days),this._months=ho(this._months),b.milliseconds=ho(b.milliseconds),b.seconds=ho(b.seconds),b.minutes=ho(b.minutes),b.hours=ho(b.hours),b.months=ho(b.months),b.years=ho(b.years),this}function Yl(b,E,I,R){var U=di(E,I);return b._milliseconds+=R*U._milliseconds,b._days+=R*U._days,b._months+=R*U._months,b._bubble()}function ib(b,E){return Yl(this,b,E,1)}function f_(b,E){return Yl(this,b,E,-1)}function Bp(b){return b<0?Math.floor(b):Math.ceil(b)}function p_(){var b=this._milliseconds,E=this._days,I=this._months,R=this._data,U,Q,ue,je,lt;return b>=0&&E>=0&&I>=0||b<=0&&E<=0&&I<=0||(b+=Bp(Yd(I)+E)*864e5,E=0,I=0),R.milliseconds=b%1e3,U=et(b/1e3),R.seconds=U%60,Q=et(U/60),R.minutes=Q%60,ue=et(Q/60),R.hours=ue%24,E+=et(ue/24),lt=et(jp(E)),I+=lt,E-=Bp(Yd(lt)),je=et(I/12),I%=12,R.days=E,R.months=I,R.years=je,this}function jp(b){return b*4800/146097}function Yd(b){return b*146097/4800}function g_(b){if(!this.isValid())return NaN;var E,I,R=this._milliseconds;if(b=re(b),b==="month"||b==="quarter"||b==="year")switch(E=this._days+R/864e5,I=this._months+jp(E),b){case"month":return I;case"quarter":return I/3;case"year":return I/12}else switch(E=this._days+Math.round(Yd(this._months)),b){case"week":return E/7+R/6048e5;case"day":return E+R/864e5;case"hour":return E*24+R/36e5;case"minute":return E*1440+R/6e4;case"second":return E*86400+R/1e3;case"millisecond":return Math.floor(E*864e5)+R;default:throw new Error("Unknown unit "+b)}}function zp(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ue(this._months/12)*31536e6:NaN}function fo(b){return function(){return this.as(b)}}var m_=fo("ms"),k_=fo("s"),b_=fo("m"),w_=fo("h"),ob=fo("d"),v_=fo("w"),Fp=fo("M"),$p=fo("Q"),sb=fo("y");function y_(){return di(this)}function yc(b){return b=re(b),this.isValid()?this[b+"s"]():NaN}function Bo(b){return function(){return this.isValid()?this._data[b]:NaN}}var ab=Bo("milliseconds"),__=Bo("seconds"),cb=Bo("minutes"),ye=Bo("hours"),lb=Bo("days"),ft=Bo("months"),ub=Bo("years");function db(){return et(this.days()/7)}var po=Math.round,ga={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Kd(b,E,I,R,U){return U.relativeTime(E||1,!!I,b,R)}function A_(b,E,I,R){var U=di(b).abs(),Q=po(U.as("s")),ue=po(U.as("m")),je=po(U.as("h")),lt=po(U.as("d")),Pt=po(U.as("M")),Gn=po(U.as("w")),jo=po(U.as("y")),Ds=Q<=I.ss&&["s",Q]||Q<I.s&&["ss",Q]||ue<=1&&["m"]||ue<I.m&&["mm",ue]||je<=1&&["h"]||je<I.h&&["hh",je]||lt<=1&&["d"]||lt<I.d&&["dd",lt];return I.w!=null&&(Ds=Ds||Gn<=1&&["w"]||Gn<I.w&&["ww",Gn]),Ds=Ds||Pt<=1&&["M"]||Pt<I.M&&["MM",Pt]||jo<=1&&["y"]||["yy",jo],Ds[2]=E,Ds[3]=+b>0,Ds[4]=R,Kd.apply(null,Ds)}function hb(b){return b===void 0?po:typeof b=="function"?(po=b,!0):!1}function C_(b,E){return ga[b]===void 0?!1:E===void 0?ga[b]:(ga[b]=E,b==="s"&&(ga.ss=E-1),!0)}function Qd(b,E){if(!this.isValid())return this.localeData().invalidDate();var I=!1,R=ga,U,Q;return typeof b=="object"&&(E=b,b=!1),typeof b=="boolean"&&(I=b),typeof E=="object"&&(R=Object.assign({},ga,E),E.s!=null&&E.ss==null&&(R.ss=E.s-1)),U=this.localeData(),Q=A_(this,!I,R,U),I&&(Q=U.pastFuture(+this,Q)),U.postformat(Q)}var Zd=Math.abs;function ma(b){return(b>0)-(b<0)||+b}function Jd(){if(!this.isValid())return this.localeData().invalidDate();var b=Zd(this._milliseconds)/1e3,E=Zd(this._days),I=Zd(this._months),R,U,Q,ue,je=this.asSeconds(),lt,Pt,Gn,jo;return je?(R=et(b/60),U=et(R/60),b%=60,R%=60,Q=et(I/12),I%=12,ue=b?b.toFixed(3).replace(/\.?0+$/,""):"",lt=je<0?"-":"",Pt=ma(this._months)!==ma(je)?"-":"",Gn=ma(this._days)!==ma(je)?"-":"",jo=ma(this._milliseconds)!==ma(je)?"-":"",lt+"P"+(Q?Pt+Q+"Y":"")+(I?Pt+I+"M":"")+(E?Gn+E+"D":"")+(U||R||b?"T":"")+(U?jo+U+"H":"")+(R?jo+R+"M":"")+(b?jo+ue+"S":"")):"P0D"}var mt=mc.prototype;mt.isValid=$l,mt.abs=h_,mt.add=ib,mt.subtract=f_,mt.as=g_,mt.asMilliseconds=m_,mt.asSeconds=k_,mt.asMinutes=b_,mt.asHours=w_,mt.asDays=ob,mt.asWeeks=v_,mt.asMonths=Fp,mt.asQuarters=$p,mt.asYears=sb,mt.valueOf=zp,mt._bubble=p_,mt.clone=y_,mt.get=yc,mt.milliseconds=ab,mt.seconds=__,mt.minutes=cb,mt.hours=ye,mt.days=lb,mt.weeks=db,mt.months=ft,mt.years=ub,mt.humanize=Qd,mt.toISOString=Jd,mt.toString=Jd,mt.toJSON=Jd,mt.locale=Ud,mt.localeData=Uk,mt.toIsoString=ie("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Jd),mt.lang=Cp,ce("X",0,0,"unix"),ce("x",0,0,"valueOf"),Le("x",ec),Le("X",Zf),kt("X",function(b,E,I){I._d=new Date(parseFloat(b)*1e3)}),kt("x",function(b,E,I){I._d=new Date(Ue(b))});//! moment.js
return o.version="2.29.4",a(Gt),o.fn=ve,o.min=ys,o.max=bp,o.now=Bd,o.utc=D,o.unix=Np,o.months=nb,o.isDate=x,o.locale=hr,o.invalid=z,o.duration=di,o.isMoment=V,o.weekdays=rb,o.parseZone=Pp,o.localeData=fr,o.isDuration=F,o.monthsShort=vc,o.weekdaysMin=tn,o.defineLocale=la,o.updateLocale=dp,o.locales=xd,o.weekdaysShort=d_,o.normalizeUnits=re,o.relativeTimeRounding=hb,o.relativeTimeThreshold=C_,o.calendarFormat=Ok,o.prototype=ve,o.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},o})})(z9);var Hce=z9.exports;const Wce=Km(Hce);var sv={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */sv.exports;(function(t,e){(function(r,o){t.exports=o(G)})(self,r=>(()=>{var o={703:(k,m,v)=>{var A=v(414);function x(){}function _(){}_.resetWarningCache=x,k.exports=function(){function T(B,O,L,z,Y,X){if(X!==A){var ne=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ne.name="Invariant Violation",ne}}function D(){return T}T.isRequired=T;var M={array:T,bigint:T,bool:T,func:T,number:T,object:T,string:T,symbol:T,any:T,arrayOf:D,element:T,elementType:T,instanceOf:D,node:T,objectOf:D,oneOf:D,oneOfType:D,shape:D,exact:D,checkPropTypes:_,resetWarningCache:x};return M.PropTypes=M,M}},697:(k,m,v)=>{k.exports=v(703)()},414:k=>{k.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:k=>{k.exports=r}},a={};function d(k){var m=a[k];if(m!==void 0)return m.exports;var v=a[k]={exports:{}};return o[k](v,v.exports,d),v.exports}d.n=k=>{var m=k&&k.__esModule?()=>k.default:()=>k;return d.d(m,{a:m}),m},d.d=(k,m)=>{for(var v in m)d.o(m,v)&&!d.o(k,v)&&Object.defineProperty(k,v,{enumerable:!0,get:m[v]})},d.o=(k,m)=>Object.prototype.hasOwnProperty.call(k,m),d.r=k=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})};var f={};return(()=>{d.r(f),d.d(f,{CKEditor:()=>_s,CKEditorContext:()=>da});var k=d(787),m=d.n(k),v=d(697),A=d.n(v);const x=new Array(256).fill("").map((F,$)=>("0"+$.toString(16)).slice(-2));class _{constructor($){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof $.crashNumberLimit=="number"?$.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof $.minimumNonErrorTimePeriod=="number"?$.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=K=>{const ae="error"in K?K.error:K.reason;ae instanceof Error&&this._handleError(ae,K)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on($,K){this._listeners[$]||(this._listeners[$]=[]),this._listeners[$].push(K)}off($,K){this._listeners[$]=this._listeners[$].filter(ae=>ae!==K)}_fire($,...K){const ae=this._listeners[$]||[];for(const Ve of ae)Ve.apply(this,[null,...K])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError($,K){if(this._shouldReactToError($)){this.crashes.push({message:$.message,stack:$.stack,filename:K instanceof ErrorEvent?K.filename:void 0,lineno:K instanceof ErrorEvent?K.lineno:void 0,colno:K instanceof ErrorEvent?K.colno:void 0,date:this._now()});const ae=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:$,causesRestart:ae}),ae?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError($){return $.is&&$.is("CKEditorError")&&$.context!==void 0&&$.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem($)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function T(F,$=new Set){const K=[F],ae=new Set;let Ve=0;for(;K.length>Ve;){const Ze=K[Ve++];if(!ae.has(Ze)&&D(Ze)&&!$.has(Ze))if(ae.add(Ze),Symbol.iterator in Ze)try{for(const nt of Ze)K.push(nt)}catch{}else for(const nt in Ze)nt!=="defaultValue"&&K.push(Ze[nt])}return ae}function D(F){const $=Object.prototype.toString.call(F),K=typeof F;return!(K==="number"||K==="boolean"||K==="string"||K==="symbol"||K==="function"||$==="[object Date]"||$==="[object RegExp]"||$==="[object Module]"||F==null||F._watchdogExcluded||F instanceof EventTarget||F instanceof Event)}function M(F,$,K=new Set){if(F===$&&typeof(ae=F)=="object"&&ae!==null)return!0;var ae;const Ve=T(F,K),Ze=T($,K);for(const nt of Ve)if(Ze.has(nt))return!0;return!1}const B=function(F){var $=typeof F;return F!=null&&($=="object"||$=="function")},O=typeof bi=="object"&&bi&&bi.Object===Object&&bi;var L=typeof self=="object"&&self&&self.Object===Object&&self;const z=O||L||Function("return this")(),Y=function(){return z.Date.now()};var X=/\s/;const ne=function(F){for(var $=F.length;$--&&X.test(F.charAt($)););return $};var Z=/^\s+/;const V=function(F){return F&&F.slice(0,ne(F)+1).replace(Z,"")},se=z.Symbol;var ie=Object.prototype,he=ie.hasOwnProperty,$e=ie.toString,De=se?se.toStringTag:void 0;const Re=function(F){var $=he.call(F,De),K=F[De];try{F[De]=void 0;var ae=!0}catch{}var Ve=$e.call(F);return ae&&($?F[De]=K:delete F[De]),Ve};var Ge=Object.prototype.toString;const He=function(F){return Ge.call(F)};var qe=se?se.toStringTag:void 0;const de=function(F){return F==null?F===void 0?"[object Undefined]":"[object Null]":qe&&qe in Object(F)?Re(F):He(F)},xe=function(F){return F!=null&&typeof F=="object"},we=function(F){return typeof F=="symbol"||xe(F)&&de(F)=="[object Symbol]"};var ee=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,J=/^0o[0-7]+$/i,pe=parseInt;const ce=function(F){if(typeof F=="number")return F;if(we(F))return NaN;if(B(F)){var $=typeof F.valueOf=="function"?F.valueOf():F;F=B($)?$+"":$}if(typeof F!="string")return F===0?F:+F;F=V(F);var K=oe.test(F);return K||J.test(F)?pe(F.slice(2),K?2:8):ee.test(F)?NaN:+F};var Ne=Math.max,Be=Math.min;const Se=function(F,$,K){var ae,Ve,Ze,nt,tt,dn,en=0,kc=!1,Ro=!1,ei=!0;if(typeof F!="function")throw new TypeError("Expected a function");function As(Wn){var ti=ae,Ar=Ve;return ae=Ve=void 0,en=Wn,nt=F.apply(Ar,ti)}function Cs(Wn){var ti=Wn-dn;return dn===void 0||ti>=$||ti<0||Ro&&Wn-en>=Ze}function co(){var Wn=Y();if(Cs(Wn))return Lr(Wn);tt=setTimeout(co,function(ti){var Ar=$-(ti-dn);return Ro?Be(Ar,Ze-(ti-en)):Ar}(Wn))}function Lr(Wn){return tt=void 0,ei&&ae?As(Wn):(ae=Ve=void 0,nt)}function pt(){var Wn=Y(),ti=Cs(Wn);if(ae=arguments,Ve=this,dn=Wn,ti){if(tt===void 0)return function(Ar){return en=Ar,tt=setTimeout(co,$),kc?As(Ar):nt}(dn);if(Ro)return clearTimeout(tt),tt=setTimeout(co,$),As(dn)}return tt===void 0&&(tt=setTimeout(co,$)),nt}return $=ce($)||0,B(K)&&(kc=!!K.leading,Ze=(Ro="maxWait"in K)?Ne(ce(K.maxWait)||0,$):Ze,ei="trailing"in K?!!K.trailing:ei),pt.cancel=function(){tt!==void 0&&clearTimeout(tt),en=0,ae=dn=Ve=tt=void 0},pt.flush=function(){return tt===void 0?nt:Lr(Y())},pt},_t=function(F,$,K){var ae=!0,Ve=!0;if(typeof F!="function")throw new TypeError("Expected a function");return B(K)&&(ae="leading"in K?!!K.leading:ae,Ve="trailing"in K?!!K.trailing:Ve),Se(F,$,{leading:ae,maxWait:$,trailing:Ve})},At=function(){this.__data__=[],this.size=0},xt=function(F,$){return F===$||F!=F&&$!=$},ot=function(F,$){for(var K=F.length;K--;)if(xt(F[K][0],$))return K;return-1};var Lt=Array.prototype.splice;const ht=function(F){var $=this.__data__,K=ot($,F);return!(K<0)&&(K==$.length-1?$.pop():Lt.call($,K,1),--this.size,!0)},ut=function(F){var $=this.__data__,K=ot($,F);return K<0?void 0:$[K][1]},rr=function(F){return ot(this.__data__,F)>-1},Wt=function(F,$){var K=this.__data__,ae=ot(K,F);return ae<0?(++this.size,K.push([F,$])):K[ae][1]=$,this};function ir(F){var $=-1,K=F==null?0:F.length;for(this.clear();++$<K;){var ae=F[$];this.set(ae[0],ae[1])}}ir.prototype.clear=At,ir.prototype.delete=ht,ir.prototype.get=ut,ir.prototype.has=rr,ir.prototype.set=Wt;const or=ir,Vn=function(){this.__data__=new or,this.size=0},an=function(F){var $=this.__data__,K=$.delete(F);return this.size=$.size,K},re=function(F){return this.__data__.get(F)},Ae=function(F){return this.__data__.has(F)},Ie=function(F){if(!B(F))return!1;var $=de(F);return $=="[object Function]"||$=="[object GeneratorFunction]"||$=="[object AsyncFunction]"||$=="[object Proxy]"},Me=z["__core-js_shared__"];var Qe=function(){var F=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||"");return F?"Symbol(src)_1."+F:""}();const Ye=function(F){return!!Qe&&Qe in F};var et=Function.prototype.toString;const Ue=function(F){if(F!=null){try{return et.call(F)}catch{}try{return F+""}catch{}}return""};var dr=/^\[object .+?Constructor\]$/,Pr=Function.prototype,ai=Object.prototype,Ja=Pr.toString,os=ai.hasOwnProperty,ss=RegExp("^"+Ja.call(os).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Un=function(F){return!(!B(F)||Ye(F))&&(Ie(F)?ss:dr).test(Ue(F))},Si=function(F,$){return F==null?void 0:F[$]},sn=function(F,$){var K=Si(F,$);return Un(K)?K:void 0},An=sn(z,"Map"),Et=sn(Object,"create"),Cl=function(){this.__data__=Et?Et(null):{},this.size=0},xl=function(F){var $=this.has(F)&&delete this.__data__[F];return this.size-=$?1:0,$};var as=Object.prototype.hasOwnProperty;const El=function(F){var $=this.__data__;if(Et){var K=$[F];return K==="__lodash_hash_undefined__"?void 0:K}return as.call($,F)?$[F]:void 0};var Xa=Object.prototype.hasOwnProperty;const Do=function(F){var $=this.__data__;return Et?$[F]!==void 0:Xa.call($,F)},ec=function(F,$){var K=this.__data__;return this.size+=this.has(F)?0:1,K[F]=Et&&$===void 0?"__lodash_hash_undefined__":$,this};function cs(F){var $=-1,K=F==null?0:F.length;for(this.clear();++$<K;){var ae=F[$];this.set(ae[0],ae[1])}}cs.prototype.clear=Cl,cs.prototype.delete=xl,cs.prototype.get=El,cs.prototype.has=Do,cs.prototype.set=ec;const jn=cs,Zf=function(){this.size=0,this.__data__={hash:new jn,map:new(An||or),string:new jn}},Ti=function(F){var $=typeof F;return $=="string"||$=="number"||$=="symbol"||$=="boolean"?F!=="__proto__":F===null},ci=function(F,$){var K=F.__data__;return Ti($)?K[typeof $=="string"?"string":"hash"]:K.map},Le=function(F){var $=ci(this,F).delete(F);return this.size-=$?1:0,$},Jf=function(F){return ci(this,F).get(F)},Xf=function(F){return ci(this,F).has(F)},yr=function(F,$){var K=ci(this,F),ae=K.size;return K.set(F,$),this.size+=K.size==ae?0:1,this};function eo(F){var $=-1,K=F==null?0:F.length;for(this.clear();++$<K;){var ae=F[$];this.set(ae[0],ae[1])}}eo.prototype.clear=Zf,eo.prototype.delete=Le,eo.prototype.get=Jf,eo.prototype.has=Xf,eo.prototype.set=yr;const kt=eo,to=function(F,$){var K=this.__data__;if(K instanceof or){var ae=K.__data__;if(!An||ae.length<199)return ae.push([F,$]),this.size=++K.size,this;K=this.__data__=new kt(ae)}return K.set(F,$),this.size=K.size,this};function ls(F){var $=this.__data__=new or(F);this.size=$.size}ls.prototype.clear=Vn,ls.prototype.delete=an,ls.prototype.get=re,ls.prototype.has=Ae,ls.prototype.set=to;const Hn=ls,Di=function(F,$){for(var K=-1,ae=F==null?0:F.length;++K<ae&&$(F[K],K,F)!==!1;);return F},Jr=function(){try{var F=sn(Object,"defineProperty");return F({},"",{}),F}catch{}}(),Ft=function(F,$,K){$=="__proto__"&&Jr?Jr(F,$,{configurable:!0,enumerable:!0,value:K,writable:!0}):F[$]=K};var _r=Object.prototype.hasOwnProperty;const Xr=function(F,$,K){var ae=F[$];_r.call(F,$)&&xt(ae,K)&&(K!==void 0||$ in F)||Ft(F,$,K)},li=function(F,$,K,ae){var Ve=!K;K||(K={});for(var Ze=-1,nt=$.length;++Ze<nt;){var tt=$[Ze],dn=ae?ae(K[tt],F[tt],tt,K,F):void 0;dn===void 0&&(dn=F[tt]),Ve?Ft(K,tt,dn):Xr(K,tt,dn)}return K},ep=function(F,$){for(var K=-1,ae=Array(F);++K<F;)ae[K]=$(K);return ae},no=function(F){return xe(F)&&de(F)=="[object Arguments]"};var hd=Object.prototype,un=hd.hasOwnProperty,tc=hd.propertyIsEnumerable;const tp=no(function(){return arguments}())?no:function(F){return xe(F)&&un.call(F,"callee")&&!tc.call(F,"callee")},nc=Array.isArray,fd=function(){return!1};var pd=e&&!e.nodeType&&e,gd=pd&&!0&&t&&!t.nodeType&&t,ro=gd&&gd.exports===pd?z.Buffer:void 0;const us=(ro?ro.isBuffer:void 0)||fd;var oa=/^(?:0|[1-9]\d*)$/;const np=function(F,$){var K=typeof F;return!!($=$??9007199254740991)&&(K=="number"||K!="symbol"&&oa.test(F))&&F>-1&&F%1==0&&F<$},Sl=function(F){return typeof F=="number"&&F>-1&&F%1==0&&F<=9007199254740991};var $t={};$t["[object Float32Array]"]=$t["[object Float64Array]"]=$t["[object Int8Array]"]=$t["[object Int16Array]"]=$t["[object Int32Array]"]=$t["[object Uint8Array]"]=$t["[object Uint8ClampedArray]"]=$t["[object Uint16Array]"]=$t["[object Uint32Array]"]=!0,$t["[object Arguments]"]=$t["[object Array]"]=$t["[object ArrayBuffer]"]=$t["[object Boolean]"]=$t["[object DataView]"]=$t["[object Date]"]=$t["[object Error]"]=$t["[object Function]"]=$t["[object Map]"]=$t["[object Number]"]=$t["[object Object]"]=$t["[object RegExp]"]=$t["[object Set]"]=$t["[object String]"]=$t["[object WeakMap]"]=!1;const rp=function(F){return xe(F)&&Sl(F.length)&&!!$t[de(F)]},Tl=function(F){return function($){return F($)}};var md=e&&!e.nodeType&&e,ds=md&&!0&&t&&!t.nodeType&&t,Or=ds&&ds.exports===md&&O.process;const io=function(){try{var F=ds&&ds.require&&ds.require("util").types;return F||Or&&Or.binding&&Or.binding("util")}catch{}}();var kd=io&&io.isTypedArray;const ip=kd?Tl(kd):rp;var oo=Object.prototype.hasOwnProperty;const sa=function(F,$){var K=nc(F),ae=!K&&tp(F),Ve=!K&&!ae&&us(F),Ze=!K&&!ae&&!Ve&&ip(F),nt=K||ae||Ve||Ze,tt=nt?ep(F.length,String):[],dn=tt.length;for(var en in F)!$&&!oo.call(F,en)||nt&&(en=="length"||Ve&&(en=="offset"||en=="parent")||Ze&&(en=="buffer"||en=="byteLength"||en=="byteOffset")||np(en,dn))||tt.push(en);return tt};var bd=Object.prototype;const Io=function(F){var $=F&&F.constructor;return F===(typeof $=="function"&&$.prototype||bd)},ui=function(F,$){return function(K){return F($(K))}},hs=ui(Object.keys,Object);var rc=Object.prototype.hasOwnProperty;const op=function(F){if(!Io(F))return hs(F);var $=[];for(var K in Object(F))rc.call(F,K)&&K!="constructor"&&$.push(K);return $},Mo=function(F){return F!=null&&Sl(F.length)&&!Ie(F)},No=function(F){return Mo(F)?sa(F):op(F)},sp=function(F,$){return F&&li($,No($),F)},ic=function(F){var $=[];if(F!=null)for(var K in Object(F))$.push(K);return $};var Dl=Object.prototype.hasOwnProperty;const Il=function(F){if(!B(F))return ic(F);var $=Io(F),K=[];for(var ae in F)(ae!="constructor"||!$&&Dl.call(F,ae))&&K.push(ae);return K},aa=function(F){return Mo(F)?sa(F,!0):Il(F)},Po=function(F,$){return F&&li($,aa($),F)};var wd=e&&!e.nodeType&&e,Ml=wd&&!0&&t&&!t.nodeType&&t,Nl=Ml&&Ml.exports===wd?z.Buffer:void 0,vd=Nl?Nl.allocUnsafe:void 0;const ap=function(F,$){if($)return F.slice();var K=F.length,ae=vd?vd(K):new F.constructor(K);return F.copy(ae),ae},Pl=function(F,$){var K=-1,ae=F.length;for($||($=Array(ae));++K<ae;)$[K]=F[K];return $},cp=function(F,$){for(var K=-1,ae=F==null?0:F.length,Ve=0,Ze=[];++K<ae;){var nt=F[K];$(nt,K,F)&&(Ze[Ve++]=nt)}return Ze},Ol=function(){return[]};var yd=Object.prototype.propertyIsEnumerable,Rl=Object.getOwnPropertySymbols;const Oo=Rl?function(F){return F==null?[]:(F=Object(F),cp(Rl(F),function($){return yd.call(F,$)}))}:Ol,lp=function(F,$){return li(F,Oo(F),$)},oc=function(F,$){for(var K=-1,ae=$.length,Ve=F.length;++K<ae;)F[Ve+K]=$[K];return F},sc=ui(Object.getPrototypeOf,Object),Vt=Object.getOwnPropertySymbols?function(F){for(var $=[];F;)oc($,Oo(F)),F=sc(F);return $}:Ol,Ll=function(F,$){return li(F,Vt(F),$)},fs=function(F,$,K){var ae=$(F);return nc(F)?ae:oc(ae,K(F))},_d=function(F){return fs(F,No,Oo)},ps=function(F){return fs(F,aa,Vt)},gs=sn(z,"DataView"),so=sn(z,"Promise"),ac=sn(z,"Set"),ca=sn(z,"WeakMap");var Ad="[object Map]",cc="[object Promise]",qt="[object Set]",ao="[object WeakMap]",ms="[object DataView]",up=Ue(gs),Cd=Ue(An),lc=Ue(so),Bl=Ue(ac),uc=Ue(ca),hr=de;(gs&&hr(new gs(new ArrayBuffer(1)))!=ms||An&&hr(new An)!=Ad||so&&hr(so.resolve())!=cc||ac&&hr(new ac)!=qt||ca&&hr(new ca)!=ao)&&(hr=function(F){var $=de(F),K=$=="[object Object]"?F.constructor:void 0,ae=K?Ue(K):"";if(ae)switch(ae){case up:return ms;case Cd:return Ad;case lc:return cc;case Bl:return qt;case uc:return ao}return $});const la=hr;var dp=Object.prototype.hasOwnProperty;const fr=function(F){var $=F.length,K=new F.constructor($);return $&&typeof F[0]=="string"&&dp.call(F,"index")&&(K.index=F.index,K.input=F.input),K},xd=z.Uint8Array,ks=function(F){var $=new F.constructor(F.byteLength);return new xd($).set(new xd(F)),$},Ed=function(F,$){var K=$?ks(F.buffer):F.buffer;return new F.constructor(K,F.byteOffset,F.byteLength)};var Sd=/\w*$/;const Td=function(F){var $=new F.constructor(F.source,Sd.exec(F));return $.lastIndex=F.lastIndex,$};var bs=se?se.prototype:void 0,ua=bs?bs.valueOf:void 0;const hp=function(F){return ua?Object(ua.call(F)):{}},Dd=function(F,$){var K=$?ks(F.buffer):F.buffer;return new F.constructor(K,F.byteOffset,F.length)},fp=function(F,$,K){var ae=F.constructor;switch($){case"[object ArrayBuffer]":return ks(F);case"[object Boolean]":case"[object Date]":return new ae(+F);case"[object DataView]":return Ed(F,K);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Dd(F,K);case"[object Map]":case"[object Set]":return new ae;case"[object Number]":case"[object String]":return new ae(F);case"[object RegExp]":return Td(F);case"[object Symbol]":return hp(F)}};var dc=Object.create;const jl=function(){function F(){}return function($){if(!B($))return{};if(dc)return dc($);F.prototype=$;var K=new F;return F.prototype=void 0,K}}(),pp=function(F){return typeof F.constructor!="function"||Io(F)?{}:jl(sc(F))},Id=function(F){return xe(F)&&la(F)=="[object Map]"};var zl=io&&io.isMap;const gp=zl?Tl(zl):Id,Fl=function(F){return xe(F)&&la(F)=="[object Set]"};var hc=io&&io.isSet;const ws=hc?Tl(hc):Fl;var fc="[object Arguments]",vs="[object Function]",pc="[object Object]",St={};St[fc]=St["[object Array]"]=St["[object ArrayBuffer]"]=St["[object DataView]"]=St["[object Boolean]"]=St["[object Date]"]=St["[object Float32Array]"]=St["[object Float64Array]"]=St["[object Int8Array]"]=St["[object Int16Array]"]=St["[object Int32Array]"]=St["[object Map]"]=St["[object Number]"]=St[pc]=St["[object RegExp]"]=St["[object Set]"]=St["[object String]"]=St["[object Symbol]"]=St["[object Uint8Array]"]=St["[object Uint8ClampedArray]"]=St["[object Uint16Array]"]=St["[object Uint32Array]"]=!0,St["[object Error]"]=St[vs]=St["[object WeakMap]"]=!1;const Md=function F($,K,ae,Ve,Ze,nt){var tt,dn=1&K,en=2&K,kc=4&K;if(ae&&(tt=Ze?ae($,Ve,Ze,nt):ae($)),tt!==void 0)return tt;if(!B($))return $;var Ro=nc($);if(Ro){if(tt=fr($),!dn)return Pl($,tt)}else{var ei=la($),As=ei==vs||ei=="[object GeneratorFunction]";if(us($))return ap($,dn);if(ei==pc||ei==fc||As&&!Ze){if(tt=en||As?{}:pp($),!dn)return en?Ll($,Po(tt,$)):lp($,sp(tt,$))}else{if(!St[ei])return Ze?$:{};tt=fp($,ei,dn)}}nt||(nt=new Hn);var Cs=nt.get($);if(Cs)return Cs;nt.set($,tt),ws($)?$.forEach(function(Lr){tt.add(F(Lr,K,ae,Lr,$,nt))}):gp($)&&$.forEach(function(Lr,pt){tt.set(pt,F(Lr,K,ae,pt,$,nt))});var co=Ro?void 0:(kc?en?ps:_d:en?aa:No)($);return Di(co||$,function(Lr,pt){co&&(Lr=$[pt=Lr]),Xr(tt,pt,F(Lr,K,ae,pt,$,nt))}),tt},Nd=function(F,$){return Md(F,5,$=typeof $=="function"?$:void 0)};var Pd=Function.prototype,Od=Object.prototype,gc=Pd.toString,mp=Od.hasOwnProperty,Rd=gc.call(Object);const Gt=function(F){if(!xe(F)||de(F)!="[object Object]")return!1;var $=sc(F);if($===null)return!0;var K=mp.call($,"constructor")&&$.constructor;return typeof K=="function"&&K instanceof K&&gc.call(K)==Rd},kp=function(F){return xe(F)&&F.nodeType===1&&!Gt(F)};class Ld extends _{constructor($,K={}){super(K),this._editor=null,this._throttledSave=_t(this._save.bind(this),typeof K.saveInterval=="number"?K.saveInterval:5e3),$&&(this._creator=(ae,Ve)=>$.create(ae,Ve)),this._destructor=ae=>ae.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator($){this._creator=$}setDestructor($){this._destructor=$}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch($=>{console.error("An error happened during the editor destroying.",$)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const $=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,$,$.context)}}).then(()=>{this._fire("restart")})}create($=this._elementOrData,K=this._config,ae){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=$,this._config=this._cloneEditorConfiguration(K)||{},this._config.context=ae,this._creator($,this._config))).then(Ve=>{this._editor=Ve,Ve.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=Ve.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const $=this._editor;return this._editor=null,$.model.document.off("change:data",this._throttledSave),this._destructor($)})}_save(){const $=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=$}catch(K){console.error(K,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties($){this._excludedProps=$}_getData(){const $={};for(const K of this._editor.model.document.getRootNames())$[K]=this._editor.data.get({rootName:K});return $}_isErrorComingFromThisItem($){return M(this._editor,$.context,this._excludedProps)}_cloneEditorConfiguration($){return Nd($,(K,ae)=>kp(K)||ae==="context"?K:void 0)}}const Rr=Symbol("MainQueueId");class ys extends _{constructor($,K={}){super(K),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new bp,this._watchdogConfig=K,this._creator=ae=>$.create(ae),this._destructor=ae=>ae.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator($){this._creator=$}setDestructor($){this._destructor=$}get context(){return this._context}create($={}){return this._actionQueues.enqueue(Rr,()=>(this._contextConfig=$,this._create()))}getItem($){return this._getWatchdog($)._item}getItemState($){return this._getWatchdog($).state}add($){const K=Bd($);return Promise.all(K.map(ae=>this._actionQueues.enqueue(ae.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let Ve;if(this._watchdogs.has(ae.id))throw new Error(`Item with the given id is already added: '${ae.id}'.`);if(ae.type==="editor")return Ve=new Ld(null,this._watchdogConfig),Ve.setCreator(ae.creator),Ve._setExcludedProperties(this._contextProps),ae.destructor&&Ve.setDestructor(ae.destructor),this._watchdogs.set(ae.id,Ve),Ve.on("error",(Ze,{error:nt,causesRestart:tt})=>{this._fire("itemError",{itemId:ae.id,error:nt}),tt&&this._actionQueues.enqueue(ae.id,()=>new Promise(dn=>{const en=()=>{Ve.off("restart",en),this._fire("itemRestart",{itemId:ae.id}),dn()};Ve.on("restart",en)}))}),Ve.create(ae.sourceElementOrData,ae.config,this._context);throw new Error(`Not supported item type: '${ae.type}'.`)})))}remove($){const K=Bd($);return Promise.all(K.map(ae=>this._actionQueues.enqueue(ae,()=>{const Ve=this._getWatchdog(ae);return this._watchdogs.delete(ae),Ve.destroy()})))}destroy(){return this._actionQueues.enqueue(Rr,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Rr,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch($=>{console.error("An error happened during destroying the context or items.",$)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then($=>(this._context=$,this._contextProps=T(this._context),Promise.all(Array.from(this._watchdogs.values()).map(K=>(K._setExcludedProperties(this._contextProps),K.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const $=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(K=>K.destroy())).then(()=>this._destructor($))})}_getWatchdog($){const K=this._watchdogs.get($);if(!K)throw new Error(`Item with the given id was not registered: ${$}.`);return K}_isErrorComingFromThisItem($){for(const K of this._watchdogs.values())if(K._isErrorComingFromThisItem($))return!1;return M(this._context,$.context)}}class bp{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty($){this._onEmptyCallbacks.push($)}enqueue($,K){const ae=$===Rr;this._activeActions++,this._queues.get($)||this._queues.set($,Promise.resolve());const Ve=(ae?Promise.all(this._queues.values()):Promise.all([this._queues.get(Rr),this._queues.get($)])).then(K),Ze=Ve.catch(()=>{});return this._queues.set($,Ze),Ve.finally(()=>{this._activeActions--,this._queues.get($)===Ze&&this._activeActions===0&&this._onEmptyCallbacks.forEach(nt=>nt())})}}function Bd(F){return Array.isArray(F)?F:[F]}const Ii=m().createContext("contextWatchdog");class da extends m().Component{constructor($,K){super($,K),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate($){return this._shouldComponentUpdate($)}async _shouldComponentUpdate($){return $.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog($.config)),$.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog($.config),!0):this.props.children!==$.children}render(){return m().createElement(Ii.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog($){this.contextWatchdog=new ys(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(K,ae)=>{this.props.onError(ae.error,{phase:"runtime",willContextRestart:ae.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create($).catch(K=>{this.props.onError(K,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}da.defaultProps={isLayoutReady:!0,onError:(F,$)=>console.error(F,$)},da.propTypes={id:A().string,isLayoutReady:A().bool,context:A().func,watchdogConfig:A().object,config:A().object,onReady:A().func,onError:A().func};const $l="Lock from React integration (@ckeditor/ckeditor5-react)";class _s extends m().Component{constructor($){super($),this.editorDestructionInProgress=null,this.domContainer=m().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:K}=window;if(K){const[ae]=K.split(".").map(Number);ae<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate($){return!!this.editor&&($.id!==this.props.id||$.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor($)&&this.editor.data.set($.data),"disabled"in $&&($.disabled?this.editor.enableReadOnlyMode($l):this.editor.disableReadOnlyMode($l)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return m().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof ys?this.watchdog=new mc(this.context):this.watchdog=new _s._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator(($,K)=>this._createEditor($,K)),this.watchdog.on("error",($,{error:K,causesRestart:ae})=>{(this.props.onError||console.error)(K,{phase:"runtime",willEditorRestart:ae})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch($=>{(this.props.onError||console.error)($,{phase:"initialization",willEditorRestart:!1})}))}_createEditor($,K){return this.props.editor.create($,K).then(ae=>{"disabled"in this.props&&this.props.disabled&&ae.enableReadOnlyMode($l);const Ve=ae.model.document,Ze=ae.editing.view.document;return Ve.on("change:data",nt=>{this.props.onChange&&this.props.onChange(nt,ae)}),Ze.on("focus",nt=>{this.props.onFocus&&this.props.onFocus(nt,ae)}),Ze.on("blur",nt=>{this.props.onBlur&&this.props.onBlur(nt,ae)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(ae)}),ae})}async _destroyEditor(){this.editorDestructionInProgress=new Promise($=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,$()):this.instance?(await this.instance.destroy(),this.instance=null,$()):void $())})}_shouldUpdateEditor($){return this.props.data!==$.data&&this.editor.data.get()!==$.data}_getConfig(){const $=this.props.config||{};return this.props.data&&$.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...$,initialData:$.initialData||this.props.data||""}}}_s.contextType=Ii,_s.propTypes={editor:A().func.isRequired,data:A().string,config:A().object,disableWatchdog:A().bool,watchdogConfig:A().object,onChange:A().func,onReady:A().func,onFocus:A().func,onBlur:A().func,onError:A().func,disabled:A().bool,id:A().any},_s._EditorWatchdog=Ld;class mc{constructor($){this._contextWatchdog=$,this._id=function(){const K=4294967296*Math.random()>>>0,ae=4294967296*Math.random()>>>0,Ve=4294967296*Math.random()>>>0,Ze=4294967296*Math.random()>>>0;return"e"+x[K>>0&255]+x[K>>8&255]+x[K>>16&255]+x[K>>24&255]+x[ae>>0&255]+x[ae>>8&255]+x[ae>>16&255]+x[ae>>24&255]+x[Ve>>0&255]+x[Ve>>8&255]+x[Ve>>16&255]+x[Ve>>24&255]+x[Ze>>0&255]+x[Ze>>8&255]+x[Ze>>16&255]+x[Ze>>24&255]}()}setCreator($){this._creator=$}create($,K){return this._contextWatchdog.add({sourceElementOrData:$,config:K,creator:this._creator,id:this._id,type:"editor"})}on($,K){this._contextWatchdog.on("itemError",(ae,{itemId:Ve,error:Ze})=>{Ve===this._id&&K(null,{error:Ze,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}})(),f})())})(sv,sv.exports);var F9=sv.exports,av={exports:{}};av.exports;(function(t,e){(function(r){const o=r.en=r.en||{};o.dictionary=Object.assign(o.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Inset:"Inset",Italic:"Italic","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(r,o){t.exports=o()}(self,()=>(()=>{var r={4959:(f,k,m)=>{const v=m(1103),A={};for(const _ of Object.keys(v))A[v[_]]=_;const x={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};f.exports=x;for(const _ of Object.keys(x)){if(!("channels"in x[_]))throw new Error("missing channels property: "+_);if(!("labels"in x[_]))throw new Error("missing channel labels property: "+_);if(x[_].labels.length!==x[_].channels)throw new Error("channel and label counts mismatch: "+_);const{channels:T,labels:D}=x[_];delete x[_].channels,delete x[_].labels,Object.defineProperty(x[_],"channels",{value:T}),Object.defineProperty(x[_],"labels",{value:D})}x.rgb.hsl=function(_){const T=_[0]/255,D=_[1]/255,M=_[2]/255,B=Math.min(T,D,M),O=Math.max(T,D,M),L=O-B;let z,Y;O===B?z=0:T===O?z=(D-M)/L:D===O?z=2+(M-T)/L:M===O&&(z=4+(T-D)/L),z=Math.min(60*z,360),z<0&&(z+=360);const X=(B+O)/2;return Y=O===B?0:X<=.5?L/(O+B):L/(2-O-B),[z,100*Y,100*X]},x.rgb.hsv=function(_){let T,D,M,B,O;const L=_[0]/255,z=_[1]/255,Y=_[2]/255,X=Math.max(L,z,Y),ne=X-Math.min(L,z,Y),Z=function(V){return(X-V)/6/ne+.5};return ne===0?(B=0,O=0):(O=ne/X,T=Z(L),D=Z(z),M=Z(Y),L===X?B=M-D:z===X?B=.3333333333333333+T-M:Y===X&&(B=.6666666666666666+D-T),B<0?B+=1:B>1&&(B-=1)),[360*B,100*O,100*X]},x.rgb.hwb=function(_){const T=_[0],D=_[1];let M=_[2];const B=x.rgb.hsl(_)[0],O=1/255*Math.min(T,Math.min(D,M));return M=1-.00392156862745098*Math.max(T,Math.max(D,M)),[B,100*O,100*M]},x.rgb.cmyk=function(_){const T=_[0]/255,D=_[1]/255,M=_[2]/255,B=Math.min(1-T,1-D,1-M);return[100*((1-T-B)/(1-B)||0),100*((1-D-B)/(1-B)||0),100*((1-M-B)/(1-B)||0),100*B]},x.rgb.keyword=function(_){const T=A[_];if(T)return T;let D,M=1/0;for(const L of Object.keys(v)){const z=v[L],Y=(O=z,((B=_)[0]-O[0])**2+(B[1]-O[1])**2+(B[2]-O[2])**2);Y<M&&(M=Y,D=L)}var B,O;return D},x.keyword.rgb=function(_){return v[_]},x.rgb.xyz=function(_){let T=_[0]/255,D=_[1]/255,M=_[2]/255;return T=T>.04045?((T+.055)/1.055)**2.4:T/12.92,D=D>.04045?((D+.055)/1.055)**2.4:D/12.92,M=M>.04045?((M+.055)/1.055)**2.4:M/12.92,[100*(.4124*T+.3576*D+.1805*M),100*(.2126*T+.7152*D+.0722*M),100*(.0193*T+.1192*D+.9505*M)]},x.rgb.lab=function(_){const T=x.rgb.xyz(_);let D=T[0],M=T[1],B=T[2];return D/=95.047,M/=100,B/=108.883,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,M=M>.008856?M**.3333333333333333:7.787*M+.13793103448275862,B=B>.008856?B**.3333333333333333:7.787*B+.13793103448275862,[116*M-16,500*(D-M),200*(M-B)]},x.hsl.rgb=function(_){const T=_[0]/360,D=_[1]/100,M=_[2]/100;let B,O,L;if(D===0)return L=255*M,[L,L,L];B=M<.5?M*(1+D):M+D-M*D;const z=2*M-B,Y=[0,0,0];for(let X=0;X<3;X++)O=T+.3333333333333333*-(X-1),O<0&&O++,O>1&&O--,L=6*O<1?z+6*(B-z)*O:2*O<1?B:3*O<2?z+(B-z)*(.6666666666666666-O)*6:z,Y[X]=255*L;return Y},x.hsl.hsv=function(_){const T=_[0];let D=_[1]/100,M=_[2]/100,B=D;const O=Math.max(M,.01);return M*=2,D*=M<=1?M:2-M,B*=O<=1?O:2-O,[T,100*(M===0?2*B/(O+B):2*D/(M+D)),100*((M+D)/2)]},x.hsv.rgb=function(_){const T=_[0]/60,D=_[1]/100;let M=_[2]/100;const B=Math.floor(T)%6,O=T-Math.floor(T),L=255*M*(1-D),z=255*M*(1-D*O),Y=255*M*(1-D*(1-O));switch(M*=255,B){case 0:return[M,Y,L];case 1:return[z,M,L];case 2:return[L,M,Y];case 3:return[L,z,M];case 4:return[Y,L,M];case 5:return[M,L,z]}},x.hsv.hsl=function(_){const T=_[0],D=_[1]/100,M=_[2]/100,B=Math.max(M,.01);let O,L;L=(2-D)*M;const z=(2-D)*B;return O=D*B,O/=z<=1?z:2-z,O=O||0,L/=2,[T,100*O,100*L]},x.hwb.rgb=function(_){const T=_[0]/360;let D=_[1]/100,M=_[2]/100;const B=D+M;let O;B>1&&(D/=B,M/=B);const L=Math.floor(6*T),z=1-M;O=6*T-L,1&L&&(O=1-O);const Y=D+O*(z-D);let X,ne,Z;switch(L){default:case 6:case 0:X=z,ne=Y,Z=D;break;case 1:X=Y,ne=z,Z=D;break;case 2:X=D,ne=z,Z=Y;break;case 3:X=D,ne=Y,Z=z;break;case 4:X=Y,ne=D,Z=z;break;case 5:X=z,ne=D,Z=Y}return[255*X,255*ne,255*Z]},x.cmyk.rgb=function(_){const T=_[0]/100,D=_[1]/100,M=_[2]/100,B=_[3]/100;return[255*(1-Math.min(1,T*(1-B)+B)),255*(1-Math.min(1,D*(1-B)+B)),255*(1-Math.min(1,M*(1-B)+B))]},x.xyz.rgb=function(_){const T=_[0]/100,D=_[1]/100,M=_[2]/100;let B,O,L;return B=3.2406*T+-1.5372*D+-.4986*M,O=-.9689*T+1.8758*D+.0415*M,L=.0557*T+-.204*D+1.057*M,B=B>.0031308?1.055*B**.4166666666666667-.055:12.92*B,O=O>.0031308?1.055*O**.4166666666666667-.055:12.92*O,L=L>.0031308?1.055*L**.4166666666666667-.055:12.92*L,B=Math.min(Math.max(0,B),1),O=Math.min(Math.max(0,O),1),L=Math.min(Math.max(0,L),1),[255*B,255*O,255*L]},x.xyz.lab=function(_){let T=_[0],D=_[1],M=_[2];return T/=95.047,D/=100,M/=108.883,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,M=M>.008856?M**.3333333333333333:7.787*M+.13793103448275862,[116*D-16,500*(T-D),200*(D-M)]},x.lab.xyz=function(_){let T,D,M;D=(_[0]+16)/116,T=_[1]/500+D,M=D-_[2]/200;const B=D**3,O=T**3,L=M**3;return D=B>.008856?B:(D-.13793103448275862)/7.787,T=O>.008856?O:(T-.13793103448275862)/7.787,M=L>.008856?L:(M-.13793103448275862)/7.787,T*=95.047,D*=100,M*=108.883,[T,D,M]},x.lab.lch=function(_){const T=_[0],D=_[1],M=_[2];let B;return B=360*Math.atan2(M,D)/2/Math.PI,B<0&&(B+=360),[T,Math.sqrt(D*D+M*M),B]},x.lch.lab=function(_){const T=_[0],D=_[1],M=_[2]/360*2*Math.PI;return[T,D*Math.cos(M),D*Math.sin(M)]},x.rgb.ansi16=function(_,T=null){const[D,M,B]=_;let O=T===null?x.rgb.hsv(_)[2]:T;if(O=Math.round(O/50),O===0)return 30;let L=30+(Math.round(B/255)<<2|Math.round(M/255)<<1|Math.round(D/255));return O===2&&(L+=60),L},x.hsv.ansi16=function(_){return x.rgb.ansi16(x.hsv.rgb(_),_[2])},x.rgb.ansi256=function(_){const T=_[0],D=_[1],M=_[2];return T===D&&D===M?T<8?16:T>248?231:Math.round((T-8)/247*24)+232:16+36*Math.round(T/255*5)+6*Math.round(D/255*5)+Math.round(M/255*5)},x.ansi16.rgb=function(_){let T=_%10;if(T===0||T===7)return _>50&&(T+=3.5),T=T/10.5*255,[T,T,T];const D=.5*(1+~~(_>50));return[(1&T)*D*255,(T>>1&1)*D*255,(T>>2&1)*D*255]},x.ansi256.rgb=function(_){if(_>=232){const D=10*(_-232)+8;return[D,D,D]}let T;return _-=16,[Math.floor(_/36)/5*255,Math.floor((T=_%36)/6)/5*255,T%6/5*255]},x.rgb.hex=function(_){const T=(((255&Math.round(_[0]))<<16)+((255&Math.round(_[1]))<<8)+(255&Math.round(_[2]))).toString(16).toUpperCase();return"000000".substring(T.length)+T},x.hex.rgb=function(_){const T=_.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!T)return[0,0,0];let D=T[0];T[0].length===3&&(D=D.split("").map(B=>B+B).join(""));const M=parseInt(D,16);return[M>>16&255,M>>8&255,255&M]},x.rgb.hcg=function(_){const T=_[0]/255,D=_[1]/255,M=_[2]/255,B=Math.max(Math.max(T,D),M),O=Math.min(Math.min(T,D),M),L=B-O;let z,Y;return z=L<1?O/(1-L):0,Y=L<=0?0:B===T?(D-M)/L%6:B===D?2+(M-T)/L:4+(T-D)/L,Y/=6,Y%=1,[360*Y,100*L,100*z]},x.hsl.hcg=function(_){const T=_[1]/100,D=_[2]/100,M=D<.5?2*T*D:2*T*(1-D);let B=0;return M<1&&(B=(D-.5*M)/(1-M)),[_[0],100*M,100*B]},x.hsv.hcg=function(_){const T=_[1]/100,D=_[2]/100,M=T*D;let B=0;return M<1&&(B=(D-M)/(1-M)),[_[0],100*M,100*B]},x.hcg.rgb=function(_){const T=_[0]/360,D=_[1]/100,M=_[2]/100;if(D===0)return[255*M,255*M,255*M];const B=[0,0,0],O=T%1*6,L=O%1,z=1-L;let Y=0;switch(Math.floor(O)){case 0:B[0]=1,B[1]=L,B[2]=0;break;case 1:B[0]=z,B[1]=1,B[2]=0;break;case 2:B[0]=0,B[1]=1,B[2]=L;break;case 3:B[0]=0,B[1]=z,B[2]=1;break;case 4:B[0]=L,B[1]=0,B[2]=1;break;default:B[0]=1,B[1]=0,B[2]=z}return Y=(1-D)*M,[255*(D*B[0]+Y),255*(D*B[1]+Y),255*(D*B[2]+Y)]},x.hcg.hsv=function(_){const T=_[1]/100,D=T+_[2]/100*(1-T);let M=0;return D>0&&(M=T/D),[_[0],100*M,100*D]},x.hcg.hsl=function(_){const T=_[1]/100,D=_[2]/100*(1-T)+.5*T;let M=0;return D>0&&D<.5?M=T/(2*D):D>=.5&&D<1&&(M=T/(2*(1-D))),[_[0],100*M,100*D]},x.hcg.hwb=function(_){const T=_[1]/100,D=T+_[2]/100*(1-T);return[_[0],100*(D-T),100*(1-D)]},x.hwb.hcg=function(_){const T=_[1]/100,D=1-_[2]/100,M=D-T;let B=0;return M<1&&(B=(D-M)/(1-M)),[_[0],100*M,100*B]},x.apple.rgb=function(_){return[_[0]/65535*255,_[1]/65535*255,_[2]/65535*255]},x.rgb.apple=function(_){return[_[0]/255*65535,_[1]/255*65535,_[2]/255*65535]},x.gray.rgb=function(_){return[_[0]/100*255,_[0]/100*255,_[0]/100*255]},x.gray.hsl=function(_){return[0,0,_[0]]},x.gray.hsv=x.gray.hsl,x.gray.hwb=function(_){return[0,100,_[0]]},x.gray.cmyk=function(_){return[0,0,0,_[0]]},x.gray.lab=function(_){return[_[0],0,0]},x.gray.hex=function(_){const T=255&Math.round(_[0]/100*255),D=((T<<16)+(T<<8)+T).toString(16).toUpperCase();return"000000".substring(D.length)+D},x.rgb.gray=function(_){return[(_[0]+_[1]+_[2])/3/255*100]}},841:(f,k,m)=>{const v=m(4959),A=m(9325),x={};Object.keys(v).forEach(_=>{x[_]={},Object.defineProperty(x[_],"channels",{value:v[_].channels}),Object.defineProperty(x[_],"labels",{value:v[_].labels});const T=A(_);Object.keys(T).forEach(D=>{const M=T[D];x[_][D]=function(B){const O=function(...L){const z=L[0];if(z==null)return z;z.length>1&&(L=z);const Y=B(L);if(typeof Y=="object")for(let X=Y.length,ne=0;ne<X;ne++)Y[ne]=Math.round(Y[ne]);return Y};return"conversion"in B&&(O.conversion=B.conversion),O}(M),x[_][D].raw=function(B){const O=function(...L){const z=L[0];return z==null?z:(z.length>1&&(L=z),B(L))};return"conversion"in B&&(O.conversion=B.conversion),O}(M)})}),f.exports=x},9325:(f,k,m)=>{const v=m(4959);function A(T){const D=function(){const B={},O=Object.keys(v);for(let L=O.length,z=0;z<L;z++)B[O[z]]={distance:-1,parent:null};return B}(),M=[T];for(D[T].distance=0;M.length;){const B=M.pop(),O=Object.keys(v[B]);for(let L=O.length,z=0;z<L;z++){const Y=O[z],X=D[Y];X.distance===-1&&(X.distance=D[B].distance+1,X.parent=B,M.unshift(Y))}}return D}function x(T,D){return function(M){return D(T(M))}}function _(T,D){const M=[D[T].parent,T];let B=v[D[T].parent][T],O=D[T].parent;for(;D[O].parent;)M.unshift(D[O].parent),B=x(v[D[O].parent][O],B),O=D[O].parent;return B.conversion=M,B}f.exports=function(T){const D=A(T),M={},B=Object.keys(D);for(let O=B.length,L=0;L<O;L++){const z=B[L];D[z].parent!==null&&(M[z]=_(z,D))}return M}},1103:f=>{f.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8603:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const T=_},3062:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const T=_},903:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CChCA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;
}
`],sourceRoot:""}]);const T=_},3143:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=_},4717:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const T=_},9315:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const T=_},8733:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const T=_},3508:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const T=_},2640:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const T=_},3535:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const T=_},1568:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const T=_},6270:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const T=_},5083:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const T=_},4036:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const T=_},3773:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const T=_},3689:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const T=_},1905:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=_},9773:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const T=_},2347:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const T=_},7754:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const T=_},111:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const T=_},4721:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const T=_},5730:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const T=_},4564:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const T=_},6082:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const T=_},2417:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const T=_},1199:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,uBACC,eA0ED,CAxEC,0BACC,iBAKD,CAHC,qCACC,cACD,CAIA,+CACC,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqDD,CAxCC,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,0FAAgG,CAJhG,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAIF,wEACC,qBACD,CAKF,6CACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAMA,wDACC,cAKD,CAHC,qEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

.ck-content .todo-list {
	list-style: none;

	& li {
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			-webkit-appearance: none;
			display: inline-block;
			position: relative;
			width: var(--ck-todo-list-checkmark-size);
			height: var(--ck-todo-list-checkmark-size);
			vertical-align: middle;

			/* Needed on iOS */
			border: 0;

			/* LTR styles */
			left: -25px;
			margin-right: -15px;
			right: 0;
			margin-left: 0;

			&::before {
				display: block;
				position: absolute;
				box-sizing: border-box;
				content: '';
				width: 100%;
				height: 100%;
				border: 1px solid hsl(0, 0%, 20%);
				border-radius: 2px;
				transition: 250ms ease-in-out box-shadow, 250ms ease-in-out background, 250ms ease-in-out border;
			}

			&::after {
				display: block;
				position: absolute;
				box-sizing: content-box;
				pointer-events: none;
				content: '';

				/* Calculate tick position, size and border-width proportional to the checkmark size. */
				left: calc( var(--ck-todo-list-checkmark-size) / 3 );
				top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
				border-style: solid;
				border-color: transparent;
				border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
				transform: rotate(45deg);
			}

			&[checked] {
				&::before {
					background: hsl(126, 64%, 41%);
					border-color: hsl(126, 64%, 41%);
				}

				&::after {
					border-color: hsl(0, 0%, 100%);
				}
			}
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}
	}
}

/* RTL styles */
[dir="rtl"] .todo-list .todo-list__label > input {
	left: 0;
	margin-right: 0;
	right: -25px;
	margin-left: -15px;
}

/*
 * To-do list should be interactive only during the editing
 * (https://github.com/ckeditor/ckeditor5/issues/2090).
 */
.ck-editor__editable .todo-list .todo-list__label > input {
	cursor: pointer;

	&:hover::before {
		box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
	}
}
`],sourceRoot:""}]);const T=_},4652:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const T=_},7442:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read–only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const T=_},9292:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=_},7368:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=_},4070:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const T=_},9247:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const T=_},1613:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const T=_},6306:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const T=_},2128:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`],sourceRoot:""}]);const T=_},5087:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const T=_},4101:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:-999999px;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:-999999px;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAOC,gBAAiB,CAGjB,iBAAkB,CATlB,iBAAkB,CAOlB,oDAAqD,CAFrD,aAAc,CAKd,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAC/D,WACD,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const T=_},3881:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const T=_},6237:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=_},7341:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const T=_},6945:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const T=_},4906:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const T=_},5332:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const T=_},6781:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const T=_},3398:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const T=_},4157:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const T=_},5485:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=_},3949:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=_},7686:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=_},7339:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const T=_},9688:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=_},8847:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const T=_},6574:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const T=_},4879:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=_},3662:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const T=_},2577:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=_},1046:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=_},8793:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=_},4650:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const T=_},7676:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=_},5868:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=_},6764:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const T=_},9695:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const T=_},5542:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=_},3332:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const T=_},4793:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const T=_},3488:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=_},8506:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const T=_},4921:(f,k,m)=>{m.d(k,{Z:()=>T});var v=m(1799),A=m.n(v),x=m(2609),_=m.n(x)()(A());_.push([f.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const T=_},2609:f=>{f.exports=function(k){var m=[];return m.toString=function(){return this.map(function(v){var A=k(v);return v[2]?"@media ".concat(v[2]," {").concat(A,"}"):A}).join("")},m.i=function(v,A,x){typeof v=="string"&&(v=[[null,v,""]]);var _={};if(x)for(var T=0;T<this.length;T++){var D=this[T][0];D!=null&&(_[D]=!0)}for(var M=0;M<v.length;M++){var B=[].concat(v[M]);x&&_[B[0]]||(A&&(B[2]?B[2]="".concat(A," and ").concat(B[2]):B[2]=A),m.push(B))}},m}},1799:f=>{function k(v,A){return function(x){if(Array.isArray(x))return x}(v)||function(x,_){var T=x&&(typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"]);if(T!=null){var D,M,B=[],O=!0,L=!1;try{for(T=T.call(x);!(O=(D=T.next()).done)&&(B.push(D.value),!_||B.length!==_);O=!0);}catch(z){L=!0,M=z}finally{try{O||T.return==null||T.return()}finally{if(L)throw M}}return B}}(v,A)||function(x,_){if(x){if(typeof x=="string")return m(x,_);var T=Object.prototype.toString.call(x).slice(8,-1);if(T==="Object"&&x.constructor&&(T=x.constructor.name),T==="Map"||T==="Set")return Array.from(x);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return m(x,_)}}(v,A)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m(v,A){(A==null||A>v.length)&&(A=v.length);for(var x=0,_=new Array(A);x<A;x++)_[x]=v[x];return _}f.exports=function(v){var A=k(v,4),x=A[1],_=A[3];if(!_)return x;if(typeof btoa=="function"){var T=btoa(unescape(encodeURIComponent(JSON.stringify(_)))),D="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(T),M="/*# ".concat(D," */"),B=_.sources.map(function(O){return"/*# sourceURL=".concat(_.sourceRoot||"").concat(O," */")});return[x].concat(B).concat([M]).join(`
`)}return[x].join(`
`)}},6062:(f,k,m)=>{var v,A=function(){return v===void 0&&(v=!!(window&&document&&document.all&&!window.atob)),v},x=function(){var Z={};return function(V){if(Z[V]===void 0){var se=document.querySelector(V);if(window.HTMLIFrameElement&&se instanceof window.HTMLIFrameElement)try{se=se.contentDocument.head}catch{se=null}Z[V]=se}return Z[V]}}(),_=[];function T(Z){for(var V=-1,se=0;se<_.length;se++)if(_[se].identifier===Z){V=se;break}return V}function D(Z,V){for(var se={},ie=[],he=0;he<Z.length;he++){var $e=Z[he],De=V.base?$e[0]+V.base:$e[0],Re=se[De]||0,Ge="".concat(De," ").concat(Re);se[De]=Re+1;var He=T(Ge),qe={css:$e[1],media:$e[2],sourceMap:$e[3]};He!==-1?(_[He].references++,_[He].updater(qe)):_.push({identifier:Ge,updater:ne(qe,V),references:1}),ie.push(Ge)}return ie}function M(Z){var V=document.createElement("style"),se=Z.attributes||{};if(se.nonce===void 0){var ie=m.nc;ie&&(se.nonce=ie)}if(Object.keys(se).forEach(function($e){V.setAttribute($e,se[$e])}),typeof Z.insert=="function")Z.insert(V);else{var he=x(Z.insert||"head");if(!he)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");he.appendChild(V)}return V}var B,O=(B=[],function(Z,V){return B[Z]=V,B.filter(Boolean).join(`
`)});function L(Z,V,se,ie){var he=se?"":ie.media?"@media ".concat(ie.media," {").concat(ie.css,"}"):ie.css;if(Z.styleSheet)Z.styleSheet.cssText=O(V,he);else{var $e=document.createTextNode(he),De=Z.childNodes;De[V]&&Z.removeChild(De[V]),De.length?Z.insertBefore($e,De[V]):Z.appendChild($e)}}function z(Z,V,se){var ie=se.css,he=se.media,$e=se.sourceMap;if(he?Z.setAttribute("media",he):Z.removeAttribute("media"),$e&&typeof btoa<"u"&&(ie+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify($e))))," */")),Z.styleSheet)Z.styleSheet.cssText=ie;else{for(;Z.firstChild;)Z.removeChild(Z.firstChild);Z.appendChild(document.createTextNode(ie))}}var Y=null,X=0;function ne(Z,V){var se,ie,he;if(V.singleton){var $e=X++;se=Y||(Y=M(V)),ie=L.bind(null,se,$e,!1),he=L.bind(null,se,$e,!0)}else se=M(V),ie=z.bind(null,se,V),he=function(){(function(De){if(De.parentNode===null)return!1;De.parentNode.removeChild(De)})(se)};return ie(Z),function(De){if(De){if(De.css===Z.css&&De.media===Z.media&&De.sourceMap===Z.sourceMap)return;ie(Z=De)}else he()}}f.exports=function(Z,V){(V=V||{}).singleton||typeof V.singleton=="boolean"||(V.singleton=A());var se=D(Z=Z||[],V);return function(ie){if(ie=ie||[],Object.prototype.toString.call(ie)==="[object Array]"){for(var he=0;he<se.length;he++){var $e=T(se[he]);_[$e].references--}for(var De=D(ie,V),Re=0;Re<se.length;Re++){var Ge=T(se[Re]);_[Ge].references===0&&(_[Ge].updater(),_.splice(Ge,1))}se=De}}}}},o={};function a(f){var k=o[f];if(k!==void 0)return k.exports;var m=o[f]={id:f,exports:{}};return r[f](m,m.exports,a),m.exports}a.n=f=>{var k=f&&f.__esModule?()=>f.default:()=>f;return a.d(k,{a:k}),k},a.d=(f,k)=>{for(var m in k)a.o(k,m)&&!a.o(f,m)&&Object.defineProperty(f,m,{enumerable:!0,get:k[m]})},a.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),a.o=(f,k)=>Object.prototype.hasOwnProperty.call(f,k),a.nc=void 0;var d={};return(()=>{function f({emitter:c,activator:n,callback:i,contextElements:s}){c.listenTo(document,"mousedown",(l,u)=>{if(!n())return;const h=typeof u.composedPath=="function"?u.composedPath():[],p=typeof s=="function"?s():s;for(const g of p)if(g.contains(u.target)||h.includes(g))return;i()})}function k(c){return class extends c{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...n){super(...n),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function m({view:c}){c.listenTo(c.element,"submit",(n,i)=>{i.preventDefault(),c.fire("submit")},{useCapture:!0})}a.d(d,{default:()=>rC});const v=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var A;const x={isMac:_(v),isWindows:(A=v,A.indexOf("windows")>-1),isGecko:function(c){return!!c.match(/gecko\/\d+/)}(v),isSafari:function(c){return c.indexOf(" applewebkit/")>-1&&c.indexOf("chrome")===-1}(v),isiOS:function(c){return!!c.match(/iphone|ipad/i)||_(c)&&navigator.maxTouchPoints>0}(v),isAndroid:function(c){return c.indexOf("android")>-1}(v),isBlink:function(c){return c.indexOf("chrome/")>-1&&c.indexOf("edge/")<0}(v),features:{isRegExpUnicodePropertySupported:function(){let c=!1;try{c="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return c}()}};function _(c){return c.indexOf("macintosh")>-1}function T(c,n,i,s){i=i||function(g,w){return g===w};const l=Array.isArray(c)?c:Array.prototype.slice.call(c),u=Array.isArray(n)?n:Array.prototype.slice.call(n),h=function(g,w,y){const C=D(g,w,y);if(C===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const S=M(g,C),N=M(w,C),P=D(S,N,y),j=g.length-P,H=w.length-P;return{firstIndex:C,lastIndexOld:j,lastIndexNew:H}}(l,u,i);return s?function(g,w){const{firstIndex:y,lastIndexOld:C,lastIndexNew:S}=g;if(y===-1)return Array(w).fill("equal");let N=[];return y>0&&(N=N.concat(Array(y).fill("equal"))),S-y>0&&(N=N.concat(Array(S-y).fill("insert"))),C-y>0&&(N=N.concat(Array(C-y).fill("delete"))),S<w&&(N=N.concat(Array(w-S).fill("equal"))),N}(h,u.length):function(g,w){const y=[],{firstIndex:C,lastIndexOld:S,lastIndexNew:N}=w;return N-C>0&&y.push({index:C,type:"insert",values:g.slice(C,N)}),S-C>0&&y.push({index:C+(N-C),type:"delete",howMany:S-C}),y}(u,h)}function D(c,n,i){for(let s=0;s<Math.max(c.length,n.length);s++)if(c[s]===void 0||n[s]===void 0||!i(c[s],n[s]))return s;return-1}function M(c,n){return c.slice(n).reverse()}function B(c,n,i){i=i||function(j,H){return j===H};const s=c.length,l=n.length;if(s>200||l>200||s+l>300)return B.fastDiff(c,n,i,!0);let u,h;if(l<s){const j=c;c=n,n=j,u="delete",h="insert"}else u="insert",h="delete";const p=c.length,g=n.length,w=g-p,y={},C={};function S(j){const H=(C[j-1]!==void 0?C[j-1]:-1)+1,q=C[j+1]!==void 0?C[j+1]:-1,te=H>q?-1:1;y[j+te]&&(y[j]=y[j+te].slice(0)),y[j]||(y[j]=[]),y[j].push(H>q?u:h);let fe=Math.max(H,q),Te=fe-j;for(;Te<p&&fe<g&&i(c[Te],n[fe]);)Te++,fe++,y[j].push("equal");return fe}let N,P=0;do{for(N=-P;N<w;N++)C[N]=S(N);for(N=w+P;N>w;N--)C[N]=S(N);C[w]=S(w),P++}while(C[w]!==g);return y[w].slice(1)}B.fastDiff=T;const O=function(){return function c(){c.called=!0}};class L{constructor(n,i){this.source=n,this.name=i,this.path=[],this.stop=O(),this.off=O()}}const z=new Array(256).fill("").map((c,n)=>("0"+n.toString(16)).slice(-2));function Y(){const c=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0;return"e"+z[c>>0&255]+z[c>>8&255]+z[c>>16&255]+z[c>>24&255]+z[n>>0&255]+z[n>>8&255]+z[n>>16&255]+z[n>>24&255]+z[i>>0&255]+z[i>>8&255]+z[i>>16&255]+z[i>>24&255]+z[s>>0&255]+z[s>>8&255]+z[s>>16&255]+z[s>>24&255]}const X={get(c="normal"){return typeof c!="number"?this[c]||this.normal:c},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function ne(c,n){const i=X.get(n.priority);for(let s=0;s<c.length;s++)if(X.get(c[s].priority)<i)return void c.splice(s,0,n);c.push(n)}const Z="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class V extends Error{constructor(n,i,s){super(function(l,u){const h=new WeakSet,p=(y,C)=>{if(typeof C=="object"&&C!==null){if(h.has(C))return`[object ${C.constructor.name}]`;h.add(C)}return C},g=u?` ${JSON.stringify(u,p)}`:"",w=he(l);return l+g+w}(n,s)),this.name="CKEditorError",this.context=i,this.data=s}is(n){return n==="CKEditorError"}static rethrowUnexpectedError(n,i){if(n.is&&n.is("CKEditorError"))throw n;const s=new V(n.message,i);throw s.stack=n.stack,s}}function se(c,n){console.warn(...$e(c,n))}function ie(c,n){console.error(...$e(c,n))}function he(c){return`
Read more: ${Z}#error-${c}`}function $e(c,n){const i=he(c);return n?[c,n,i]:[c,i]}const De="39.0.1",Re=new Date(2023,7,10),Ge=typeof window=="object"?window:a.g;if(Ge.CKEDITOR_VERSION)throw new V("ckeditor-duplicated-modules",null);Ge.CKEDITOR_VERSION=De;const He=Symbol("listeningTo"),qe=Symbol("emitterId"),de=Symbol("delegations"),xe=we(Object);function we(c){return c?class extends c{on(n,i,s){this.listenTo(this,n,i,s)}once(n,i,s){let l=!1;this.listenTo(this,n,(u,...h)=>{l||(l=!0,u.off(),i.call(this,u,...h))},s)}off(n,i){this.stopListening(this,n,i)}listenTo(n,i,s,l={}){let u,h;this[He]||(this[He]={});const p=this[He];oe(n)||ee(n);const g=oe(n);(u=p[g])||(u=p[g]={emitter:n,callbacks:{}}),(h=u.callbacks[i])||(h=u.callbacks[i]=[]),h.push(s),function(w,y,C,S,N){y._addEventListener?y._addEventListener(C,S,N):w._addEventListener.call(y,C,S,N)}(this,n,i,s,l)}stopListening(n,i,s){const l=this[He];let u=n&&oe(n);const h=l&&u?l[u]:void 0,p=h&&i?h.callbacks[i]:void 0;if(!(!l||n&&!h||i&&!p))if(s)Be(this,n,i,s),p.indexOf(s)!==-1&&(p.length===1?delete h.callbacks[i]:Be(this,n,i,s));else if(p){for(;s=p.pop();)Be(this,n,i,s);delete h.callbacks[i]}else if(h){for(i in h.callbacks)this.stopListening(n,i);delete l[u]}else{for(u in l)this.stopListening(l[u].emitter);delete this[He]}}fire(n,...i){try{const s=n instanceof L?n:new L(this,n),l=s.name;let u=ce(this,l);if(s.path.push(this),u){const p=[s,...i];u=Array.from(u);for(let g=0;g<u.length&&(u[g].callback.apply(this,p),s.off.called&&(delete s.off.called,this._removeEventListener(l,u[g].callback)),!s.stop.called);g++);}const h=this[de];if(h){const p=h.get(l),g=h.get("*");p&&Ne(p,s,i),g&&Ne(g,s,i)}return s.return}catch(s){V.rethrowUnexpectedError(s,this)}}delegate(...n){return{to:(i,s)=>{this[de]||(this[de]=new Map),n.forEach(l=>{const u=this[de].get(l);u?u.set(i,s):this[de].set(l,new Map([[i,s]]))})}}}stopDelegating(n,i){if(this[de])if(n)if(i){const s=this[de].get(n);s&&s.delete(i)}else this[de].delete(n);else this[de].clear()}_addEventListener(n,i,s){(function(h,p){const g=J(h);if(g[p])return;let w=p,y=null;const C=[];for(;w!==""&&!g[w];)g[w]={callbacks:[],childEvents:[]},C.push(g[w]),y&&g[w].childEvents.push(y),y=w,w=w.substr(0,w.lastIndexOf(":"));if(w!==""){for(const S of C)S.callbacks=g[w].callbacks.slice();g[w].childEvents.push(y)}})(this,n);const l=pe(this,n),u={callback:i,priority:X.get(s.priority)};for(const h of l)ne(h,u)}_removeEventListener(n,i){const s=pe(this,n);for(const l of s)for(let u=0;u<l.length;u++)l[u].callback==i&&(l.splice(u,1),u--)}}:xe}function ee(c,n){c[qe]||(c[qe]=n||Y())}function oe(c){return c[qe]}function J(c){return c._events||Object.defineProperty(c,"_events",{value:{}}),c._events}function pe(c,n){const i=J(c)[n];if(!i)return[];let s=[i.callbacks];for(let l=0;l<i.childEvents.length;l++){const u=pe(c,i.childEvents[l]);s=s.concat(u)}return s}function ce(c,n){let i;return c._events&&(i=c._events[n])&&i.callbacks.length?i.callbacks:n.indexOf(":")>-1?ce(c,n.substr(0,n.lastIndexOf(":"))):null}function Ne(c,n,i){for(let[s,l]of c){l?typeof l=="function"&&(l=l(n.name)):l=n.name;const u=new L(n.source,l);u.path=[...n.path],s.fire(u,...i)}}function Be(c,n,i,s){n._removeEventListener?n._removeEventListener(i,s):c._removeEventListener.call(n,i,s)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{we[c]=xe.prototype[c]});const Se=function(c){var n=typeof c;return c!=null&&(n=="object"||n=="function")},_t=Symbol("observableProperties"),At=Symbol("boundObservables"),xt=Symbol("boundProperties"),ot=Symbol("decoratedMethods"),Lt=Symbol("decoratedOriginal"),ht=ut(we());function ut(c){return c?class extends c{set(n,i){if(Se(n))return void Object.keys(n).forEach(l=>{this.set(l,n[l])},this);rr(this);const s=this[_t];if(n in this&&!s.has(n))throw new V("observable-set-cannot-override",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get:()=>s.get(n),set(l){const u=s.get(n);let h=this.fire(`set:${n}`,n,l,u);h===void 0&&(h=l),u===h&&s.has(n)||(s.set(n,h),this.fire(`change:${n}`,n,h,u))}}),this[n]=i}bind(...n){if(!n.length||!or(n))throw new V("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new V("observable-bind-duplicate-properties",this);rr(this);const i=this[xt];n.forEach(l=>{if(i.has(l))throw new V("observable-bind-rebind",this)});const s=new Map;return n.forEach(l=>{const u={property:l,to:[]};i.set(l,u),s.set(l,u)}),{to:Wt,toMany:ir,_observable:this,_bindProperties:n,_to:[],_bindings:s}}unbind(...n){if(!this[_t])return;const i=this[xt],s=this[At];if(n.length){if(!or(n))throw new V("observable-unbind-wrong-properties",this);n.forEach(l=>{const u=i.get(l);u&&(u.to.forEach(([h,p])=>{const g=s.get(h),w=g[p];w.delete(u),w.size||delete g[p],Object.keys(g).length||(s.delete(h),this.stopListening(h,"change"))}),i.delete(l))})}else s.forEach((l,u)=>{this.stopListening(u,"change")}),s.clear(),i.clear()}decorate(n){rr(this);const i=this[n];if(!i)throw new V("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:n});this.on(n,(s,l)=>{s.return=i.apply(this,l)}),this[n]=function(...s){return this.fire(n,s)},this[n][Lt]=i,this[ot]||(this[ot]=[]),this[ot].push(n)}stopListening(n,i,s){if(!n&&this[ot]){for(const l of this[ot])this[l]=this[l][Lt];delete this[ot]}super.stopListening(n,i,s)}}:ht}function rr(c){c[_t]||(Object.defineProperty(c,_t,{value:new Map}),Object.defineProperty(c,At,{value:new Map}),Object.defineProperty(c,xt,{value:new Map}))}function Wt(...c){const n=function(...u){if(!u.length)throw new V("observable-bind-to-parse-error",null);const h={to:[]};let p;return typeof u[u.length-1]=="function"&&(h.callback=u.pop()),u.forEach(g=>{if(typeof g=="string")p.properties.push(g);else{if(typeof g!="object")throw new V("observable-bind-to-parse-error",null);p={observable:g,properties:[]},h.to.push(p)}}),h}(...c),i=Array.from(this._bindings.keys()),s=i.length;if(!n.callback&&n.to.length>1)throw new V("observable-bind-to-no-callback",this);if(s>1&&n.callback)throw new V("observable-bind-to-extra-callback",this);var l;n.to.forEach(u=>{if(u.properties.length&&u.properties.length!==s)throw new V("observable-bind-to-properties-length",this);u.properties.length||(u.properties=this._bindProperties)}),this._to=n.to,n.callback&&(this._bindings.get(i[0]).callback=n.callback),l=this._observable,this._to.forEach(u=>{const h=l[At];let p;h.get(u.observable)||l.listenTo(u.observable,"change",(g,w)=>{p=h.get(u.observable)[w],p&&p.forEach(y=>{Vn(l,y.property)})})}),function(u){let h;u._bindings.forEach((p,g)=>{u._to.forEach(w=>{h=w.properties[p.callback?0:u._bindProperties.indexOf(g)],p.to.push([w.observable,h]),function(y,C,S,N){const P=y[At],j=P.get(S),H=j||{};H[N]||(H[N]=new Set),H[N].add(C),j||P.set(S,H)}(u._observable,p,w.observable,h)})})}(this),this._bindProperties.forEach(u=>{Vn(this._observable,u)})}function ir(c,n,i){if(this._bindings.size>1)throw new V("observable-bind-to-many-not-one-binding",this);this.to(...function(s,l){const u=s.map(h=>[h,l]);return Array.prototype.concat.apply([],u)}(c,n),i)}function or(c){return c.every(n=>typeof n=="string")}function Vn(c,n){const i=c[xt].get(n);let s;i.callback?s=i.callback.apply(c,i.to.map(l=>l[0][l[1]])):(s=i.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(c,n)?c[n]=s:c.set(n,s)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{ut[c]=ht.prototype[c]});class an{constructor(){this._replacedElements=[]}replace(n,i){this._replacedElements.push({element:n,newElement:i}),n.style.display="none",i&&n.parentNode.insertBefore(i,n.nextSibling)}restore(){this._replacedElements.forEach(({element:n,newElement:i})=>{n.style.display="",i&&i.remove()}),this._replacedElements=[]}}function re(c){let n=0;for(const i of c)n++;return n}function Ae(c,n){const i=Math.min(c.length,n.length);for(let s=0;s<i;s++)if(c[s]!=n[s])return s;return c.length==n.length?"same":c.length<n.length?"prefix":"extension"}function Ie(c){return!(!c||!c[Symbol.iterator])}const Me=typeof bi=="object"&&bi&&bi.Object===Object&&bi;var Qe=typeof self=="object"&&self&&self.Object===Object&&self;const Ye=Me||Qe||Function("return this")(),et=Ye.Symbol;var Ue=Object.prototype,dr=Ue.hasOwnProperty,Pr=Ue.toString,ai=et?et.toStringTag:void 0;const Ja=function(c){var n=dr.call(c,ai),i=c[ai];try{c[ai]=void 0;var s=!0}catch{}var l=Pr.call(c);return s&&(n?c[ai]=i:delete c[ai]),l};var os=Object.prototype.toString;const ss=function(c){return os.call(c)};var Un=et?et.toStringTag:void 0;const Si=function(c){return c==null?c===void 0?"[object Undefined]":"[object Null]":Un&&Un in Object(c)?Ja(c):ss(c)},sn=Array.isArray,An=function(c){return c!=null&&typeof c=="object"},Et=function(c){return typeof c=="string"||!sn(c)&&An(c)&&Si(c)=="[object String]"};function Cl(c,n,i={},s=[]){const l=i&&i.xmlns,u=l?c.createElementNS(l,n):c.createElement(n);for(const h in i)u.setAttribute(h,i[h]);!Et(s)&&Ie(s)||(s=[s]);for(let h of s)Et(h)&&(h=c.createTextNode(h)),u.appendChild(h);return u}const xl=function(c,n){return function(i){return c(n(i))}},as=xl(Object.getPrototypeOf,Object);var El=Function.prototype,Xa=Object.prototype,Do=El.toString,ec=Xa.hasOwnProperty,cs=Do.call(Object);const jn=function(c){if(!An(c)||Si(c)!="[object Object]")return!1;var n=as(c);if(n===null)return!0;var i=ec.call(n,"constructor")&&n.constructor;return typeof i=="function"&&i instanceof i&&Do.call(i)==cs},Zf=function(){this.__data__=[],this.size=0},Ti=function(c,n){return c===n||c!=c&&n!=n},ci=function(c,n){for(var i=c.length;i--;)if(Ti(c[i][0],n))return i;return-1};var Le=Array.prototype.splice;const Jf=function(c){var n=this.__data__,i=ci(n,c);return!(i<0)&&(i==n.length-1?n.pop():Le.call(n,i,1),--this.size,!0)},Xf=function(c){var n=this.__data__,i=ci(n,c);return i<0?void 0:n[i][1]},yr=function(c){return ci(this.__data__,c)>-1},eo=function(c,n){var i=this.__data__,s=ci(i,c);return s<0?(++this.size,i.push([c,n])):i[s][1]=n,this};function kt(c){var n=-1,i=c==null?0:c.length;for(this.clear();++n<i;){var s=c[n];this.set(s[0],s[1])}}kt.prototype.clear=Zf,kt.prototype.delete=Jf,kt.prototype.get=Xf,kt.prototype.has=yr,kt.prototype.set=eo;const to=kt,ls=function(){this.__data__=new to,this.size=0},Hn=function(c){var n=this.__data__,i=n.delete(c);return this.size=n.size,i},Di=function(c){return this.__data__.get(c)},Jr=function(c){return this.__data__.has(c)},Ft=function(c){if(!Se(c))return!1;var n=Si(c);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"},_r=Ye["__core-js_shared__"];var Xr=function(){var c=/[^.]+$/.exec(_r&&_r.keys&&_r.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();const li=function(c){return!!Xr&&Xr in c};var ep=Function.prototype.toString;const no=function(c){if(c!=null){try{return ep.call(c)}catch{}try{return c+""}catch{}}return""};var hd=/^\[object .+?Constructor\]$/,un=Function.prototype,tc=Object.prototype,tp=un.toString,nc=tc.hasOwnProperty,fd=RegExp("^"+tp.call(nc).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const pd=function(c){return!(!Se(c)||li(c))&&(Ft(c)?fd:hd).test(no(c))},gd=function(c,n){return c==null?void 0:c[n]},ro=function(c,n){var i=gd(c,n);return pd(i)?i:void 0},us=ro(Ye,"Map"),oa=ro(Object,"create"),np=function(){this.__data__=oa?oa(null):{},this.size=0},Sl=function(c){var n=this.has(c)&&delete this.__data__[c];return this.size-=n?1:0,n};var $t=Object.prototype.hasOwnProperty;const rp=function(c){var n=this.__data__;if(oa){var i=n[c];return i==="__lodash_hash_undefined__"?void 0:i}return $t.call(n,c)?n[c]:void 0};var Tl=Object.prototype.hasOwnProperty;const md=function(c){var n=this.__data__;return oa?n[c]!==void 0:Tl.call(n,c)},ds=function(c,n){var i=this.__data__;return this.size+=this.has(c)?0:1,i[c]=oa&&n===void 0?"__lodash_hash_undefined__":n,this};function Or(c){var n=-1,i=c==null?0:c.length;for(this.clear();++n<i;){var s=c[n];this.set(s[0],s[1])}}Or.prototype.clear=np,Or.prototype.delete=Sl,Or.prototype.get=rp,Or.prototype.has=md,Or.prototype.set=ds;const io=Or,kd=function(){this.size=0,this.__data__={hash:new io,map:new(us||to),string:new io}},ip=function(c){var n=typeof c;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?c!=="__proto__":c===null},oo=function(c,n){var i=c.__data__;return ip(n)?i[typeof n=="string"?"string":"hash"]:i.map},sa=function(c){var n=oo(this,c).delete(c);return this.size-=n?1:0,n},bd=function(c){return oo(this,c).get(c)},Io=function(c){return oo(this,c).has(c)},ui=function(c,n){var i=oo(this,c),s=i.size;return i.set(c,n),this.size+=i.size==s?0:1,this};function hs(c){var n=-1,i=c==null?0:c.length;for(this.clear();++n<i;){var s=c[n];this.set(s[0],s[1])}}hs.prototype.clear=kd,hs.prototype.delete=sa,hs.prototype.get=bd,hs.prototype.has=Io,hs.prototype.set=ui;const rc=hs,op=function(c,n){var i=this.__data__;if(i instanceof to){var s=i.__data__;if(!us||s.length<199)return s.push([c,n]),this.size=++i.size,this;i=this.__data__=new rc(s)}return i.set(c,n),this.size=i.size,this};function Mo(c){var n=this.__data__=new to(c);this.size=n.size}Mo.prototype.clear=ls,Mo.prototype.delete=Hn,Mo.prototype.get=Di,Mo.prototype.has=Jr,Mo.prototype.set=op;const No=Mo,sp=function(c,n){for(var i=-1,s=c==null?0:c.length;++i<s&&n(c[i],i,c)!==!1;);return c},ic=function(){try{var c=ro(Object,"defineProperty");return c({},"",{}),c}catch{}}(),Dl=function(c,n,i){n=="__proto__"&&ic?ic(c,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):c[n]=i};var Il=Object.prototype.hasOwnProperty;const aa=function(c,n,i){var s=c[n];Il.call(c,n)&&Ti(s,i)&&(i!==void 0||n in c)||Dl(c,n,i)},Po=function(c,n,i,s){var l=!i;i||(i={});for(var u=-1,h=n.length;++u<h;){var p=n[u],g=s?s(i[p],c[p],p,i,c):void 0;g===void 0&&(g=c[p]),l?Dl(i,p,g):aa(i,p,g)}return i},wd=function(c,n){for(var i=-1,s=Array(c);++i<c;)s[i]=n(i);return s},Ml=function(c){return An(c)&&Si(c)=="[object Arguments]"};var Nl=Object.prototype,vd=Nl.hasOwnProperty,ap=Nl.propertyIsEnumerable;const Pl=Ml(function(){return arguments}())?Ml:function(c){return An(c)&&vd.call(c,"callee")&&!ap.call(c,"callee")},cp=function(){return!1};var Ol=e&&!e.nodeType&&e,yd=Ol&&!0&&t&&!t.nodeType&&t,Rl=yd&&yd.exports===Ol?Ye.Buffer:void 0;const Oo=(Rl?Rl.isBuffer:void 0)||cp;var lp=/^(?:0|[1-9]\d*)$/;const oc=function(c,n){var i=typeof c;return!!(n=n??9007199254740991)&&(i=="number"||i!="symbol"&&lp.test(c))&&c>-1&&c%1==0&&c<n},sc=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991};var Vt={};Vt["[object Float32Array]"]=Vt["[object Float64Array]"]=Vt["[object Int8Array]"]=Vt["[object Int16Array]"]=Vt["[object Int32Array]"]=Vt["[object Uint8Array]"]=Vt["[object Uint8ClampedArray]"]=Vt["[object Uint16Array]"]=Vt["[object Uint32Array]"]=!0,Vt["[object Arguments]"]=Vt["[object Array]"]=Vt["[object ArrayBuffer]"]=Vt["[object Boolean]"]=Vt["[object DataView]"]=Vt["[object Date]"]=Vt["[object Error]"]=Vt["[object Function]"]=Vt["[object Map]"]=Vt["[object Number]"]=Vt["[object Object]"]=Vt["[object RegExp]"]=Vt["[object Set]"]=Vt["[object String]"]=Vt["[object WeakMap]"]=!1;const Ll=function(c){return An(c)&&sc(c.length)&&!!Vt[Si(c)]},fs=function(c){return function(n){return c(n)}};var _d=e&&!e.nodeType&&e,ps=_d&&!0&&t&&!t.nodeType&&t,gs=ps&&ps.exports===_d&&Me.process;const so=function(){try{var c=ps&&ps.require&&ps.require("util").types;return c||gs&&gs.binding&&gs.binding("util")}catch{}}();var ac=so&&so.isTypedArray;const ca=ac?fs(ac):Ll;var Ad=Object.prototype.hasOwnProperty;const cc=function(c,n){var i=sn(c),s=!i&&Pl(c),l=!i&&!s&&Oo(c),u=!i&&!s&&!l&&ca(c),h=i||s||l||u,p=h?wd(c.length,String):[],g=p.length;for(var w in c)!n&&!Ad.call(c,w)||h&&(w=="length"||l&&(w=="offset"||w=="parent")||u&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||oc(w,g))||p.push(w);return p};var qt=Object.prototype;const ao=function(c){var n=c&&c.constructor;return c===(typeof n=="function"&&n.prototype||qt)},ms=xl(Object.keys,Object);var up=Object.prototype.hasOwnProperty;const Cd=function(c){if(!ao(c))return ms(c);var n=[];for(var i in Object(c))up.call(c,i)&&i!="constructor"&&n.push(i);return n},lc=function(c){return c!=null&&sc(c.length)&&!Ft(c)},Bl=function(c){return lc(c)?cc(c):Cd(c)},uc=function(c,n){return c&&Po(n,Bl(n),c)},hr=function(c){var n=[];if(c!=null)for(var i in Object(c))n.push(i);return n};var la=Object.prototype.hasOwnProperty;const dp=function(c){if(!Se(c))return hr(c);var n=ao(c),i=[];for(var s in c)(s!="constructor"||!n&&la.call(c,s))&&i.push(s);return i},fr=function(c){return lc(c)?cc(c,!0):dp(c)},xd=function(c,n){return c&&Po(n,fr(n),c)};var ks=e&&!e.nodeType&&e,Ed=ks&&!0&&t&&!t.nodeType&&t,Sd=Ed&&Ed.exports===ks?Ye.Buffer:void 0,Td=Sd?Sd.allocUnsafe:void 0;const bs=function(c,n){if(n)return c.slice();var i=c.length,s=Td?Td(i):new c.constructor(i);return c.copy(s),s},ua=function(c,n){var i=-1,s=c.length;for(n||(n=Array(s));++i<s;)n[i]=c[i];return n},hp=function(c,n){for(var i=-1,s=c==null?0:c.length,l=0,u=[];++i<s;){var h=c[i];n(h,i,c)&&(u[l++]=h)}return u},Dd=function(){return[]};var fp=Object.prototype.propertyIsEnumerable,dc=Object.getOwnPropertySymbols;const jl=dc?function(c){return c==null?[]:(c=Object(c),hp(dc(c),function(n){return fp.call(c,n)}))}:Dd,pp=function(c,n){return Po(c,jl(c),n)},Id=function(c,n){for(var i=-1,s=n.length,l=c.length;++i<s;)c[l+i]=n[i];return c},zl=Object.getOwnPropertySymbols?function(c){for(var n=[];c;)Id(n,jl(c)),c=as(c);return n}:Dd,gp=function(c,n){return Po(c,zl(c),n)},Fl=function(c,n,i){var s=n(c);return sn(c)?s:Id(s,i(c))},hc=function(c){return Fl(c,Bl,jl)},ws=function(c){return Fl(c,fr,zl)},fc=ro(Ye,"DataView"),vs=ro(Ye,"Promise"),pc=ro(Ye,"Set"),St=ro(Ye,"WeakMap");var Md="[object Map]",Nd="[object Promise]",Pd="[object Set]",Od="[object WeakMap]",gc="[object DataView]",mp=no(fc),Rd=no(us),Gt=no(vs),kp=no(pc),Ld=no(St),Rr=Si;(fc&&Rr(new fc(new ArrayBuffer(1)))!=gc||us&&Rr(new us)!=Md||vs&&Rr(vs.resolve())!=Nd||pc&&Rr(new pc)!=Pd||St&&Rr(new St)!=Od)&&(Rr=function(c){var n=Si(c),i=n=="[object Object]"?c.constructor:void 0,s=i?no(i):"";if(s)switch(s){case mp:return gc;case Rd:return Md;case Gt:return Nd;case kp:return Pd;case Ld:return Od}return n});const ys=Rr;var bp=Object.prototype.hasOwnProperty;const Bd=function(c){var n=c.length,i=new c.constructor(n);return n&&typeof c[0]=="string"&&bp.call(c,"index")&&(i.index=c.index,i.input=c.input),i},Ii=Ye.Uint8Array,da=function(c){var n=new c.constructor(c.byteLength);return new Ii(n).set(new Ii(c)),n},$l=function(c,n){var i=n?da(c.buffer):c.buffer;return new c.constructor(i,c.byteOffset,c.byteLength)};var _s=/\w*$/;const mc=function(c){var n=new c.constructor(c.source,_s.exec(c));return n.lastIndex=c.lastIndex,n};var F=et?et.prototype:void 0,$=F?F.valueOf:void 0;const K=function(c){return $?Object($.call(c)):{}},ae=function(c,n){var i=n?da(c.buffer):c.buffer;return new c.constructor(i,c.byteOffset,c.length)},Ve=function(c,n,i){var s=c.constructor;switch(n){case"[object ArrayBuffer]":return da(c);case"[object Boolean]":case"[object Date]":return new s(+c);case"[object DataView]":return $l(c,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ae(c,i);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(c);case"[object RegExp]":return mc(c);case"[object Symbol]":return K(c)}};var Ze=Object.create;const nt=function(){function c(){}return function(n){if(!Se(n))return{};if(Ze)return Ze(n);c.prototype=n;var i=new c;return c.prototype=void 0,i}}(),tt=function(c){return typeof c.constructor!="function"||ao(c)?{}:nt(as(c))},dn=function(c){return An(c)&&ys(c)=="[object Map]"};var en=so&&so.isMap;const kc=en?fs(en):dn,Ro=function(c){return An(c)&&ys(c)=="[object Set]"};var ei=so&&so.isSet;const As=ei?fs(ei):Ro;var Cs="[object Arguments]",co="[object Function]",Lr="[object Object]",pt={};pt[Cs]=pt["[object Array]"]=pt["[object ArrayBuffer]"]=pt["[object DataView]"]=pt["[object Boolean]"]=pt["[object Date]"]=pt["[object Float32Array]"]=pt["[object Float64Array]"]=pt["[object Int8Array]"]=pt["[object Int16Array]"]=pt["[object Int32Array]"]=pt["[object Map]"]=pt["[object Number]"]=pt[Lr]=pt["[object RegExp]"]=pt["[object Set]"]=pt["[object String]"]=pt["[object Symbol]"]=pt["[object Uint8Array]"]=pt["[object Uint8ClampedArray]"]=pt["[object Uint16Array]"]=pt["[object Uint32Array]"]=!0,pt["[object Error]"]=pt[co]=pt["[object WeakMap]"]=!1;const Wn=function c(n,i,s,l,u,h){var p,g=1&i,w=2&i,y=4&i;if(s&&(p=u?s(n,l,u,h):s(n)),p!==void 0)return p;if(!Se(n))return n;var C=sn(n);if(C){if(p=Bd(n),!g)return ua(n,p)}else{var S=ys(n),N=S==co||S=="[object GeneratorFunction]";if(Oo(n))return bs(n,g);if(S==Lr||S==Cs||N&&!u){if(p=w||N?{}:tt(n),!g)return w?gp(n,xd(p,n)):pp(n,uc(p,n))}else{if(!pt[S])return u?n:{};p=Ve(n,S,g)}}h||(h=new No);var P=h.get(n);if(P)return P;h.set(n,p),As(n)?n.forEach(function(H){p.add(c(H,i,s,H,n,h))}):kc(n)&&n.forEach(function(H,q){p.set(q,c(H,i,s,q,n,h))});var j=C?void 0:(y?w?ws:hc:w?fr:Bl)(n);return sp(j||n,function(H,q){j&&(H=n[q=H]),aa(p,q,c(H,i,s,q,n,h))}),p},ti=function(c,n){return Wn(c,5,n=typeof n=="function"?n:void 0)},Ar=function(c){return An(c)&&c.nodeType===1&&!jn(c)};class di{constructor(n,i){this._config={},i&&this.define(xs(i)),n&&this._setObjectToTarget(this._config,n)}set(n,i){this._setToTarget(this._config,n,i)}define(n,i){this._setToTarget(this._config,n,i,!0)}get(n){return this._getFromSource(this._config,n)}*names(){for(const n of Object.keys(this._config))yield n}_setToTarget(n,i,s,l=!1){if(jn(i))return void this._setObjectToTarget(n,i,l);const u=i.split(".");i=u.pop();for(const h of u)jn(n[h])||(n[h]={}),n=n[h];if(jn(s))return jn(n[i])||(n[i]={}),n=n[i],void this._setObjectToTarget(n,s,l);l&&n[i]!==void 0||(n[i]=s)}_getFromSource(n,i){const s=i.split(".");i=s.pop();for(const l of s){if(!jn(n[l])){n=null;break}n=n[l]}return n?xs(n[i]):void 0}_setObjectToTarget(n,i,s){Object.keys(i).forEach(l=>{this._setToTarget(n,l,i[l],s)})}}function xs(c){return ti(c,Pk)}function Pk(c){return Ar(c)?c:void 0}function Es(c){if(c){if(c.defaultView)return c instanceof c.defaultView.Document;if(c.ownerDocument&&c.ownerDocument.defaultView)return c instanceof c.ownerDocument.defaultView.Node}return!1}function Vl(c){const n=Object.prototype.toString.apply(c);return n=="[object Window]"||n=="[object global]"}const wp=Ss(we());function Ss(c){return c?class extends c{listenTo(n,i,s,l={}){if(Es(n)||Vl(n)){const u={capture:!!l.useCapture,passive:!!l.usePassive},h=this._getProxyEmitter(n,u)||new Xy(n,u);this.listenTo(h,i,s,l)}else super.listenTo(n,i,s,l)}stopListening(n,i,s){if(Es(n)||Vl(n)){const l=this._getAllProxyEmitters(n);for(const u of l)this.stopListening(u,i,s)}else super.stopListening(n,i,s)}_getProxyEmitter(n,i){return function(s,l){const u=s[He];return u&&u[l]?u[l].emitter:null}(this,vp(n,i))}_getAllProxyEmitters(n){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(n,i)).filter(i=>!!i)}}:wp}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{Ss[c]=wp.prototype[c]});class Xy extends we(){constructor(n,i){super(),ee(this,vp(n,i)),this._domNode=n,this._options=i}attach(n){if(this._domListeners&&this._domListeners[n])return;const i=this._createDomListener(n);this._domNode.addEventListener(n,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[n]=i}detach(n){let i;!this._domListeners[n]||(i=this._events[n])&&i.callbacks.length||this._domListeners[n].removeListener()}_addEventListener(n,i,s){this.attach(n),we().prototype._addEventListener.call(this,n,i,s)}_removeEventListener(n,i){we().prototype._removeEventListener.call(this,n,i),this.detach(n)}_createDomListener(n){const i=s=>{this.fire(n,s)};return i.removeListener=()=>{this._domNode.removeEventListener(n,i,this._options),delete this._domListeners[n]},i}}function vp(c,n){let i=function(s){return s["data-ck-expando"]||(s["data-ck-expando"]=Y())}(c);for(const s of Object.keys(n).sort())n[s]&&(i+="-"+s);return i}let yp;try{yp={window,document}}catch{yp={window:{},document:{}}}const at=yp;function _p(c){let n=c.parentElement;if(!n)return null;for(;n.tagName!="BODY";){const i=n.style.overflowY||at.window.getComputedStyle(n).overflowY;if(i==="auto"||i==="scroll")break;if(n=n.parentElement,!n)return null}return n}function jd(c){return Object.prototype.toString.apply(c)=="[object Range]"}function Ok(c){const n=c.ownerDocument.defaultView.getComputedStyle(c);return{top:parseInt(n.borderTopWidth,10),right:parseInt(n.borderRightWidth,10),bottom:parseInt(n.borderBottomWidth,10),left:parseInt(n.borderLeftWidth,10)}}function In(c){return Object.prototype.toString.call(c)=="[object Text]"}const Rk=["top","right","bottom","left","width","height"];class Ut{constructor(n){const i=jd(n);if(Object.defineProperty(this,"_source",{value:n._source||n,writable:!0,enumerable:!1}),Bk(n)||i)if(i){const s=Ut.getDomRangeRects(n);zd(this,Ut.getBoundingRect(s))}else zd(this,n.getBoundingClientRect());else if(Vl(n)){const{innerWidth:s,innerHeight:l}=n;zd(this,{top:0,right:s,bottom:l,left:0,width:s,height:l})}else zd(this,n)}clone(){return new Ut(this)}moveTo(n,i){return this.top=i,this.right=n+this.width,this.bottom=i+this.height,this.left=n,this}moveBy(n,i){return this.top+=i,this.right+=n,this.left+=n,this.bottom+=i,this}getIntersection(n){const i={top:Math.max(this.top,n.top),right:Math.min(this.right,n.right),bottom:Math.min(this.bottom,n.bottom),left:Math.max(this.left,n.left),width:0,height:0};return i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0||i.height<0?null:new Ut(i)}getIntersectionArea(n){const i=this.getIntersection(n);return i?i.getArea():0}getArea(){return this.width*this.height}getVisible(){const n=this._source;let i=this.clone();if(Lk(n))return i;let s,l=n,u=n.parentNode||n.commonAncestorContainer;for(;u&&!Lk(u);){if(l instanceof HTMLElement&&jk(l)==="absolute"&&(s=l),s&&(jk(u)!=="relative"||(h=u).ownerDocument.defaultView.getComputedStyle(h).overflow==="visible")){l=u,u=u.parentNode;continue}const p=new Ut(u),g=i.getIntersection(p);if(!g)return null;g.getArea()<i.getArea()&&(i=g),l=u,u=u.parentNode}var h;return i}isEqual(n){for(const i of Rk)if(this[i]!==n[i])return!1;return!0}contains(n){const i=this.getIntersection(n);return!(!i||!i.isEqual(n))}excludeScrollbarsAndBorders(){const n=this._source;let i,s,l;if(Vl(n))i=n.innerWidth-n.document.documentElement.clientWidth,s=n.innerHeight-n.document.documentElement.clientHeight,l=n.getComputedStyle(n.document.documentElement).direction;else{const u=Ok(n);i=n.offsetWidth-n.clientWidth-u.left-u.right,s=n.offsetHeight-n.clientHeight-u.top-u.bottom,l=n.ownerDocument.defaultView.getComputedStyle(n).direction,this.left+=u.left,this.top+=u.top,this.right-=u.right,this.bottom-=u.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=i,l==="ltr"?this.right-=i:this.left+=i,this.height-=s,this.bottom-=s,this}static getDomRangeRects(n){const i=[],s=Array.from(n.getClientRects());if(s.length)for(const l of s)i.push(new Ut(l));else{let l=n.startContainer;In(l)&&(l=l.parentNode);const u=new Ut(l.getBoundingClientRect());u.right=u.left,u.width=0,i.push(u)}return i}static getBoundingRect(n){const i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let s=0;for(const l of n)s++,i.left=Math.min(i.left,l.left),i.top=Math.min(i.top,l.top),i.right=Math.max(i.right,l.right),i.bottom=Math.max(i.bottom,l.bottom);return s==0?null:(i.width=i.right-i.left,i.height=i.bottom-i.top,new Ut(i))}}function zd(c,n){for(const i of Rk)c[i]=n[i]}function Lk(c){return!!Bk(c)&&c===c.ownerDocument.body}function Bk(c){return c!==null&&typeof c=="object"&&c.nodeType===1&&typeof c.getBoundingClientRect=="function"}function jk(c){return c.ownerDocument.defaultView.getComputedStyle(c).position}const Cn=class{constructor(c,n){Cn._observerInstance||Cn._createObserver(),this._element=c,this._callback=n,Cn._addElementCallback(c,n),Cn._observerInstance.observe(c)}get element(){return this._element}destroy(){Cn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(c,n){Cn._elementCallbacks||(Cn._elementCallbacks=new Map);let i=Cn._elementCallbacks.get(c);i||(i=new Set,Cn._elementCallbacks.set(c,i)),i.add(n)}static _deleteElementCallback(c,n){const i=Cn._getElementCallbacks(c);i&&(i.delete(n),i.size||(Cn._elementCallbacks.delete(c),Cn._observerInstance.unobserve(c))),Cn._elementCallbacks&&!Cn._elementCallbacks.size&&(Cn._observerInstance=null,Cn._elementCallbacks=null)}static _getElementCallbacks(c){return Cn._elementCallbacks?Cn._elementCallbacks.get(c):null}static _createObserver(){Cn._observerInstance=new at.window.ResizeObserver(c=>{for(const n of c){const i=Cn._getElementCallbacks(n.target);if(i)for(const s of i)s(n)}})}};let Fd=Cn;function $d(c,n){c instanceof HTMLTextAreaElement&&(c.value=n),c.innerHTML=n}function Ap(c){return n=>n+c}function Vd(c){let n=0;for(;c.previousSibling;)c=c.previousSibling,n++;return n}function zk(c,n,i){c.insertBefore(i,c.childNodes[n]||null)}function Ul(c){return c&&c.nodeType===Node.COMMENT_NODE}function ha(c){return!!(c&&c.getClientRects&&c.getClientRects().length)}Fd._observerInstance=null,Fd._elementCallbacks=null;var Fk=Math.pow;function $k({element:c,target:n,positions:i,limiter:s,fitInViewport:l,viewportOffsetConfig:u}){Ft(n)&&(n=n()),Ft(s)&&(s=s());const h=function(S){return S&&S.parentNode?S.offsetParent===at.document.body?null:S.offsetParent:null}(c),p=new Ut(c),g=new Ut(n);let w;const y=l&&function(S){S=Object.assign({top:0,bottom:0,left:0,right:0},S);const N=new Ut(at.window);return N.top+=S.top,N.height-=S.top,N.bottom-=S.bottom,N.height-=S.bottom,N}(u)||null,C={targetRect:g,elementRect:p,positionedElementAncestor:h,viewportRect:y};if(s||l){const S=s&&new Ut(s).getVisible();Object.assign(C,{limiterRect:S,viewportRect:y}),w=function(N,P){const{elementRect:j}=P,H=j.getArea(),q=N.map(Te=>new Ud(Te,P)).filter(Te=>!!Te.name);let te=0,fe=null;for(const Te of q){const{limiterIntersectionArea:Je,viewportIntersectionArea:Qt}=Te;if(Je===H)return Te;const wt=Fk(Qt,2)+Fk(Je,2);wt>te&&(te=wt,fe=Te)}return fe}(i,C)||new Ud(i[0],C)}else w=new Ud(i[0],C);return w}function Vk(c){const{scrollX:n,scrollY:i}=at.window;return c.clone().moveBy(n,i)}class Ud{constructor(n,i){const s=n(i.targetRect,i.elementRect,i.viewportRect);if(!s)return;const{left:l,top:u,name:h,config:p}=s;this.name=h,this.config=p,this._positioningFunctionCorrdinates={left:l,top:u},this._options=i}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const n=this._options.limiterRect;if(n){const i=this._options.viewportRect;if(!i)return n.getIntersectionArea(this._rect);{const s=n.getIntersection(i);if(s)return s.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const n=this._options.viewportRect;return n?n.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=Vk(this._rect),this._options.positionedElementAncestor&&function(n,i){const s=Vk(new Ut(i)),l=Ok(i);let u=0,h=0;u-=s.left,h-=s.top,u+=i.scrollLeft,h+=i.scrollTop,u-=l.left,h-=l.top,n.moveBy(u,h)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function Cp(c){const n=c.parentNode;n&&n.removeChild(c)}function Uk({window:c,rect:n,alignToTop:i,forceScroll:s,viewportOffset:l}){const u=n.clone().moveBy(0,l.bottom),h=n.clone().moveBy(0,-l.top),p=new Ut(c).excludeScrollbarsAndBorders(),g=i&&s,w=[h,u].every(P=>p.contains(P));let{scrollX:y,scrollY:C}=c;const S=y,N=C;g?C-=p.top-n.top+l.top:w||(Hl(h,p)?C-=p.top-n.top+l.top:fa(u,p)&&(C+=i?n.top-p.top-l.top:n.bottom-p.bottom+l.bottom)),w||(xp(n,p)?y-=p.left-n.left+l.left:pa(n,p)&&(y+=n.right-p.right+l.right)),y==S&&C===N||c.scrollTo(y,C)}function Hd({parent:c,getRect:n,alignToTop:i,forceScroll:s,ancestorOffset:l=0,limiterElement:u}){const h=Wd(c),p=i&&s;let g,w,y;const C=u||h.document.body;for(;c!=C;)w=n(),g=new Ut(c).excludeScrollbarsAndBorders(),y=g.contains(w),p?c.scrollTop-=g.top-w.top+l:y||(Hl(w,g)?c.scrollTop-=g.top-w.top+l:fa(w,g)&&(c.scrollTop+=i?w.top-g.top-l:w.bottom-g.bottom+l)),y||(xp(w,g)?c.scrollLeft-=g.left-w.left+l:pa(w,g)&&(c.scrollLeft+=w.right-g.right+l)),c=c.parentNode}function fa(c,n){return c.bottom>n.bottom}function Hl(c,n){return c.top<n.top}function xp(c,n){return c.left<n.left}function pa(c,n){return c.right>n.right}function Wd(c){return jd(c)?c.startContainer.ownerDocument.defaultView:c.ownerDocument.defaultView}function Hk(c){if(jd(c)){let n=c.commonAncestorContainer;return In(n)&&(n=n.parentNode),n}return c.parentNode}function Wk(c,n){const i=Wd(c),s=new Ut(c);if(i===n)return s;{let l=i;for(;l!=n;){const u=l.frameElement,h=new Ut(u).excludeScrollbarsAndBorders();s.moveBy(h.left,h.top),l=l.parent}}return s}const e_={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},t_={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},bt=function(){const c={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let n=65;n<=90;n++)c[String.fromCharCode(n).toLowerCase()]=n;for(let n=48;n<=57;n++)c[n-48]=n;for(let n=112;n<=123;n++)c["f"+(n-111)]=n;for(const n of"`-=[];',./\\")c[n]=n.charCodeAt(0);return c}(),n_=Object.fromEntries(Object.entries(bt).map(([c,n])=>[n,c.charAt(0).toUpperCase()+c.slice(1)]));function bc(c){let n;if(typeof c=="string"){if(n=bt[c.toLowerCase()],!n)throw new V("keyboard-unknown-key",null,{key:c})}else n=c.keyCode+(c.altKey?bt.alt:0)+(c.ctrlKey?bt.ctrl:0)+(c.shiftKey?bt.shift:0)+(c.metaKey?bt.cmd:0);return n}function qd(c){return typeof c=="string"&&(c=function(n){return n.split("+").map(i=>i.trim())}(c)),c.map(n=>typeof n=="string"?function(i){if(i.endsWith("!"))return bc(i.slice(0,-1));const s=bc(i);return x.isMac&&s==bt.ctrl?bt.cmd:s}(n):n).reduce((n,i)=>i+n,0)}function qk(c){let n=qd(c);return Object.entries(x.isMac?e_:t_).reduce((i,[s,l])=>(n&bt[s]&&(n&=~bt[s],i+=l),i),"")+(n?n_[n]:"")}function Ep(c,n){const i=n==="ltr";switch(c){case bt.arrowleft:return i?"left":"right";case bt.arrowright:return i?"right":"left";case bt.arrowup:return"up";case bt.arrowdown:return"down"}}function qn(c){return Array.isArray(c)?c:[c]}function r_(c,n,i=1){if(typeof i!="number")throw new V("translation-service-quantity-not-a-number",null,{quantity:i});const s=Object.keys(at.window.CKEDITOR_TRANSLATIONS).length;s===1&&(c=Object.keys(at.window.CKEDITOR_TRANSLATIONS)[0]);const l=n.id||n.string;if(s===0||!function(g,w){return!!at.window.CKEDITOR_TRANSLATIONS[g]&&!!at.window.CKEDITOR_TRANSLATIONS[g].dictionary[w]}(c,l))return i!==1?n.plural:n.string;const u=at.window.CKEDITOR_TRANSLATIONS[c].dictionary,h=at.window.CKEDITOR_TRANSLATIONS[c].getPluralForm||(g=>g===1?0:1),p=u[l];return typeof p=="string"?p:p[Number(h(i))]}at.window.CKEDITOR_TRANSLATIONS||(at.window.CKEDITOR_TRANSLATIONS={});const i_=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Gk(c){return i_.includes(c)?"rtl":"ltr"}class o_{constructor({uiLanguage:n="en",contentLanguage:i}={}){this.uiLanguage=n,this.contentLanguage=i||this.uiLanguage,this.uiLanguageDirection=Gk(this.uiLanguage),this.contentLanguageDirection=Gk(this.contentLanguage),this.t=(s,l)=>this._t(s,l)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(n,i=[]){i=qn(i),typeof n=="string"&&(n={string:n});const s=n.plural?i[0]:1;return function(l,u){return l.replace(/%(\d+)/g,(h,p)=>p<u.length?u[p]:h)}(r_(this.uiLanguage,n,s),i)}}class Mi extends we(){constructor(n={},i={}){super();const s=Ie(n);if(s||(i=n),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const l of n)this._items.push(l),this._itemMap.set(this._getItemIdBeforeAdding(l),l)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(n,i){return this.addMany([n],i)}addMany(n,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new V("collection-add-item-invalid-index",this);let s=0;for(const l of n){const u=this._getItemIdBeforeAdding(l),h=i+s;this._items.splice(h,0,l),this._itemMap.set(u,l),this.fire("add",l,h),s++}return this.fire("change",{added:n,removed:[],index:i}),this}get(n){let i;if(typeof n=="string")i=this._itemMap.get(n);else{if(typeof n!="number")throw new V("collection-get-invalid-arg",this);i=this._items[n]}return i||null}has(n){if(typeof n=="string")return this._itemMap.has(n);{const i=n[this._idProperty];return i&&this._itemMap.has(i)}}getIndex(n){let i;return i=typeof n=="string"?this._itemMap.get(n):n,i?this._items.indexOf(i):-1}remove(n){const[i,s]=this._remove(n);return this.fire("change",{added:[],removed:[i],index:s}),i}map(n,i){return this._items.map(n,i)}find(n,i){return this._items.find(n,i)}filter(n,i){return this._items.filter(n,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const n=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:n,index:0})}bindTo(n){if(this._bindToCollection)throw new V("collection-bind-to-rebind",this);return this._bindToCollection=n,{as:i=>{this._setUpBindToBinding(s=>new i(s))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(s=>s[i])}}}_setUpBindToBinding(n){const i=this._bindToCollection,s=(l,u,h)=>{const p=i._bindToCollection==this,g=i._bindToInternalToExternalMap.get(u);if(p&&g)this._bindToExternalToInternalMap.set(u,g),this._bindToInternalToExternalMap.set(g,u);else{const w=n(u);if(!w)return void this._skippedIndexesFromExternal.push(h);let y=h;for(const C of this._skippedIndexesFromExternal)h>C&&y--;for(const C of i._skippedIndexesFromExternal)y>=C&&y++;this._bindToExternalToInternalMap.set(u,w),this._bindToInternalToExternalMap.set(w,u),this.add(w,y);for(let C=0;C<i._skippedIndexesFromExternal.length;C++)y<=i._skippedIndexesFromExternal[C]&&i._skippedIndexesFromExternal[C]++}};for(const l of i)s(0,l,i.getIndex(l));this.listenTo(i,"add",s),this.listenTo(i,"remove",(l,u,h)=>{const p=this._bindToExternalToInternalMap.get(u);p&&this.remove(p),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((g,w)=>(h<w&&g.push(w-1),h>w&&g.push(w),g),[])})}_getItemIdBeforeAdding(n){const i=this._idProperty;let s;if(i in n){if(s=n[i],typeof s!="string")throw new V("collection-add-invalid-id",this);if(this.get(s))throw new V("collection-add-item-already-exists",this)}else n[i]=s=Y();return s}_remove(n){let i,s,l,u=!1;const h=this._idProperty;if(typeof n=="string"?(s=n,l=this._itemMap.get(s),u=!l,l&&(i=this._items.indexOf(l))):typeof n=="number"?(i=n,l=this._items[i],u=!l,l&&(s=l[h])):(l=n,s=l[h],i=this._items.indexOf(l),u=i==-1||!this._itemMap.get(s)),u)throw new V("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(s);const p=this._bindToInternalToExternalMap.get(l);return this._bindToInternalToExternalMap.delete(l),this._bindToExternalToInternalMap.delete(p),this.fire("remove",l,i),[l,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Mn(c){const n=c.next();return n.done?null:n.value}class hi extends Ss(ut()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(n){if(this._elements.has(n))throw new V("focustracker-add-element-already-exist",this);this.listenTo(n,"focus",()=>this._focus(n),{useCapture:!0}),this.listenTo(n,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(n)}remove(n){n===this.focusedElement&&this._blur(),this._elements.has(n)&&(this.stopListening(n),this._elements.delete(n))}destroy(){this.stopListening()}_focus(n){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=n,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class lo{constructor(){this._listener=new(Ss())}listenTo(n){this._listener.listenTo(n,"keydown",(i,s)=>{this._listener.fire("_keydown:"+bc(s),s)})}set(n,i,s={}){const l=qd(n),u=s.priority;this._listener.listenTo(this._listener,"_keydown:"+l,(h,p)=>{i(p,()=>{p.preventDefault(),p.stopPropagation(),h.stop()}),h.return=!0},{priority:u})}press(n){return!!this._listener.fire("_keydown:"+bc(n),n)}stopListening(n){this._listener.stopListening(n)}destroy(){this.stopListening()}}function uo(c){return Ie(c)?new Map(c):function(n){const i=new Map;for(const s in n)i.set(s,n[s]);return i}(c)}function Sp(c,n){let i;function s(...l){s.cancel(),i=setTimeout(()=>c(...l),n)}return s.cancel=()=>{clearTimeout(i)},s}function Tp(c,n){return!!(i=c.charAt(n-1))&&i.length==1&&/[\ud800-\udbff]/.test(i)&&function(s){return!!s&&s.length==1&&/[\udc00-\udfff]/.test(s)}(c.charAt(n));var i}function Dp(c,n){return!!(i=c.charAt(n))&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i);var i}const Ip=function(){const c=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],n=new RegExp("\\p{Regional_Indicator}{2}","u").source,i="(?:"+c.map(s=>s.source).join("|")+")";return new RegExp(`${n}|${i}(?:‍${i})*`,"ug")}();function Yk(c,n){const i=String(c).matchAll(Ip);return Array.from(i).some(s=>s.index<n&&n<s.index+s[0].length)}class Ts extends Mi{constructor(n=[]){super(n,{idProperty:"viewUid"}),this.on("add",(i,s,l)=>{this._renderViewIntoCollectionParent(s,l)}),this.on("remove",(i,s)=>{s.element&&this._parentElement&&s.element.remove()}),this._parentElement=null}destroy(){this.map(n=>n.destroy())}setParent(n){this._parentElement=n;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...n){if(!n.length||!n.every(i=>typeof i=="string"))throw new V("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const s of this)for(const l of n)s.delegate(l).to(i);this.on("add",(s,l)=>{for(const u of n)l.delegate(u).to(i)}),this.on("remove",(s,l)=>{for(const u of n)l.stopDelegating(u,i)})}}}_renderViewIntoCollectionParent(n,i){n.isRendered||n.render(),n.element&&this._parentElement&&this._parentElement.insertBefore(n.element,this._parentElement.children[i])}remove(n){return super.remove(n)}}var s_=a(6062),Oe=a.n(s_),Wl=a(4793),a_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(Wl.Z,a_),Wl.Z.locals;class gt extends Ss(ut()){constructor(n){super(),this.element=null,this.isRendered=!1,this.locale=n,this.t=n&&n.t,this._viewCollections=new Mi,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,s)=>{s.locale=n,s.t=n&&n.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Ni.bind(this,this)}createCollection(n){const i=new Ts(n);return this._viewCollections.add(i),i}registerChild(n){Ie(n)||(n=[n]);for(const i of n)this._unboundChildren.add(i)}deregisterChild(n){Ie(n)||(n=[n]);for(const i of n)this._unboundChildren.remove(i)}setTemplate(n){this.template=new Ni(n)}extendTemplate(n){Ni.extend(this.template,n)}render(){if(this.isRendered)throw new V("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(n=>n.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class Ni extends we(){constructor(n){super(),Object.assign(this,Xk(Jk(n))),this._isRendered=!1,this._revertData=null}render(){const n=this._renderNode({intoFragment:!0});return this._isRendered=!0,n}apply(n){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:n,intoFragment:!1,isApplying:!0,revertData:this._revertData}),n}revert(n){if(!this._revertData)throw new V("ui-template-revert-not-applied",[this,n]);this._revertTemplateFromNode(n,this._revertData)}*getViews(){yield*function*n(i){if(i.children)for(const s of i.children)ve(s)?yield s:Np(s)&&(yield*n(s))}(this)}static bind(n,i){return{to:(s,l)=>new c_({eventNameOrFunction:s,attribute:s,observable:n,emitter:i,callback:l}),if:(s,l,u)=>new Kk({observable:n,emitter:i,attribute:s,valueIfTrue:l,callback:u})}}static extend(n,i){if(n._isRendered)throw new V("template-extend-render",[this,n]);tb(n,Xk(Jk(i)))}_renderNode(n){let i;if(i=n.node?this.tag&&this.text:this.tag?this.text:!this.text,i)throw new V("ui-template-wrong-syntax",this);return this.text?this._renderText(n):this._renderElement(n)}_renderElement(n){let i=n.node;return i||(i=n.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(n),this._renderElementChildren(n),this._setUpListeners(n),i}_renderText(n){let i=n.node;return i?n.revertData.text=i.textContent:i=n.node=document.createTextNode(""),Gl(this.text)?this._bindToObservable({schema:this.text,updater:l_(i),data:n}):i.textContent=this.text.join(""),i}_renderAttributes(n){if(!this.attributes)return;const i=n.node,s=n.revertData;for(const l in this.attributes){const u=i.getAttribute(l),h=this.attributes[l];s&&(s.attributes[l]=u);const p=Op(h)?h[0].ns:null;if(Gl(h)){const g=Op(h)?h[0].value:h;s&&Ct(l)&&g.unshift(u),this._bindToObservable({schema:g,updater:Zk(i,l,p),data:n})}else if(l=="style"&&typeof h[0]!="string")this._renderStyleAttribute(h[0],n);else{s&&u&&Ct(l)&&h.unshift(u);const g=h.map(w=>w&&w.value||w).reduce((w,y)=>w.concat(y),[]).reduce(Mp,"");wc(g)||i.setAttributeNS(p,l,g)}}}_renderStyleAttribute(n,i){const s=i.node;for(const l in n){const u=n[l];Gl(u)?this._bindToObservable({schema:[u],updater:u_(s,l),data:i}):s.style[l]=u}}_renderElementChildren(n){const i=n.node,s=n.intoFragment?document.createDocumentFragment():i,l=n.isApplying;let u=0;for(const h of this.children)if(Pp(h)){if(!l){h.setParent(i);for(const p of h)s.appendChild(p.element)}}else if(ve(h))l||(h.isRendered||h.render(),s.appendChild(h.element));else if(Es(h))s.appendChild(h);else if(l){const p={children:[],bindings:[],attributes:{}};n.revertData.children.push(p),h._renderNode({intoFragment:!1,node:s.childNodes[u++],isApplying:!0,revertData:p})}else s.appendChild(h.render());n.intoFragment&&i.appendChild(s)}_setUpListeners(n){if(this.eventListeners)for(const i in this.eventListeners){const s=this.eventListeners[i].map(l=>{const[u,h]=i.split("@");return l.activateDomEventListener(u,h,n)});n.revertData&&n.revertData.bindings.push(s)}}_bindToObservable({schema:n,updater:i,data:s}){const l=s.revertData;Qk(n,i,s);const u=n.filter(h=>!wc(h)).filter(h=>h.observable).map(h=>h.activateAttributeListener(n,i,s));l&&l.bindings.push(u)}_revertTemplateFromNode(n,i){for(const l of i.bindings)for(const u of l)u();if(i.text)return void(n.textContent=i.text);const s=n;for(const l in i.attributes){const u=i.attributes[l];u===null?s.removeAttribute(l):s.setAttribute(l,u)}for(let l=0;l<i.children.length;++l)this._revertTemplateFromNode(s.childNodes[l],i.children[l])}}class ql{constructor(n){this.attribute=n.attribute,this.observable=n.observable,this.emitter=n.emitter,this.callback=n.callback}getValue(n){const i=this.observable[this.attribute];return this.callback?this.callback(i,n):i}activateAttributeListener(n,i,s){const l=()=>Qk(n,i,s);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,l),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,l)}}}class c_ extends ql{constructor(n){super(n),this.eventNameOrFunction=n.eventNameOrFunction}activateDomEventListener(n,i,s){const l=(u,h)=>{i&&!h.target.matches(i)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(h):this.observable.fire(this.eventNameOrFunction,h))};return this.emitter.listenTo(s.node,n,l),()=>{this.emitter.stopListening(s.node,n,l)}}}class Kk extends ql{constructor(n){super(n),this.valueIfTrue=n.valueIfTrue}getValue(n){return!wc(super.getValue(n))&&(this.valueIfTrue||!0)}}function Gl(c){return!!c&&(c.value&&(c=c.value),Array.isArray(c)?c.some(Gl):c instanceof ql)}function Qk(c,n,{node:i}){const s=function(u,h){return u.map(p=>p instanceof ql?p.getValue(h):p)}(c,i);let l;l=c.length==1&&c[0]instanceof Kk?s[0]:s.reduce(Mp,""),wc(l)?n.remove():n.set(l)}function l_(c){return{set(n){c.textContent=n},remove(){c.textContent=""}}}function Zk(c,n,i){return{set(s){c.setAttributeNS(i,n,s)},remove(){c.removeAttributeNS(i,n)}}}function u_(c,n){return{set(i){c.style[n]=i},remove(){c.style[n]=null}}}function Jk(c){return ti(c,n=>{if(n&&(n instanceof ql||Np(n)||ve(n)||Pp(n)))return n})}function Xk(c){if(typeof c=="string"?c=function(n){return{text:[n]}}(c):c.text&&function(n){n.text=qn(n.text)}(c),c.on&&(c.eventListeners=function(n){for(const i in n)Lo(n,i);return n}(c.on),delete c.on),!c.text){c.attributes&&function(i){for(const s in i)i[s].value&&(i[s].value=qn(i[s].value)),Lo(i,s)}(c.attributes);const n=[];if(c.children)if(Pp(c.children))n.push(c.children);else for(const i of c.children)Np(i)||ve(i)||Es(i)?n.push(i):n.push(new Ni(i));c.children=n}return c}function Lo(c,n){c[n]=qn(c[n])}function Mp(c,n){return wc(n)?c:wc(c)?n:`${c} ${n}`}function eb(c,n){for(const i in n)c[i]?c[i].push(...n[i]):c[i]=n[i]}function tb(c,n){if(n.attributes&&(c.attributes||(c.attributes={}),eb(c.attributes,n.attributes)),n.eventListeners&&(c.eventListeners||(c.eventListeners={}),eb(c.eventListeners,n.eventListeners)),n.text&&c.text.push(...n.text),n.children&&n.children.length){if(c.children.length!=n.children.length)throw new V("ui-template-extend-children-mismatch",c);let i=0;for(const s of n.children)tb(c.children[i++],s)}}function wc(c){return!c&&c!==0}function ve(c){return c instanceof gt}function Np(c){return c instanceof Ni}function Pp(c){return c instanceof Ts}function Op(c){return Se(c[0])&&c[0].ns}function Ct(c){return c=="class"||c=="style"}class Gd extends Ts{constructor(n,i=[]){super(i),this.locale=n}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Ni({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let n=document.querySelector(".ck-body-wrapper");n||(n=Cl(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(n)),n.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const n=document.querySelector(".ck-body-wrapper");n&&n.childElementCount==0&&n.remove()}}var Rp=a(6574),Lp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(Rp.Z,Lp),Rp.Z.locals;const nb=class extends gt{constructor(){super();const c=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",c.if("isColorInherited","ck-icon_inherit-color")],viewBox:c.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const c=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=c.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:i,value:s}of Array.from(c.attributes))nb.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;c.childNodes.length>0;)this.element.appendChild(c.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(c=>{c.style.fill=this.fillColor})}};let vc=nb;vc.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var rb=a(4906),d_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(rb.Z,d_),rb.Z.locals;class tn extends gt{constructor(n){super(n),this._focusDelayed=null;const i=this.bindTemplate,s=Y();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${s}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(),this.iconView=new vc,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const l={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",u=>!u),i.if("isVisible","ck-hidden",u=>!u),i.to("isOn",u=>u?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],role:i.to("role"),type:i.to("type",u=>u||"button"),tabindex:i.to("tabindex"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy"),"aria-disabled":i.if("isEnabled",!0,u=>!u),"aria-checked":i.to("isOn"),"aria-pressed":i.to("isOn",u=>!!this.isToggleable&&String(!!u)),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to(u=>{this.isEnabled?this.fire("execute"):u.preventDefault()})}};x.isSafari&&(this._focusDelayed||(this._focusDelayed=Sp(()=>this.focus(),0)),l.on.mousedown=i.to(()=>{this._focusDelayed()}),l.on.mouseup=i.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(l)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_createLabelView(){const n=new gt,i=this.bindTemplate;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:i.to("labelStyle"),id:this.ariaLabelledBy},children:[{text:i.to("label")}]}),n}_createKeystrokeView(){const n=new gt;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>qk(i))}]}),n}_getTooltipString(n,i,s){return n?typeof n=="string"?n:(s&&(s=qk(s)),n instanceof Function?n(i,s):`${i}${s?` (${s})`:""}`):""}}var ho=a(5332),h_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(ho.Z,h_),ho.Z.locals;class Yl extends tn{constructor(n){super(n),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const n=new gt;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),n}}var ib=a(6781),f_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(ib.Z,f_),ib.Z.locals,a(1103),a(841);var Bp=a(3662),p_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(Bp.Z,p_),Bp.Z.locals;class jp extends gt{constructor(n){super(n),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Y()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}var Yd=a(2577),g_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(Yd.Z,g_),Yd.Z.locals;class zp extends gt{constructor(n,i){super(n);const s=`ck-labeled-field-view-${Y()}`,l=`ck-labeled-field-view-status-${Y()}`;this.fieldView=i(this,s,l),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(s),this.statusView=this._createStatusView(l),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(h,p)=>h||p);const u=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",u.to("class"),u.if("isEnabled","ck-disabled",h=>!h),u.if("isEmpty","ck-labeled-field-view_empty"),u.if("isFocused","ck-labeled-field-view_focused"),u.if("placeholder","ck-labeled-field-view_placeholder"),u.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(n){const i=new jp(this.locale);return i.for=n,i.bind("text").to(this,"label"),i}_createStatusView(n){const i=new gt(this.locale),s=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",s.if("errorText","ck-labeled-field-view__status_error"),s.if("_statusText","ck-hidden",l=>!l)],id:n,role:s.if("errorText","alert")},children:[{text:s.to("_statusText")}]}),i}focus(){this.fieldView.focus()}}var fo=a(4879),m_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(fo.Z,m_),fo.Z.locals;class k_ extends gt{constructor(n){super(n),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new hi,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),readonly:i.to("isReadOnly"),inputmode:i.to("inputMode"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById")},on:{input:i.to((...s)=>{this.fire("input",...s),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(n,i,s)=>{this._setDomElementValue(s),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(n){this.element.value=n||n===0?n:""}}class b_ extends k_{constructor(n){super(n),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class w_ extends gt{constructor(n){super(n);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",s=>`ck-dropdown__panel_${s}`),i.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:i.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(){if(this.children.length){const n=this.children.first;typeof n.focus=="function"?n.focus():se("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const n=this.children.last;typeof n.focusLast=="function"?n.focusLast():n.focus()}}}var ob=a(5485),v_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(ob.Z,v_),ob.Z.locals;const Fp=class extends gt{constructor(c,n,i){super(c);const s=this.bindTemplate;this.buttonView=n,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new lo,this.focusTracker=new hi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",l=>!l)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[n,i]}),n.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(n,i,s)=>{s&&(this.panelPosition==="auto"?this.panelView.position=Fp._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const c=(n,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(n,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(n,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",c),this.keystrokes.set("esc",c)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:c,north:n,southEast:i,southWest:s,northEast:l,northWest:u,southMiddleEast:h,southMiddleWest:p,northMiddleEast:g,northMiddleWest:w}=Fp.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,s,h,p,c,l,u,g,w,n]:[s,i,p,h,c,u,l,w,g,n]}};let $p=Fp;$p.defaultPanelPositions={south:(c,n)=>({top:c.bottom,left:c.left-(n.width-c.width)/2,name:"s"}),southEast:c=>({top:c.bottom,left:c.left,name:"se"}),southWest:(c,n)=>({top:c.bottom,left:c.left-n.width+c.width,name:"sw"}),southMiddleEast:(c,n)=>({top:c.bottom,left:c.left-(n.width-c.width)/4,name:"sme"}),southMiddleWest:(c,n)=>({top:c.bottom,left:c.left-3*(n.width-c.width)/4,name:"smw"}),north:(c,n)=>({top:c.top-n.height,left:c.left-(n.width-c.width)/2,name:"n"}),northEast:(c,n)=>({top:c.top-n.height,left:c.left,name:"ne"}),northWest:(c,n)=>({top:c.top-n.height,left:c.left-n.width+c.width,name:"nw"}),northMiddleEast:(c,n)=>({top:c.top-n.height,left:c.left-(n.width-c.width)/4,name:"nme"}),northMiddleWest:(c,n)=>({top:c.top-n.height,left:c.left-3*(n.width-c.width)/4,name:"nmw"})},$p._getOptimalPosition=$k;const sb='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class y_ extends tn{constructor(n){super(n),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const n=new vc;return n.content=sb,n.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),n}}class yc{constructor(n){if(this.focusables=n.focusables,this.focusTracker=n.focusTracker,this.keystrokeHandler=n.keystrokeHandler,this.actions=n.actions,n.actions&&n.keystrokeHandler)for(const i in n.actions){let s=n.actions[i];typeof s=="string"&&(s=[s]);for(const l of s)n.keystrokeHandler.set(l,(u,h)=>{this[i](),h()})}}get first(){return this.focusables.find(Bo)||null}get last(){return this.focusables.filter(Bo).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let n=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,s)=>{const l=i.element===this.focusTracker.focusedElement;return l&&(n=s),l}),n)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(n){n&&n.focus()}_getFocusableItem(n){const i=this.current,s=this.focusables.length;if(!s)return null;if(i===null)return this[n===1?"first":"last"];let l=(i+s+n)%s;do{const u=this.focusables.get(l);if(Bo(u))return u;l=(l+s+n)%s}while(l!==i);return null}}function Bo(c){return!(!c.focus||!ha(c.element))}class ab extends gt{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class __ extends gt{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function cb(c){return Array.isArray(c)?{items:c,removeItems:[]}:c?Object.assign({items:[],removeItems:[]},c):{items:[],removeItems:[]}}class ye extends ut(){constructor(n){super(),this._disableStack=new Set,this.editor=n,this.set("isEnabled",!0)}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",lb,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",lb),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function lb(c){c.return=!1,c.stop()}class ft extends ut(){constructor(n){super(),this.editor=n,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(n,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",i=>{if(!this.affectsData)return;const s=n.model.document.selection,l=s.getFirstPosition().root.rootName!="$graveyard"&&n.model.canEditAt(s);(n.isReadOnly||this._isEnabledBasedOnSelection&&!l)&&(i.return=!1,i.stop())},{priority:"highest"}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(n){this._affectsData=n}refresh(){this.isEnabled=!0}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",ub,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",ub),this.refresh())}execute(...n){}destroy(){this.stopListening()}}function ub(c){c.return=!1,c.stop()}class db extends ft{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...n){const i=this._getFirstEnabledCommand();return!!i&&i.execute(n)}registerChildCommand(n,i={}){ne(this._childCommandsDefinitions,{command:n,priority:i.priority||"normal"}),n.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const n=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return n&&n.command}}class po extends we(){constructor(n,i=[],s=[]){super(),this._plugins=new Map,this._context=n,this._availablePlugins=new Map;for(const l of i)l.pluginName&&this._availablePlugins.set(l.pluginName,l);this._contextPlugins=new Map;for(const[l,u]of s)this._contextPlugins.set(l,u),this._contextPlugins.set(u,l),l.pluginName&&this._availablePlugins.set(l.pluginName,l)}*[Symbol.iterator](){for(const n of this._plugins)typeof n[0]=="function"&&(yield n)}get(n){const i=this._plugins.get(n);if(!i){let s=n;throw typeof n=="function"&&(s=n.pluginName||n.name),new V("plugincollection-plugin-not-loaded",this._context,{plugin:s})}return i}has(n){return this._plugins.has(n)}init(n,i=[],s=[]){const l=this,u=this._context;(function P(j,H=new Set){j.forEach(q=>{g(q)&&(H.has(q)||(H.add(q),q.pluginName&&!l._availablePlugins.has(q.pluginName)&&l._availablePlugins.set(q.pluginName,q),q.requires&&P(q.requires,H)))})})(n),S(n);const h=[...function P(j,H=new Set){return j.map(q=>g(q)?q:l._availablePlugins.get(q)).reduce((q,te)=>H.has(te)?q:(H.add(te),te.requires&&(S(te.requires,te),P(te.requires,H).forEach(fe=>q.add(fe))),q.add(te)),new Set)}(n.filter(P=>!y(P,i)))];(function(P,j){for(const H of j){if(typeof H!="function")throw new V("plugincollection-replace-plugin-invalid-type",null,{pluginItem:H});const q=H.pluginName;if(!q)throw new V("plugincollection-replace-plugin-missing-name",null,{pluginItem:H});if(H.requires&&H.requires.length)throw new V("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:q});const te=l._availablePlugins.get(q);if(!te)throw new V("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:q});const fe=P.indexOf(te);if(fe===-1){if(l._contextPlugins.has(te))return;throw new V("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:q})}if(te.requires&&te.requires.length)throw new V("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:q});P.splice(fe,1,H),l._availablePlugins.set(q,H)}})(h,s);const p=h.map(P=>{let j=l._contextPlugins.get(P);return j=j||new P(u),l._add(P,j),j});return N(p,"init").then(()=>N(p,"afterInit")).then(()=>p);function g(P){return typeof P=="function"}function w(P){return g(P)&&!!P.isContextPlugin}function y(P,j){return j.some(H=>H===P||C(P)===H||C(H)===P)}function C(P){return g(P)?P.pluginName||P.name:P}function S(P,j=null){P.map(H=>g(H)?H:l._availablePlugins.get(H)||H).forEach(H=>{(function(q,te){if(!g(q))throw te?new V("plugincollection-soft-required",u,{missingPlugin:q,requiredBy:C(te)}):new V("plugincollection-plugin-not-found",u,{plugin:q})})(H,j),function(q,te){if(w(te)&&!w(q))throw new V("plugincollection-context-required",u,{plugin:C(q),requiredBy:C(te)})}(H,j),function(q,te){if(te&&y(q,i))throw new V("plugincollection-required",u,{plugin:C(q),requiredBy:C(te)})}(H,j)})}function N(P,j){return P.reduce((H,q)=>q[j]?l._contextPlugins.has(q)?H:H.then(q[j].bind(q)):H,Promise.resolve())}}destroy(){const n=[];for(const[,i]of this)typeof i.destroy!="function"||this._contextPlugins.has(i)||n.push(i.destroy());return Promise.all(n)}_add(n,i){this._plugins.set(n,i);const s=n.pluginName;if(s){if(this._plugins.has(s))throw new V("plugincollection-plugin-name-conflict",null,{pluginName:s,plugin1:this._plugins.get(s).constructor,plugin2:n});this._plugins.set(s,i)}}}class ga{constructor(n){this._contextOwner=null,this.config=new di(n,this.constructor.defaultConfig);const i=this.constructor.builtinPlugins;this.config.define("plugins",i),this.plugins=new po(this,i);const s=this.config.get("language")||{};this.locale=new o_({uiLanguage:typeof s=="string"?s:s.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Mi}initPlugins(){const n=this.config.get("plugins")||[],i=this.config.get("substitutePlugins")||[];for(const s of n.concat(i)){if(typeof s!="function")throw new V("context-initplugins-constructor-only",null,{Plugin:s});if(s.isContextPlugin!==!0)throw new V("context-initplugins-invalid-plugin",null,{Plugin:s})}return this.plugins.init(n,[],i)}destroy(){return Promise.all(Array.from(this.editors,n=>n.destroy())).then(()=>this.plugins.destroy())}_addEditor(n,i){if(this._contextOwner)throw new V("context-addeditor-private-context");this.editors.add(n),i&&(this._contextOwner=n)}_removeEditor(n){return this.editors.has(n)&&this.editors.remove(n),this._contextOwner===n?this.destroy():Promise.resolve()}_getEditorConfig(){const n={};for(const i of this.config.names())["plugins","removePlugins","extraPlugins"].includes(i)||(n[i]=this.config.get(i));return n}static create(n){return new Promise(i=>{const s=new this(n);i(s.initPlugins().then(()=>s))})}}class Kd extends ut(){constructor(n){super(),this.context=n}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class A_ extends lo{constructor(n){super(),this.editor=n}set(n,i,s={}){if(typeof i=="string"){const l=i;i=(u,h)=>{this.editor.execute(l),h()}}super.set(n,i,s)}}var hb=a(4717),C_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(hb.Z,C_),hb.Z.locals;const Qd=new WeakMap;let Zd=!1;function ma({view:c,element:n,text:i,isDirectHost:s=!0,keepOnFocus:l=!1}){const u=c.document;function h(p){Qd.get(u).set(n,{text:p,isDirectHost:s,keepOnFocus:l,hostElement:s?n:null}),c.change(g=>mt(u,g))}Qd.has(u)||(Qd.set(u,new Map),u.registerPostFixer(p=>mt(u,p)),u.on("change:isComposing",()=>{c.change(p=>mt(u,p))},{priority:"high"})),n.is("editableElement")&&n.on("change:placeholder",(p,g,w)=>{h(w)}),n.placeholder?h(n.placeholder):i&&h(i),i&&function(){Zd||se("enableplaceholder-deprecated-text-option"),Zd=!0}()}function Jd(c,n){return!!n.hasClass("ck-placeholder")&&(c.removeClass("ck-placeholder",n),!0)}function mt(c,n){const i=Qd.get(c),s=[];let l=!1;for(const[u,h]of i)h.isDirectHost&&(s.push(u),b(n,u,h)&&(l=!0));for(const[u,h]of i){if(h.isDirectHost)continue;const p=E(u);p&&(s.includes(p)||(h.hostElement=p,b(n,u,h)&&(l=!0)))}return l}function b(c,n,i){const{text:s,isDirectHost:l,hostElement:u}=i;let h=!1;return u.getAttribute("data-placeholder")!==s&&(c.setAttribute("data-placeholder",s,u),h=!0),(l||n.childCount==1)&&function(p,g){if(!p.isAttached()||Array.from(p.getChildren()).some(C=>!C.is("uiElement")))return!1;const w=p.document,y=w.selection.anchor;return!(w.isComposing&&y&&y.parent===p||!g&&w.isFocused&&(!y||y.parent===p))}(u,i.keepOnFocus)?function(p,g){return!g.hasClass("ck-placeholder")&&(p.addClass("ck-placeholder",g),!0)}(c,u)&&(h=!0):Jd(c,u)&&(h=!0),h}function E(c){if(c.childCount){const n=c.getChild(0);if(n.is("element")&&!n.is("uiElement")&&!n.is("attributeElement"))return n}return null}class I{is(){throw new Error("is() method is abstract")}}const R=function(c){return Wn(c,4)};class U extends we(I){constructor(n){super(),this.document=n,this.parent=null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))==-1)throw new V("view-node-not-found-in-parent",this);return n}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.root.is("rootElement")}getPath(){const n=[];let i=this;for(;i.parent;)n.unshift(i.index),i=i.parent;return n}getAncestors(n={}){const i=[];let s=n.includeSelf?this:this.parent;for(;s;)i[n.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(n,i={}){const s=this.getAncestors(i),l=n.getAncestors(i);let u=0;for(;s[u]==l[u]&&s[u];)u++;return u===0?null:s[u-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const i=this.getPath(),s=n.getPath(),l=Ae(i,s);switch(l){case"prefix":return!0;case"extension":return!1;default:return i[l]<s[l]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}_remove(){this.parent._removeChildren(this.index)}_fireChange(n,i){this.fire(`change:${n}`,i),this.parent&&this.parent._fireChange(n,i)}toJSON(){const n=R(this);return delete n.parent,n}}U.prototype.is=function(c){return c==="node"||c==="view:node"};class Q extends U{constructor(n,i){super(n),this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(n){this._fireChange("text",this),this._textData=n}isSimilar(n){return n instanceof Q&&(this===n||this.data===n.data)}_clone(){return new Q(this.document,this.data)}}Q.prototype.is=function(c){return c==="$text"||c==="view:$text"||c==="text"||c==="view:text"||c==="node"||c==="view:node"};class ue extends I{constructor(n,i,s){if(super(),this.textNode=n,i<0||i>n.data.length)throw new V("view-textproxy-wrong-offsetintext",this);if(s<0||i+s>n.data.length)throw new V("view-textproxy-wrong-length",this);this.data=n.data.substring(i,i+s),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(n={}){const i=[];let s=n.includeSelf?this.textNode:this.parent;for(;s!==null;)i[n.parentFirst?"push":"unshift"](s),s=s.parent;return i}}ue.prototype.is=function(c){return c==="$textProxy"||c==="view:$textProxy"||c==="textProxy"||c==="view:textProxy"};class je{constructor(...n){this._patterns=[],this.add(...n)}add(...n){for(let i of n)(typeof i=="string"||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}match(...n){for(const i of n)for(const s of this._patterns){const l=lt(i,s);if(l)return{element:i,pattern:s,match:l}}return null}matchAll(...n){const i=[];for(const s of n)for(const l of this._patterns){const u=lt(s,l);u&&i.push({element:s,pattern:l,match:u})}return i.length>0?i:null}getElementName(){if(this._patterns.length!==1)return null;const n=this._patterns[0],i=n.name;return typeof n=="function"||!i||i instanceof RegExp?null:i}}function lt(c,n){if(typeof n=="function")return n(c);const i={};return n.name&&(i.name=function(s,l){return s instanceof RegExp?!!l.match(s):s===l}(n.name,c.name),!i.name)||n.attributes&&(i.attributes=function(s,l){const u=new Set(l.getAttributeKeys());return jn(s)?(s.style!==void 0&&se("matcher-pattern-deprecated-attributes-style-key",s),s.class!==void 0&&se("matcher-pattern-deprecated-attributes-class-key",s)):(u.delete("style"),u.delete("class")),Pt(s,u,h=>l.getAttribute(h))}(n.attributes,c),!i.attributes)||n.classes&&(i.classes=function(s,l){return Pt(s,l.getClassNames(),()=>{})}(n.classes,c),!i.classes)||n.styles&&(i.styles=function(s,l){return Pt(s,l.getStyleNames(!0),u=>l.getStyle(u))}(n.styles,c),!i.styles)?null:i}function Pt(c,n,i){const s=function(h){return Array.isArray(h)?h.map(p=>jn(p)?(p.key!==void 0&&p.value!==void 0||se("matcher-pattern-missing-key-or-value",p),[p.key,p.value]):[p,!0]):jn(h)?Object.entries(h):[[h,!0]]}(c),l=Array.from(n),u=[];if(s.forEach(([h,p])=>{l.forEach(g=>{(function(w,y){return w===!0||w===y||w instanceof RegExp&&y.match(w)})(h,g)&&function(w,y,C){if(w===!0)return!0;const S=C(y);return w===S||w instanceof RegExp&&!!String(S).match(w)}(p,g,i)&&u.push(g)})}),s.length&&!(u.length<s.length))return u}const Gn=function(c){return typeof c=="symbol"||An(c)&&Si(c)=="[object Symbol]"};var jo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ds=/^\w*$/;const k$=function(c,n){if(sn(c))return!1;var i=typeof c;return!(i!="number"&&i!="symbol"&&i!="boolean"&&c!=null&&!Gn(c))||Ds.test(c)||!jo.test(c)||n!=null&&c in Object(n)};function x_(c,n){if(typeof c!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var i=function(){var s=arguments,l=n?n.apply(this,s):s[0],u=i.cache;if(u.has(l))return u.get(l);var h=c.apply(this,s);return i.cache=u.set(l,h)||u,h};return i.cache=new(x_.Cache||rc),i}x_.Cache=rc;const b$=x_,w$=function(c){var n=b$(c,function(s){return i.size===500&&i.clear(),s}),i=n.cache;return n};var v$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y$=/\\(\\)?/g,_$=w$(function(c){var n=[];return c.charCodeAt(0)===46&&n.push(""),c.replace(v$,function(i,s,l,u){n.push(l?u.replace(y$,"$1"):s||i)}),n});const A$=_$,C$=function(c,n){for(var i=-1,s=c==null?0:c.length,l=Array(s);++i<s;)l[i]=n(c[i],i,c);return l};var IT=et?et.prototype:void 0,MT=IT?IT.toString:void 0;const x$=function c(n){if(typeof n=="string")return n;if(sn(n))return C$(n,c)+"";if(Gn(n))return MT?MT.call(n):"";var i=n+"";return i=="0"&&1/n==-1/0?"-0":i},E_=function(c){return c==null?"":x$(c)},S_=function(c,n){return sn(c)?c:k$(c,n)?[c]:A$(E_(c))},E$=function(c){var n=c==null?0:c.length;return n?c[n-1]:void 0},T_=function(c){if(typeof c=="string"||Gn(c))return c;var n=c+"";return n=="0"&&1/c==-1/0?"-0":n},NT=function(c,n){for(var i=0,s=(n=S_(n,c)).length;c!=null&&i<s;)c=c[T_(n[i++])];return i&&i==s?c:void 0},PT=function(c,n,i){var s=-1,l=c.length;n<0&&(n=-n>l?0:l+n),(i=i>l?l:i)<0&&(i+=l),l=n>i?0:i-n>>>0,n>>>=0;for(var u=Array(l);++s<l;)u[s]=c[s+n];return u},S$=function(c,n){return n.length<2?c:NT(c,PT(n,0,-1))},T$=function(c,n){return n=S_(n,c),(c=S$(c,n))==null||delete c[T_(E$(n))]},D$=function(c,n){return c==null||T$(c,n)},fb=function(c,n,i){var s=c==null?void 0:NT(c,n);return s===void 0?i:s},D_=function(c,n,i){(i!==void 0&&!Ti(c[n],i)||i===void 0&&!(n in c))&&Dl(c,n,i)},I$=function(c){return function(n,i,s){for(var l=-1,u=Object(n),h=s(n),p=h.length;p--;){var g=h[c?p:++l];if(i(u[g],g,u)===!1)break}return n}}(),M$=function(c){return An(c)&&lc(c)},I_=function(c,n){if((n!=="constructor"||typeof c[n]!="function")&&n!="__proto__")return c[n]},N$=function(c){return Po(c,fr(c))},P$=function(c,n,i,s,l,u,h){var p=I_(c,i),g=I_(n,i),w=h.get(g);if(w)D_(c,i,w);else{var y=u?u(p,g,i+"",c,n,h):void 0,C=y===void 0;if(C){var S=sn(g),N=!S&&Oo(g),P=!S&&!N&&ca(g);y=g,S||N||P?sn(p)?y=p:M$(p)?y=ua(p):N?(C=!1,y=bs(g,!0)):P?(C=!1,y=ae(g,!0)):y=[]:jn(g)||Pl(g)?(y=p,Pl(p)?y=N$(p):Se(p)&&!Ft(p)||(y=tt(g))):C=!1}C&&(h.set(g,y),l(y,g,s,u,h),h.delete(g)),D_(c,i,y)}},O$=function c(n,i,s,l,u){n!==i&&I$(i,function(h,p){if(u||(u=new No),Se(h))P$(n,i,p,s,c,l,u);else{var g=l?l(I_(n,p),h,p+"",n,i,u):void 0;g===void 0&&(g=h),D_(n,p,g)}},fr)},Kl=function(c){return c},R$=function(c,n,i){switch(i.length){case 0:return c.call(n);case 1:return c.call(n,i[0]);case 2:return c.call(n,i[0],i[1]);case 3:return c.call(n,i[0],i[1],i[2])}return c.apply(n,i)};var OT=Math.max;const L$=function(c,n,i){return n=OT(n===void 0?c.length-1:n,0),function(){for(var s=arguments,l=-1,u=OT(s.length-n,0),h=Array(u);++l<u;)h[l]=s[n+l];l=-1;for(var p=Array(n+1);++l<n;)p[l]=s[l];return p[n]=i(h),R$(c,this,p)}},B$=function(c){return function(){return c}},j$=ic?function(c,n){return ic(c,"toString",{configurable:!0,enumerable:!1,value:B$(n),writable:!0})}:Kl;var z$=Date.now;const F$=function(c){var n=0,i=0;return function(){var s=z$(),l=16-(s-i);if(i=s,l>0){if(++n>=800)return arguments[0]}else n=0;return c.apply(void 0,arguments)}}(j$),$$=function(c,n){return F$(L$(c,n,Kl),c+"")},V$=function(c,n,i){if(!Se(i))return!1;var s=typeof n;return!!(s=="number"?lc(i)&&oc(n,i.length):s=="string"&&n in i)&&Ti(i[n],c)},RT=function(c){return $$(function(n,i){var s=-1,l=i.length,u=l>1?i[l-1]:void 0,h=l>2?i[2]:void 0;for(u=c.length>3&&typeof u=="function"?(l--,u):void 0,h&&V$(i[0],i[1],h)&&(u=l<3?void 0:u,l=1),n=Object(n);++s<l;){var p=i[s];p&&c(n,p,s,u)}return n})},LT=RT(function(c,n,i){O$(c,n,i)}),U$=function(c,n,i,s){if(!Se(c))return c;for(var l=-1,u=(n=S_(n,c)).length,h=u-1,p=c;p!=null&&++l<u;){var g=T_(n[l]),w=i;if(g==="__proto__"||g==="constructor"||g==="prototype")return c;if(l!=h){var y=p[g];(w=s?s(y,g,p):void 0)===void 0&&(w=Se(y)?y:oc(n[l+1])?[]:{})}aa(p,g,w),p=p[g]}return c},H$=function(c,n,i){return c==null?c:U$(c,n,i)};class W${constructor(n){this._styles={},this._styleProcessor=n}get isEmpty(){const n=Object.entries(this._styles);return!Array.from(n).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(n){this.clear();const i=Array.from(function(s){let l=null,u=0,h=0,p=null;const g=new Map;if(s==="")return g;s.charAt(s.length-1)!=";"&&(s+=";");for(let w=0;w<s.length;w++){const y=s.charAt(w);if(l===null)switch(y){case":":p||(p=s.substr(u,w-u),h=w+1);break;case'"':case"'":l=y;break;case";":{const C=s.substr(h,w-h);p&&g.set(p.trim(),C.trim()),p=null,u=w+1;break}}else y===l&&(l=null)}return g}(n).entries());for(const[s,l]of i)this._styleProcessor.toNormalizedForm(s,l,this._styles)}has(n){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(n,this._styles).find(([s])=>s===n);return Array.isArray(i)}set(n,i){if(Se(n))for(const[s,l]of Object.entries(n))this._styleProcessor.toNormalizedForm(s,l,this._styles);else this._styleProcessor.toNormalizedForm(n,i,this._styles)}remove(n){const i=M_(n);D$(this._styles,i),delete this._styles[n],this._cleanEmptyObjectsOnPath(i)}getNormalized(n){return this._styleProcessor.getNormalized(n,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(n=>n.join(":")).sort().join(";")+";"}getAsString(n){if(this.isEmpty)return;if(this._styles[n]&&!Se(this._styles[n]))return this._styles[n];const i=this._styleProcessor.getReducedForm(n,this._styles).find(([s])=>s===n);return Array.isArray(i)?i[1]:void 0}getStyleNames(n=!1){return this.isEmpty?[]:n?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([i])=>i)}clear(){this._styles={}}_getStylesEntries(){const n=[],i=Object.keys(this._styles);for(const s of i)n.push(...this._styleProcessor.getReducedForm(s,this._styles));return n}_cleanEmptyObjectsOnPath(n){const i=n.split(".");if(!(i.length>1))return;const s=i.splice(0,i.length-1).join("."),l=fb(this._styles,s);l&&!Array.from(Object.keys(l)).length&&this.remove(s)}}class q${constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(n,i,s){if(Se(i))N_(s,M_(n),i);else if(this._normalizers.has(n)){const l=this._normalizers.get(n),{path:u,value:h}=l(i);N_(s,u,h)}else N_(s,n,i)}getNormalized(n,i){if(!n)return LT({},i);if(i[n]!==void 0)return i[n];if(this._extractors.has(n)){const s=this._extractors.get(n);if(typeof s=="string")return fb(i,s);const l=s(n,i);if(l)return l}return fb(i,M_(n))}getReducedForm(n,i){const s=this.getNormalized(n,i);return s===void 0?[]:this._reducers.has(n)?this._reducers.get(n)(s):[[n,s]]}getStyleNames(n){const i=Array.from(this._consumables.keys()).filter(l=>{const u=this.getNormalized(l,n);return u&&typeof u=="object"?Object.keys(u).length:u}),s=new Set([...i,...Object.keys(n)]);return Array.from(s.values())}getRelatedStyles(n){return this._consumables.get(n)||[]}setNormalizer(n,i){this._normalizers.set(n,i)}setExtractor(n,i){this._extractors.set(n,i)}setReducer(n,i){this._reducers.set(n,i)}setStyleRelation(n,i){this._mapStyleNames(n,i);for(const s of i)this._mapStyleNames(s,[n])}_mapStyleNames(n,i){this._consumables.has(n)||this._consumables.set(n,[]),this._consumables.get(n).push(...i)}}function M_(c){return c.replace("-",".")}function N_(c,n,i){let s=i;Se(i)&&(s=LT({},fb(c,n),i)),H$(c,n,s)}class Pi extends U{constructor(n,i,s,l){if(super(n),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=i,this._attrs=function(u){const h=uo(u);for(const[p,g]of h)g===null?h.delete(p):typeof g!="string"&&h.set(p,String(g));return h}(s),this._children=[],l&&this._insertChild(0,l),this._classes=new Set,this._attrs.has("class")){const u=this._attrs.get("class");BT(this._classes,u),this._attrs.delete("class")}this._styles=new W$(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(n){if(n=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(n=="style"){const i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(n)}hasAttribute(n){return n=="class"?this._classes.size>0:n=="style"?!this._styles.isEmpty:this._attrs.has(n)}isSimilar(n){if(!(n instanceof Pi))return!1;if(this===n)return!0;if(this.name!=n.name||this._attrs.size!==n._attrs.size||this._classes.size!==n._classes.size||this._styles.size!==n._styles.size)return!1;for(const[i,s]of this._attrs)if(!n._attrs.has(i)||n._attrs.get(i)!==s)return!1;for(const i of this._classes)if(!n._classes.has(i))return!1;for(const i of this._styles.getStyleNames())if(!n._styles.has(i)||n._styles.getAsString(i)!==this._styles.getAsString(i))return!1;return!0}hasClass(...n){for(const i of n)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(n){return this._styles.getAsString(n)}getNormalizedStyle(n){return this._styles.getNormalized(n)}getStyleNames(n){return this._styles.getStyleNames(n)}hasStyle(...n){for(const i of n)if(!this._styles.has(i))return!1;return!0}findAncestor(...n){const i=new je(...n);let s=this.parent;for(;s&&!s.is("documentFragment");){if(i.match(s))return s;s=s.parent}return null}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const n=Array.from(this._classes).sort().join(","),i=this._styles.toString(),s=Array.from(this._attrs).map(l=>`${l[0]}="${l[1]}"`).sort().join(" ");return this.name+(n==""?"":` class="${n}"`)+(i?` style="${i}"`:"")+(s==""?"":` ${s}`)}shouldRenderUnsafeAttribute(n){return this._unsafeAttributesToRender.includes(n)}_clone(n=!1){const i=[];if(n)for(const l of this.getChildren())i.push(l._clone(n));const s=new this.constructor(this.document,this.name,this._attrs,i);return s._classes=new Set(this._classes),s._styles.set(this._styles.getNormalized()),s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(n){return this._insertChild(this.childCount,n)}_insertChild(n,i){this._fireChange("children",this);let s=0;const l=function(u,h){return typeof h=="string"?[new Q(u,h)]:(Ie(h)||(h=[h]),Array.from(h).map(p=>typeof p=="string"?new Q(u,p):p instanceof ue?new Q(u,p.data):p))}(this.document,i);for(const u of l)u.parent!==null&&u._remove(),u.parent=this,u.document=this.document,this._children.splice(n,0,u),n++,s++;return s}_removeChildren(n,i=1){this._fireChange("children",this);for(let s=n;s<n+i;s++)this._children[s].parent=null;return this._children.splice(n,i)}_setAttribute(n,i){const s=String(i);this._fireChange("attributes",this),n=="class"?BT(this._classes,s):n=="style"?this._styles.setTo(s):this._attrs.set(n,s)}_removeAttribute(n){return this._fireChange("attributes",this),n=="class"?this._classes.size>0&&(this._classes.clear(),!0):n=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(n)}_addClass(n){this._fireChange("attributes",this);for(const i of qn(n))this._classes.add(i)}_removeClass(n){this._fireChange("attributes",this);for(const i of qn(n))this._classes.delete(i)}_setStyle(n,i){this._fireChange("attributes",this),typeof n!="string"?this._styles.set(n):this._styles.set(n,i)}_removeStyle(n){this._fireChange("attributes",this);for(const i of qn(n))this._styles.remove(i)}_setCustomProperty(n,i){this._customProperties.set(n,i)}_removeCustomProperty(n){return this._customProperties.delete(n)}}function BT(c,n){const i=n.split(/\s+/);c.clear(),i.forEach(s=>c.add(s))}Pi.prototype.is=function(c,n){return n?n===this.name&&(c==="element"||c==="view:element"):c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Vp extends Pi{constructor(n,i,s,l){super(n,i,s,l),this.getFillerOffset=jT}}function jT(){const c=[...this.getChildren()],n=c[this.childCount-1];if(n&&n.is("element","br"))return this.childCount;for(const i of c)if(!i.is("uiElement"))return null;return this.childCount}Vp.prototype.is=function(c,n){return n?n===this.name&&(c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class pb extends ut(Vp){constructor(n,i,s,l){super(n,i,s,l),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(n),this.bind("isFocused").to(n,"isFocused",u=>u&&n.selection.editableElement==this),this.listenTo(n.selection,"change",()=>{this.isFocused=n.isFocused&&n.selection.editableElement==this})}destroy(){this.stopListening()}}pb.prototype.is=function(c,n){return n?n===this.name&&(c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};const zT=Symbol("rootName");class FT extends pb{constructor(n,i){super(n,i),this.rootName="main"}get rootName(){return this.getCustomProperty(zT)}set rootName(n){this._setCustomProperty(zT,n)}set _name(n){this.name=n}}FT.prototype.is=function(c,n){return n?n===this.name&&(c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Ql{constructor(n={}){if(!n.boundaries&&!n.startPosition)throw new V("view-tree-walker-no-start-position",null);if(n.direction&&n.direction!="forward"&&n.direction!="backward")throw new V("view-tree-walker-unknown-direction",n.startPosition,{direction:n.direction});this.boundaries=n.boundaries||null,n.startPosition?this._position=Ee._createAt(n.startPosition):this._position=Ee._createAt(n.boundaries[n.direction=="backward"?"end":"start"]),this.direction=n.direction||"forward",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let i,s;do s=this.position,i=this.next();while(!i.done&&n(i.value));i.done||(this._position=s)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let n=this.position.clone();const i=this.position,s=n.parent;if(s.parent===null&&n.offset===s.childCount)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let l;if(s instanceof Q){if(n.isAtEnd)return this._position=Ee._createAfter(s),this._next();l=s.data[n.offset]}else l=s.getChild(n.offset);if(l instanceof Pi){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(n))return{done:!0,value:void 0};n.offset++}else n=new Ee(l,0);return this._position=n,this._formatReturnValue("elementStart",l,i,n,1)}if(l instanceof Q){if(this.singleCharacters)return n=new Ee(l,0),this._position=n,this._next();let u,h=l.data.length;return l==this._boundaryEndParent?(h=this.boundaries.end.offset,u=new ue(l,0,h),n=Ee._createAfter(u)):(u=new ue(l,0,l.data.length),n.offset++),this._position=n,this._formatReturnValue("text",u,i,n,h)}if(typeof l=="string"){let u;this.singleCharacters?u=1:u=(s===this._boundaryEndParent?this.boundaries.end.offset:s.data.length)-n.offset;const h=new ue(s,n.offset,u);return n.offset+=u,this._position=n,this._formatReturnValue("text",h,i,n,u)}return n=Ee._createAfter(s),this._position=n,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",s,i,n)}_previous(){let n=this.position.clone();const i=this.position,s=n.parent;if(s.parent===null&&n.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let l;if(s instanceof Q){if(n.isAtStart)return this._position=Ee._createBefore(s),this._previous();l=s.data[n.offset-1]}else l=s.getChild(n.offset-1);if(l instanceof Pi)return this.shallow?(n.offset--,this._position=n,this._formatReturnValue("elementStart",l,i,n,1)):(n=new Ee(l,l.childCount),this._position=n,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",l,i,n));if(l instanceof Q){if(this.singleCharacters)return n=new Ee(l,l.data.length),this._position=n,this._previous();let u,h=l.data.length;if(l==this._boundaryStartParent){const p=this.boundaries.start.offset;u=new ue(l,p,l.data.length-p),h=u.data.length,n=Ee._createBefore(u)}else u=new ue(l,0,l.data.length),n.offset--;return this._position=n,this._formatReturnValue("text",u,i,n,h)}if(typeof l=="string"){let u;if(this.singleCharacters)u=1;else{const p=s===this._boundaryStartParent?this.boundaries.start.offset:0;u=n.offset-p}n.offset-=u;const h=new ue(s,n.offset,u);return this._position=n,this._formatReturnValue("text",h,i,n,u)}return n=Ee._createBefore(s),this._position=n,this._formatReturnValue("elementStart",s,i,n,1)}_formatReturnValue(n,i,s,l,u){return i instanceof ue&&(i.offsetInText+i.data.length==i.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?s=Ee._createAfter(i.textNode):(l=Ee._createAfter(i.textNode),this._position=l)),i.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?s=Ee._createBefore(i.textNode):(l=Ee._createBefore(i.textNode),this._position=l))),{done:!1,value:{type:n,item:i,previousPosition:s,nextPosition:l,length:u}}}}class Ee extends I{constructor(n,i){super(),this.parent=n,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const n=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===n}get root(){return this.parent.root}get editableElement(){let n=this.parent;for(;!(n instanceof pb);){if(!n.parent)return null;n=n.parent}return n}getShiftedBy(n){const i=Ee._createAt(this),s=i.offset+n;return i.offset=s<0?0:s,i}getLastMatchingPosition(n,i={}){i.startPosition=this;const s=new Ql(i);return s.skip(n),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(n){const i=this.getAncestors(),s=n.getAncestors();let l=0;for(;i[l]==s[l]&&i[l];)l++;return l===0?null:i[l-1]}isEqual(n){return this.parent==n.parent&&this.offset==n.offset}isBefore(n){return this.compareWith(n)=="before"}isAfter(n){return this.compareWith(n)=="after"}compareWith(n){if(this.root!==n.root)return"different";if(this.isEqual(n))return"same";const i=this.parent.is("node")?this.parent.getPath():[],s=n.parent.is("node")?n.parent.getPath():[];i.push(this.offset),s.push(n.offset);const l=Ae(i,s);switch(l){case"prefix":return"before";case"extension":return"after";default:return i[l]<s[l]?"before":"after"}}getWalker(n={}){return n.startPosition=this,new Ql(n)}clone(){return new Ee(this.parent,this.offset)}static _createAt(n,i){if(n instanceof Ee)return new this(n.parent,n.offset);{const s=n;if(i=="end")i=s.is("$text")?s.data.length:s.childCount;else{if(i=="before")return this._createBefore(s);if(i=="after")return this._createAfter(s);if(i!==0&&!i)throw new V("view-createpositionat-offset-required",s)}return new Ee(s,i)}}static _createAfter(n){if(n.is("$textProxy"))return new Ee(n.textNode,n.offsetInText+n.data.length);if(!n.parent)throw new V("view-position-after-root",n,{root:n});return new Ee(n.parent,n.index+1)}static _createBefore(n){if(n.is("$textProxy"))return new Ee(n.textNode,n.offsetInText);if(!n.parent)throw new V("view-position-before-root",n,{root:n});return new Ee(n.parent,n.index)}}Ee.prototype.is=function(c){return c==="position"||c==="view:position"};class Xe extends I{constructor(n,i=null){super(),this.start=n.clone(),this.end=i?i.clone():n.clone()}*[Symbol.iterator](){yield*new Ql({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let n=this.start.getLastMatchingPosition(gb,{direction:"backward"}),i=this.end.getLastMatchingPosition(gb);return n.parent.is("$text")&&n.isAtStart&&(n=Ee._createBefore(n.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=Ee._createAfter(i.parent)),new Xe(n,i)}getTrimmed(){let n=this.start.getLastMatchingPosition(gb);if(n.isAfter(this.end)||n.isEqual(this.end))return new Xe(n,n);let i=this.end.getLastMatchingPosition(gb,{direction:"backward"});const s=n.nodeAfter,l=i.nodeBefore;return s&&s.is("$text")&&(n=new Ee(s,0)),l&&l.is("$text")&&(i=new Ee(l,l.data.length)),new Xe(n,i)}isEqual(n){return this==n||this.start.isEqual(n.start)&&this.end.isEqual(n.end)}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,i=!1){n.isCollapsed&&(i=!1);const s=this.containsPosition(n.start)||i&&this.start.isEqual(n.start),l=this.containsPosition(n.end)||i&&this.end.isEqual(n.end);return s&&l}getDifference(n){const i=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&i.push(new Xe(this.start,n.start)),this.containsPosition(n.end)&&i.push(new Xe(n.end,this.end))):i.push(this.clone()),i}getIntersection(n){if(this.isIntersecting(n)){let i=this.start,s=this.end;return this.containsPosition(n.start)&&(i=n.start),this.containsPosition(n.end)&&(s=n.end),new Xe(i,s)}return null}getWalker(n={}){return n.boundaries=this,new Ql(n)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let n=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(n=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),n&&n.is("element")&&n===i?n:null}clone(){return new Xe(this.start,this.end)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const i=new Ql(n);for(const s of i)yield s.item}*getPositions(n={}){n.boundaries=this;const i=new Ql(n);yield i.position;for(const s of i)yield s.nextPosition}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}static _createFromParentsAndOffsets(n,i,s,l){return new this(new Ee(n,i),new Ee(s,l))}static _createFromPositionAndShift(n,i){const s=n,l=n.getShiftedBy(i);return i>0?new this(s,l):new this(l,s)}static _createIn(n){return this._createFromParentsAndOffsets(n,0,n,n.childCount)}static _createOn(n){const i=n.is("$textProxy")?n.offsetSize:1;return this._createFromPositionAndShift(Ee._createBefore(n),i)}}function gb(c){return!(!c.item.is("attributeElement")&&!c.item.is("uiElement"))}Xe.prototype.is=function(c){return c==="range"||c==="view:range"};class Is extends we(I){constructor(...n){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",n.length&&this.setTo(...n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.end:n.start).clone()}get focus(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.start:n.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const n of this._ranges)yield n.clone()}getFirstRange(){let n=null;for(const i of this._ranges)n&&!i.start.isBefore(n.start)||(n=i);return n?n.clone():null}getLastRange(){let n=null;for(const i of this._ranges)n&&!i.end.isAfter(n.end)||(n=i);return n?n.clone():null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}isEqual(n){if(this.isFake!=n.isFake||this.isFake&&this.fakeSelectionLabel!=n.fakeSelectionLabel||this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const i of this._ranges){let s=!1;for(const l of n._ranges)if(i.isEqual(l)){s=!0;break}if(!s)return!1}return!0}isSimilar(n){if(this.isBackward!=n.isBackward)return!1;const i=re(this.getRanges());if(i!=re(n.getRanges()))return!1;if(i==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let l=!1;for(let u of n.getRanges())if(u=u.getTrimmed(),s.start.isEqual(u.start)&&s.end.isEqual(u.end)){l=!0;break}if(!l)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...n){let[i,s,l]=n;if(typeof s=="object"&&(l=s,s=void 0),i===null)this._setRanges([]),this._setFakeOptions(l);else if(i instanceof Is||i instanceof P_)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof Xe)this._setRanges([i],l&&l.backward),this._setFakeOptions(l);else if(i instanceof Ee)this._setRanges([new Xe(i)]),this._setFakeOptions(l);else if(i instanceof U){const u=!!l&&!!l.backward;let h;if(s===void 0)throw new V("view-selection-setto-required-second-parameter",this);h=s=="in"?Xe._createIn(i):s=="on"?Xe._createOn(i):new Xe(Ee._createAt(i,s)),this._setRanges([h],u),this._setFakeOptions(l)}else{if(!Ie(i))throw new V("view-selection-setto-not-selectable",this);this._setRanges(i,l&&l.backward),this._setFakeOptions(l)}this.fire("change")}setFocus(n,i){if(this.anchor===null)throw new V("view-selection-setfocus-no-ranges",this);const s=Ee._createAt(n,i);if(s.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.pop(),s.compareWith(l)=="before"?this._addRange(new Xe(s,l),!0):this._addRange(new Xe(l,s)),this.fire("change")}_setRanges(n,i=!1){n=Array.from(n),this._ranges=[];for(const s of n)this._addRange(s);this._lastRangeBackward=!!i}_setFakeOptions(n={}){this._isFake=!!n.fake,this._fakeSelectionLabel=n.fake&&n.label||""}_addRange(n,i=!1){if(!(n instanceof Xe))throw new V("view-selection-add-range-not-range",this);this._pushRange(n),this._lastRangeBackward=!!i}_pushRange(n){for(const i of this._ranges)if(n.isIntersecting(i))throw new V("view-selection-range-intersects",this,{addedRange:n,intersectingRange:i});this._ranges.push(new Xe(n.start,n.end))}}Is.prototype.is=function(c){return c==="selection"||c==="view:selection"};class P_ extends we(I){constructor(...n){super(),this._selection=new Is,this._selection.delegate("change").to(this),n.length&&this._selection.setTo(...n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(n){return this._selection.isEqual(n)}isSimilar(n){return this._selection.isSimilar(n)}_setTo(...n){this._selection.setTo(...n)}_setFocus(n,i){this._selection.setFocus(n,i)}}P_.prototype.is=function(c){return c==="selection"||c=="documentSelection"||c=="view:selection"||c=="view:documentSelection"};class Xd extends L{constructor(n,i,s){super(n,i),this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const O_=Symbol("bubbling contexts");function R_(c){return class extends c{fire(n,...i){try{const s=n instanceof L?n:new L(this,n),l=L_(this);if(!l.size)return;if(Up(s,"capturing",this),eh(l,"$capture",s,...i))return s.return;const u=s.startRange||this.selection.getFirstRange(),h=u?u.getContainedElement():null,p=!!h&&!!$T(l,h);let g=h||function(w){if(!w)return null;const y=w.start.parent,C=w.end.parent,S=y.getPath(),N=C.getPath();return S.length>N.length?y:C}(u);if(Up(s,"atTarget",g),!p){if(eh(l,"$text",s,...i))return s.return;Up(s,"bubbling",g)}for(;g;){if(g.is("rootElement")){if(eh(l,"$root",s,...i))return s.return}else if(g.is("element")&&eh(l,g.name,s,...i))return s.return;if(eh(l,g,s,...i))return s.return;g=g.parent,Up(s,"bubbling",g)}return Up(s,"bubbling",this),eh(l,"$document",s,...i),s.return}catch(s){V.rethrowUnexpectedError(s,this)}}_addEventListener(n,i,s){const l=qn(s.context||"$document"),u=L_(this);for(const h of l){let p=u.get(h);p||(p=new(we()),u.set(h,p)),this.listenTo(p,n,i,s)}}_removeEventListener(n,i){const s=L_(this);for(const l of s.values())this.stopListening(l,n,i)}}}{const c=R_(Object);["fire","_addEventListener","_removeEventListener"].forEach(n=>{R_[n]=c.prototype[n]})}function Up(c,n,i){c instanceof Xd&&(c._eventPhase=n,c._currentTarget=i)}function eh(c,n,i,...s){const l=typeof n=="string"?c.get(n):$T(c,n);return!!l&&(l.fire(i,...s),i.stop.called)}function $T(c,n){for(const[i,s]of c)if(typeof i=="function"&&i(n))return s;return null}function L_(c){return c[O_]||(c[O_]=new Map),c[O_]}class mb extends R_(ut()){constructor(n){super(),this._postFixers=new Set,this.selection=new P_,this.roots=new Mi({idProperty:"rootName"}),this.stylesProcessor=n,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(n="main"){return this.roots.get(n)}registerPostFixer(n){this._postFixers.add(n)}destroy(){this.roots.map(n=>n.destroy()),this.stopListening()}_callPostFixers(n){let i=!1;do for(const s of this._postFixers)if(i=s(n),i)break;while(i)}}class Zl extends Pi{constructor(n,i,s,l){super(n,i,s,l),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=G$}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new V("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(n){return this.id!==null||n.id!==null?this.id===n.id:super.isSimilar(n)&&this.priority==n.priority}_clone(n=!1){const i=super._clone(n);return i._priority=this._priority,i._id=this._id,i}}function G$(){if(B_(this))return null;let c=this.parent;for(;c&&c.is("attributeElement");){if(B_(c)>1)return null;c=c.parent}return!c||B_(c)>1?null:this.childCount}function B_(c){return Array.from(c.getChildren()).filter(n=>!n.is("uiElement")).length}Zl.DEFAULT_PRIORITY=10,Zl.prototype.is=function(c,n){return n?n===this.name&&(c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"):c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class j_ extends Pi{constructor(n,i,s,l){super(n,i,s,l),this.getFillerOffset=Y$}_insertChild(n,i){if(i&&(i instanceof U||Array.from(i).length>0))throw new V("view-emptyelement-cannot-add",[this,i]);return 0}}function Y$(){return null}j_.prototype.is=function(c,n){return n?n===this.name&&(c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"):c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class kb extends Pi{constructor(n,i,s,l){super(n,i,s,l),this.getFillerOffset=Q$}_insertChild(n,i){if(i&&(i instanceof U||Array.from(i).length>0))throw new V("view-uielement-cannot-add",[this,i]);return 0}render(n,i){return this.toDomElement(n)}toDomElement(n){const i=n.createElement(this.name);for(const s of this.getAttributeKeys())i.setAttribute(s,this.getAttribute(s));return i}}function K$(c){c.document.on("arrowKey",(n,i)=>function(s,l,u){if(l.keyCode==bt.arrowright){const h=l.domTarget.ownerDocument.defaultView.getSelection(),p=h.rangeCount==1&&h.getRangeAt(0).collapsed;if(p||l.shiftKey){const g=h.focusNode,w=h.focusOffset,y=u.domPositionToView(g,w);if(y===null)return;let C=!1;const S=y.getLastMatchingPosition(N=>(N.item.is("uiElement")&&(C=!0),!(!N.item.is("uiElement")&&!N.item.is("attributeElement"))));if(C){const N=u.viewPositionToDom(S);p?h.collapse(N.parent,N.offset):h.extend(N.parent,N.offset)}}}}(0,i,c.domConverter),{priority:"low"})}function Q$(){return null}kb.prototype.is=function(c,n){return n?n===this.name&&(c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"):c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class z_ extends Pi{constructor(n,i,s,l){super(n,i,s,l),this.getFillerOffset=Z$}_insertChild(n,i){if(i&&(i instanceof U||Array.from(i).length>0))throw new V("view-rawelement-cannot-add",[this,i]);return 0}render(n,i){}}function Z$(){return null}z_.prototype.is=function(c,n){return n?n===this.name&&(c==="rawElement"||c==="view:rawElement"||c==="element"||c==="view:element"):c==="rawElement"||c==="view:rawElement"||c===this.name||c==="view:"+this.name||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Jl extends we(I){constructor(n,i){super(),this._children=[],this._customProperties=new Map,this.document=n,i&&this._insertChild(0,i)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(n){return this._insertChild(this.childCount,n)}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(n,i){this._fireChange("children",this);let s=0;const l=function(u,h){return typeof h=="string"?[new Q(u,h)]:(Ie(h)||(h=[h]),Array.from(h).map(p=>typeof p=="string"?new Q(u,p):p instanceof ue?new Q(u,p.data):p))}(this.document,i);for(const u of l)u.parent!==null&&u._remove(),u.parent=this,this._children.splice(n,0,u),n++,s++;return s}_removeChildren(n,i=1){this._fireChange("children",this);for(let s=n;s<n+i;s++)this._children[s].parent=null;return this._children.splice(n,i)}_fireChange(n,i){this.fire("change:"+n,i)}_setCustomProperty(n,i){this._customProperties.set(n,i)}_removeCustomProperty(n){return this._customProperties.delete(n)}}Jl.prototype.is=function(c){return c==="documentFragment"||c==="view:documentFragment"};class VT{constructor(n){this._cloneGroups=new Map,this._slotFactory=null,this.document=n}setSelection(...n){this.document.selection._setTo(...n)}setSelectionFocus(n,i){this.document.selection._setFocus(n,i)}createDocumentFragment(n){return new Jl(this.document,n)}createText(n){return new Q(this.document,n)}createAttributeElement(n,i,s={}){const l=new Zl(this.document,n,i);return typeof s.priority=="number"&&(l._priority=s.priority),s.id&&(l._id=s.id),s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createContainerElement(n,i,s={},l={}){let u=null;jn(s)?l=s:u=s;const h=new Vp(this.document,n,i,u);return l.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),h}createEditableElement(n,i,s={}){const l=new pb(this.document,n,i);return s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createEmptyElement(n,i,s={}){const l=new j_(this.document,n,i);return s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createUIElement(n,i,s){const l=new kb(this.document,n,i);return s&&(l.render=s),l}createRawElement(n,i,s,l={}){const u=new z_(this.document,n,i);return s&&(u.render=s),l.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),u}setAttribute(n,i,s){s._setAttribute(n,i)}removeAttribute(n,i){i._removeAttribute(n)}addClass(n,i){i._addClass(n)}removeClass(n,i){i._removeClass(n)}setStyle(n,i,s){jn(n)&&s===void 0?i._setStyle(n):s._setStyle(n,i)}removeStyle(n,i){i._removeStyle(n)}setCustomProperty(n,i,s){s._setCustomProperty(n,i)}removeCustomProperty(n,i){return i._removeCustomProperty(n)}breakAttributes(n){return n instanceof Ee?this._breakAttributes(n):this._breakAttributesRange(n)}breakContainer(n){const i=n.parent;if(!i.is("containerElement"))throw new V("view-writer-break-non-container-element",this.document);if(!i.parent)throw new V("view-writer-break-root",this.document);if(n.isAtStart)return Ee._createBefore(i);if(!n.isAtEnd){const s=i._clone(!1);this.insert(Ee._createAfter(i),s);const l=new Xe(n,Ee._createAt(i,"end")),u=new Ee(s,0);this.move(l,u)}return Ee._createAfter(i)}mergeAttributes(n){const i=n.offset,s=n.parent;if(s.is("$text"))return n;if(s.is("attributeElement")&&s.childCount===0){const h=s.parent,p=s.index;return s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Ee(h,p))}const l=s.getChild(i-1),u=s.getChild(i);if(!l||!u)return n;if(l.is("$text")&&u.is("$text"))return HT(l,u);if(l.is("attributeElement")&&u.is("attributeElement")&&l.isSimilar(u)){const h=l.childCount;return l._appendChild(u.getChildren()),u._remove(),this._removeFromClonedElementsGroup(u),this.mergeAttributes(new Ee(l,h))}return n}mergeContainers(n){const i=n.nodeBefore,s=n.nodeAfter;if(!(i&&s&&i.is("containerElement")&&s.is("containerElement")))throw new V("view-writer-merge-containers-invalid-position",this.document);const l=i.getChild(i.childCount-1),u=l instanceof Q?Ee._createAt(l,"end"):Ee._createAt(i,"end");return this.move(Xe._createIn(s),Ee._createAt(i,"end")),this.remove(Xe._createOn(s)),u}insert(n,i){WT(i=Ie(i)?[...i]:[i],this.document);const s=i.reduce((h,p)=>{const g=h[h.length-1],w=!p.is("uiElement");return g&&g.breakAttributes==w?g.nodes.push(p):h.push({breakAttributes:w,nodes:[p]}),h},[]);let l=null,u=n;for(const{nodes:h,breakAttributes:p}of s){const g=this._insertNodes(u,h,p);l||(l=g.start),u=g.end}return l?new Xe(l,u):new Xe(n)}remove(n){const i=n instanceof Xe?n:Xe._createOn(n);if(Hp(i,this.document),i.isCollapsed)return new Jl(this.document);const{start:s,end:l}=this._breakAttributesRange(i,!0),u=s.parent,h=l.offset-s.offset,p=u._removeChildren(s.offset,h);for(const w of p)this._removeFromClonedElementsGroup(w);const g=this.mergeAttributes(s);return i.start=g,i.end=g.clone(),new Jl(this.document,p)}clear(n,i){Hp(n,this.document);const s=n.getWalker({direction:"backward",ignoreElementEnd:!0});for(const l of s){const u=l.item;let h;if(u.is("element")&&i.isSimilar(u))h=Xe._createOn(u);else if(!l.nextPosition.isAfter(n.start)&&u.is("$textProxy")){const p=u.getAncestors().find(g=>g.is("element")&&i.isSimilar(g));p&&(h=Xe._createIn(p))}h&&(h.end.isAfter(n.end)&&(h.end=n.end),h.start.isBefore(n.start)&&(h.start=n.start),this.remove(h))}}move(n,i){let s;if(i.isAfter(n.end)){const l=(i=this._breakAttributes(i,!0)).parent,u=l.childCount;n=this._breakAttributesRange(n,!0),s=this.remove(n),i.offset+=l.childCount-u}else s=this.remove(n);return this.insert(i,s)}wrap(n,i){if(!(i instanceof Zl))throw new V("view-writer-wrap-invalid-attribute",this.document);if(Hp(n,this.document),n.isCollapsed){let l=n.start;l.parent.is("element")&&(s=l.parent,!Array.from(s.getChildren()).some(h=>!h.is("uiElement")))&&(l=l.getLastMatchingPosition(h=>h.item.is("uiElement"))),l=this._wrapPosition(l,i);const u=this.document.selection;return u.isCollapsed&&u.getFirstPosition().isEqual(n.start)&&this.setSelection(l),new Xe(l)}return this._wrapRange(n,i);var s}unwrap(n,i){if(!(i instanceof Zl))throw new V("view-writer-unwrap-invalid-attribute",this.document);if(Hp(n,this.document),n.isCollapsed)return n;const{start:s,end:l}=this._breakAttributesRange(n,!0),u=s.parent,h=this._unwrapChildren(u,s.offset,l.offset,i),p=this.mergeAttributes(h.start);p.isEqual(h.start)||h.end.offset--;const g=this.mergeAttributes(h.end);return new Xe(p,g)}rename(n,i){const s=new Vp(this.document,n,i.getAttributes());return this.insert(Ee._createAfter(i),s),this.move(Xe._createIn(i),Ee._createAt(s,0)),this.remove(Xe._createOn(i)),s}clearClonedElementsGroup(n){this._cloneGroups.delete(n)}createPositionAt(n,i){return Ee._createAt(n,i)}createPositionAfter(n){return Ee._createAfter(n)}createPositionBefore(n){return Ee._createBefore(n)}createRange(n,i){return new Xe(n,i)}createRangeOn(n){return Xe._createOn(n)}createRangeIn(n){return Xe._createIn(n)}createSelection(...n){return new Is(...n)}createSlot(n="children"){if(!this._slotFactory)throw new V("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,n)}_registerSlotFactory(n){this._slotFactory=n}_clearSlotFactory(){this._slotFactory=null}_insertNodes(n,i,s){let l,u;if(l=s?F_(n):n.parent.is("$text")?n.parent.parent:n.parent,!l)throw new V("view-writer-invalid-position-container",this.document);u=s?this._breakAttributes(n,!0):n.parent.is("$text")?$_(n):n;const h=l._insertChild(u.offset,i);for(const y of i)this._addToClonedElementsGroup(y);const p=u.getShiftedBy(h),g=this.mergeAttributes(u);g.isEqual(u)||p.offset--;const w=this.mergeAttributes(p);return new Xe(g,w)}_wrapChildren(n,i,s,l){let u=i;const h=[];for(;u<s;){const g=n.getChild(u),w=g.is("$text"),y=g.is("attributeElement");if(y&&this._wrapAttributeElement(l,g))h.push(new Ee(n,u));else if(w||!y||J$(l,g)){const C=l._clone();g._remove(),C._appendChild(g),n._insertChild(u,C),this._addToClonedElementsGroup(C),h.push(new Ee(n,u))}else this._wrapChildren(g,0,g.childCount,l);u++}let p=0;for(const g of h)g.offset-=p,g.offset!=i&&(this.mergeAttributes(g).isEqual(g)||(p++,s--));return Xe._createFromParentsAndOffsets(n,i,n,s)}_unwrapChildren(n,i,s,l){let u=i;const h=[];for(;u<s;){const g=n.getChild(u);if(g.is("attributeElement"))if(g.isSimilar(l)){const w=g.getChildren(),y=g.childCount;g._remove(),n._insertChild(u,w),this._removeFromClonedElementsGroup(g),h.push(new Ee(n,u),new Ee(n,u+y)),u+=y,s+=y-1}else this._unwrapAttributeElement(l,g)?(h.push(new Ee(n,u),new Ee(n,u+1)),u++):(this._unwrapChildren(g,0,g.childCount,l),u++);else u++}let p=0;for(const g of h)g.offset-=p,!(g.offset==i||g.offset==s)&&(this.mergeAttributes(g).isEqual(g)||(p++,s--));return Xe._createFromParentsAndOffsets(n,i,n,s)}_wrapRange(n,i){const{start:s,end:l}=this._breakAttributesRange(n,!0),u=s.parent,h=this._wrapChildren(u,s.offset,l.offset,i),p=this.mergeAttributes(h.start);p.isEqual(h.start)||h.end.offset--;const g=this.mergeAttributes(h.end);return new Xe(p,g)}_wrapPosition(n,i){if(i.isSimilar(n.parent))return UT(n.clone());n.parent.is("$text")&&(n=$_(n));const s=this.createAttributeElement("_wrapPosition-fake-element");s._priority=Number.POSITIVE_INFINITY,s.isSimilar=()=>!1,n.parent._insertChild(n.offset,s);const l=new Xe(n,n.getShiftedBy(1));this.wrap(l,i);const u=new Ee(s.parent,s.index);s._remove();const h=u.nodeBefore,p=u.nodeAfter;return h instanceof Q&&p instanceof Q?HT(h,p):UT(u)}_wrapAttributeElement(n,i){if(!qT(n,i)||n.name!==i.name||n.priority!==i.priority)return!1;for(const s of n.getAttributeKeys())if(s!=="class"&&s!=="style"&&i.hasAttribute(s)&&i.getAttribute(s)!==n.getAttribute(s))return!1;for(const s of n.getStyleNames())if(i.hasStyle(s)&&i.getStyle(s)!==n.getStyle(s))return!1;for(const s of n.getAttributeKeys())s!=="class"&&s!=="style"&&(i.hasAttribute(s)||this.setAttribute(s,n.getAttribute(s),i));for(const s of n.getStyleNames())i.hasStyle(s)||this.setStyle(s,n.getStyle(s),i);for(const s of n.getClassNames())i.hasClass(s)||this.addClass(s,i);return!0}_unwrapAttributeElement(n,i){if(!qT(n,i)||n.name!==i.name||n.priority!==i.priority)return!1;for(const s of n.getAttributeKeys())if(s!=="class"&&s!=="style"&&(!i.hasAttribute(s)||i.getAttribute(s)!==n.getAttribute(s)))return!1;if(!i.hasClass(...n.getClassNames()))return!1;for(const s of n.getStyleNames())if(!i.hasStyle(s)||i.getStyle(s)!==n.getStyle(s))return!1;for(const s of n.getAttributeKeys())s!=="class"&&s!=="style"&&this.removeAttribute(s,i);return this.removeClass(Array.from(n.getClassNames()),i),this.removeStyle(Array.from(n.getStyleNames()),i),!0}_breakAttributesRange(n,i=!1){const s=n.start,l=n.end;if(Hp(n,this.document),n.isCollapsed){const g=this._breakAttributes(n.start,i);return new Xe(g,g)}const u=this._breakAttributes(l,i),h=u.parent.childCount,p=this._breakAttributes(s,i);return u.offset+=u.parent.childCount-h,new Xe(p,u)}_breakAttributes(n,i=!1){const s=n.offset,l=n.parent;if(n.parent.is("emptyElement"))throw new V("view-writer-cannot-break-empty-element",this.document);if(n.parent.is("uiElement"))throw new V("view-writer-cannot-break-ui-element",this.document);if(n.parent.is("rawElement"))throw new V("view-writer-cannot-break-raw-element",this.document);if(!i&&l.is("$text")&&V_(l.parent)||V_(l))return n.clone();if(l.is("$text"))return this._breakAttributes($_(n),i);if(s==l.childCount){const u=new Ee(l.parent,l.index+1);return this._breakAttributes(u,i)}if(s===0){const u=new Ee(l.parent,l.index);return this._breakAttributes(u,i)}{const u=l.index+1,h=l._clone();l.parent._insertChild(u,h),this._addToClonedElementsGroup(h);const p=l.childCount-s,g=l._removeChildren(s,p);h._appendChild(g);const w=new Ee(l.parent,u);return this._breakAttributes(w,i)}}_addToClonedElementsGroup(n){if(!n.root.is("rootElement"))return;if(n.is("element"))for(const l of n.getChildren())this._addToClonedElementsGroup(l);const i=n.id;if(!i)return;let s=this._cloneGroups.get(i);s||(s=new Set,this._cloneGroups.set(i,s)),s.add(n),n._clonesGroup=s}_removeFromClonedElementsGroup(n){if(n.is("element"))for(const l of n.getChildren())this._removeFromClonedElementsGroup(l);const i=n.id;if(!i)return;const s=this._cloneGroups.get(i);s&&s.delete(n)}}function F_(c){let n=c.parent;for(;!V_(n);){if(!n)return;n=n.parent}return n}function J$(c,n){return c.priority<n.priority||!(c.priority>n.priority)&&c.getIdentity()<n.getIdentity()}function UT(c){const n=c.nodeBefore;if(n&&n.is("$text"))return new Ee(n,n.data.length);const i=c.nodeAfter;return i&&i.is("$text")?new Ee(i,0):c}function $_(c){if(c.offset==c.parent.data.length)return new Ee(c.parent.parent,c.parent.index+1);if(c.offset===0)return new Ee(c.parent.parent,c.parent.index);const n=c.parent.data.slice(c.offset);return c.parent._data=c.parent.data.slice(0,c.offset),c.parent.parent._insertChild(c.parent.index+1,new Q(c.root.document,n)),new Ee(c.parent.parent,c.parent.index+1)}function HT(c,n){const i=c.data.length;return c._data+=n.data,n._remove(),new Ee(c,i)}const X$=[Q,Zl,Vp,j_,z_,kb];function WT(c,n){for(const i of c){if(!X$.some(s=>i instanceof s))throw new V("view-writer-insert-invalid-node-type",n);i.is("$text")||WT(i.getChildren(),n)}}function V_(c){return c&&(c.is("containerElement")||c.is("documentFragment"))}function Hp(c,n){const i=F_(c.start),s=F_(c.end);if(!i||!s||i!==s)throw new V("view-writer-invalid-range-container",n)}function qT(c,n){return c.id===null&&n.id===null}const GT=c=>c.createTextNode(" "),YT=c=>{const n=c.createElement("span");return n.dataset.ckeFiller="true",n.innerText=" ",n},KT=c=>{const n=c.createElement("br");return n.dataset.ckeFiller="true",n},zo=7,Wp="⁠".repeat(zo);function Oi(c){return typeof c=="string"?c.substr(0,zo)===Wp:In(c)&&c.data.substr(0,zo)===Wp}function qp(c){return c.data.length==zo&&Oi(c)}function QT(c){const n=typeof c=="string"?c:c.data;return Oi(c)?n.slice(zo):n}function e8(c,n){if(n.keyCode==bt.arrowleft){const i=n.domTarget.ownerDocument.defaultView.getSelection();if(i.rangeCount==1&&i.getRangeAt(0).collapsed){const s=i.getRangeAt(0).startContainer,l=i.getRangeAt(0).startOffset;Oi(s)&&l<=zo&&i.collapse(s,0)}}}var ZT=a(9315),t8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(ZT.Z,t8),ZT.Z.locals;class n8 extends ut(){constructor(n,i){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=n,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),x.isBlink&&!x.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(n,i){if(n==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(n==="attributes")this.markedAttributes.add(i);else{if(n!=="children")throw new V("view-renderer-unknown-type",this);this.markedChildren.add(i)}}}render(){if(this.isComposing&&!x.isAndroid)return;let n=null;const i=!(x.isBlink&&!x.isAndroid)||!this.isSelecting;for(const s of this.markedChildren)this._updateChildrenMappings(s);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?n=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(n=this.selection.getFirstPosition(),this.markedChildren.add(n.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(n=this.domConverter.domPositionToView(this._inlineFiller),n&&n.parent.is("$text")&&(n=Ee._createBefore(n.parent)));for(const s of this.markedAttributes)this._updateAttrs(s);for(const s of this.markedChildren)this._updateChildren(s,{inlineFillerPosition:n});for(const s of this.markedTexts)!this.markedChildren.has(s.parent)&&this.domConverter.mapViewToDom(s.parent)&&this._updateText(s,{inlineFillerPosition:n});if(i)if(n){const s=this.domConverter.viewPositionToDom(n),l=s.parent.ownerDocument;Oi(s.parent)?this._inlineFiller=s.parent:this._inlineFiller=JT(l,s.parent,s.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(n){if(!this.domConverter.mapViewToDom(n))return;const i=Array.from(this.domConverter.mapViewToDom(n).childNodes),s=Array.from(this.domConverter.viewChildrenToDom(n,{withChildren:!1})),l=this._diffNodeLists(i,s),u=this._findUpdateActions(l,i,s,r8);if(u.indexOf("update")!==-1){const h={equal:0,insert:0,delete:0};for(const p of u)if(p==="update"){const g=h.equal+h.insert,w=h.equal+h.delete,y=n.getChild(g);!y||y.is("uiElement")||y.is("rawElement")||this._updateElementMappings(y,i[w]),Cp(s[g]),h.equal++}else h[p]++}}_updateElementMappings(n,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,n),this.markedChildren.add(n),this.markedAttributes.add(n)}_getInlineFillerPosition(){const n=this.selection.getFirstPosition();return n.parent.is("$text")?Ee._createBefore(n.parent):n}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(n);return!!(i&&In(i.parent)&&Oi(i.parent))}_removeInlineFiller(){const n=this._inlineFiller;if(!Oi(n))throw new V("view-renderer-filler-was-lost",this);qp(n)?n.remove():n.data=n.data.substr(zo),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),i=n.parent,s=n.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!function(h){if(h.getAttribute("contenteditable")=="false")return!1;const p=h.findAncestor(g=>g.hasAttribute("contenteditable"));return!p||p.getAttribute("contenteditable")=="true"}(i)||s===i.getFillerOffset())return!1;const l=n.nodeBefore,u=n.nodeAfter;return!(l instanceof Q||u instanceof Q)&&(!x.isAndroid||!l&&!u)}_updateText(n,i){const s=this.domConverter.findCorrespondingDomText(n);let l=this.domConverter.viewToDom(n).data;const u=i.inlineFillerPosition;u&&u.parent==n.parent&&u.offset==n.index&&(l=Wp+l),XT(s,l)}_updateAttrs(n){const i=this.domConverter.mapViewToDom(n);if(!i)return;const s=Array.from(i.attributes).map(u=>u.name),l=n.getAttributeKeys();for(const u of l)this.domConverter.setDomElementAttribute(i,u,n.getAttribute(u),n);for(const u of s)n.hasAttribute(u)||this.domConverter.removeDomElementAttribute(i,u)}_updateChildren(n,i){const s=this.domConverter.mapViewToDom(n);if(!s)return;if(x.isAndroid){let C=null;for(const S of Array.from(s.childNodes)){if(C&&In(C)&&In(S)){s.normalize();break}C=S}}const l=i.inlineFillerPosition,u=s.childNodes,h=Array.from(this.domConverter.viewChildrenToDom(n,{bind:!0}));l&&l.parent===n&&JT(s.ownerDocument,h,l.offset);const p=this._diffNodeLists(u,h),g=this._findUpdateActions(p,u,h,i8);let w=0;const y=new Set;for(const C of g)C==="delete"?(y.add(u[w]),Cp(u[w])):C!=="equal"&&C!=="update"||w++;w=0;for(const C of g)C==="insert"?(zk(s,w,h[w]),w++):C==="update"?(XT(u[w],h[w].data),w++):C==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(h[w])),w++);for(const C of y)C.parentNode||this.domConverter.unbindDomElement(C)}_diffNodeLists(n,i){return n=function(s,l){const u=Array.from(s);return u.length==0||!l||u[u.length-1]==l&&u.pop(),u}(n,this._fakeSelectionContainer),B(n,i,o8.bind(null,this.domConverter))}_findUpdateActions(n,i,s,l){if(n.indexOf("insert")===-1||n.indexOf("delete")===-1)return n;let u=[],h=[],p=[];const g={equal:0,insert:0,delete:0};for(const w of n)w==="insert"?p.push(s[g.equal+g.insert]):w==="delete"?h.push(i[g.equal+g.delete]):(u=u.concat(B(h,p,l).map(y=>y==="equal"?"update":y)),u.push("equal"),h=[],p=[]),g[w]++;return u.concat(B(h,p,l).map(w=>w==="equal"?"update":w))}_markDescendantTextToSync(n){if(n){if(n.is("$text"))this.markedTexts.add(n);else if(n.is("element"))for(const i of n.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(x.isBlink&&!x.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const n=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&n&&(this.selection.isFake?this._updateFakeSelection(n):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(n)):this.isComposing&&x.isAndroid||this._updateDomSelection(n))}_updateFakeSelection(n){const i=n.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(h){const p=h.createElement("div");return p.className="ck-fake-selection-container",Object.assign(p.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),p.textContent=" ",p}(i));const s=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(s,this.selection),!this._fakeSelectionNeedsUpdate(n))return;s.parentElement&&s.parentElement==n||n.appendChild(s),s.textContent=this.selection.fakeSelectionLabel||" ";const l=i.getSelection(),u=i.createRange();l.removeAllRanges(),u.selectNodeContents(s),l.addRange(u)}_updateDomSelection(n){const i=n.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const s=this.domConverter.viewPositionToDom(this.selection.anchor),l=this.domConverter.viewPositionToDom(this.selection.focus);i.setBaseAndExtent(s.parent,s.offset,l.parent,l.offset),x.isGecko&&function(u,h){const p=u.parent;if(p.nodeType!=Node.ELEMENT_NODE||u.offset!=p.childNodes.length-1)return;const g=p.childNodes[u.offset];g&&g.tagName=="BR"&&h.addRange(h.getRangeAt(0))}(l,i)}_domSelectionNeedsUpdate(n){if(!this.domConverter.isDomSelectionCorrect(n))return!0;const i=n&&this.domConverter.domSelectionToView(n);return(!i||!this.selection.isEqual(i))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(n){const i=this._fakeSelectionContainer,s=n.ownerDocument.getSelection();return!i||i.parentElement!==n||s.anchorNode!==i&&!i.contains(s.anchorNode)||i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const n of this.domDocuments){const i=n.getSelection();if(i.rangeCount){const s=n.activeElement,l=this.domConverter.mapDomToView(s);s&&l&&i.removeAllRanges()}}}_removeFakeSelection(){const n=this._fakeSelectionContainer;n&&n.remove()}_updateFocus(){if(this.isFocused){const n=this.selection.editableElement;n&&this.domConverter.focus(n)}}}function JT(c,n,i){const s=n instanceof Array?n:n.childNodes,l=s[i];if(In(l))return l.data=Wp+l.data,l;{const u=c.createTextNode(Wp);return Array.isArray(n)?s.splice(i,0,u):zk(n,i,u),u}}function r8(c,n){return Es(c)&&Es(n)&&!In(c)&&!In(n)&&!Ul(c)&&!Ul(n)&&c.tagName.toLowerCase()===n.tagName.toLowerCase()}function i8(c,n){return Es(c)&&Es(n)&&In(c)&&In(n)}function o8(c,n,i){return n===i||(In(n)&&In(i)?n.data===i.data:!(!c.isBlockFiller(n)||!c.isBlockFiller(i)))}function XT(c,n){const i=c.data;if(i==n)return;const s=T(i,n);for(const l of s)l.type==="insert"?c.insertData(l.index,l.values.join("")):c.deleteData(l.index,l.howMany)}const s8=KT(at.document),a8=GT(at.document),c8=YT(at.document),bb="data-ck-unsafe-attribute-",eD="data-ck-unsafe-element";class wb{constructor(n,{blockFillerMode:i,renderingMode:s="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new je,this._inlineObjectElementMatcher=new je,this.document=n,this.renderingMode=s,this.blockFillerMode=i||(s==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?at.document:at.document.implementation.createHTMLDocument("")}bindFakeSelection(n,i){this._fakeSelectionMapping.set(n,new Is(i))}fakeSelectionToView(n){return this._fakeSelectionMapping.get(n)}bindElements(n,i){this._domToViewMapping.set(n,i),this._viewToDomMapping.set(i,n)}unbindDomElement(n){const i=this._domToViewMapping.get(n);if(i){this._domToViewMapping.delete(n),this._viewToDomMapping.delete(i);for(const s of Array.from(n.children))this.unbindDomElement(s)}}bindDocumentFragments(n,i){this._domToViewMapping.set(n,i),this._viewToDomMapping.set(i,n)}shouldRenderAttribute(n,i,s){return this.renderingMode==="data"||!(n=n.toLowerCase()).startsWith("on")&&(n!=="srcdoc"||!i.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(s==="img"&&(n==="src"||n==="srcset")||s==="source"&&n==="srcset"||!i.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(n,i){if(this.renderingMode==="data")return void(n.innerHTML=i);const s=new DOMParser().parseFromString(i,"text/html"),l=s.createDocumentFragment(),u=s.body.childNodes;for(;u.length>0;)l.appendChild(u[0]);const h=s.createTreeWalker(l,NodeFilter.SHOW_ELEMENT),p=[];let g;for(;g=h.nextNode();)p.push(g);for(const w of p){for(const C of w.getAttributeNames())this.setDomElementAttribute(w,C,w.getAttribute(C));const y=w.tagName.toLowerCase();this._shouldRenameElement(y)&&(rD(y),w.replaceWith(this._createReplacementDomElement(y,w)))}for(;n.firstChild;)n.firstChild.remove();n.append(l)}viewToDom(n,i={}){if(n.is("$text")){const s=this._processDataFromViewText(n);return this._domDocument.createTextNode(s)}{if(this.mapViewToDom(n))return this.mapViewToDom(n);let s;if(n.is("documentFragment"))s=this._domDocument.createDocumentFragment(),i.bind&&this.bindDocumentFragments(s,n);else{if(n.is("uiElement"))return s=n.name==="$comment"?this._domDocument.createComment(n.getCustomProperty("$rawContent")):n.render(this._domDocument,this),i.bind&&this.bindElements(s,n),s;this._shouldRenameElement(n.name)?(rD(n.name),s=this._createReplacementDomElement(n.name)):s=n.hasAttribute("xmlns")?this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(s,this),i.bind&&this.bindElements(s,n);for(const l of n.getAttributeKeys())this.setDomElementAttribute(s,l,n.getAttribute(l),n)}if(i.withChildren!==!1)for(const l of this.viewChildrenToDom(n,i))s.appendChild(l);return s}}setDomElementAttribute(n,i,s,l){const u=this.shouldRenderAttribute(i,s,n.tagName.toLowerCase())||l&&l.shouldRenderUnsafeAttribute(i);u||se("domconverter-unsafe-attribute-detected",{domElement:n,key:i,value:s}),function(h){try{at.document.createAttribute(h)}catch{return!1}return!0}(i)?(n.hasAttribute(i)&&!u?n.removeAttribute(i):n.hasAttribute(bb+i)&&u&&n.removeAttribute(bb+i),n.setAttribute(u?i:bb+i,s)):se("domconverter-invalid-attribute-detected",{domElement:n,key:i,value:s})}removeDomElementAttribute(n,i){i!=eD&&(n.removeAttribute(i),n.removeAttribute(bb+i))}*viewChildrenToDom(n,i={}){const s=n.getFillerOffset&&n.getFillerOffset();let l=0;for(const u of n.getChildren()){s===l&&(yield this._getBlockFiller());const h=u.is("element")&&!!u.getCustomProperty("dataPipeline:transparentRendering")&&!Mn(u.getAttributes());h&&this.renderingMode=="data"?yield*this.viewChildrenToDom(u,i):(h&&se("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:u}),yield this.viewToDom(u,i)),l++}s===l&&(yield this._getBlockFiller())}viewRangeToDom(n){const i=this.viewPositionToDom(n.start),s=this.viewPositionToDom(n.end),l=this._domDocument.createRange();return l.setStart(i.parent,i.offset),l.setEnd(s.parent,s.offset),l}viewPositionToDom(n){const i=n.parent;if(i.is("$text")){const s=this.findCorrespondingDomText(i);if(!s)return null;let l=n.offset;return Oi(s)&&(l+=zo),{parent:s,offset:l}}{let s,l,u;if(n.offset===0){if(s=this.mapViewToDom(i),!s)return null;u=s.childNodes[0]}else{const h=n.nodeBefore;if(l=h.is("$text")?this.findCorrespondingDomText(h):this.mapViewToDom(h),!l)return null;s=l.parentNode,u=l.nextSibling}return In(u)&&Oi(u)?{parent:u,offset:zo}:{parent:s,offset:l?Vd(l)+1:0}}}domToView(n,i={}){const s=[],l=this._domToView(n,i,s),u=l.next().value;return u?(l.next(),this._processDomInlineNodes(null,s,i),u.is("$text")&&u.data.length==0?null:u):null}*domChildrenToView(n,i={},s=[]){for(let l=0;l<n.childNodes.length;l++){const u=n.childNodes[l],h=this._domToView(u,i,s),p=h.next().value;p!==null&&(this._isBlockViewElement(p)&&this._processDomInlineNodes(n,s,i),yield p,h.next())}this._processDomInlineNodes(n,s,i)}domSelectionToView(n){if(n.rangeCount===1){let l=n.getRangeAt(0).startContainer;In(l)&&(l=l.parentNode);const u=this.fakeSelectionToView(l);if(u)return u}const i=this.isDomSelectionBackward(n),s=[];for(let l=0;l<n.rangeCount;l++){const u=n.getRangeAt(l),h=this.domRangeToView(u);h&&s.push(h)}return new Is(s,{backward:i})}domRangeToView(n){const i=this.domPositionToView(n.startContainer,n.startOffset),s=this.domPositionToView(n.endContainer,n.endOffset);return i&&s?new Xe(i,s):null}domPositionToView(n,i=0){if(this.isBlockFiller(n))return this.domPositionToView(n.parentNode,Vd(n));const s=this.mapDomToView(n);if(s&&(s.is("uiElement")||s.is("rawElement")))return Ee._createBefore(s);if(In(n)){if(qp(n))return this.domPositionToView(n.parentNode,Vd(n));const l=this.findCorrespondingViewText(n);let u=i;return l?(Oi(n)&&(u-=zo,u=u<0?0:u),new Ee(l,u)):null}if(i===0){const l=this.mapDomToView(n);if(l)return new Ee(l,0)}else{const l=n.childNodes[i-1];if(In(l)&&qp(l)||l&&this.isBlockFiller(l))return this.domPositionToView(l.parentNode,Vd(l));const u=In(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(u&&u.parent)return new Ee(u.parent,u.index+1)}return null}mapDomToView(n){return this.getHostViewElement(n)||this._domToViewMapping.get(n)}findCorrespondingViewText(n){if(qp(n))return null;const i=this.getHostViewElement(n);if(i)return i;const s=n.previousSibling;if(s){if(!this.isElement(s))return null;const l=this.mapDomToView(s);if(l){const u=l.nextSibling;return u instanceof Q?u:null}}else{const l=this.mapDomToView(n.parentNode);if(l){const u=l.getChild(0);return u instanceof Q?u:null}}return null}mapViewToDom(n){return this._viewToDomMapping.get(n)}findCorrespondingDomText(n){const i=n.previousSibling;return i&&this.mapViewToDom(i)?this.mapViewToDom(i).nextSibling:!i&&n.parent&&this.mapViewToDom(n.parent)?this.mapViewToDom(n.parent).childNodes[0]:null}focus(n){const i=this.mapViewToDom(n);if(i&&i.ownerDocument.activeElement!==i){const{scrollX:s,scrollY:l}=at.window,u=[];tD(i,h=>{const{scrollLeft:p,scrollTop:g}=h;u.push([p,g])}),i.focus(),tD(i,h=>{const[p,g]=u.shift();h.scrollLeft=p,h.scrollTop=g}),at.window.scrollTo(s,l)}}_clearDomSelection(){const n=this.mapViewToDom(this.document.selection.editableElement);if(!n)return;const i=n.ownerDocument.defaultView.getSelection(),s=this.domSelectionToView(i);s&&s.rangeCount>0&&i.removeAllRanges()}isElement(n){return n&&n.nodeType==Node.ELEMENT_NODE}isDocumentFragment(n){return n&&n.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(n){return this.blockFillerMode=="br"?n.isEqualNode(s8):!(n.tagName!=="BR"||!nD(n,this.blockElements)||n.parentNode.childNodes.length!==1)||n.isEqualNode(c8)||function(i,s){return i.isEqualNode(a8)&&nD(i,s)&&i.parentNode.childNodes.length===1}(n,this.blockElements)}isDomSelectionBackward(n){if(n.isCollapsed)return!1;const i=this._domDocument.createRange();try{i.setStart(n.anchorNode,n.anchorOffset),i.setEnd(n.focusNode,n.focusOffset)}catch{return!1}const s=i.collapsed;return i.detach(),s}getHostViewElement(n){const i=function(s){const l=[];let u=s;for(;u&&u.nodeType!=Node.DOCUMENT_NODE;)l.unshift(u),u=u.parentNode;return l}(n);for(i.pop();i.length;){const s=i.pop(),l=this._domToViewMapping.get(s);if(l&&(l.is("uiElement")||l.is("rawElement")))return l}return null}isDomSelectionCorrect(n){return this._isDomSelectionPositionCorrect(n.anchorNode,n.anchorOffset)&&this._isDomSelectionPositionCorrect(n.focusNode,n.focusOffset)}registerRawContentMatcher(n){this._rawContentElementMatcher.add(n)}registerInlineObjectMatcher(n){this._inlineObjectElementMatcher.add(n)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return GT(this._domDocument);case"markedNbsp":return YT(this._domDocument);case"br":return KT(this._domDocument)}}_isDomSelectionPositionCorrect(n,i){if(In(n)&&Oi(n)&&i<zo||this.isElement(n)&&Oi(n.childNodes[i]))return!1;const s=this.mapDomToView(n);return!s||!s.is("uiElement")&&!s.is("rawElement")}*_domToView(n,i,s){if(this.isBlockFiller(n))return null;const l=this.getHostViewElement(n);if(l)return l;if(Ul(n)&&i.skipComments)return null;if(In(n)){if(qp(n))return null;{const u=n.data;if(u==="")return null;const h=new Q(this.document,u);return s.push(h),h}}{let u=this.mapDomToView(n);if(u)return this._isInlineObjectElement(u)&&s.push(u),u;if(this.isDocumentFragment(n))u=new Jl(this.document),i.bind&&this.bindDocumentFragments(n,u);else{u=this._createViewElement(n,i),i.bind&&this.bindElements(n,u);const p=n.attributes;if(p)for(let g=p.length,w=0;w<g;w++)u._setAttribute(p[w].name,p[w].value);if(this._isViewElementWithRawContent(u,i))return u._setCustomProperty("$rawContent",n.innerHTML),this._isBlockViewElement(u)||s.push(u),u;if(Ul(n))return u._setCustomProperty("$rawContent",n.data),u}yield u;const h=[];if(i.withChildren!==!1)for(const p of this.domChildrenToView(n,i,h))u._appendChild(p);if(this._isInlineObjectElement(u))s.push(u);else for(const p of h)s.push(p)}}_processDomInlineNodes(n,i,s){if(!i.length||n&&!this.isDocumentFragment(n)&&!this._isBlockDomElement(n))return;let l=!1;for(let u=0;u<i.length;u++){const h=i[u];if(!h.is("$text")){l=!1;continue}let p,g=!1;if(l8(h,this.preElements))p=QT(h.data);else{p=h.data.replace(/[ \n\t\r]{1,}/g," "),g=/[^\S\u00A0]/.test(p.charAt(p.length-1));const w=u>0?i[u-1]:null,y=u+1<i.length?i[u+1]:null,C=!w||w.is("element")&&w.name=="br"||l,S=!y&&!Oi(h.data);s.withChildren!==!1&&(C&&(p=p.replace(/^ /,"")),S&&(p=p.replace(/ $/,""))),p=QT(p),p=p.replace(/ \u00A0/g,"  ");const N=y&&y.is("element")&&y.name!="br",P=y&&y.is("$text")&&y.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(p)||!y||N||P)&&(p=p.replace(/\u00A0$/," ")),(C||w&&w.is("element")&&w.name!="br")&&(p=p.replace(/^\u00A0/," "))}p.length==0&&h.parent?(h._remove(),i.splice(u,1),u--):(h._data=p,l=g)}i.length=0}_processDataFromViewText(n){let i=n.data;if(n.getAncestors().some(s=>this.preElements.includes(s.name)))return i;if(i.charAt(0)==" "){const s=this._getTouchingInlineViewNode(n,!1);!(s&&s.is("$textProxy")&&this._nodeEndsWithSpace(s))&&s||(i=" "+i.substr(1))}if(i.charAt(i.length-1)==" "){const s=this._getTouchingInlineViewNode(n,!0),l=s&&s.is("$textProxy")&&s.data.charAt(0)==" ";i.charAt(i.length-2)!=" "&&s&&!l||(i=i.substr(0,i.length-1)+" ")}return i.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(n){if(n.getAncestors().some(s=>this.preElements.includes(s.name)))return!1;const i=this._processDataFromViewText(n);return i.charAt(i.length-1)==" "}_getTouchingInlineViewNode(n,i){const s=new Ql({startPosition:i?Ee._createAfter(n):Ee._createBefore(n),direction:i?"forward":"backward"});for(const l of s){if(l.item.is("element","br"))return null;if(this._isInlineObjectElement(l.item))return l.item;if(l.item.is("containerElement"))return null;if(l.item.is("$textProxy"))return l.item}return null}_isBlockDomElement(n){return this.isElement(n)&&this.blockElements.includes(n.tagName.toLowerCase())}_isBlockViewElement(n){return n.is("element")&&this.blockElements.includes(n.name)}_isInlineObjectElement(n){return!!n.is("element")&&(n.name=="br"||this.inlineObjectElements.includes(n.name)||!!this._inlineObjectElementMatcher.match(n))}_createViewElement(n,i){if(Ul(n))return new kb(this.document,"$comment");const s=i.keepOriginalCase?n.tagName:n.tagName.toLowerCase();return new Pi(this.document,s)}_isViewElementWithRawContent(n,i){return i.withChildren!==!1&&n.is("element")&&!!this._rawContentElementMatcher.match(n)}_shouldRenameElement(n){const i=n.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(i)}_createReplacementDomElement(n,i){const s=this._domDocument.createElement("span");if(s.setAttribute(eD,n),i){for(;i.firstChild;)s.appendChild(i.firstChild);for(const l of i.getAttributeNames())s.setAttribute(l,i.getAttribute(l))}return s}}function l8(c,n){return c.getAncestors().some(i=>i.is("element")&&n.includes(i.name))}function tD(c,n){let i=c;for(;i;)n(i),i=i.parentElement}function nD(c,n){const i=c.parentNode;return!!i&&!!i.tagName&&n.includes(i.tagName.toLowerCase())}function rD(c){c==="script"&&se("domconverter-unsafe-script-element-detected"),c==="style"&&se("domconverter-unsafe-style-element-detected")}class Ms extends Ss(){constructor(n){super(),this._isEnabled=!1,this.view=n,this.document=n.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(n){return n&&n.nodeType===3&&(n=n.parentNode),!(!n||n.nodeType!==1)&&n.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const iD=RT(function(c,n){Po(n,fr(n),c)});class th{constructor(n,i,s){this.view=n,this.document=n.document,this.domEvent=i,this.domTarget=i.target,iD(this,s)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class _c extends Ms{constructor(){super(...arguments),this.useCapture=!1}observe(n){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(n,i,(s,l)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(l.target)&&this.onDomEvent(l)},{useCapture:this.useCapture})})}stopObserving(n){this.stopListening(n)}fire(n,i,s){this.isEnabled&&this.document.fire(n,new th(this.view,i,s))}}class u8 extends _c{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(n){const i={keyCode:n.keyCode,altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey,get keystroke(){return bc(this)}};this.fire(n.type,n,i)}}const U_=function(){return Ye.Date.now()};var d8=/\s/;const h8=function(c){for(var n=c.length;n--&&d8.test(c.charAt(n)););return n};var f8=/^\s+/;const p8=function(c){return c&&c.slice(0,h8(c)+1).replace(f8,"")};var g8=/^[-+]0x[0-9a-f]+$/i,m8=/^0b[01]+$/i,k8=/^0o[0-7]+$/i,b8=parseInt;const oD=function(c){if(typeof c=="number")return c;if(Gn(c))return NaN;if(Se(c)){var n=typeof c.valueOf=="function"?c.valueOf():c;c=Se(n)?n+"":n}if(typeof c!="string")return c===0?c:+c;c=p8(c);var i=m8.test(c);return i||k8.test(c)?b8(c.slice(2),i?2:8):g8.test(c)?NaN:+c};var w8=Math.max,v8=Math.min;const Gp=function(c,n,i){var s,l,u,h,p,g,w=0,y=!1,C=!1,S=!0;if(typeof c!="function")throw new TypeError("Expected a function");function N(te){var fe=s,Te=l;return s=l=void 0,w=te,h=c.apply(Te,fe)}function P(te){var fe=te-g;return g===void 0||fe>=n||fe<0||C&&te-w>=u}function j(){var te=U_();if(P(te))return H(te);p=setTimeout(j,function(fe){var Te=n-(fe-g);return C?v8(Te,u-(fe-w)):Te}(te))}function H(te){return p=void 0,S&&s?N(te):(s=l=void 0,h)}function q(){var te=U_(),fe=P(te);if(s=arguments,l=this,g=te,fe){if(p===void 0)return function(Te){return w=Te,p=setTimeout(j,n),y?N(Te):h}(g);if(C)return clearTimeout(p),p=setTimeout(j,n),N(g)}return p===void 0&&(p=setTimeout(j,n)),h}return n=oD(n)||0,Se(i)&&(y=!!i.leading,u=(C="maxWait"in i)?w8(oD(i.maxWait)||0,n):u,S="trailing"in i?!!i.trailing:S),q.cancel=function(){p!==void 0&&clearTimeout(p),w=0,s=g=l=p=void 0},q.flush=function(){return p===void 0?h:H(U_())},q};class y8 extends Ms{constructor(n){super(n),this._fireSelectionChangeDoneDebounced=Gp(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const n=this.document;n.on("arrowKey",(i,s)=>{n.selection.isFake&&this.isEnabled&&s.preventDefault()},{context:"$capture"}),n.on("arrowKey",(i,s)=>{n.selection.isFake&&this.isEnabled&&this._handleSelectionMove(s.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(n){const i=this.document.selection,s=new Is(i.getRanges(),{backward:i.isBackward,fake:!1});n!=bt.arrowleft&&n!=bt.arrowup||s.setTo(s.getFirstPosition()),n!=bt.arrowright&&n!=bt.arrowdown||s.setTo(s.getLastPosition());const l={oldSelection:i,newSelection:s,domSelection:null};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}const _8=function(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this},A8=function(c){return this.__data__.has(c)};function vb(c){var n=-1,i=c==null?0:c.length;for(this.__data__=new rc;++n<i;)this.add(c[n])}vb.prototype.add=vb.prototype.push=_8,vb.prototype.has=A8;const C8=vb,x8=function(c,n){for(var i=-1,s=c==null?0:c.length;++i<s;)if(n(c[i],i,c))return!0;return!1},E8=function(c,n){return c.has(n)},sD=function(c,n,i,s,l,u){var h=1&i,p=c.length,g=n.length;if(p!=g&&!(h&&g>p))return!1;var w=u.get(c),y=u.get(n);if(w&&y)return w==n&&y==c;var C=-1,S=!0,N=2&i?new C8:void 0;for(u.set(c,n),u.set(n,c);++C<p;){var P=c[C],j=n[C];if(s)var H=h?s(j,P,C,n,c,u):s(P,j,C,c,n,u);if(H!==void 0){if(H)continue;S=!1;break}if(N){if(!x8(n,function(q,te){if(!E8(N,te)&&(P===q||l(P,q,i,s,u)))return N.push(te)})){S=!1;break}}else if(P!==j&&!l(P,j,i,s,u)){S=!1;break}}return u.delete(c),u.delete(n),S},S8=function(c){var n=-1,i=Array(c.size);return c.forEach(function(s,l){i[++n]=[l,s]}),i},T8=function(c){var n=-1,i=Array(c.size);return c.forEach(function(s){i[++n]=s}),i};var aD=et?et.prototype:void 0,H_=aD?aD.valueOf:void 0;const D8=function(c,n,i,s,l,u,h){switch(i){case"[object DataView]":if(c.byteLength!=n.byteLength||c.byteOffset!=n.byteOffset)return!1;c=c.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(c.byteLength!=n.byteLength||!u(new Ii(c),new Ii(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ti(+c,+n);case"[object Error]":return c.name==n.name&&c.message==n.message;case"[object RegExp]":case"[object String]":return c==n+"";case"[object Map]":var p=S8;case"[object Set]":var g=1&s;if(p||(p=T8),c.size!=n.size&&!g)return!1;var w=h.get(c);if(w)return w==n;s|=2,h.set(c,n);var y=sD(p(c),p(n),s,l,u,h);return h.delete(c),y;case"[object Symbol]":if(H_)return H_.call(c)==H_.call(n)}return!1};var I8=Object.prototype.hasOwnProperty;const M8=function(c,n,i,s,l,u){var h=1&i,p=hc(c),g=p.length;if(g!=hc(n).length&&!h)return!1;for(var w=g;w--;){var y=p[w];if(!(h?y in n:I8.call(n,y)))return!1}var C=u.get(c),S=u.get(n);if(C&&S)return C==n&&S==c;var N=!0;u.set(c,n),u.set(n,c);for(var P=h;++w<g;){var j=c[y=p[w]],H=n[y];if(s)var q=h?s(H,j,y,n,c,u):s(j,H,y,c,n,u);if(!(q===void 0?j===H||l(j,H,i,s,u):q)){N=!1;break}P||(P=y=="constructor")}if(N&&!P){var te=c.constructor,fe=n.constructor;te==fe||!("constructor"in c)||!("constructor"in n)||typeof te=="function"&&te instanceof te&&typeof fe=="function"&&fe instanceof fe||(N=!1)}return u.delete(c),u.delete(n),N};var cD="[object Arguments]",lD="[object Array]",yb="[object Object]",uD=Object.prototype.hasOwnProperty;const N8=function(c,n,i,s,l,u){var h=sn(c),p=sn(n),g=h?lD:ys(c),w=p?lD:ys(n),y=(g=g==cD?yb:g)==yb,C=(w=w==cD?yb:w)==yb,S=g==w;if(S&&Oo(c)){if(!Oo(n))return!1;h=!0,y=!1}if(S&&!y)return u||(u=new No),h||ca(c)?sD(c,n,i,s,l,u):D8(c,n,g,i,s,l,u);if(!(1&i)){var N=y&&uD.call(c,"__wrapped__"),P=C&&uD.call(n,"__wrapped__");if(N||P){var j=N?c.value():c,H=P?n.value():n;return u||(u=new No),l(j,H,i,s,u)}}return!!S&&(u||(u=new No),M8(c,n,i,s,l,u))},dD=function c(n,i,s,l,u){return n===i||(n==null||i==null||!An(n)&&!An(i)?n!=n&&i!=i:N8(n,i,s,l,c,u))},P8=function(c,n,i){var s=(i=typeof i=="function"?i:void 0)?i(c,n):void 0;return s===void 0?dD(c,n,void 0,i):!!s};class hD extends Ms{constructor(n){super(n),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=n.domConverter,this.renderer=n._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(n){this._domElements.add(n),this.isEnabled&&this._mutationObserver.observe(n,this._config)}stopObserving(n){if(this._domElements.delete(n),this.isEnabled){this._mutationObserver.disconnect();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}}enable(){super.enable();for(const n of this._domElements)this._mutationObserver.observe(n,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(n){if(n.length===0)return;const i=this.domConverter,s=new Set,l=new Set;for(const h of n){const p=i.mapDomToView(h.target);p&&(p.is("uiElement")||p.is("rawElement")||h.type!=="childList"||this._isBogusBrMutation(h)||l.add(p))}for(const h of n){const p=i.mapDomToView(h.target);if((!p||!p.is("uiElement")&&!p.is("rawElement"))&&h.type==="characterData"){const g=i.findCorrespondingViewText(h.target);g&&!l.has(g.parent)?s.add(g):!g&&Oi(h.target)&&l.add(i.mapDomToView(h.target.parentNode))}}let u=!1;for(const h of s)u=!0,this.renderer.markToSync("text",h);for(const h of l){const p=i.mapViewToDom(h),g=Array.from(h.getChildren()),w=Array.from(i.domChildrenToView(p,{withChildren:!1}));P8(g,w,O8)||(u=!0,this.renderer.markToSync("children",h))}u&&this.view.forceRender()}_isBogusBrMutation(n){let i=null;return n.nextSibling===null&&n.removedNodes.length===0&&n.addedNodes.length==1&&(i=this.domConverter.domToView(n.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}function O8(c,n){if(!Array.isArray(c))return c===n||!(!c.is("$text")||!n.is("$text"))&&c.data===n.data}class _b extends _c{constructor(n){super(n),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const i=this.document;i.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),n.change(()=>{})},50)}),i.on("blur",(s,l)=>{const u=i.selection.editableElement;u!==null&&u!==l.target||(i.isFocused=!1,this._isFocusChanging=!1,n.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(n){this.fire(n.type,n)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class R8 extends Ms{constructor(n){super(n),this.mutationObserver=n.getObserver(hD),this.focusObserver=n.getObserver(_b),this.selection=this.document.selection,this.domConverter=n.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Gp(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Gp(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(n){const i=n.ownerDocument,s=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(n,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(n,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(n,"keyup",s,{priority:"highest",useCapture:!0}),this._documents.has(i)||(this.listenTo(i,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",(l,u)=>{this.document.isComposing&&!x.isAndroid||(this._handleSelectionChange(u,i),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(i))}stopObserving(n){this.stopListening(n)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(n,i){if(!this.isEnabled)return;const s=i.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(s.anchorNode))return;this.mutationObserver.flush();const l=this.domConverter.domSelectionToView(s);if(l.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(l)||!this.domConverter.isDomSelectionCorrect(s))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(l))this.view.forceRender();else{const u={oldSelection:this.selection,newSelection:l,domSelection:s};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class L8 extends _c{constructor(n){super(n),this.domEventType=["compositionstart","compositionupdate","compositionend"];const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0},{priority:"low"}),i.on("compositionend",()=>{i.isComposing=!1},{priority:"low"})}onDomEvent(n){this.fire(n.type,n,{data:n.data})}}class fD{constructor(n,i={}){this._files=i.cacheFiles?pD(n):null,this._native=n}get files(){return this._files||(this._files=pD(this._native)),this._files}get types(){return this._native.types}getData(n){return this._native.getData(n)}setData(n,i){this._native.setData(n,i)}set effectAllowed(n){this._native.effectAllowed=n}get effectAllowed(){return this._native.effectAllowed}set dropEffect(n){this._native.dropEffect=n}get dropEffect(){return this._native.dropEffect}setDragImage(n,i,s){this._native.setDragImage(n,i,s)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function pD(c){const n=Array.from(c.files||[]),i=Array.from(c.items||[]);return n.length?n:i.filter(s=>s.kind==="file").map(s=>s.getAsFile())}class B8 extends _c{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(n){const i=n.getTargetRanges(),s=this.view,l=s.document;let u=null,h=null,p=[];if(n.dataTransfer&&(u=new fD(n.dataTransfer)),n.data!==null?h=n.data:u&&(h=u.getData("text/plain")),l.selection.isFake)p=Array.from(l.selection.getRanges());else if(i.length)p=i.map(g=>{const w=s.domConverter.domPositionToView(g.startContainer,g.startOffset),y=s.domConverter.domPositionToView(g.endContainer,g.endOffset);return w?s.createRange(w,y):y?s.createRange(y):void 0}).filter(g=>!!g);else if(x.isAndroid){const g=n.target.ownerDocument.defaultView.getSelection();p=Array.from(s.domConverter.domSelectionToView(g).getRanges())}if(x.isAndroid&&n.inputType=="insertCompositionText"&&h&&h.endsWith(`
`))this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:[s.createRange(p[0].end)]});else if(n.inputType=="insertText"&&h&&h.includes(`
`)){const g=h.split(/\n{1,2}/g);let w=p;for(let y=0;y<g.length;y++){const C=g[y];C!=""&&(this.fire(n.type,n,{data:C,dataTransfer:u,targetRanges:w,inputType:n.inputType,isComposing:n.isComposing}),w=[l.selection.getFirstRange()]),y+1<g.length&&(this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:w}),w=[l.selection.getFirstRange()])}}else this.fire(n.type,n,{data:h,dataTransfer:u,targetRanges:p,inputType:n.inputType,isComposing:n.isComposing})}}class j8 extends Ms{constructor(n){super(n),this.document.on("keydown",(i,s)=>{if(this.isEnabled&&((l=s.keyCode)==bt.arrowright||l==bt.arrowleft||l==bt.arrowup||l==bt.arrowdown)){const u=new Xd(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(u,s),u.stop.called&&i.stop()}var l})}observe(){}stopObserving(){}}class z8 extends Ms{constructor(n){super(n);const i=this.document;i.on("keydown",(s,l)=>{if(!this.isEnabled||l.keyCode!=bt.tab||l.ctrlKey)return;const u=new Xd(i,"tab",i.selection.getFirstRange());i.fire(u,l),u.stop.called&&s.stop()})}observe(){}stopObserving(){}}const Ac=function(c){return Wn(c,5)};class F8 extends ut(){constructor(n){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new mb(n),this.domConverter=new wb(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new n8(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new VT(this.document),this.addObserver(hD),this.addObserver(_b),this.addObserver(R8),this.addObserver(u8),this.addObserver(y8),this.addObserver(L8),this.addObserver(j8),this.addObserver(B8),this.addObserver(z8),this.document.on("arrowKey",e8,{priority:"low"}),K$(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),x.isiOS&&this.listenTo(this.document,"blur",(i,s)=>{this.domConverter.mapDomToView(s.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(n,i="main"){const s=this.document.getRoot(i);s._name=n.tagName.toLowerCase();const l={};for(const{name:h,value:p}of Array.from(n.attributes))l[h]=p,h==="class"?this._writer.addClass(p.split(" "),s):this._writer.setAttribute(h,p,s);this._initialDomRootAttributes.set(n,l);const u=()=>{this._writer.setAttribute("contenteditable",(!s.isReadOnly).toString(),s),s.isReadOnly?this._writer.addClass("ck-read-only",s):this._writer.removeClass("ck-read-only",s)};u(),this.domRoots.set(i,n),this.domConverter.bindElements(n,s),this._renderer.markToSync("children",s),this._renderer.markToSync("attributes",s),this._renderer.domDocuments.add(n.ownerDocument),s.on("change:children",(h,p)=>this._renderer.markToSync("children",p)),s.on("change:attributes",(h,p)=>this._renderer.markToSync("attributes",p)),s.on("change:text",(h,p)=>this._renderer.markToSync("text",p)),s.on("change:isReadOnly",()=>this.change(u)),s.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const h of this._observers.values())h.observe(n,i)}detachDomRoot(n){const i=this.domRoots.get(n);Array.from(i.attributes).forEach(({name:l})=>i.removeAttribute(l));const s=this._initialDomRootAttributes.get(i);for(const l in s)i.setAttribute(l,s[l]);this.domRoots.delete(n),this.domConverter.unbindDomElement(i);for(const l of this._observers.values())l.stopObserving(i)}getDomRoot(n="main"){return this.domRoots.get(n)}addObserver(n){let i=this._observers.get(n);if(i)return i;i=new n(this),this._observers.set(n,i);for(const[s,l]of this.domRoots)i.observe(l,s);return i.enable(),i}getObserver(n){return this._observers.get(n)}disableObservers(){for(const n of this._observers.values())n.disable()}enableObservers(){for(const n of this._observers.values())n.enable()}scrollToTheSelection({alignToTop:n,forceScroll:i,viewportOffset:s=20,ancestorOffset:l=20}={}){const u=this.document.selection.getFirstRange();if(!u)return;const h=Ac({alignToTop:n,forceScroll:i,viewportOffset:s,ancestorOffset:l});typeof s=="number"&&(s={top:s,bottom:s,left:s,right:s});const p={target:this.domConverter.viewRangeToDom(u),viewportOffset:s,ancestorOffset:l,alignToTop:n,forceScroll:i};this.fire("scrollToTheSelection",p,h),function({target:g,viewportOffset:w=0,ancestorOffset:y=0,alignToTop:C,forceScroll:S}){const N=Wd(g);let P=N,j=null;for(w=function(H){return typeof H=="number"?{top:H,bottom:H,left:H,right:H}:H}(w);P;){let H;H=Hk(P==N?g:j),Hd({parent:H,getRect:()=>Wk(g,P),alignToTop:C,ancestorOffset:y,forceScroll:S});const q=Wk(g,P);if(Uk({window:P,rect:q,viewportOffset:w,alignToTop:C,forceScroll:S}),P.parent!=P){if(j=P.frameElement,P=P.parent,!j)return}else P=null}}(p)}focus(){if(!this.document.isFocused){const n=this.document.selection.editableElement;n&&(this.domConverter.focus(n),this.forceRender())}}change(n){if(this.isRenderingInProgress||this._postFixersInProgress)throw new V("cannot-change-view-tree",this);try{if(this._ongoingChange)return n(this._writer);this._ongoingChange=!0;const i=n(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){V.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(_b).flush(),this.change(()=>{})}destroy(){for(const n of this._observers.values())n.destroy();this.document.destroy(),this.stopListening()}createPositionAt(n,i){return Ee._createAt(n,i)}createPositionAfter(n){return Ee._createAfter(n)}createPositionBefore(n){return Ee._createBefore(n)}createRange(n,i){return new Xe(n,i)}createRangeOn(n){return Xe._createOn(n)}createRangeIn(n){return Xe._createIn(n)}createSelection(...n){return new Is(...n)}_disableRendering(n){this._renderingDisabled=n,n==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Cc{is(){throw new Error("is() method is abstract")}}class Xl extends Cc{constructor(n){super(),this.parent=null,this._attrs=uo(n)}get document(){return null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))===null)throw new V("model-node-not-found-in-parent",this);return n}get startOffset(){let n;if(!this.parent)return null;if((n=this.parent.getChildStartOffset(this))===null)throw new V("model-node-not-found-in-parent",this);return n}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const n=[];let i=this;for(;i.parent;)n.unshift(i.startOffset),i=i.parent;return n}getAncestors(n={}){const i=[];let s=n.includeSelf?this:this.parent;for(;s;)i[n.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(n,i={}){const s=this.getAncestors(i),l=n.getAncestors(i);let u=0;for(;s[u]==l[u]&&s[u];)u++;return u===0?null:s[u-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const i=this.getPath(),s=n.getPath(),l=Ae(i,s);switch(l){case"prefix":return!0;case"extension":return!1;default:return i[l]<s[l]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}hasAttribute(n){return this._attrs.has(n)}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const n={};return this._attrs.size&&(n.attributes=Array.from(this._attrs).reduce((i,s)=>(i[s[0]]=s[1],i),{})),n}_clone(n){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(n,i){this._attrs.set(n,i)}_setAttributesTo(n){this._attrs=uo(n)}_removeAttribute(n){return this._attrs.delete(n)}_clearAttributes(){this._attrs.clear()}}Xl.prototype.is=function(c){return c==="node"||c==="model:node"};class Yp{constructor(n){this._nodes=[],n&&this._insertNodes(0,n)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((n,i)=>n+i.offsetSize,0)}getNode(n){return this._nodes[n]||null}getNodeIndex(n){const i=this._nodes.indexOf(n);return i==-1?null:i}getNodeStartOffset(n){const i=this.getNodeIndex(n);return i===null?null:this._nodes.slice(0,i).reduce((s,l)=>s+l.offsetSize,0)}indexToOffset(n){if(n==this._nodes.length)return this.maxOffset;const i=this._nodes[n];if(!i)throw new V("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(i)}offsetToIndex(n){let i=0;for(const s of this._nodes){if(n>=i&&n<i+s.offsetSize)return this.getNodeIndex(s);i+=s.offsetSize}if(i!=n)throw new V("model-nodelist-offset-out-of-bounds",this,{offset:n,nodeList:this});return this.length}_insertNodes(n,i){for(const s of i)if(!(s instanceof Xl))throw new V("model-nodelist-insertnodes-not-node",this);this._nodes=function(s,l,u,h){if(Math.max(l.length,s.length)>1e4)return s.slice(0,u).concat(l).concat(s.slice(u+h,s.length));{const p=Array.from(s);return p.splice(u,h,...l),p}}(this._nodes,Array.from(i),n,0)}_removeNodes(n,i=1){return this._nodes.splice(n,i)}toJSON(){return this._nodes.map(n=>n.toJSON())}}class nn extends Xl{constructor(n,i){super(i),this._data=n||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const n=super.toJSON();return n.data=this.data,n}_clone(){return new nn(this.data,this.getAttributes())}static fromJSON(n){return new nn(n.data,n.attributes)}}nn.prototype.is=function(c){return c==="$text"||c==="model:$text"||c==="text"||c==="model:text"||c==="node"||c==="model:node"};class Fo extends Cc{constructor(n,i,s){if(super(),this.textNode=n,i<0||i>n.offsetSize)throw new V("model-textproxy-wrong-offsetintext",this);if(s<0||i+s>n.offsetSize)throw new V("model-textproxy-wrong-length",this);this.data=n.data.substring(i,i+s),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const n=this.textNode.getPath();return n.length>0&&(n[n.length-1]+=this.offsetInText),n}getAncestors(n={}){const i=[];let s=n.includeSelf?this:this.parent;for(;s;)i[n.parentFirst?"push":"unshift"](s),s=s.parent;return i}hasAttribute(n){return this.textNode.hasAttribute(n)}getAttribute(n){return this.textNode.getAttribute(n)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Fo.prototype.is=function(c){return c==="$textProxy"||c==="model:$textProxy"||c==="textProxy"||c==="model:textProxy"};class Yt extends Xl{constructor(n,i,s){super(i),this._children=new Yp,this.name=n,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}offsetToIndex(n){return this._children.offsetToIndex(n)}getNodeByPath(n){let i=this;for(const s of n)i=i.getChild(i.offsetToIndex(s));return i}findAncestor(n,i={}){let s=i.includeSelf?this:this.parent;for(;s;){if(s.name===n)return s;s=s.parent}return null}toJSON(){const n=super.toJSON();if(n.name=this.name,this._children.length>0){n.children=[];for(const i of this._children)n.children.push(i.toJSON())}return n}_clone(n=!1){const i=n?Array.from(this._children).map(s=>s._clone(!0)):void 0;return new Yt(this.name,this.getAttributes(),i)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,i){const s=function(l){return typeof l=="string"?[new nn(l)]:(Ie(l)||(l=[l]),Array.from(l).map(u=>typeof u=="string"?new nn(u):u instanceof Fo?new nn(u.data,u.getAttributes()):u))}(i);for(const l of s)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(n,s)}_removeChildren(n,i=1){const s=this._children._removeNodes(n,i);for(const l of s)l.parent=null;return s}static fromJSON(n){let i;if(n.children){i=[];for(const s of n.children)s.name?i.push(Yt.fromJSON(s)):i.push(nn.fromJSON(s))}return new Yt(n.name,n.attributes,i)}}Yt.prototype.is=function(c,n){return n?n===this.name&&(c==="element"||c==="model:element"):c==="element"||c==="model:element"||c==="node"||c==="model:node"};class Ns{constructor(n){if(!n||!n.boundaries&&!n.startPosition)throw new V("model-tree-walker-no-start-position",null);const i=n.direction||"forward";if(i!="forward"&&i!="backward")throw new V("model-tree-walker-unknown-direction",n,{direction:i});this.direction=i,this.boundaries=n.boundaries||null,n.startPosition?this._position=n.startPosition.clone():this._position=ke._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let i,s,l,u;do l=this.position,u=this._visitedParent,{done:i,value:s}=this.next();while(!i&&n(s));i||(this._position=l,this._visitedParent=u)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const n=this.position,i=this.position.clone(),s=this._visitedParent;if(s.parent===null&&i.offset===s.maxOffset)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const l=Kp(i,s),u=l||gD(i,s,l);if(u instanceof Yt){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(i))return{done:!0,value:void 0};i.offset++}else i.path.push(0),this._visitedParent=u;return this._position=i,eu("elementStart",u,n,i,1)}if(u instanceof nn){let h;if(this.singleCharacters)h=1;else{let w=u.endOffset;this._boundaryEndParent==s&&this.boundaries.end.offset<w&&(w=this.boundaries.end.offset),h=w-i.offset}const p=i.offset-u.startOffset,g=new Fo(u,p,h);return i.offset+=h,this._position=i,eu("text",g,n,i,h)}return i.path.pop(),i.offset++,this._position=i,this._visitedParent=s.parent,this.ignoreElementEnd?this._next():eu("elementEnd",s,n,i)}_previous(){const n=this.position,i=this.position.clone(),s=this._visitedParent;if(s.parent===null&&i.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const l=i.parent,u=Kp(i,l),h=u||mD(i,l,u);if(h instanceof Yt)return i.offset--,this.shallow?(this._position=i,eu("elementStart",h,n,i,1)):(i.path.push(h.maxOffset),this._position=i,this._visitedParent=h,this.ignoreElementEnd?this._previous():eu("elementEnd",h,n,i));if(h instanceof nn){let p;if(this.singleCharacters)p=1;else{let y=h.startOffset;this._boundaryStartParent==s&&this.boundaries.start.offset>y&&(y=this.boundaries.start.offset),p=i.offset-y}const g=i.offset-h.startOffset,w=new Fo(h,g-p,p);return i.offset-=p,this._position=i,eu("text",w,n,i,p)}return i.path.pop(),this._position=i,this._visitedParent=s.parent,eu("elementStart",s,n,i,1)}}function eu(c,n,i,s,l){return{done:!1,value:{type:c,item:n,previousPosition:i,nextPosition:s,length:l}}}class ke extends Cc{constructor(n,i,s="toNone"){if(super(),!n.is("element")&&!n.is("documentFragment"))throw new V("model-position-root-invalid",n);if(!(i instanceof Array)||i.length===0)throw new V("model-position-path-incorrect-format",n,{path:i});n.is("rootElement")?i=i.slice():(i=[...n.getPath(),...i],n=n.root),this.root=n,this.path=i,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(n){this.path[this.path.length-1]=n}get parent(){let n=this.root;for(let i=0;i<this.path.length-1;i++)if(n=n.getChild(n.offsetToIndex(this.path[i])),!n)throw new V("model-position-path-incorrect",this,{position:this});if(n.is("$text"))throw new V("model-position-path-incorrect",this,{position:this});return n}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Kp(this,this.parent)}get nodeAfter(){const n=this.parent;return gD(this,n,Kp(this,n))}get nodeBefore(){const n=this.parent;return mD(this,n,Kp(this,n))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(n){if(this.root!=n.root)return"different";const i=Ae(this.path,n.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<n.path[i]?"before":"after"}}getLastMatchingPosition(n,i={}){i.startPosition=this;const s=new Ns(i);return s.skip(n),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const n=this.parent;return n.is("documentFragment")?[n]:n.getAncestors({includeSelf:!0})}findAncestor(n){const i=this.parent;return i.is("element")?i.findAncestor(n,{includeSelf:!0}):null}getCommonPath(n){if(this.root!=n.root)return[];const i=Ae(this.path,n.path),s=typeof i=="string"?Math.min(this.path.length,n.path.length):i;return this.path.slice(0,s)}getCommonAncestor(n){const i=this.getAncestors(),s=n.getAncestors();let l=0;for(;i[l]==s[l]&&i[l];)l++;return l===0?null:i[l-1]}getShiftedBy(n){const i=this.clone(),s=i.offset+n;return i.offset=s<0?0:s,i}isAfter(n){return this.compareWith(n)=="after"}isBefore(n){return this.compareWith(n)=="before"}isEqual(n){return this.compareWith(n)=="same"}isTouching(n){if(this.root!==n.root)return!1;const i=Math.min(this.path.length,n.path.length);for(let s=0;s<i;s++){const l=this.path[s]-n.path[s];if(l<-1||l>1)return!1;if(l===1)return kD(n,this,s);if(l===-1)return kD(this,n,s)}return this.path.length===n.path.length||(this.path.length>n.path.length?W_(this.path,i):W_(n.path,i))}hasSameParentAs(n){return this.root!==n.root?!1:Ae(this.getParentPath(),n.getParentPath())=="same"}getTransformedByOperation(n){let i;switch(n.type){case"insert":i=this._getTransformedByInsertOperation(n);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(n);break;case"split":i=this._getTransformedBySplitOperation(n);break;case"merge":i=this._getTransformedByMergeOperation(n);break;default:i=ke._createAt(this)}return i}_getTransformedByInsertOperation(n){return this._getTransformedByInsertion(n.position,n.howMany)}_getTransformedByMoveOperation(n){return this._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany)}_getTransformedBySplitOperation(n){const i=n.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(n.splitPosition,n.moveTargetPosition):n.graveyardPosition?this._getTransformedByMove(n.graveyardPosition,n.insertionPosition,1):this._getTransformedByInsertion(n.insertionPosition,1)}_getTransformedByMergeOperation(n){const i=n.movedRange;let s;return i.containsPosition(this)||i.start.isEqual(this)?(s=this._getCombined(n.sourcePosition,n.targetPosition),n.sourcePosition.isBefore(n.targetPosition)&&(s=s._getTransformedByDeletion(n.deletionPosition,1))):s=this.isEqual(n.deletionPosition)?ke._createAt(n.deletionPosition):this._getTransformedByMove(n.deletionPosition,n.graveyardPosition,1),s}_getTransformedByDeletion(n,i){const s=ke._createAt(this);if(this.root!=n.root)return s;if(Ae(n.getParentPath(),this.getParentPath())=="same"){if(n.offset<this.offset){if(n.offset+i>this.offset)return null;s.offset-=i}}else if(Ae(n.getParentPath(),this.getParentPath())=="prefix"){const l=n.path.length-1;if(n.offset<=this.path[l]){if(n.offset+i>this.path[l])return null;s.path[l]-=i}}return s}_getTransformedByInsertion(n,i){const s=ke._createAt(this);if(this.root!=n.root)return s;if(Ae(n.getParentPath(),this.getParentPath())=="same")(n.offset<this.offset||n.offset==this.offset&&this.stickiness!="toPrevious")&&(s.offset+=i);else if(Ae(n.getParentPath(),this.getParentPath())=="prefix"){const l=n.path.length-1;n.offset<=this.path[l]&&(s.path[l]+=i)}return s}_getTransformedByMove(n,i,s){if(i=i._getTransformedByDeletion(n,s),n.isEqual(i))return ke._createAt(this);const l=this._getTransformedByDeletion(n,s);return l===null||n.isEqual(this)&&this.stickiness=="toNext"||n.getShiftedBy(s).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(n,i):l._getTransformedByInsertion(i,s)}_getCombined(n,i){const s=n.path.length-1,l=ke._createAt(i);return l.stickiness=this.stickiness,l.offset=l.offset+this.path[s]-n.offset,l.path=[...l.path,...this.path.slice(s+1)],l}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(n,i,s="toNone"){if(n instanceof ke)return new ke(n.root,n.path,n.stickiness);{const l=n;if(i=="end")i=l.maxOffset;else{if(i=="before")return this._createBefore(l,s);if(i=="after")return this._createAfter(l,s);if(i!==0&&!i)throw new V("model-createpositionat-offset-required",[this,n])}if(!l.is("element")&&!l.is("documentFragment"))throw new V("model-position-parent-incorrect",[this,n]);const u=l.getPath();return u.push(i),new this(l.root,u,s)}}static _createAfter(n,i){if(!n.parent)throw new V("model-position-after-root",[this,n],{root:n});return this._createAt(n.parent,n.endOffset,i)}static _createBefore(n,i){if(!n.parent)throw new V("model-position-before-root",n,{root:n});return this._createAt(n.parent,n.startOffset,i)}static fromJSON(n,i){if(n.root==="$graveyard"){const s=new ke(i.graveyard,n.path);return s.stickiness=n.stickiness,s}if(!i.getRoot(n.root))throw new V("model-position-fromjson-no-root",i,{rootName:n.root});return new ke(i.getRoot(n.root),n.path,n.stickiness)}}function Kp(c,n){const i=n.getChild(n.offsetToIndex(c.offset));return i&&i.is("$text")&&i.startOffset<c.offset?i:null}function gD(c,n,i){return i!==null?null:n.getChild(n.offsetToIndex(c.offset))}function mD(c,n,i){return i!==null?null:n.getChild(n.offsetToIndex(c.offset)-1)}function kD(c,n,i){return i+1!==c.path.length&&!!W_(n.path,i+1)&&!!function(s,l){let u=s.parent,h=s.path.length-1,p=0;for(;h>=l;){if(s.path[h]+p!==u.maxOffset)return!1;p=1,h--,u=u.parent}return!0}(c,i+1)}function W_(c,n){for(;n<c.length;){if(c[n]!==0)return!1;n++}return!0}ke.prototype.is=function(c){return c==="position"||c==="model:position"};class le extends Cc{constructor(n,i){super(),this.start=ke._createAt(n),this.end=i?ke._createAt(i):ke._createAt(n),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Ns({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Ae(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,i=!1){n.isCollapsed&&(i=!1);const s=this.containsPosition(n.start)||i&&this.start.isEqual(n.start),l=this.containsPosition(n.end)||i&&this.end.isEqual(n.end);return s&&l}containsItem(n){const i=ke._createBefore(n);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(n){return this.start.isEqual(n.start)&&this.end.isEqual(n.end)}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}getDifference(n){const i=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&i.push(new le(this.start,n.start)),this.containsPosition(n.end)&&i.push(new le(n.end,this.end))):i.push(new le(this.start,this.end)),i}getIntersection(n){if(this.isIntersecting(n)){let i=this.start,s=this.end;return this.containsPosition(n.start)&&(i=n.start),this.containsPosition(n.end)&&(s=n.end),new le(i,s)}return null}getJoined(n,i=!1){let s=this.isIntersecting(n);if(s||(s=this.start.isBefore(n.start)?i?this.end.isTouching(n.start):this.end.isEqual(n.start):i?n.end.isTouching(this.start):n.end.isEqual(this.start)),!s)return null;let l=this.start,u=this.end;return n.start.isBefore(l)&&(l=n.start),n.end.isAfter(u)&&(u=n.end),new le(l,u)}getMinimalFlatRanges(){const n=[],i=this.start.getCommonPath(this.end).length,s=ke._createAt(this.start);let l=s.parent;for(;s.path.length>i+1;){const u=l.maxOffset-s.offset;u!==0&&n.push(new le(s,s.getShiftedBy(u))),s.path=s.path.slice(0,-1),s.offset++,l=l.parent}for(;s.path.length<=this.end.path.length;){const u=this.end.path[s.path.length-1],h=u-s.offset;h!==0&&n.push(new le(s,s.getShiftedBy(h))),s.offset=u,s.path.push(0)}return n}getWalker(n={}){return n.boundaries=this,new Ns(n)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const i=new Ns(n);for(const s of i)yield s.item}*getPositions(n={}){n.boundaries=this;const i=new Ns(n);yield i.position;for(const s of i)yield s.nextPosition}getTransformedByOperation(n){switch(n.type){case"insert":return this._getTransformedByInsertOperation(n);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(n);case"split":return[this._getTransformedBySplitOperation(n)];case"merge":return[this._getTransformedByMergeOperation(n)]}return[new le(this.start,this.end)]}getTransformedByOperations(n){const i=[new le(this.start,this.end)];for(const s of n)for(let l=0;l<i.length;l++){const u=i[l].getTransformedByOperation(s);i.splice(l,1,...u),l+=u.length-1}for(let s=0;s<i.length;s++){const l=i[s];for(let u=s+1;u<i.length;u++){const h=i[u];(l.containsRange(h)||h.containsRange(l)||l.isEqual(h))&&i.splice(u,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const n=this.start.nodeAfter,i=this.end.nodeBefore;return n&&n.is("element")&&n===i?n:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(n,i=!1){return this._getTransformedByInsertion(n.position,n.howMany,i)}_getTransformedByMoveOperation(n,i=!1){const s=n.sourcePosition,l=n.howMany,u=n.targetPosition;return this._getTransformedByMove(s,u,l,i)}_getTransformedBySplitOperation(n){const i=this.start._getTransformedBySplitOperation(n);let s=this.end._getTransformedBySplitOperation(n);return this.end.isEqual(n.insertionPosition)&&(s=this.end.getShiftedBy(1)),i.root!=s.root&&(s=this.end.getShiftedBy(-1)),new le(i,s)}_getTransformedByMergeOperation(n){if(this.start.isEqual(n.targetPosition)&&this.end.isEqual(n.deletionPosition))return new le(this.start);let i=this.start._getTransformedByMergeOperation(n),s=this.end._getTransformedByMergeOperation(n);return i.root!=s.root&&(s=this.end.getShiftedBy(-1)),i.isAfter(s)?(n.sourcePosition.isBefore(n.targetPosition)?(i=ke._createAt(s),i.offset=0):(n.deletionPosition.isEqual(i)||(s=n.deletionPosition),i=n.targetPosition),new le(i,s)):new le(i,s)}_getTransformedByInsertion(n,i,s=!1){if(s&&this.containsPosition(n))return[new le(this.start,n),new le(n.getShiftedBy(i),this.end._getTransformedByInsertion(n,i))];{const l=new le(this.start,this.end);return l.start=l.start._getTransformedByInsertion(n,i),l.end=l.end._getTransformedByInsertion(n,i),[l]}}_getTransformedByMove(n,i,s,l=!1){if(this.isCollapsed){const C=this.start._getTransformedByMove(n,i,s);return[new le(C)]}const u=le._createFromPositionAndShift(n,s),h=i._getTransformedByDeletion(n,s);if(this.containsPosition(i)&&!l&&(u.containsPosition(this.start)||u.containsPosition(this.end))){const C=this.start._getTransformedByMove(n,i,s),S=this.end._getTransformedByMove(n,i,s);return[new le(C,S)]}let p;const g=this.getDifference(u);let w=null;const y=this.getIntersection(u);if(g.length==1?w=new le(g[0].start._getTransformedByDeletion(n,s),g[0].end._getTransformedByDeletion(n,s)):g.length==2&&(w=new le(this.start,this.end._getTransformedByDeletion(n,s))),p=w?w._getTransformedByInsertion(h,s,y!==null||l):[],y){const C=new le(y.start._getCombined(u.start,h),y.end._getCombined(u.start,h));p.length==2?p.splice(1,0,C):p.push(C)}return p}_getTransformedByDeletion(n,i){let s=this.start._getTransformedByDeletion(n,i),l=this.end._getTransformedByDeletion(n,i);return s==null&&l==null?null:(s==null&&(s=n),l==null&&(l=n),new le(s,l))}static _createFromPositionAndShift(n,i){const s=n,l=n.getShiftedBy(i);return i>0?new this(s,l):new this(l,s)}static _createIn(n){return new this(ke._createAt(n,0),ke._createAt(n,n.maxOffset))}static _createOn(n){return this._createFromPositionAndShift(ke._createBefore(n),n.offsetSize)}static _createFromRanges(n){if(n.length===0)throw new V("range-create-from-ranges-empty-array",null);if(n.length==1)return n[0].clone();const i=n[0];n.sort((u,h)=>u.start.isAfter(h.start)?1:-1);const s=n.indexOf(i),l=new this(i.start,i.end);if(s>0)for(let u=s-1;n[u].end.isEqual(l.start);u++)l.start=ke._createAt(n[u].start);for(let u=s+1;u<n.length&&n[u].start.isEqual(l.end);u++)l.end=ke._createAt(n[u].end);return l}static fromJSON(n,i){return new this(ke.fromJSON(n.start,i),ke.fromJSON(n.end,i))}}le.prototype.is=function(c){return c==="range"||c==="model:range"};class bD extends we(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(n,i)=>{if(i.viewPosition)return;const s=this._modelToViewMapping.get(i.modelPosition.parent);if(!s)throw new V("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(s,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(n,i)=>{if(i.modelPosition)return;const s=this.findMappedViewAncestor(i.viewPosition),l=this._viewToModelMapping.get(s),u=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,s);i.modelPosition=ke._createAt(l,u)},{priority:"low"})}bindElements(n,i){this._modelToViewMapping.set(n,i),this._viewToModelMapping.set(i,n)}unbindViewElement(n,i={}){const s=this.toModelElement(n);if(this._elementToMarkerNames.has(n))for(const l of this._elementToMarkerNames.get(n))this._unboundMarkerNames.add(l);i.defer?this._deferredBindingRemovals.set(n,n.root):(this._viewToModelMapping.delete(n),this._modelToViewMapping.get(s)==n&&this._modelToViewMapping.delete(s))}unbindModelElement(n){const i=this.toViewElement(n);this._modelToViewMapping.delete(n),this._viewToModelMapping.get(i)==n&&this._viewToModelMapping.delete(i)}bindElementToMarker(n,i){const s=this._markerNameToElements.get(i)||new Set;s.add(n);const l=this._elementToMarkerNames.get(n)||new Set;l.add(i),this._markerNameToElements.set(i,s),this._elementToMarkerNames.set(n,l)}unbindElementFromMarkerName(n,i){const s=this._markerNameToElements.get(i);s&&(s.delete(n),s.size==0&&this._markerNameToElements.delete(i));const l=this._elementToMarkerNames.get(n);l&&(l.delete(i),l.size==0&&this._elementToMarkerNames.delete(n))}flushUnboundMarkerNames(){const n=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),n}flushDeferredBindings(){for(const[n,i]of this._deferredBindingRemovals)n.root==i&&this.unbindViewElement(n);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(n){return this._viewToModelMapping.get(n)}toViewElement(n){return this._modelToViewMapping.get(n)}toModelRange(n){return new le(this.toModelPosition(n.start),this.toModelPosition(n.end))}toViewRange(n){return new Xe(this.toViewPosition(n.start),this.toViewPosition(n.end))}toModelPosition(n){const i={viewPosition:n,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(n,i={}){const s={modelPosition:n,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",s),s.viewPosition}markerNameToElements(n){const i=this._markerNameToElements.get(n);if(!i)return null;const s=new Set;for(const l of i)if(l.is("attributeElement"))for(const u of l.getElementsWithSameId())s.add(u);else s.add(l);return s}registerViewToModelLength(n,i){this._viewToModelLengthCallbacks.set(n,i)}findMappedViewAncestor(n){let i=n.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(n,i,s){if(s!=n)return this._toModelOffset(n.parent,n.index,s)+this._toModelOffset(n,i,n);if(n.is("$text"))return i;let l=0;for(let u=0;u<i;u++)l+=this.getModelLength(n.getChild(u));return l}getModelLength(n){if(this._viewToModelLengthCallbacks.get(n.name))return this._viewToModelLengthCallbacks.get(n.name)(n);if(this._viewToModelMapping.has(n))return 1;if(n.is("$text"))return n.data.length;if(n.is("uiElement"))return 0;{let i=0;for(const s of n.getChildren())i+=this.getModelLength(s);return i}}findPositionIn(n,i){let s,l=0,u=0,h=0;if(n.is("$text"))return new Ee(n,i);for(;u<i;)s=n.getChild(h),l=this.getModelLength(s),u+=l,h++;return u==i?this._moveViewPositionToTextNode(new Ee(n,h)):this.findPositionIn(s,i-(u-l))}_moveViewPositionToTextNode(n){const i=n.nodeBefore,s=n.nodeAfter;return i instanceof Q?new Ee(i,i.data.length):s instanceof Q?new Ee(s,0):n}}class $8{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(n,i){i=Ab(i),n instanceof Fo&&(n=this._getSymbolForTextProxy(n)),this._consumable.has(n)||this._consumable.set(n,new Map),this._consumable.get(n).set(i,!0)}consume(n,i){return i=Ab(i),n instanceof Fo&&(n=this._getSymbolForTextProxy(n)),!!this.test(n,i)&&(this._consumable.get(n).set(i,!1),!0)}test(n,i){i=Ab(i),n instanceof Fo&&(n=this._getSymbolForTextProxy(n));const s=this._consumable.get(n);if(s===void 0)return null;const l=s.get(i);return l===void 0?null:l}revert(n,i){i=Ab(i),n instanceof Fo&&(n=this._getSymbolForTextProxy(n));const s=this.test(n,i);return s===!1?(this._consumable.get(n).set(i,!0),!0):s!==!0&&null}verifyAllConsumed(n){const i=[];for(const[s,l]of this._consumable)for(const[u,h]of l){const p=u.split(":")[0];h&&n==p&&i.push({event:u,item:s.name||s.description})}if(i.length)throw new V("conversion-model-consumable-not-consumed",null,{items:i})}_getSymbolForTextProxy(n){let i=null;const s=this._textProxyRegistry.get(n.startOffset);if(s){const l=s.get(n.endOffset);l&&(i=l.get(n.parent))}return i||(i=this._addSymbolForTextProxy(n)),i}_addSymbolForTextProxy(n){const i=n.startOffset,s=n.endOffset,l=n.parent,u=Symbol("$textProxy:"+n.data);let h,p;return h=this._textProxyRegistry.get(i),h||(h=new Map,this._textProxyRegistry.set(i,h)),p=h.get(s),p||(p=new Map,h.set(s,p)),p.set(l,u),u}}function Ab(c){const n=c.split(":");return n[0]=="insert"?n[0]:n[0]=="addMarker"||n[0]=="removeMarker"?c:n.length>1?n[0]+":"+n[1]:n[0]}var V8=Object.defineProperty,U8=Object.defineProperties,H8=Object.getOwnPropertyDescriptors,wD=Object.getOwnPropertySymbols,W8=Object.prototype.hasOwnProperty,q8=Object.prototype.propertyIsEnumerable,vD=(c,n,i)=>n in c?V8(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i,q_=(c,n)=>{for(var i in n||(n={}))W8.call(n,i)&&vD(c,i,n[i]);if(wD)for(var i of wD(n))q8.call(n,i)&&vD(c,i,n[i]);return c},yD=(c,n)=>U8(c,H8(n));class _D extends we(){constructor(n){super(),this._conversionApi=q_({dispatcher:this},n),this._firedEventsMap=new WeakMap}convertChanges(n,i,s){const l=this._createConversionApi(s,n.getRefreshedItems());for(const h of n.getMarkersToRemove())this._convertMarkerRemove(h.name,h.range,l);const u=this._reduceChanges(n.getChanges());for(const h of u)h.type==="insert"?this._convertInsert(le._createFromPositionAndShift(h.position,h.length),l):h.type==="reinsert"?this._convertReinsert(le._createFromPositionAndShift(h.position,h.length),l):h.type==="remove"?this._convertRemove(h.position,h.length,h.name,l):this._convertAttribute(h.range,h.attributeKey,h.attributeOldValue,h.attributeNewValue,l);for(const h of l.mapper.flushUnboundMarkerNames()){const p=i.get(h).getRange();this._convertMarkerRemove(h,p,l),this._convertMarkerAdd(h,p,l)}for(const h of n.getMarkersToAdd())this._convertMarkerAdd(h.name,h.range,l);l.mapper.flushDeferredBindings(),l.consumable.verifyAllConsumed("insert")}convert(n,i,s,l={}){const u=this._createConversionApi(s,void 0,l);this._convertInsert(n,u);for(const[h,p]of i)this._convertMarkerAdd(h,p,u);u.consumable.verifyAllConsumed("insert")}convertSelection(n,i,s){const l=this._createConversionApi(s);this.fire("cleanSelection",{selection:n},l);const u=n.getFirstPosition().root;if(!l.mapper.toViewElement(u))return;const h=Array.from(i.getMarkersAtPosition(n.getFirstPosition()));if(this._addConsumablesForSelection(l.consumable,n,h),this.fire("selection",{selection:n},l),n.isCollapsed){for(const p of h)if(l.consumable.test(n,"addMarker:"+p.name)){const g=p.getRange();if(!G8(n.getFirstPosition(),p,l.mapper))continue;const w={item:n,markerName:p.name,markerRange:g};this.fire(`addMarker:${p.name}`,w,l)}for(const p of n.getAttributeKeys())if(l.consumable.test(n,"attribute:"+p)){const g={item:n,range:n.getFirstRange(),attributeKey:p,attributeOldValue:null,attributeNewValue:n.getAttribute(p)};this.fire(`attribute:${p}:$text`,g,l)}}}_convertInsert(n,i,s={}){s.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,Array.from(n));for(const l of Array.from(n.getWalker({shallow:!0})).map(AD))this._testAndFire("insert",l,i)}_convertRemove(n,i,s,l){this.fire(`remove:${s}`,{position:n,length:i},l)}_convertAttribute(n,i,s,l,u){this._addConsumablesForRange(u.consumable,n,`attribute:${i}`);for(const h of n){const p={item:h.item,range:le._createFromPositionAndShift(h.previousPosition,h.length),attributeKey:i,attributeOldValue:s,attributeNewValue:l};this._testAndFire(`attribute:${i}`,p,u)}}_convertReinsert(n,i){const s=Array.from(n.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,s);for(const l of s.map(AD))this._testAndFire("insert",yD(q_({},l),{reconversion:!0}),i)}_convertMarkerAdd(n,i,s){if(i.root.rootName=="$graveyard")return;const l=`addMarker:${n}`;if(s.consumable.add(i,l),this.fire(l,{markerName:n,markerRange:i},s),s.consumable.consume(i,l)){this._addConsumablesForRange(s.consumable,i,l);for(const u of i.getItems()){if(!s.consumable.test(u,l))continue;const h={item:u,range:le._createOn(u),markerName:n,markerRange:i};this.fire(l,h,s)}}}_convertMarkerRemove(n,i,s){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${n}`,{markerName:n,markerRange:i},s)}_reduceChanges(n){const i={changes:n};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(n,i){for(const s of i){const l=s.item;if(n.test(l,"insert")===null){n.add(l,"insert");for(const u of l.getAttributeKeys())n.add(l,"attribute:"+u)}}return n}_addConsumablesForRange(n,i,s){for(const l of i.getItems())n.add(l,s);return n}_addConsumablesForSelection(n,i,s){n.add(i,"selection");for(const l of s)n.add(i,"addMarker:"+l.name);for(const l of i.getAttributeKeys())n.add(i,"attribute:"+l);return n}_testAndFire(n,i,s){const l=function(g,w){const y=w.item.is("element")?w.item.name:"$text";return`${g}:${y}`}(n,i),u=i.item.is("$textProxy")?s.consumable._getSymbolForTextProxy(i.item):i.item,h=this._firedEventsMap.get(s),p=h.get(u);if(p){if(p.has(l))return;p.add(l)}else h.set(u,new Set([l]));this.fire(l,i,s)}_testAndFireAddAttributes(n,i){const s={item:n,range:le._createOn(n)};for(const l of s.item.getAttributeKeys())s.attributeKey=l,s.attributeOldValue=null,s.attributeNewValue=s.item.getAttribute(l),this._testAndFire(`attribute:${l}`,s,i)}_createConversionApi(n,i=new Set,s={}){const l=yD(q_({},this._conversionApi),{consumable:new $8,writer:n,options:s,convertItem:u=>this._convertInsert(le._createOn(u),l),convertChildren:u=>this._convertInsert(le._createIn(u),l,{doNotAddConsumables:!0}),convertAttributes:u=>this._testAndFireAddAttributes(u,l),canReuseView:u=>!i.has(l.mapper.toModelElement(u))});return this._firedEventsMap.set(l,new Map),l}}function G8(c,n,i){const s=n.getRange(),l=Array.from(c.getAncestors());return l.shift(),l.reverse(),!l.some(u=>{if(s.containsItem(u))return!!i.toViewElement(u).getCustomProperty("addHighlight")})}function AD(c){return{item:c.item,range:le._createFromPositionAndShift(c.previousPosition,c.length)}}class Ri extends we(Cc){constructor(...n){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],n.length&&this.setTo(...n)}get anchor(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.end:n.start}return null}get focus(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.start:n.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(n){if(this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const i of this._ranges){let s=!1;for(const l of n._ranges)if(i.isEqual(l)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const n of this._ranges)yield new le(n.start,n.end)}getFirstRange(){let n=null;for(const i of this._ranges)n&&!i.start.isBefore(n.start)||(n=i);return n?new le(n.start,n.end):null}getLastRange(){let n=null;for(const i of this._ranges)n&&!i.end.isAfter(n.end)||(n=i);return n?new le(n.start,n.end):null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}setTo(...n){let[i,s,l]=n;if(typeof s=="object"&&(l=s,s=void 0),i===null)this._setRanges([]);else if(i instanceof Ri)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof le)this._setRanges([i],!!l&&!!l.backward);else if(i instanceof ke)this._setRanges([new le(i)]);else if(i instanceof Xl){const u=!!l&&!!l.backward;let h;if(s=="in")h=le._createIn(i);else if(s=="on")h=le._createOn(i);else{if(s===void 0)throw new V("model-selection-setto-required-second-parameter",[this,i]);h=new le(ke._createAt(i,s))}this._setRanges([h],u)}else{if(!Ie(i))throw new V("model-selection-setto-not-selectable",[this,i]);this._setRanges(i,l&&!!l.backward)}}_setRanges(n,i=!1){const s=Array.from(n),l=s.some(u=>{if(!(u instanceof le))throw new V("model-selection-set-ranges-not-range",[this,n]);return this._ranges.every(h=>!h.isEqual(u))});(s.length!==this._ranges.length||l)&&(this._replaceAllRanges(s),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(n,i){if(this.anchor===null)throw new V("model-selection-setfocus-no-ranges",[this,n]);const s=ke._createAt(n,i);if(s.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.length&&this._popRange(),s.compareWith(l)=="before"?(this._pushRange(new le(s,l)),this._lastRangeBackward=!0):(this._pushRange(new le(l,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(n){return this._attrs.has(n)}removeAttribute(n){this.hasAttribute(n)&&(this._attrs.delete(n),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}setAttribute(n,i){this.getAttribute(n)!==i&&(this._attrs.set(n,i),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const n=new WeakSet;for(const i of this.getRanges()){const s=xD(i.start,n);K8(s,i)&&(yield s);for(const u of i.getWalker()){const h=u.item;u.type=="elementEnd"&&Y8(h,n,i)&&(yield h)}const l=xD(i.end,n);Q8(l,i)&&(yield l)}}containsEntireContent(n=this.anchor.root){const i=ke._createAt(n,0),s=ke._createAt(n,"end");return i.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}_pushRange(n){this._checkRange(n),this._ranges.push(new le(n.start,n.end))}_checkRange(n){for(let i=0;i<this._ranges.length;i++)if(n.isIntersecting(this._ranges[i]))throw new V("model-selection-range-intersects",[this,n],{addedRange:n,intersectingRange:this._ranges[i]})}_replaceAllRanges(n){this._removeAllRanges();for(const i of n)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function CD(c,n){return!n.has(c)&&(n.add(c),c.root.document.model.schema.isBlock(c)&&!!c.parent)}function Y8(c,n,i){return CD(c,n)&&G_(c,i)}function xD(c,n){const i=c.parent.root.document.model.schema,s=c.parent.getAncestors({parentFirst:!0,includeSelf:!0});let l=!1;const u=s.find(h=>!l&&(l=i.isLimit(h),!l&&CD(h,n)));return s.forEach(h=>n.add(h)),u}function G_(c,n){const i=function(s){const l=s.root.document.model.schema;let u=s.parent;for(;u;){if(l.isBlock(u))return u;u=u.parent}}(c);return i?!n.containsRange(le._createOn(i),!0):!0}function K8(c,n){return!!c&&(!(!n.isCollapsed&&!c.isEmpty)||!n.start.isTouching(ke._createAt(c,c.maxOffset))&&G_(c,n))}function Q8(c,n){return!!c&&(!(!n.isCollapsed&&!c.isEmpty)||!n.end.isTouching(ke._createAt(c,0))&&G_(c,n))}Ri.prototype.is=function(c){return c==="selection"||c==="model:selection"};class $o extends we(le){constructor(n,i){super(n,i),Z8.call(this)}detach(){this.stopListening()}toRange(){return new le(this.start,this.end)}static fromRange(n){return new $o(n.start,n.end)}}function Z8(){this.listenTo(this.root.document.model,"applyOperation",(c,n)=>{const i=n[0];i.isDocumentOperation&&J8.call(this,i)},{priority:"low"})}function J8(c){const n=this.getTransformedByOperation(c),i=le._createFromRanges(n),s=!i.isEqual(this),l=function(h,p){switch(p.type){case"insert":return h.containsPosition(p.position);case"move":case"remove":case"reinsert":case"merge":return h.containsPosition(p.sourcePosition)||h.start.isEqual(p.sourcePosition)||h.containsPosition(p.targetPosition);case"split":return h.containsPosition(p.splitPosition)||h.containsPosition(p.insertionPosition)}return!1}(this,c);let u=null;if(s){i.root.rootName=="$graveyard"&&(u=c.type=="remove"?c.sourcePosition:c.deletionPosition);const h=this.toRange();this.start=i.start,this.end=i.end,this.fire("change:range",h,{deletionPosition:u})}else l&&this.fire("change:content",this.toRange(),{deletionPosition:u})}$o.prototype.is=function(c){return c==="liveRange"||c==="model:liveRange"||c=="range"||c==="model:range"};const Cb="selection:";class Vo extends we(Cc){constructor(n){super(),this._selection=new X8(n),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(n){return this._selection.containsEntireContent(n)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(n){return this._selection.getAttribute(n)}hasAttribute(n){return this._selection.hasAttribute(n)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(n){this._selection.observeMarkers(n)}_setFocus(n,i){this._selection.setFocus(n,i)}_setTo(...n){this._selection.setTo(...n)}_setAttribute(n,i){this._selection.setAttribute(n,i)}_removeAttribute(n){this._selection.removeAttribute(n)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(n){this._selection.restoreGravity(n)}static _getStoreAttributeKey(n){return Cb+n}static _isStoreAttributeKey(n){return n.startsWith(Cb)}}Vo.prototype.is=function(c){return c==="selection"||c=="model:selection"||c=="documentSelection"||c=="model:documentSelection"};class X8 extends Ri{constructor(n){super(),this.markers=new Mi({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=n.model,this._document=n,this.listenTo(this._model,"applyOperation",(i,s)=>{const l=s[0];l.isDocumentOperation&&l.type!="marker"&&l.type!="rename"&&l.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,s,l,u)=>{this._updateMarker(s,u)}),this.listenTo(this._document,"change",(i,s)=>{(function(l,u){const h=l.document.differ;for(const p of h.getChanges()){if(p.type!="insert")continue;const g=p.position.parent;p.length===g.maxOffset&&l.enqueueChange(u,w=>{const y=Array.from(g.getAttributeKeys()).filter(C=>C.startsWith(Cb));for(const C of y)w.removeAttribute(C,g)})}})(this._model,s)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let n=0;n<this._ranges.length;n++)this._ranges[n].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...n){super.setTo(...n),this._updateAttributes(!0),this.updateMarkers()}setFocus(n,i){super.setFocus(n,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(n,i){if(this._setAttribute(n,i)){const s=[n];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}removeAttribute(n){if(this._removeAttribute(n)){const i=[n];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const n=Y();return this._overriddenGravityRegister.add(n),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),n}restoreGravity(n){if(!this._overriddenGravityRegister.has(n))throw new V("document-selection-gravity-wrong-restore",this,{uid:n});this._overriddenGravityRegister.delete(n),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(n){this._observedMarkers.add(n),this.updateMarkers()}_replaceAllRanges(n){this._validateSelectionRanges(n),super._replaceAllRanges(n)}_popRange(){this._ranges.pop().detach()}_pushRange(n){const i=this._prepareRange(n);i&&this._ranges.push(i)}_validateSelectionRanges(n){for(const i of n)if(!this._document._validateSelectionRange(i))throw new V("document-selection-wrong-position",this,{range:i})}_prepareRange(n){if(this._checkRange(n),n.root==this._document.graveyard)return;const i=$o.fromRange(n);return i.on("change:range",(s,l,u)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=u.deletionPosition;const h=this._ranges.indexOf(i);this._ranges.splice(h,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const n=[];let i=!1;for(const l of this._model.markers){const u=l.name.split(":",1)[0];if(!this._observedMarkers.has(u))continue;const h=l.getRange();for(const p of this.getRanges())h.containsRange(p,!p.isCollapsed)&&n.push(l)}const s=Array.from(this.markers);for(const l of n)this.markers.has(l)||(this.markers.add(l),i=!0);for(const l of Array.from(this.markers))n.includes(l)||(this.markers.remove(l),i=!0);i&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(n,i){const s=n.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let l=!1;const u=Array.from(this.markers),h=this.markers.has(n);if(i){let p=!1;for(const g of this.getRanges())if(i.containsRange(g,!g.isCollapsed)){p=!0;break}p&&!h?(this.markers.add(n),l=!0):!p&&h&&(this.markers.remove(n),l=!0)}else h&&(this.markers.remove(n),l=!0);l&&this.fire("change:marker",{oldMarkers:u,directChange:!1})}_updateAttributes(n){const i=uo(this._getSurroundingAttributes()),s=uo(this.getAttributes());if(n)this._attributePriority=new Map,this._attrs=new Map;else for(const[u,h]of this._attributePriority)h=="low"&&(this._attrs.delete(u),this._attributePriority.delete(u));this._setAttributesTo(i);const l=[];for(const[u,h]of this.getAttributes())s.has(u)&&s.get(u)===h||l.push(u);for(const[u]of s)this.hasAttribute(u)||l.push(u);l.length>0&&this.fire("change:attribute",{attributeKeys:l,directChange:!1})}_setAttribute(n,i,s=!0){const l=s?"normal":"low";return l=="low"&&this._attributePriority.get(n)=="normal"?!1:super.getAttribute(n)!==i&&(this._attrs.set(n,i),this._attributePriority.set(n,l),!0)}_removeAttribute(n,i=!0){const s=i?"normal":"low";return(s!="low"||this._attributePriority.get(n)!="normal")&&(this._attributePriority.set(n,s),!!super.hasAttribute(n)&&(this._attrs.delete(n),!0))}_setAttributesTo(n){const i=new Set;for(const[s,l]of this.getAttributes())n.get(s)!==l&&this._removeAttribute(s,!1);for(const[s,l]of n)this._setAttribute(s,l,!1)&&i.add(s);return i}*getStoredAttributes(){const n=this.getFirstPosition().parent;if(this.isCollapsed&&n.isEmpty)for(const i of n.getAttributeKeys())i.startsWith(Cb)&&(yield[i.substr(10),n.getAttribute(i)])}_getSurroundingAttributes(){const n=this.getFirstPosition(),i=this._model.schema;if(n.root.rootName=="$graveyard")return null;let s=null;if(this.isCollapsed){const l=n.textNode?n.textNode:n.nodeBefore,u=n.textNode?n.textNode:n.nodeAfter;if(this.isGravityOverridden||(s=Qp(l,i)),s||(s=Qp(u,i)),!this.isGravityOverridden&&!s){let h=l;for(;h&&!s;)h=h.previousSibling,s=Qp(h,i)}if(!s){let h=u;for(;h&&!s;)h=h.nextSibling,s=Qp(h,i)}s||(s=this.getStoredAttributes())}else{const l=this.getFirstRange();for(const u of l){if(u.item.is("element")&&i.isObject(u.item)){s=Qp(u.item,i);break}if(u.type=="text"){s=u.item.getAttributes();break}}}return s}_fixGraveyardSelection(n){const i=this._model.schema.getNearestSelectionRange(n);i&&this._pushRange(i)}}function Qp(c,n){if(!c)return null;if(c instanceof Fo||c instanceof nn)return c.getAttributes();if(!n.isInline(c))return null;if(!n.isObject(c))return[];const i=[];for(const[s,l]of c.getAttributes())n.checkAttribute("$text",s)&&n.getAttributeProperties(s).copyFromObject!==!1&&i.push([s,l]);return i}class ED{constructor(n){this._dispatchers=n}add(n){for(const i of this._dispatchers)n(i);return this}}class eV extends ED{elementToElement(n){return this.add(function(i){const s=DD(i.model),l=Zp(i.view,"container");return s.attributes.length&&(s.children=!0),u=>{u.on(`insert:${s.name}`,function(h,p=nV){return(g,w,y)=>{if(!p(w.item,y.consumable,{preflight:!0}))return;const C=h(w.item,y,w);if(!C)return;p(w.item,y.consumable);const S=y.mapper.toViewPosition(w.range.start);y.mapper.bindElements(w.item,C),y.writer.insert(S,C),y.convertAttributes(w.item),OD(C,w.item.getChildren(),y,{reconversion:w.reconversion})}}(l,PD(s)),{priority:i.converterPriority||"normal"}),(s.children||s.attributes.length)&&u.on("reduceChanges",ND(s),{priority:"low"})}}(n))}elementToStructure(n){return this.add(function(i){const s=DD(i.model),l=Zp(i.view,"container");return s.children=!0,u=>{if(u._conversionApi.schema.checkChild(s.name,"$text"))throw new V("conversion-element-to-structure-disallowed-text",u,{elementName:s.name});var h,p;u.on(`insert:${s.name}`,(h=l,p=PD(s),(g,w,y)=>{if(!p(w.item,y.consumable,{preflight:!0}))return;const C=new Map;y.writer._registerSlotFactory(function(P,j,H){return(q,te)=>{const fe=q.createContainerElement("$slot");let Te=null;if(te==="children")Te=Array.from(P.getChildren());else{if(typeof te!="function")throw new V("conversion-slot-mode-unknown",H.dispatcher,{modeOrFilter:te});Te=Array.from(P.getChildren()).filter(Je=>te(Je))}return j.set(fe,Te),fe}}(w.item,C,y));const S=h(w.item,y,w);if(y.writer._clearSlotFactory(),!S)return;(function(P,j,H){const q=Array.from(j.values()).flat(),te=new Set(q);if(te.size!=q.length)throw new V("conversion-slot-filter-overlap",H.dispatcher,{element:P});if(te.size!=P.childCount)throw new V("conversion-slot-filter-incomplete",H.dispatcher,{element:P})})(w.item,C,y),p(w.item,y.consumable);const N=y.mapper.toViewPosition(w.range.start);y.mapper.bindElements(w.item,S),y.writer.insert(N,S),y.convertAttributes(w.item),function(P,j,H,q){H.mapper.on("modelToViewPosition",Te,{priority:"highest"});let te=null,fe=null;for([te,fe]of j)OD(P,fe,H,q),H.writer.move(H.writer.createRangeIn(te),H.writer.createPositionBefore(te)),H.writer.remove(te);function Te(Je,Qt){const wt=Qt.modelPosition.nodeAfter,sr=fe.indexOf(wt);sr<0||(Qt.viewPosition=Qt.mapper.findPositionIn(te,sr))}H.mapper.off("modelToViewPosition",Te)}(S,C,y,{reconversion:w.reconversion})}),{priority:i.converterPriority||"normal"}),u.on("reduceChanges",ND(s),{priority:"low"})}}(n))}attributeToElement(n){return this.add(function(i){i=Ac(i);let s=i.model;typeof s=="string"&&(s={key:s});let l=`attribute:${s.key}`;if(s.name&&(l+=":"+s.name),s.values)for(const h of s.values)i.view[h]=Zp(i.view[h],"attribute");else i.view=Zp(i.view,"attribute");const u=ID(i);return h=>{h.on(l,function(p){return(g,w,y)=>{if(!y.consumable.test(w.item,g.name))return;const C=p(w.attributeOldValue,y,w),S=p(w.attributeNewValue,y,w);if(!C&&!S)return;y.consumable.consume(w.item,g.name);const N=y.writer,P=N.document.selection;if(w.item instanceof Ri||w.item instanceof Vo)N.wrap(P.getFirstRange(),S);else{let j=y.mapper.toViewRange(w.range);w.attributeOldValue!==null&&C&&(j=N.unwrap(j,C)),w.attributeNewValue!==null&&S&&N.wrap(j,S)}}}(u),{priority:i.converterPriority||"normal"})}}(n))}attributeToAttribute(n){return this.add(function(i){i=Ac(i);let s=i.model;typeof s=="string"&&(s={key:s});let l=`attribute:${s.key}`;if(s.name&&(l+=":"+s.name),s.values)for(const h of s.values)i.view[h]=MD(i.view[h]);else i.view=MD(i.view);const u=ID(i);return h=>{var p;h.on(l,(p=u,(g,w,y)=>{if(!y.consumable.test(w.item,g.name))return;const C=p(w.attributeOldValue,y,w),S=p(w.attributeNewValue,y,w);if(!C&&!S)return;y.consumable.consume(w.item,g.name);const N=y.mapper.toViewElement(w.item),P=y.writer;if(!N)throw new V("conversion-attribute-to-attribute-on-text",y.dispatcher,w);if(w.attributeOldValue!==null&&C)if(C.key=="class"){const j=qn(C.value);for(const H of j)P.removeClass(H,N)}else if(C.key=="style"){const j=Object.keys(C.value);for(const H of j)P.removeStyle(H,N)}else P.removeAttribute(C.key,N);if(w.attributeNewValue!==null&&S)if(S.key=="class"){const j=qn(S.value);for(const H of j)P.addClass(H,N)}else if(S.key=="style"){const j=Object.keys(S.value);for(const H of j)P.setStyle(H,S.value[H],N)}else P.setAttribute(S.key,S.value,N)}),{priority:i.converterPriority||"normal"})}}(n))}markerToElement(n){return this.add(function(i){const s=Zp(i.view,"ui");return l=>{var u;l.on(`addMarker:${i.model}`,(u=s,(h,p,g)=>{p.isOpening=!0;const w=u(p,g);p.isOpening=!1;const y=u(p,g);if(!w||!y)return;const C=p.markerRange;if(C.isCollapsed&&!g.consumable.consume(C,h.name))return;for(const P of C)if(!g.consumable.consume(P.item,h.name))return;const S=g.mapper,N=g.writer;N.insert(S.toViewPosition(C.start),w),g.mapper.bindElementToMarker(w,p.markerName),C.isCollapsed||(N.insert(S.toViewPosition(C.end),y),g.mapper.bindElementToMarker(y,p.markerName)),h.stop()}),{priority:i.converterPriority||"normal"}),l.on(`removeMarker:${i.model}`,(h,p,g)=>{const w=g.mapper.markerNameToElements(p.markerName);if(w){for(const y of w)g.mapper.unbindElementFromMarkerName(y,p.markerName),g.writer.clear(g.writer.createRangeOn(y),y);g.writer.clearClonedElementsGroup(p.markerName),h.stop()}},{priority:i.converterPriority||"normal"})}}(n))}markerToHighlight(n){return this.add(function(i){return s=>{var l;s.on(`addMarker:${i.model}`,(l=i.view,(u,h,p)=>{if(!h.item||!(h.item instanceof Ri||h.item instanceof Vo||h.item.is("$textProxy")))return;const g=Y_(l,h,p);if(!g||!p.consumable.consume(h.item,u.name))return;const w=p.writer,y=SD(w,g),C=w.document.selection;if(h.item instanceof Ri||h.item instanceof Vo)w.wrap(C.getFirstRange(),y);else{const S=p.mapper.toViewRange(h.range),N=w.wrap(S,y);for(const P of N.getItems())if(P.is("attributeElement")&&P.isSimilar(y)){p.mapper.bindElementToMarker(P,h.markerName);break}}}),{priority:i.converterPriority||"normal"}),s.on(`addMarker:${i.model}`,function(u){return(h,p,g)=>{if(!p.item||!(p.item instanceof Yt))return;const w=Y_(u,p,g);if(!w||!g.consumable.test(p.item,h.name))return;const y=g.mapper.toViewElement(p.item);if(y&&y.getCustomProperty("addHighlight")){g.consumable.consume(p.item,h.name);for(const C of le._createIn(p.item))g.consumable.consume(C.item,h.name);y.getCustomProperty("addHighlight")(y,w,g.writer),g.mapper.bindElementToMarker(y,p.markerName)}}}(i.view),{priority:i.converterPriority||"normal"}),s.on(`removeMarker:${i.model}`,function(u){return(h,p,g)=>{if(p.markerRange.isCollapsed)return;const w=Y_(u,p,g);if(!w)return;const y=SD(g.writer,w),C=g.mapper.markerNameToElements(p.markerName);if(C){for(const S of C)g.mapper.unbindElementFromMarkerName(S,p.markerName),S.is("attributeElement")?g.writer.unwrap(g.writer.createRangeOn(S),y):S.getCustomProperty("removeHighlight")(S,w.id,g.writer);g.writer.clearClonedElementsGroup(p.markerName),h.stop()}}}(i.view),{priority:i.converterPriority||"normal"})}}(n))}markerToData(n){return this.add(function(i){i=Ac(i);const s=i.model;let l=i.view;return l||(l=u=>({group:s,name:u.substr(i.model.length+1)})),u=>{var h;u.on(`addMarker:${s}`,(h=l,(p,g,w)=>{const y=h(g.markerName,w);if(!y)return;const C=g.markerRange;w.consumable.consume(C,p.name)&&(TD(C,!1,w,g,y),TD(C,!0,w,g,y),p.stop())}),{priority:i.converterPriority||"normal"}),u.on(`removeMarker:${s}`,function(p){return(g,w,y)=>{const C=p(w.markerName,y);if(!C)return;const S=y.mapper.markerNameToElements(w.markerName);if(S){for(const P of S)y.mapper.unbindElementFromMarkerName(P,w.markerName),P.is("containerElement")?(N(`data-${C.group}-start-before`,P),N(`data-${C.group}-start-after`,P),N(`data-${C.group}-end-before`,P),N(`data-${C.group}-end-after`,P)):y.writer.clear(y.writer.createRangeOn(P),P);y.writer.clearClonedElementsGroup(w.markerName),g.stop()}function N(P,j){if(j.hasAttribute(P)){const H=new Set(j.getAttribute(P).split(","));H.delete(C.name),H.size==0?y.writer.removeAttribute(P,j):y.writer.setAttribute(P,Array.from(H).join(","),j)}}}}(l),{priority:i.converterPriority||"normal"})}}(n))}}function SD(c,n){const i=c.createAttributeElement("span",n.attributes);return n.classes&&i._addClass(n.classes),typeof n.priority=="number"&&(i._priority=n.priority),i._id=n.id,i}function TD(c,n,i,s,l){const u=n?c.start:c.end,h=u.nodeAfter&&u.nodeAfter.is("element")?u.nodeAfter:null,p=u.nodeBefore&&u.nodeBefore.is("element")?u.nodeBefore:null;if(h||p){let g,w;n&&h||!n&&!p?(g=h,w=!0):(g=p,w=!1);const y=i.mapper.toViewElement(g);if(y)return void function(C,S,N,P,j,H){const q=`data-${H.group}-${S?"start":"end"}-${N?"before":"after"}`,te=C.hasAttribute(q)?C.getAttribute(q).split(","):[];te.unshift(H.name),P.writer.setAttribute(q,te.join(","),C),P.mapper.bindElementToMarker(C,j.markerName)}(y,n,w,i,s,l)}(function(g,w,y,C,S){const N=`${S.group}-${w?"start":"end"}`,P=S.name?{name:S.name}:null,j=y.writer.createUIElement(N,P);y.writer.insert(g,j),y.mapper.bindElementToMarker(j,C.markerName)})(i.mapper.toViewPosition(u),n,i,s,l)}function DD(c){return typeof c=="string"&&(c={name:c}),c.attributes?Array.isArray(c.attributes)||(c.attributes=[c.attributes]):c.attributes=[],c.children=!!c.children,c}function Zp(c,n){return typeof c=="function"?c:(i,s)=>function(l,u,h){typeof l=="string"&&(l={name:l});let p;const g=u.writer,w=Object.assign({},l.attributes);if(h=="container")p=g.createContainerElement(l.name,w);else if(h=="attribute"){const y={priority:l.priority||Zl.DEFAULT_PRIORITY};p=g.createAttributeElement(l.name,w,y)}else p=g.createUIElement(l.name,w);if(l.styles){const y=Object.keys(l.styles);for(const C of y)g.setStyle(C,l.styles[C],p)}if(l.classes){const y=l.classes;if(typeof y=="string")g.addClass(y,p);else for(const C of y)g.addClass(C,p)}return p}(c,s,n)}function ID(c){return c.model.values?(n,i,s)=>{const l=c.view[n];return l?l(n,i,s):null}:c.view}function MD(c){return typeof c=="string"?n=>({key:c,value:n}):typeof c=="object"?c.value?()=>c:n=>({key:c.key,value:n}):c}function Y_(c,n,i){const s=typeof c=="function"?c(n,i):c;return s?(s.priority||(s.priority=10),s.id||(s.id=n.markerName),s):null}function ND(c){const n=function(i){return(s,l)=>{if(!s.is("element",i.name))return!1;if(l.type=="attribute"){if(i.attributes.includes(l.attributeKey))return!0}else if(i.children)return!0;return!1}}(c);return(i,s)=>{const l=[];s.reconvertedElements||(s.reconvertedElements=new Set);for(const u of s.changes){const h=u.type=="attribute"?u.range.start.nodeAfter:u.position.parent;if(h&&n(h,u)){if(!s.reconvertedElements.has(h)){s.reconvertedElements.add(h);const p=ke._createBefore(h);let g=l.length;for(let w=l.length-1;w>=0;w--){const y=l[w],C=(y.type=="attribute"?y.range.start:y.position).compareWith(p);if(C=="before"||y.type=="remove"&&C=="same")break;g=w}l.splice(g,0,{type:"remove",name:h.name,position:p,length:1},{type:"reinsert",name:h.name,position:p,length:1})}}else l.push(u)}s.changes=l}}function PD(c){return(n,i,s={})=>{const l=["insert"];for(const u of c.attributes)n.hasAttribute(u)&&l.push(`attribute:${u}`);return!!l.every(u=>i.test(n,u))&&(s.preflight||l.forEach(u=>i.consume(n,u)),!0)}}function OD(c,n,i,s){for(const l of n)tV(c.root,l,i,s)||i.convertItem(l)}function tV(c,n,i,s){const{writer:l,mapper:u}=i;if(!s.reconversion)return!1;const h=u.toViewElement(n);return!(!h||h.root==c)&&!!i.canReuseView(h)&&(l.move(l.createRangeOn(h),u.toViewPosition(ke._createBefore(n))),!0)}function nV(c,n,{preflight:i}={}){return i?n.test(c,"insert"):n.consume(c,"insert")}function RD(c){const{schema:n,document:i}=c.model;for(const s of i.getRoots())if(s.isEmpty&&!n.checkChild(s,"$text")&&n.checkChild(s,"paragraph"))return c.insertElement("paragraph",s),!0;return!1}function LD(c,n,i){const s=i.createContext(c);return!!i.checkChild(s,"paragraph")&&!!i.checkChild(s.push("paragraph"),n)}function BD(c,n){const i=n.createElement("paragraph");return n.insert(i,c),n.createPositionAt(i,0)}var rV=Object.defineProperty,iV=Object.defineProperties,oV=Object.getOwnPropertyDescriptors,jD=Object.getOwnPropertySymbols,sV=Object.prototype.hasOwnProperty,aV=Object.prototype.propertyIsEnumerable,zD=(c,n,i)=>n in c?rV(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i;class cV extends ED{elementToElement(n){return this.add(FD(n))}elementToAttribute(n){return this.add(function(i){i=Ac(i),$D(i);const s=VD(i,!1),l=K_(i.view),u=l?`element:${l}`:"element";return h=>{h.on(u,s,{priority:i.converterPriority||"low"})}}(n))}attributeToAttribute(n){return this.add(function(i){i=Ac(i);let s=null;(typeof i.view=="string"||i.view.key)&&(s=function(u){typeof u.view=="string"&&(u.view={key:u.view});const h=u.view.key;let p;return h=="class"||h=="style"?p={[h=="class"?"classes":"styles"]:u.view.value}:p={attributes:{[h]:u.view.value===void 0?/[\s\S]*/:u.view.value}},u.view.name&&(p.name=u.view.name),u.view=p,h}(i)),$D(i,s);const l=VD(i,!0);return u=>{u.on("element",l,{priority:i.converterPriority||"low"})}}(n))}elementToMarker(n){return this.add(function(i){const s=function(h){return(p,g)=>{const w=typeof h=="string"?h:h(p,g);return g.writer.createElement("$marker",{"data-name":w})}}(i.model);return FD((l=((h,p)=>{for(var g in p||(p={}))sV.call(p,g)&&zD(h,g,p[g]);if(jD)for(var g of jD(p))aV.call(p,g)&&zD(h,g,p[g]);return h})({},i),u={model:s},iV(l,oV(u))));var l,u}(n))}dataToMarker(n){return this.add(function(i){i=Ac(i),i.model||(i.model=h=>h?i.view+":"+h:i.view);const s={view:i.view,model:i.model},l=Q_(UD(s,"start")),u=Q_(UD(s,"end"));return h=>{h.on(`element:${i.view}-start`,l,{priority:i.converterPriority||"normal"}),h.on(`element:${i.view}-end`,u,{priority:i.converterPriority||"normal"});const p=X.low,g=X.highest,w=X.get(i.converterPriority)/g;h.on("element",function(y){return(C,S,N)=>{const P=`data-${y.view}`;function j(H,q){for(const te of q){const fe=y.model(te,N),Te=N.writer.createElement("$marker",{"data-name":fe});N.writer.insert(Te,H),S.modelCursor.isEqual(H)?S.modelCursor=S.modelCursor.getShiftedBy(1):S.modelCursor=S.modelCursor._getTransformedByInsertion(H,1),S.modelRange=S.modelRange._getTransformedByInsertion(H,1)[0]}}(N.consumable.test(S.viewItem,{attributes:P+"-end-after"})||N.consumable.test(S.viewItem,{attributes:P+"-start-after"})||N.consumable.test(S.viewItem,{attributes:P+"-end-before"})||N.consumable.test(S.viewItem,{attributes:P+"-start-before"}))&&(S.modelRange||Object.assign(S,N.convertChildren(S.viewItem,S.modelCursor)),N.consumable.consume(S.viewItem,{attributes:P+"-end-after"})&&j(S.modelRange.end,S.viewItem.getAttribute(P+"-end-after").split(",")),N.consumable.consume(S.viewItem,{attributes:P+"-start-after"})&&j(S.modelRange.end,S.viewItem.getAttribute(P+"-start-after").split(",")),N.consumable.consume(S.viewItem,{attributes:P+"-end-before"})&&j(S.modelRange.start,S.viewItem.getAttribute(P+"-end-before").split(",")),N.consumable.consume(S.viewItem,{attributes:P+"-start-before"})&&j(S.modelRange.start,S.viewItem.getAttribute(P+"-start-before").split(",")))}}(s),{priority:p+w})}}(n))}}function FD(c){const n=Q_(c=Ac(c)),i=K_(c.view),s=i?`element:${i}`:"element";return l=>{l.on(s,n,{priority:c.converterPriority||"normal"})}}function K_(c){return typeof c=="string"?c:typeof c=="object"&&typeof c.name=="string"?c.name:null}function Q_(c){const n=new je(c.view);return(i,s,l)=>{const u=n.match(s.viewItem);if(!u)return;const h=u.match;if(h.name=!0,!l.consumable.test(s.viewItem,h))return;const p=function(g,w,y){return g instanceof Function?g(w,y):y.writer.createElement(g)}(c.model,s.viewItem,l);p&&l.safeInsert(p,s.modelCursor)&&(l.consumable.consume(s.viewItem,h),l.convertChildren(s.viewItem,p),l.updateConversionResult(p,s))}}function $D(c,n=null){const i=n===null||(u=>u.getAttribute(n)),s=typeof c.model!="object"?c.model:c.model.key,l=typeof c.model!="object"||c.model.value===void 0?i:c.model.value;c.model={key:s,value:l}}function VD(c,n){const i=new je(c.view);return(s,l,u)=>{if(!l.modelRange&&n)return;const h=i.match(l.viewItem);if(!h||(function(y,C){const S=typeof y=="function"?y(C):y;return typeof S=="object"&&!K_(S)?!1:!S.classes&&!S.attributes&&!S.styles}(c.view,l.viewItem)?h.match.name=!0:delete h.match.name,!u.consumable.test(l.viewItem,h.match)))return;const p=c.model.key,g=typeof c.model.value=="function"?c.model.value(l.viewItem,u):c.model.value;if(g===null)return;l.modelRange||Object.assign(l,u.convertChildren(l.viewItem,l.modelCursor)),function(y,C,S,N){let P=!1;for(const j of Array.from(y.getItems({shallow:S})))N.schema.checkAttribute(j,C.key)&&(P=!0,j.hasAttribute(C.key)||N.writer.setAttribute(C.key,C.value,j));return P}(l.modelRange,{key:p,value:g},n,u)&&(u.consumable.test(l.viewItem,{name:!0})&&(h.match.name=!0),u.consumable.consume(l.viewItem,h.match))}}function UD(c,n){return{view:`${c.view}-${n}`,model:(i,s)=>{const l=i.getAttribute("name"),u=c.model(l,s);return s.writer.createElement("$marker",{"data-name":u})}}}function lV(c){c.document.registerPostFixer(n=>function(i,s){const l=s.document.selection,u=s.schema,h=[];let p=!1;for(const g of l.getRanges()){const w=HD(g,u);w&&!w.isEqual(g)?(h.push(w),p=!0):h.push(g)}return p&&i.setSelection(function(g){const w=[...g],y=new Set;let C=1;for(;C<w.length;){const S=w[C],N=w.slice(0,C);for(const[P,j]of N.entries())if(!y.has(P)){if(S.isEqual(j))y.add(P);else if(S.isIntersecting(j)){y.add(P),y.add(C);const H=S.getJoined(j);w.push(H)}}C++}return w.filter((S,N)=>!y.has(N))}(h),{backward:l.isBackward}),!1}(n,c))}function HD(c,n){return c.isCollapsed?function(i,s){const l=i.start,u=s.getNearestSelectionRange(l);if(!u){const p=l.getAncestors().reverse().find(g=>s.isObject(g));return p?le._createOn(p):null}if(!u.isCollapsed)return u;const h=u.start;return l.isEqual(h)?null:new le(h)}(c,n):function(i,s){const{start:l,end:u}=i,h=s.checkChild(l,"$text"),p=s.checkChild(u,"$text"),g=s.getLimitElement(l),w=s.getLimitElement(u);if(g===w){if(h&&p)return null;if(function(S,N,P){const j=S.nodeAfter&&!P.isLimit(S.nodeAfter)||P.checkChild(S,"$text"),H=N.nodeBefore&&!P.isLimit(N.nodeBefore)||P.checkChild(N,"$text");return j||H}(l,u,s)){const S=l.nodeAfter&&s.isSelectable(l.nodeAfter)?null:s.getNearestSelectionRange(l,"forward"),N=u.nodeBefore&&s.isSelectable(u.nodeBefore)?null:s.getNearestSelectionRange(u,"backward"),P=S?S.start:l,j=N?N.end:u;return new le(P,j)}}const y=g&&!g.is("rootElement"),C=w&&!w.is("rootElement");if(y||C){const S=l.nodeAfter&&u.nodeBefore&&l.nodeAfter.parent===u.nodeBefore.parent,N=y&&(!S||!qD(l.nodeAfter,s)),P=C&&(!S||!qD(u.nodeBefore,s));let j=l,H=u;return N&&(j=ke._createBefore(WD(g,s))),P&&(H=ke._createAfter(WD(w,s))),new le(j,H)}return null}(c,n)}function WD(c,n){let i=c,s=i;for(;n.isLimit(s)&&s.parent;)i=s,s=s.parent;return i}function qD(c,n){return c&&n.isSelectable(c)}class uV extends ut(){constructor(n,i){super(),this.model=n,this.view=new F8(i),this.mapper=new bD,this.downcastDispatcher=new _D({mapper:this.mapper,schema:n.schema});const s=this.model.document,l=s.selection,u=this.model.markers;var h,p,g;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(s,"change",()=>{this.view.change(w=>{this.downcastDispatcher.convertChanges(s.differ,u,w),this.downcastDispatcher.convertSelection(l,u,w)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(w,y){return(C,S)=>{const N=S.newSelection,P=[];for(const H of N.getRanges())P.push(y.toModelRange(H));const j=w.createSelection(P,{backward:N.isBackward});j.isEqual(w.document.selection)||w.change(H=>{H.setSelection(j)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(h=this.mapper,p=this.model.schema,g=this.view,(w,y)=>{if(!g.document.isComposing||x.isAndroid)for(let C=0;C<y.targetRanges.length;C++){const S=y.targetRanges[C],N=h.toModelRange(S),P=HD(N,p);P&&!P.isEqual(N)&&(y.targetRanges[C]=h.toViewRange(P))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(w,y,C)=>{if(!C.consumable.consume(y.item,w.name))return;const S=C.writer,N=C.mapper.toViewPosition(y.range.start),P=S.createText(y.item.data);S.insert(N,P)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(w,y,C)=>{C.convertAttributes(y.item),y.reconversion||!y.item.is("element")||y.item.isEmpty||C.convertChildren(y.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(w,y,C)=>{const S=C.mapper.toViewPosition(y.position),N=y.position.getShiftedBy(y.length),P=C.mapper.toViewPosition(N,{isPhantom:!0}),j=C.writer.createRange(S,P),H=C.writer.remove(j.getTrimmed());for(const q of C.writer.createRangeIn(H).getItems())C.mapper.unbindViewElement(q,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(w,y,C)=>{const S=C.writer,N=S.document.selection;for(const P of N.getRanges())P.isCollapsed&&P.end.parent.isAttached()&&C.writer.mergeAttributes(P.start);S.setSelection(null)}),this.downcastDispatcher.on("selection",(w,y,C)=>{const S=y.selection;if(S.isCollapsed||!C.consumable.consume(S,"selection"))return;const N=[];for(const P of S.getRanges())N.push(C.mapper.toViewRange(P));C.writer.setSelection(N,{backward:S.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(w,y,C)=>{const S=y.selection;if(!S.isCollapsed||!C.consumable.consume(S,"selection"))return;const N=C.writer,P=S.getFirstPosition(),j=C.mapper.toViewPosition(P),H=N.breakAttributes(j);N.setSelection(H)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(w=>{if(w.rootName=="$graveyard")return null;const y=new FT(this.view.document,w.name);return y.rootName=w.rootName,this.mapper.bindElements(w,y),y})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(n){const i=typeof n=="string"?n:n.name,s=this.model.markers.get(i);if(!s)throw new V("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(s)})}reconvertItem(n){this.model.change(()=>{this.model.document.differ._refreshItem(n)})}}class Jp{constructor(){this._consumables=new Map}add(n,i){let s;n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):(this._consumables.has(n)?s=this._consumables.get(n):(s=new dV(n),this._consumables.set(n,s)),s.add(i))}test(n,i){const s=this._consumables.get(n);return s===void 0?null:n.is("$text")||n.is("documentFragment")?s:s.test(i)}consume(n,i){return!!this.test(n,i)&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!1):this._consumables.get(n).consume(i),!0)}revert(n,i){const s=this._consumables.get(n);s!==void 0&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):s.revert(i))}static consumablesFromElement(n){const i={element:n,name:!0,attributes:[],classes:[],styles:[]},s=n.getAttributeKeys();for(const h of s)h!="style"&&h!="class"&&i.attributes.push(h);const l=n.getClassNames();for(const h of l)i.classes.push(h);const u=n.getStyleNames();for(const h of u)i.styles.push(h);return i}static createFrom(n,i){if(i||(i=new Jp),n.is("$text"))return i.add(n),i;n.is("element")&&i.add(n,Jp.consumablesFromElement(n)),n.is("documentFragment")&&i.add(n);for(const s of n.getChildren())i=Jp.createFrom(s,i);return i}}const xb=["attributes","classes","styles"];class dV{constructor(n){this.element=n,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(n){n.name&&(this._canConsumeName=!0);for(const i of xb)i in n&&this._add(i,n[i])}test(n){if(n.name&&!this._canConsumeName)return this._canConsumeName;for(const i of xb)if(i in n){const s=this._test(i,n[i]);if(s!==!0)return s}return!0}consume(n){n.name&&(this._canConsumeName=!1);for(const i of xb)i in n&&this._consume(i,n[i])}revert(n){n.name&&(this._canConsumeName=!0);for(const i of xb)i in n&&this._revert(i,n[i])}_add(n,i){const s=sn(i)?i:[i],l=this._consumables[n];for(const u of s){if(n==="attributes"&&(u==="class"||u==="style"))throw new V("viewconsumable-invalid-attribute",this);if(l.set(u,!0),n==="styles")for(const h of this.element.document.stylesProcessor.getRelatedStyles(u))l.set(h,!0)}}_test(n,i){const s=sn(i)?i:[i],l=this._consumables[n];for(const u of s)if(n!=="attributes"||u!=="class"&&u!=="style"){const h=l.get(u);if(h===void 0)return null;if(!h)return!1}else{const h=u=="class"?"classes":"styles",p=this._test(h,[...this._consumables[h].keys()]);if(p!==!0)return p}return!0}_consume(n,i){const s=sn(i)?i:[i],l=this._consumables[n];for(const u of s)if(n!=="attributes"||u!=="class"&&u!=="style"){if(l.set(u,!1),n=="styles")for(const h of this.element.document.stylesProcessor.getRelatedStyles(u))l.set(h,!1)}else{const h=u=="class"?"classes":"styles";this._consume(h,[...this._consumables[h].keys()])}}_revert(n,i){const s=sn(i)?i:[i],l=this._consumables[n];for(const u of s)if(n!=="attributes"||u!=="class"&&u!=="style")l.get(u)===!1&&l.set(u,!0);else{const h=u=="class"?"classes":"styles";this._revert(h,[...this._consumables[h].keys()])}}}class hV extends ut(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(n,i)=>{i[0]=new tu(i[0])},{priority:"highest"}),this.on("checkChild",(n,i)=>{i[0]=new tu(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(n,i){if(this._sourceDefinitions[n])throw new V("schema-cannot-register-item-twice",this,{itemName:n});this._sourceDefinitions[n]=[Object.assign({},i)],this._clearCache()}extend(n,i){if(!this._sourceDefinitions[n])throw new V("schema-cannot-extend-missing-item",this,{itemName:n});this._sourceDefinitions[n].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(n){let i;return i=typeof n=="string"?n:"is"in n&&(n.is("$text")||n.is("$textProxy"))?"$text":n.name,this.getDefinitions()[i]}isRegistered(n){return!!this.getDefinition(n)}isBlock(n){const i=this.getDefinition(n);return!(!i||!i.isBlock)}isLimit(n){const i=this.getDefinition(n);return!!i&&!(!i.isLimit&&!i.isObject)}isObject(n){const i=this.getDefinition(n);return!!i&&!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent)}isInline(n){const i=this.getDefinition(n);return!(!i||!i.isInline)}isSelectable(n){const i=this.getDefinition(n);return!!i&&!(!i.isSelectable&&!i.isObject)}isContent(n){const i=this.getDefinition(n);return!!i&&!(!i.isContent&&!i.isObject)}checkChild(n,i){return!!i&&this._checkContextMatch(i,n)}checkAttribute(n,i){const s=this.getDefinition(n.last);return!!s&&s.allowAttributes.includes(i)}checkMerge(n,i){if(n instanceof ke){const s=n.nodeBefore,l=n.nodeAfter;if(!(s instanceof Yt))throw new V("schema-check-merge-no-element-before",this);if(!(l instanceof Yt))throw new V("schema-check-merge-no-element-after",this);return this.checkMerge(s,l)}for(const s of i.getChildren())if(!this.checkChild(n,s))return!1;return!0}addChildCheck(n){this.on("checkChild",(i,[s,l])=>{if(!l)return;const u=n(s,l);typeof u=="boolean"&&(i.stop(),i.return=u)},{priority:"high"})}addAttributeCheck(n){this.on("checkAttribute",(i,[s,l])=>{const u=n(s,l);typeof u=="boolean"&&(i.stop(),i.return=u)},{priority:"high"})}setAttributeProperties(n,i){this._attributeProperties[n]=Object.assign(this.getAttributeProperties(n),i)}getAttributeProperties(n){return this._attributeProperties[n]||{}}getLimitElement(n){let i;for(n instanceof ke?i=n.parent:i=(n instanceof le?[n]:Array.from(n.getRanges())).reduce((s,l)=>{const u=l.getCommonAncestor();return s?s.getCommonAncestor(u,{includeSelf:!0}):u},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(n,i){if(n.isCollapsed){const s=[...n.getFirstPosition().getAncestors(),new nn("",n.getAttributes())];return this.checkAttribute(s,i)}{const s=n.getRanges();for(const l of s)for(const u of l)if(this.checkAttribute(u.item,i))return!0}return!1}*getValidRanges(n,i){n=function*(s){for(const l of s)yield*l.getMinimalFlatRanges()}(n);for(const s of n)yield*this._getValidRangesForRange(s,i)}getNearestSelectionRange(n,i="both"){if(n.root.rootName=="$graveyard")return null;if(this.checkChild(n,"$text"))return new le(n);let s,l;const u=n.getAncestors().reverse().find(h=>this.isLimit(h))||n.root;i!="both"&&i!="backward"||(s=new Ns({boundaries:le._createIn(u),startPosition:n,direction:"backward"})),i!="both"&&i!="forward"||(l=new Ns({boundaries:le._createIn(u),startPosition:n}));for(const h of function*(p,g){let w=!1;for(;!w;){if(w=!0,p){const y=p.next();y.done||(w=!1,yield{walker:p,value:y.value})}if(g){const y=g.next();y.done||(w=!1,yield{walker:g,value:y.value})}}}(s,l)){const p=h.walker==s?"elementEnd":"elementStart",g=h.value;if(g.type==p&&this.isObject(g.item))return le._createOn(g.item);if(this.checkChild(g.nextPosition,"$text"))return new le(g.nextPosition)}return null}findAllowedParent(n,i){let s=n.parent;for(;s;){if(this.checkChild(s,i))return s;if(this.isLimit(s))return null;s=s.parent}return null}setAllowedAttributes(n,i,s){const l=s.model;for(const[u,h]of Object.entries(i))l.schema.checkAttribute(n,u)&&s.setAttribute(u,h,n)}removeDisallowedAttributes(n,i){for(const s of n)if(s.is("$text"))GD(this,s,i);else{const l=le._createIn(s).getPositions();for(const u of l)GD(this,u.nodeBefore||u.parent,i)}}getAttributesWithProperty(n,i,s){const l={};for(const[u,h]of n.getAttributes()){const p=this.getAttributeProperties(u);p[i]!==void 0&&(s!==void 0&&s!==p[i]||(l[u]=h))}return l}createContext(n){return new tu(n)}_clearCache(){this._compiledDefinitions=null}_compile(){const n={},i=this._sourceDefinitions,s=Object.keys(i);for(const l of s)n[l]=fV(i[l],l);for(const l of s)pV(n,l);for(const l of s)gV(n,l);for(const l of s)mV(n,l);for(const l of s)kV(n,l),bV(n,l);for(const l of s)wV(n,l),vV(n,l),yV(n,l);this._compiledDefinitions=n}_checkContextMatch(n,i,s=i.length-1){const l=i.getItem(s);if(n.allowIn.includes(l.name)){if(s==0)return!0;{const u=this.getDefinition(l);return this._checkContextMatch(u,i,s-1)}}return!1}*_getValidRangesForRange(n,i){let s=n.start,l=n.start;for(const u of n.getItems({shallow:!0}))u.is("element")&&(yield*this._getValidRangesForRange(le._createIn(u),i)),this.checkAttribute(u,i)||(s.isEqual(l)||(yield new le(s,l)),s=ke._createAfter(u)),l=ke._createAfter(u);s.isEqual(l)||(yield new le(s,l))}}class tu{constructor(n){if(n instanceof tu)return n;let i;i=typeof n=="string"?[n]:Array.isArray(n)?n:n.getAncestors({includeSelf:!0}),this._items=i.map(AV)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(n){const i=new tu([n]);return i._items=[...this._items,...i._items],i}getItem(n){return this._items[n]}*getNames(){yield*this._items.map(n=>n.name)}endsWith(n){return Array.from(this.getNames()).join(" ").endsWith(n)}startsWith(n){return Array.from(this.getNames()).join(" ").startsWith(n)}}function fV(c,n){const i={name:n,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(s,l){for(const u of s){const h=Object.keys(u).filter(p=>p.startsWith("is"));for(const p of h)l[p]=!!u[p]}}(c,i),nu(c,i,"allowIn"),nu(c,i,"allowContentOf"),nu(c,i,"allowWhere"),nu(c,i,"allowAttributes"),nu(c,i,"allowAttributesOf"),nu(c,i,"allowChildren"),nu(c,i,"inheritTypesFrom"),function(s,l){for(const u of s){const h=u.inheritAllFrom;h&&(l.allowContentOf.push(h),l.allowWhere.push(h),l.allowAttributesOf.push(h),l.inheritTypesFrom.push(h))}}(c,i),i}function pV(c,n){const i=c[n];for(const s of i.allowChildren){const l=c[s];l&&l.allowIn.push(n)}i.allowChildren.length=0}function gV(c,n){for(const i of c[n].allowContentOf)c[i]&&_V(c,i).forEach(s=>{s.allowIn.push(n)});delete c[n].allowContentOf}function mV(c,n){for(const i of c[n].allowWhere){const s=c[i];if(s){const l=s.allowIn;c[n].allowIn.push(...l)}}delete c[n].allowWhere}function kV(c,n){for(const i of c[n].allowAttributesOf){const s=c[i];if(s){const l=s.allowAttributes;c[n].allowAttributes.push(...l)}}delete c[n].allowAttributesOf}function bV(c,n){const i=c[n];for(const s of i.inheritTypesFrom){const l=c[s];if(l){const u=Object.keys(l).filter(h=>h.startsWith("is"));for(const h of u)h in i||(i[h]=l[h])}}delete i.inheritTypesFrom}function wV(c,n){const i=c[n],s=i.allowIn.filter(l=>c[l]);i.allowIn=Array.from(new Set(s))}function vV(c,n){const i=c[n];for(const s of i.allowIn)c[s].allowChildren.push(n)}function yV(c,n){const i=c[n];i.allowAttributes=Array.from(new Set(i.allowAttributes))}function nu(c,n,i){for(const s of c){const l=s[i];typeof l=="string"?n[i].push(l):Array.isArray(l)&&n[i].push(...l)}}function _V(c,n){const i=c[n];return(s=c,Object.keys(s).map(l=>s[l])).filter(l=>l.allowIn.includes(i.name));var s}function AV(c){return typeof c=="string"||c.is("documentFragment")?{name:typeof c=="string"?c:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:c.is("element")?c.name:"$text",*getAttributeKeys(){yield*c.getAttributeKeys()},getAttribute:n=>c.getAttribute(n)}}function GD(c,n,i){for(const s of n.getAttributeKeys())c.checkAttribute(n,s)||i.removeAttribute(s,n)}var CV=Object.defineProperty,xV=Object.defineProperties,EV=Object.getOwnPropertyDescriptors,YD=Object.getOwnPropertySymbols,SV=Object.prototype.hasOwnProperty,TV=Object.prototype.propertyIsEnumerable,KD=(c,n,i)=>n in c?CV(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i;class DV extends we(){constructor(n){var i;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(i=((s,l)=>{for(var u in l||(l={}))SV.call(l,u)&&KD(s,u,l[u]);if(YD)for(var u of YD(l))TV.call(l,u)&&KD(s,u,l[u]);return s})({},n),xV(i,EV({consumable:null,writer:null,store:null,convertItem:(s,l)=>this._convertItem(s,l),convertChildren:(s,l)=>this._convertChildren(s,l),safeInsert:(s,l)=>this._safeInsert(s,l),updateConversionResult:(s,l)=>this._updateConversionResult(s,l),splitToAllowedParent:(s,l)=>this._splitToAllowedParent(s,l),getSplitParts:s=>this._getSplitParts(s),keepEmptyElement:s=>this._keepEmptyElement(s)})))}convert(n,i,s=["$root"]){this.fire("viewCleanup",n),this._modelCursor=function(h,p){let g;for(const w of new tu(h)){const y={};for(const S of w.getAttributeKeys())y[S]=w.getAttribute(S);const C=p.createElement(w.name,y);g&&p.insert(C,g),g=ke._createAt(C,0)}return g}(s,i),this.conversionApi.writer=i,this.conversionApi.consumable=Jp.createFrom(n),this.conversionApi.store={};const{modelRange:l}=this._convertItem(n,this._modelCursor),u=i.createDocumentFragment();if(l){this._removeEmptyElements();for(const h of Array.from(this._modelCursor.parent.getChildren()))i.append(h,u);u.markers=function(h,p){const g=new Set,w=new Map,y=le._createIn(h).getItems();for(const C of y)C.is("element","$marker")&&g.add(C);for(const C of g){const S=C.getAttribute("data-name"),N=p.createPositionBefore(C);w.has(S)?w.get(S).end=N.clone():w.set(S,new le(N.clone())),p.remove(C)}return w}(u,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,u}_convertItem(n,i){const s={viewItem:n,modelCursor:i,modelRange:null};if(n.is("element")?this.fire(`element:${n.name}`,s,this.conversionApi):n.is("$text")?this.fire("text",s,this.conversionApi):this.fire("documentFragment",s,this.conversionApi),s.modelRange&&!(s.modelRange instanceof le))throw new V("view-conversion-dispatcher-incorrect-result",this);return{modelRange:s.modelRange,modelCursor:s.modelCursor}}_convertChildren(n,i){let s=i.is("position")?i:ke._createAt(i,0);const l=new le(s);for(const u of Array.from(n.getChildren())){const h=this._convertItem(u,s);h.modelRange instanceof le&&(l.end=h.modelRange.end,s=h.modelCursor)}return{modelRange:l,modelCursor:s}}_safeInsert(n,i){const s=this._splitToAllowedParent(n,i);return!!s&&(this.conversionApi.writer.insert(n,s.position),!0)}_updateConversionResult(n,i){const s=this._getSplitParts(n),l=this.conversionApi.writer;i.modelRange||(i.modelRange=l.createRange(l.createPositionBefore(n),l.createPositionAfter(s[s.length-1])));const u=this._cursorParents.get(n);i.modelCursor=u?l.createPositionAt(u,0):i.modelRange.end}_splitToAllowedParent(n,i){const{schema:s,writer:l}=this.conversionApi;let u=s.findAllowedParent(i,n);if(u){if(u===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(u)&&(u=null)}if(!u)return LD(i,n,s)?{position:BD(i,l)}:null;const h=this.conversionApi.writer.split(i,u),p=[];for(const w of h.range.getWalker())if(w.type=="elementEnd")p.push(w.item);else{const y=p.pop(),C=w.item;this._registerSplitPair(y,C)}const g=h.range.end.parent;return this._cursorParents.set(n,g),{position:h.position,cursorParent:g}}_registerSplitPair(n,i){this._splitParts.has(n)||this._splitParts.set(n,[n]);const s=this._splitParts.get(n);this._splitParts.set(i,s),s.push(i)}_getSplitParts(n){let i;return i=this._splitParts.has(n)?this._splitParts.get(n):[n],i}_keepEmptyElement(n){this._emptyElementsToKeep.add(n)}_removeEmptyElements(){let n=!1;for(const i of this._splitParts.keys())i.isEmpty&&!this._emptyElementsToKeep.has(i)&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),n=!0);n&&this._removeEmptyElements()}}class IV{getHtml(n){const i=document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(n),i.innerHTML}}class MV{constructor(n){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new wb(n,{renderingMode:"data"}),this.htmlWriter=new IV}toData(n){const i=this.domConverter.viewToDom(n);return this.htmlWriter.getHtml(i)}toView(n){const i=this._toDom(n);return this.domConverter.domToView(i,{skipComments:this.skipComments})}registerRawContentMatcher(n){this.domConverter.registerRawContentMatcher(n)}useFillerType(n){this.domConverter.blockFillerMode=n=="marked"?"markedNbsp":"nbsp"}_toDom(n){n.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(n=`<body>${n}</body>`);const i=this.domParser.parseFromString(n,"text/html"),s=i.createDocumentFragment(),l=i.body.childNodes;for(;l.length>0;)s.appendChild(l[0]);return s}}class NV extends we(){constructor(n,i){super(),this.model=n,this.mapper=new bD,this.downcastDispatcher=new _D({mapper:this.mapper,schema:n.schema}),this.downcastDispatcher.on("insert:$text",(s,l,u)=>{if(!u.consumable.consume(l.item,s.name))return;const h=u.writer,p=u.mapper.toViewPosition(l.range.start),g=h.createText(l.item.data);h.insert(p,g)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(s,l,u)=>{u.convertAttributes(l.item),l.reconversion||!l.item.is("element")||l.item.isEmpty||u.convertChildren(l.item)},{priority:"lowest"}),this.upcastDispatcher=new DV({schema:n.schema}),this.viewDocument=new mb(i),this.stylesProcessor=i,this.htmlProcessor=new MV(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new VT(this.viewDocument),this.upcastDispatcher.on("text",(s,l,{schema:u,consumable:h,writer:p})=>{let g=l.modelCursor;if(!h.test(l.viewItem))return;if(!u.checkChild(g,"$text")){if(!LD(g,"$text",u)||l.viewItem.data.trim().length==0)return;const y=g.nodeBefore;g=BD(g,p),y&&y.is("element","$marker")&&(p.move(p.createRangeOn(y),g),g=p.createPositionAfter(y))}h.consume(l.viewItem);const w=p.createText(l.viewItem.data);p.insert(w,g),l.modelRange=p.createRange(g,g.getShiftedBy(w.offsetSize)),l.modelCursor=l.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(s,l,u)=>{if(!l.modelRange&&u.consumable.consume(l.viewItem,{name:!0})){const{modelRange:h,modelCursor:p}=u.convertChildren(l.viewItem,l.modelCursor);l.modelRange=h,l.modelCursor=p}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(s,l,u)=>{if(!l.modelRange&&u.consumable.consume(l.viewItem,{name:!0})){const{modelRange:h,modelCursor:p}=u.convertChildren(l.viewItem,l.modelCursor);l.modelRange=h,l.modelCursor=p}},{priority:"lowest"}),ut().prototype.decorate.call(this,"init"),ut().prototype.decorate.call(this,"set"),ut().prototype.decorate.call(this,"get"),ut().prototype.decorate.call(this,"toView"),ut().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},RD)},{priority:"lowest"})}get(n={}){const{rootName:i="main",trim:s="empty"}=n;if(!this._checkIfRootsExists([i]))throw new V("datacontroller-get-non-existent-root",this);const l=this.model.document.getRoot(i);return l.isAttached()||se("datacontroller-get-detached-root",this),s!=="empty"||this.model.hasContent(l,{ignoreWhitespaces:!0})?this.stringify(l,n):""}stringify(n,i={}){const s=this.toView(n,i);return this.processor.toData(s)}toView(n,i={}){const s=this.viewDocument,l=this._viewWriter;this.mapper.clearBindings();const u=le._createIn(n),h=new Jl(s);this.mapper.bindElements(n,h);const p=n.is("documentFragment")?n.markers:function(g){const w=[],y=g.root.document;if(!y)return new Map;const C=le._createIn(g);for(const S of y.model.markers){const N=S.getRange(),P=N.isCollapsed,j=N.start.isEqual(C.start)||N.end.isEqual(C.end);if(P&&j)w.push([S.name,N]);else{const H=C.getIntersection(N);H&&w.push([S.name,H])}}return w.sort(([S,N],[P,j])=>{if(N.end.compareWith(j.start)!=="after")return 1;if(N.start.compareWith(j.end)!=="before")return-1;switch(N.start.compareWith(j.start)){case"before":return 1;case"after":return-1;default:switch(N.end.compareWith(j.end)){case"before":return 1;case"after":return-1;default:return P.localeCompare(S)}}}),new Map(w)}(n);return this.downcastDispatcher.convert(u,p,l,i),h}init(n){if(this.model.document.version)throw new V("datacontroller-init-document-not-empty",this);let i={};if(typeof n=="string"?i.main=n:i=n,!this._checkIfRootsExists(Object.keys(i)))throw new V("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},s=>{for(const l of Object.keys(i)){const u=this.model.document.getRoot(l);s.insert(this.parse(i[l],u),u,0)}}),Promise.resolve()}set(n,i={}){let s={};if(typeof n=="string"?s.main=n:s=n,!this._checkIfRootsExists(Object.keys(s)))throw new V("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},l=>{l.setSelection(null),l.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const u of Object.keys(s)){const h=this.model.document.getRoot(u);l.remove(l.createRangeIn(h)),l.insert(this.parse(s[u],h),h,0)}})}parse(n,i="$root"){const s=this.processor.toView(n);return this.toModel(s,i)}toModel(n,i="$root"){return this.model.change(s=>this.upcastDispatcher.convert(n,s,i))}addStyleProcessorRules(n){n(this.stylesProcessor)}registerRawContentMatcher(n){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(n),this.htmlProcessor.registerRawContentMatcher(n)}destroy(){this.stopListening()}_checkIfRootsExists(n){for(const i of n)if(!this.model.document.getRoot(i))return!1;return!0}}class PV{constructor(n,i){this._helpers=new Map,this._downcast=qn(n),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=qn(i),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(n,i){const s=this._downcast.includes(i);if(!this._upcast.includes(i)&&!s)throw new V("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:n,dispatchers:[i],isDowncast:s})}for(n){if(!this._helpers.has(n))throw new V("conversion-for-unknown-group",this);return this._helpers.get(n)}elementToElement(n){this.for("downcast").elementToElement(n);for(const{model:i,view:s}of Z_(n))this.for("upcast").elementToElement({model:i,view:s,converterPriority:n.converterPriority})}attributeToElement(n){this.for("downcast").attributeToElement(n);for(const{model:i,view:s}of Z_(n))this.for("upcast").elementToAttribute({view:s,model:i,converterPriority:n.converterPriority})}attributeToAttribute(n){this.for("downcast").attributeToAttribute(n);for(const{model:i,view:s}of Z_(n))this.for("upcast").attributeToAttribute({view:s,model:i})}_createConversionHelpers({name:n,dispatchers:i,isDowncast:s}){if(this._helpers.has(n))throw new V("conversion-group-exists",this);const l=s?new eV(i):new cV(i);this._helpers.set(n,l)}}function*Z_(c){if(c.model.values)for(const n of c.model.values){const i={key:c.model.key,value:n},s=c.view[n],l=c.upcastAlso?c.upcastAlso[n]:void 0;yield*QD(i,s,l)}else yield*QD(c.model,c.view,c.upcastAlso)}function*QD(c,n,i){if(yield{model:c,view:n},i)for(const s of qn(i))yield{model:c,view:s}}class Li{constructor(n){this.baseVersion=n,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const n=Object.assign({},this);return n.__className=this.constructor.className,delete n.batch,delete n.isDocumentOperation,n}static get className(){return"Operation"}static fromJSON(n,i){return new this(n.baseVersion)}}function J_(c,n){const i=JD(n),s=i.reduce((h,p)=>h+p.offsetSize,0),l=c.parent;tg(c);const u=c.index;return l._insertChild(u,i),eg(l,u+i.length),eg(l,u),new le(c,c.getShiftedBy(s))}function ZD(c){if(!c.isFlat)throw new V("operation-utils-remove-range-not-flat",this);const n=c.start.parent;tg(c.start),tg(c.end);const i=n._removeChildren(c.start.index,c.end.index-c.start.index);return eg(n,c.start.index),i}function Xp(c,n){if(!c.isFlat)throw new V("operation-utils-move-range-not-flat",this);const i=ZD(c);return J_(n=n._getTransformedByDeletion(c.start,c.end.offset-c.start.offset),i)}function JD(c){const n=[];(function i(s){if(typeof s=="string")n.push(new nn(s));else if(s instanceof Fo)n.push(new nn(s.data,s.getAttributes()));else if(s instanceof Xl)n.push(s);else if(Ie(s))for(const l of s)i(l)})(c);for(let i=1;i<n.length;i++){const s=n[i],l=n[i-1];s instanceof nn&&l instanceof nn&&XD(s,l)&&(n.splice(i-1,2,new nn(l.data+s.data,l.getAttributes())),i--)}return n}function eg(c,n){const i=c.getChild(n-1),s=c.getChild(n);if(i&&s&&i.is("$text")&&s.is("$text")&&XD(i,s)){const l=new nn(i.data+s.data,i.getAttributes());c._removeChildren(n-1,2),c._insertChild(n-1,l)}}function tg(c){const n=c.textNode,i=c.parent;if(n){const s=c.offset-n.startOffset,l=n.index;i._removeChildren(l,1);const u=new nn(n.data.substr(0,s),n.getAttributes()),h=new nn(n.data.substr(s),n.getAttributes());i._insertChild(l,[u,h])}}function XD(c,n){const i=c.getAttributes(),s=n.getAttributes();for(const l of i){if(l[1]!==n.getAttribute(l[0]))return!1;s.next()}return s.next().done}class Ot extends Li{constructor(n,i,s,l){super(l),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[le._createFromPositionAndShift(this.sourcePosition,this.howMany),le._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Ot(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const n=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Ot(this.getMovedRangeStart(),this.howMany,n,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,i=this.targetPosition.parent,s=this.sourcePosition.offset,l=this.targetPosition.offset;if(s+this.howMany>n.maxOffset)throw new V("move-operation-nodes-do-not-exist",this);if(n===i&&s<l&&l<s+this.howMany)throw new V("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Ae(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const u=this.sourcePosition.path.length-1;if(this.targetPosition.path[u]>=s&&this.targetPosition.path[u]<s+this.howMany)throw new V("move-operation-node-into-itself",this)}}_execute(){Xp(le._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n.targetPosition=this.targetPosition.toJSON(),n}static get className(){return"MoveOperation"}static fromJSON(n,i){const s=ke.fromJSON(n.sourcePosition,i),l=ke.fromJSON(n.targetPosition,i);return new this(s,n.howMany,l,n.baseVersion)}}class pr extends Li{constructor(n,i,s){super(s),this.position=n.clone(),this.position.stickiness="toNone",this.nodes=new Yp(JD(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const n=new Yp([...this.nodes].map(s=>s._clone(!0))),i=new pr(this.position,n,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const n=this.position.root.document.graveyard,i=new ke(n,[0]);return new Ot(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const n=this.position.parent;if(!n||n.maxOffset<this.position.offset)throw new V("insert-operation-position-invalid",this)}_execute(){const n=this.nodes;this.nodes=new Yp([...n].map(i=>i._clone(!0))),J_(this.position,n)}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n.nodes=this.nodes.toJSON(),n}static get className(){return"InsertOperation"}static fromJSON(n,i){const s=[];for(const u of n.nodes)u.name?s.push(Yt.fromJSON(u)):s.push(nn.fromJSON(u));const l=new pr(ke.fromJSON(n.position,i),s,n.baseVersion);return l.shouldReceiveAttributes=n.shouldReceiveAttributes,l}}class rn extends Li{constructor(n,i,s,l,u){super(u),this.splitPosition=n.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=s,this.graveyardPosition=l?l.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const n=this.insertionPosition.path.slice();return n.push(0),new ke(this.insertionPosition.root,n)}get movedRange(){const n=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new le(this.splitPosition,n)}get affectedSelectable(){const n=[le._createFromPositionAndShift(this.splitPosition,0),le._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&n.push(le._createFromPositionAndShift(this.graveyardPosition,0)),n}clone(){return new rn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.splitPosition.root.document.graveyard,i=new ke(n,[0]);return new Nn(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const n=this.splitPosition.parent,i=this.splitPosition.offset;if(!n||n.maxOffset<i)throw new V("split-operation-position-invalid",this);if(!n.parent)throw new V("split-operation-split-in-root",this);if(this.howMany!=n.maxOffset-this.splitPosition.offset)throw new V("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new V("split-operation-graveyard-position-invalid",this)}_execute(){const n=this.splitPosition.parent;if(this.graveyardPosition)Xp(le._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=n._clone();J_(this.insertionPosition,i)}Xp(new le(ke._createAt(n,this.splitPosition.offset),ke._createAt(n,n.maxOffset)),this.moveTargetPosition)}toJSON(){const n=super.toJSON();return n.splitPosition=this.splitPosition.toJSON(),n.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(n.graveyardPosition=this.graveyardPosition.toJSON()),n}static get className(){return"SplitOperation"}static getInsertionPosition(n){const i=n.path.slice(0,-1);return i[i.length-1]++,new ke(n.root,i,"toPrevious")}static fromJSON(n,i){const s=ke.fromJSON(n.splitPosition,i),l=ke.fromJSON(n.insertionPosition,i),u=n.graveyardPosition?ke.fromJSON(n.graveyardPosition,i):null;return new this(s,n.howMany,l,u,n.baseVersion)}}class Nn extends Li{constructor(n,i,s,l,u){super(u),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=l.clone()}get type(){return"merge"}get deletionPosition(){return new ke(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const n=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new le(this.sourcePosition,n)}get affectedSelectable(){const n=this.sourcePosition.parent;return[le._createOn(n),le._createFromPositionAndShift(this.targetPosition,0),le._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Nn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),s=new ke(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new rn(n,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,i=this.targetPosition.parent;if(!n.parent)throw new V("merge-operation-source-position-invalid",this);if(!i.parent)throw new V("merge-operation-target-position-invalid",this);if(this.howMany!=n.maxOffset)throw new V("merge-operation-how-many-invalid",this)}_execute(){const n=this.sourcePosition.parent;Xp(le._createIn(n),this.targetPosition),Xp(le._createOn(n),this.graveyardPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=n.sourcePosition.toJSON(),n.targetPosition=n.targetPosition.toJSON(),n.graveyardPosition=n.graveyardPosition.toJSON(),n}static get className(){return"MergeOperation"}static fromJSON(n,i){const s=ke.fromJSON(n.sourcePosition,i),l=ke.fromJSON(n.targetPosition,i),u=ke.fromJSON(n.graveyardPosition,i);return new this(s,n.howMany,l,u,n.baseVersion)}}class fi extends Li{constructor(n,i,s,l,u,h){super(h),this.name=n,this.oldRange=i?i.clone():null,this.newRange=s?s.clone():null,this.affectsData=u,this._markers=l}get type(){return"marker"}get affectedSelectable(){const n=[];return this.oldRange&&n.push(this.oldRange.clone()),this.newRange&&(this.oldRange?n.push(...this.newRange.getDifference(this.oldRange)):n.push(this.newRange.clone())),n}clone(){return new fi(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new fi(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const n=super.toJSON();return this.oldRange&&(n.oldRange=this.oldRange.toJSON()),this.newRange&&(n.newRange=this.newRange.toJSON()),delete n._markers,n}static get className(){return"MarkerOperation"}static fromJSON(n,i){return new fi(n.name,n.oldRange?le.fromJSON(n.oldRange,i):null,n.newRange?le.fromJSON(n.newRange,i):null,i.model.markers,n.affectsData,n.baseVersion)}}const eI=function(c,n){return dD(c,n)};class zn extends Li{constructor(n,i,s,l,u){super(u),this.range=n.clone(),this.key=i,this.oldValue=s===void 0?null:s,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new zn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new zn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const n=super.toJSON();return n.range=this.range.toJSON(),n}_validate(){if(!this.range.isFlat)throw new V("attribute-operation-range-not-flat",this);for(const n of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!eI(n.getAttribute(this.key),this.oldValue))throw new V("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&n.hasAttribute(this.key))throw new V("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}_execute(){eI(this.oldValue,this.newValue)||function(n,i,s){tg(n.start),tg(n.end);for(const l of n.getItems({shallow:!0})){const u=l.is("$textProxy")?l.textNode:l;s!==null?u._setAttribute(i,s):u._removeAttribute(i),eg(u.parent,u.index)}eg(n.end.parent,n.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(n,i){return new zn(le.fromJSON(n.range,i),n.key,n.oldValue,n.newValue,n.baseVersion)}}class Yn extends Li{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Yn(this.baseVersion)}getReversed(){return new Yn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class pi extends Li{constructor(n,i,s,l){super(l),this.position=n,this.position.stickiness="toNext",this.oldName=i,this.newName=s}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new pi(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new pi(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const n=this.position.nodeAfter;if(!(n instanceof Yt))throw new V("rename-operation-wrong-position",this);if(n.name!==this.oldName)throw new V("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n}static get className(){return"RenameOperation"}static fromJSON(n,i){return new pi(ke.fromJSON(n.position,i),n.oldName,n.newName,n.baseVersion)}}class ka extends Li{constructor(n,i,s,l,u){super(u),this.root=n,this.key=i,this.oldValue=s===void 0?null:s,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new ka(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ka(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new V("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new V("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new V("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const n=super.toJSON();return n.root=this.root.toJSON(),n}static get className(){return"RootAttributeOperation"}static fromJSON(n,i){if(!i.getRoot(n.root))throw new V("rootattribute-operation-fromjson-no-root",this,{rootName:n.root});return new ka(i.getRoot(n.root),n.key,n.oldValue,n.newValue,n.baseVersion)}}class Ps extends Li{constructor(n,i,s,l,u){super(u),this.rootName=n,this.elementName=i,this.isAdd=s,this._document=l,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Ps(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Ps(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const n=super.toJSON();return delete n._document,n}static get className(){return"RootOperation"}static fromJSON(n,i){return new Ps(n.rootName,n.elementName,n.isAdd,i,n.baseVersion)}}const go={};go[zn.className]=zn,go[pr.className]=pr,go[fi.className]=fi,go[Ot.className]=Ot,go[Yn.className]=Yn,go[Li.className]=Li,go[pi.className]=pi,go[ka.className]=ka,go[Ps.className]=Ps,go[rn.className]=rn,go[Nn.className]=Nn;class OV{static fromJSON(n,i){return go[n.__className].fromJSON(n,i)}}const X_=new Map;function Tt(c,n,i){let s=X_.get(c);s||(s=new Map,X_.set(c,s)),s.set(n,i)}function RV(c){return[c]}function tI(c,n,i={}){const s=function(l,u){const h=X_.get(l);return h&&h.has(u)?h.get(u):RV}(c.constructor,n.constructor);try{return s(c=c.clone(),n,i)}catch(l){throw l}}function LV(c,n,i){c=c.slice(),n=n.slice();const s=new BV(i.document,i.useRelations,i.forceWeakRemove);s.setOriginalOperations(c),s.setOriginalOperations(n);const l=s.originalOperations;if(c.length==0||n.length==0)return{operationsA:c,operationsB:n,originalOperations:l};const u=new WeakMap;for(const g of c)u.set(g,0);const h={nextBaseVersionA:c[c.length-1].baseVersion+1,nextBaseVersionB:n[n.length-1].baseVersion+1,originalOperationsACount:c.length,originalOperationsBCount:n.length};let p=0;for(;p<c.length;){const g=c[p],w=u.get(g);if(w==n.length){p++;continue}const y=n[w],C=tI(g,y,s.getContext(g,y,!0)),S=tI(y,g,s.getContext(y,g,!1));s.updateRelation(g,y),s.setOriginalOperations(C,g),s.setOriginalOperations(S,y);for(const N of C)u.set(N,w+S.length);c.splice(p,1,...C),n.splice(w,1,...S)}if(i.padWithNoOps){const g=c.length-h.originalOperationsACount,w=n.length-h.originalOperationsBCount;rI(c,w-g),rI(n,g-w)}return nI(c,h.nextBaseVersionB),nI(n,h.nextBaseVersionA),{operationsA:c,operationsB:n,originalOperations:l}}class BV{constructor(n,i,s=!1){this.originalOperations=new Map,this._history=n.history,this._useRelations=i,this._forceWeakRemove=!!s,this._relations=new Map}setOriginalOperations(n,i=null){const s=i?this.originalOperations.get(i):null;for(const l of n)this.originalOperations.set(l,s||l)}updateRelation(n,i){if(n instanceof Ot)i instanceof Nn?n.targetPosition.isEqual(i.sourcePosition)||i.movedRange.containsPosition(n.targetPosition)?this._setRelation(n,i,"insertAtSource"):n.targetPosition.isEqual(i.deletionPosition)?this._setRelation(n,i,"insertBetween"):n.targetPosition.isAfter(i.sourcePosition)&&this._setRelation(n,i,"moveTargetAfter"):i instanceof Ot&&(n.targetPosition.isEqual(i.sourcePosition)||n.targetPosition.isBefore(i.sourcePosition)?this._setRelation(n,i,"insertBefore"):this._setRelation(n,i,"insertAfter"));else if(n instanceof rn){if(i instanceof Nn)n.splitPosition.isBefore(i.sourcePosition)&&this._setRelation(n,i,"splitBefore");else if(i instanceof Ot)if(n.splitPosition.isEqual(i.sourcePosition)||n.splitPosition.isBefore(i.sourcePosition))this._setRelation(n,i,"splitBefore");else{const s=le._createFromPositionAndShift(i.sourcePosition,i.howMany);if(n.splitPosition.hasSameParentAs(i.sourcePosition)&&s.containsPosition(n.splitPosition)){const l=s.end.offset-n.splitPosition.offset,u=n.splitPosition.offset-s.start.offset;this._setRelation(n,i,{howMany:l,offset:u})}}}else if(n instanceof Nn)i instanceof Nn?(n.targetPosition.isEqual(i.sourcePosition)||this._setRelation(n,i,"mergeTargetNotMoved"),n.sourcePosition.isEqual(i.targetPosition)&&this._setRelation(n,i,"mergeSourceNotMoved"),n.sourcePosition.isEqual(i.sourcePosition)&&this._setRelation(n,i,"mergeSameElement")):i instanceof rn&&n.sourcePosition.isEqual(i.splitPosition)&&this._setRelation(n,i,"splitAtSource");else if(n instanceof fi){const s=n.newRange;if(!s)return;if(i instanceof Ot){const l=le._createFromPositionAndShift(i.sourcePosition,i.howMany),u=l.containsPosition(s.start)||l.start.isEqual(s.start),h=l.containsPosition(s.end)||l.end.isEqual(s.end);!u&&!h||l.containsRange(s)||this._setRelation(n,i,{side:u?"left":"right",path:u?s.start.path.slice():s.end.path.slice()})}else if(i instanceof Nn){const l=s.start.isEqual(i.targetPosition),u=s.start.isEqual(i.deletionPosition),h=s.end.isEqual(i.deletionPosition),p=s.end.isEqual(i.sourcePosition);(l||u||h||p)&&this._setRelation(n,i,{wasInLeftElement:l,wasStartBeforeMergedElement:u,wasEndBeforeMergedElement:h,wasInRightElement:p})}}}getContext(n,i,s){return{aIsStrong:s,aWasUndone:this._wasUndone(n),bWasUndone:this._wasUndone(i),abRelation:this._useRelations?this._getRelation(n,i):null,baRelation:this._useRelations?this._getRelation(i,n):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(n){const i=this.originalOperations.get(n);return i.wasUndone||this._history.isUndoneOperation(i)}_getRelation(n,i){const s=this.originalOperations.get(i),l=this._history.getUndoneOperation(s);if(!l)return null;const u=this.originalOperations.get(n),h=this._relations.get(u);return h&&h.get(l)||null}_setRelation(n,i,s){const l=this.originalOperations.get(n),u=this.originalOperations.get(i);let h=this._relations.get(l);h||(h=new Map,this._relations.set(l,h)),h.set(u,s)}}function nI(c,n){for(const i of c)i.baseVersion=n++}function rI(c,n){for(let i=0;i<n;i++)c.push(new Yn(0))}function iI(c,n,i){const s=c.nodes.getNode(0).getAttribute(n);if(s==i)return null;const l=new le(c.position,c.position.getShiftedBy(c.howMany));return new zn(l,n,s,i,0)}function oI(c,n){return c.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany)===null}function nh(c,n){const i=[];for(let s=0;s<c.length;s++){const l=c[s],u=new Ot(l.start,l.end.offset-l.start.offset,n,0);i.push(u);for(let h=s+1;h<c.length;h++)c[h]=c[h]._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)[0];n=n._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)}return i}Tt(zn,zn,(c,n,i)=>{if(c.key===n.key&&c.range.start.hasSameParentAs(n.range.start)){const s=c.range.getDifference(n.range).map(u=>new zn(u,c.key,c.oldValue,c.newValue,0)),l=c.range.getIntersection(n.range);return l&&i.aIsStrong&&s.push(new zn(l,n.key,n.newValue,c.newValue,0)),s.length==0?[new Yn(0)]:s}return[c]}),Tt(zn,pr,(c,n)=>{if(c.range.start.hasSameParentAs(n.position)&&c.range.containsPosition(n.position)){const i=c.range._getTransformedByInsertion(n.position,n.howMany,!n.shouldReceiveAttributes).map(s=>new zn(s,c.key,c.oldValue,c.newValue,c.baseVersion));if(n.shouldReceiveAttributes){const s=iI(n,c.key,c.oldValue);s&&i.unshift(s)}return i}return c.range=c.range._getTransformedByInsertion(n.position,n.howMany,!1)[0],[c]}),Tt(zn,Nn,(c,n)=>{const i=[];c.range.start.hasSameParentAs(n.deletionPosition)&&(c.range.containsPosition(n.deletionPosition)||c.range.start.isEqual(n.deletionPosition))&&i.push(le._createFromPositionAndShift(n.graveyardPosition,1));const s=c.range._getTransformedByMergeOperation(n);return s.isCollapsed||i.push(s),i.map(l=>new zn(l,c.key,c.oldValue,c.newValue,c.baseVersion))}),Tt(zn,Ot,(c,n)=>function(s,l){const u=le._createFromPositionAndShift(l.sourcePosition,l.howMany);let h=null,p=[];u.containsRange(s,!0)?h=s:s.start.hasSameParentAs(u.start)?(p=s.getDifference(u),h=s.getIntersection(u)):p=[s];const g=[];for(let w of p){w=w._getTransformedByDeletion(l.sourcePosition,l.howMany);const y=l.getMovedRangeStart(),C=w.start.hasSameParentAs(y),S=w._getTransformedByInsertion(y,l.howMany,C);g.push(...S)}return h&&g.push(h._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany,!1)[0]),g}(c.range,n).map(s=>new zn(s,c.key,c.oldValue,c.newValue,c.baseVersion))),Tt(zn,rn,(c,n)=>{if(c.range.end.isEqual(n.insertionPosition))return n.graveyardPosition||c.range.end.offset++,[c];if(c.range.start.hasSameParentAs(n.splitPosition)&&c.range.containsPosition(n.splitPosition)){const i=c.clone();return i.range=new le(n.moveTargetPosition.clone(),c.range.end._getCombined(n.splitPosition,n.moveTargetPosition)),c.range.end=n.splitPosition.clone(),c.range.end.stickiness="toPrevious",[c,i]}return c.range=c.range._getTransformedBySplitOperation(n),[c]}),Tt(pr,zn,(c,n)=>{const i=[c];if(c.shouldReceiveAttributes&&c.position.hasSameParentAs(n.range.start)&&n.range.containsPosition(c.position)){const s=iI(c,n.key,n.newValue);s&&i.push(s)}return i}),Tt(pr,pr,(c,n,i)=>(c.position.isEqual(n.position)&&i.aIsStrong||(c.position=c.position._getTransformedByInsertOperation(n)),[c])),Tt(pr,Ot,(c,n)=>(c.position=c.position._getTransformedByMoveOperation(n),[c])),Tt(pr,rn,(c,n)=>(c.position=c.position._getTransformedBySplitOperation(n),[c])),Tt(pr,Nn,(c,n)=>(c.position=c.position._getTransformedByMergeOperation(n),[c])),Tt(fi,pr,(c,n)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByInsertOperation(n)[0]),c.newRange&&(c.newRange=c.newRange._getTransformedByInsertOperation(n)[0]),[c])),Tt(fi,fi,(c,n,i)=>{if(c.name==n.name){if(!i.aIsStrong)return[new Yn(0)];c.oldRange=n.newRange?n.newRange.clone():null}return[c]}),Tt(fi,Nn,(c,n)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByMergeOperation(n)),c.newRange&&(c.newRange=c.newRange._getTransformedByMergeOperation(n)),[c])),Tt(fi,Ot,(c,n,i)=>{if(c.oldRange&&(c.oldRange=le._createFromRanges(c.oldRange._getTransformedByMoveOperation(n))),c.newRange){if(i.abRelation){const s=le._createFromRanges(c.newRange._getTransformedByMoveOperation(n));if(i.abRelation.side=="left"&&n.targetPosition.isEqual(c.newRange.start))return c.newRange.end=s.end,c.newRange.start.path=i.abRelation.path,[c];if(i.abRelation.side=="right"&&n.targetPosition.isEqual(c.newRange.end))return c.newRange.start=s.start,c.newRange.end.path=i.abRelation.path,[c]}c.newRange=le._createFromRanges(c.newRange._getTransformedByMoveOperation(n))}return[c]}),Tt(fi,rn,(c,n,i)=>{if(c.oldRange&&(c.oldRange=c.oldRange._getTransformedBySplitOperation(n)),c.newRange){if(i.abRelation){const s=c.newRange._getTransformedBySplitOperation(n);return c.newRange.start.isEqual(n.splitPosition)&&i.abRelation.wasStartBeforeMergedElement?c.newRange.start=ke._createAt(n.insertionPosition):c.newRange.start.isEqual(n.splitPosition)&&!i.abRelation.wasInLeftElement&&(c.newRange.start=ke._createAt(n.moveTargetPosition)),c.newRange.end.isEqual(n.splitPosition)&&i.abRelation.wasInRightElement?c.newRange.end=ke._createAt(n.moveTargetPosition):c.newRange.end.isEqual(n.splitPosition)&&i.abRelation.wasEndBeforeMergedElement?c.newRange.end=ke._createAt(n.insertionPosition):c.newRange.end=s.end,[c]}c.newRange=c.newRange._getTransformedBySplitOperation(n)}return[c]}),Tt(Nn,pr,(c,n)=>(c.sourcePosition.hasSameParentAs(n.position)&&(c.howMany+=n.howMany),c.sourcePosition=c.sourcePosition._getTransformedByInsertOperation(n),c.targetPosition=c.targetPosition._getTransformedByInsertOperation(n),[c])),Tt(Nn,Nn,(c,n,i)=>{if(c.sourcePosition.isEqual(n.sourcePosition)&&c.targetPosition.isEqual(n.targetPosition)){if(i.bWasUndone){const s=n.graveyardPosition.path.slice();return s.push(0),c.sourcePosition=new ke(n.graveyardPosition.root,s),c.howMany=0,[c]}return[new Yn(0)]}if(c.sourcePosition.isEqual(n.sourcePosition)&&!c.targetPosition.isEqual(n.targetPosition)&&!i.bWasUndone&&i.abRelation!="splitAtSource"){const s=c.targetPosition.root.rootName=="$graveyard",l=n.targetPosition.root.rootName=="$graveyard";if(l&&!s||!(s&&!l)&&i.aIsStrong){const u=n.targetPosition._getTransformedByMergeOperation(n),h=c.targetPosition._getTransformedByMergeOperation(n);return[new Ot(u,c.howMany,h,0)]}return[new Yn(0)]}return c.sourcePosition.hasSameParentAs(n.targetPosition)&&(c.howMany+=n.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMergeOperation(n),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(n),c.graveyardPosition.isEqual(n.graveyardPosition)&&i.aIsStrong||(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(n)),[c]}),Tt(Nn,Ot,(c,n,i)=>{const s=le._createFromPositionAndShift(n.sourcePosition,n.howMany);return n.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove&&c.deletionPosition.hasSameParentAs(n.sourcePosition)&&s.containsPosition(c.sourcePosition)?[new Yn(0)]:(c.sourcePosition.hasSameParentAs(n.targetPosition)&&(c.howMany+=n.howMany),c.sourcePosition.hasSameParentAs(n.sourcePosition)&&(c.howMany-=n.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMoveOperation(n),c.targetPosition=c.targetPosition._getTransformedByMoveOperation(n),c.graveyardPosition.isEqual(n.targetPosition)||(c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(n)),[c])}),Tt(Nn,rn,(c,n,i)=>{if(n.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByDeletion(n.graveyardPosition,1),c.deletionPosition.isEqual(n.graveyardPosition)&&(c.howMany=n.howMany)),c.targetPosition.isEqual(n.splitPosition)){const s=n.howMany!=0,l=n.graveyardPosition&&c.deletionPosition.isEqual(n.graveyardPosition);if(s||l||i.abRelation=="mergeTargetNotMoved")return c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(n),[c]}if(c.sourcePosition.isEqual(n.splitPosition)){if(i.abRelation=="mergeSourceNotMoved")return c.howMany=0,c.targetPosition=c.targetPosition._getTransformedBySplitOperation(n),[c];if(i.abRelation=="mergeSameElement"||c.sourcePosition.offset>0)return c.sourcePosition=n.moveTargetPosition.clone(),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(n),[c]}return c.sourcePosition.hasSameParentAs(n.splitPosition)&&(c.howMany=n.splitPosition.offset),c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(n),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(n),[c]}),Tt(Ot,pr,(c,n)=>{const i=le._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByInsertOperation(n,!1)[0];return c.sourcePosition=i.start,c.howMany=i.end.offset-i.start.offset,c.targetPosition.isEqual(n.position)||(c.targetPosition=c.targetPosition._getTransformedByInsertOperation(n)),[c]}),Tt(Ot,Ot,(c,n,i)=>{const s=le._createFromPositionAndShift(c.sourcePosition,c.howMany),l=le._createFromPositionAndShift(n.sourcePosition,n.howMany);let u,h=i.aIsStrong,p=!i.aIsStrong;if(i.abRelation=="insertBefore"||i.baRelation=="insertAfter"?p=!0:i.abRelation!="insertAfter"&&i.baRelation!="insertBefore"||(p=!1),u=c.targetPosition.isEqual(n.targetPosition)&&p?c.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany):c.targetPosition._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),oI(c,n)&&oI(n,c))return[n.getReversed()];if(s.containsPosition(n.targetPosition)&&s.containsRange(l,!0))return s.start=s.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),s.end=s.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),nh([s],u);if(l.containsPosition(c.targetPosition)&&l.containsRange(s,!0))return s.start=s.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),s.end=s.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),nh([s],u);const g=Ae(c.sourcePosition.getParentPath(),n.sourcePosition.getParentPath());if(g=="prefix"||g=="extension")return s.start=s.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),s.end=s.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),nh([s],u);c.type!="remove"||n.type=="remove"||i.aWasUndone||i.forceWeakRemove?c.type=="remove"||n.type!="remove"||i.bWasUndone||i.forceWeakRemove||(h=!1):h=!0;const w=[],y=s.getDifference(l);for(const S of y){S.start=S.start._getTransformedByDeletion(n.sourcePosition,n.howMany),S.end=S.end._getTransformedByDeletion(n.sourcePosition,n.howMany);const N=Ae(S.start.getParentPath(),n.getMovedRangeStart().getParentPath())=="same",P=S._getTransformedByInsertion(n.getMovedRangeStart(),n.howMany,N);w.push(...P)}const C=s.getIntersection(l);return C!==null&&h&&(C.start=C.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),C.end=C.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),w.length===0?w.push(C):w.length==1?l.start.isBefore(s.start)||l.start.isEqual(s.start)?w.unshift(C):w.push(C):w.splice(1,0,C)),w.length===0?[new Yn(c.baseVersion)]:nh(w,u)}),Tt(Ot,rn,(c,n,i)=>{let s=c.targetPosition.clone();c.targetPosition.isEqual(n.insertionPosition)&&n.graveyardPosition&&i.abRelation!="moveTargetAfter"||(s=c.targetPosition._getTransformedBySplitOperation(n));const l=le._createFromPositionAndShift(c.sourcePosition,c.howMany);if(l.end.isEqual(n.insertionPosition))return n.graveyardPosition||c.howMany++,c.targetPosition=s,[c];if(l.start.hasSameParentAs(n.splitPosition)&&l.containsPosition(n.splitPosition)){let h=new le(n.splitPosition,l.end);return h=h._getTransformedBySplitOperation(n),nh([new le(l.start,n.splitPosition),h],s)}c.targetPosition.isEqual(n.splitPosition)&&i.abRelation=="insertAtSource"&&(s=n.moveTargetPosition),c.targetPosition.isEqual(n.insertionPosition)&&i.abRelation=="insertBetween"&&(s=c.targetPosition);const u=[l._getTransformedBySplitOperation(n)];if(n.graveyardPosition){const h=l.start.isEqual(n.graveyardPosition)||l.containsPosition(n.graveyardPosition);c.howMany>1&&h&&!i.aWasUndone&&u.push(le._createFromPositionAndShift(n.insertionPosition,1))}return nh(u,s)}),Tt(Ot,Nn,(c,n,i)=>{const s=le._createFromPositionAndShift(c.sourcePosition,c.howMany);if(n.deletionPosition.hasSameParentAs(c.sourcePosition)&&s.containsPosition(n.sourcePosition)){if(c.type!="remove"||i.forceWeakRemove){if(c.howMany==1)return i.bWasUndone?(c.sourcePosition=n.graveyardPosition.clone(),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(n),[c]):[new Yn(0)]}else if(!i.aWasUndone){const u=[];let h=n.graveyardPosition.clone(),p=n.targetPosition._getTransformedByMergeOperation(n);c.howMany>1&&(u.push(new Ot(c.sourcePosition,c.howMany-1,c.targetPosition,0)),h=h._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1),p=p._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1));const g=n.deletionPosition._getCombined(c.sourcePosition,c.targetPosition),w=new Ot(h,1,g,0),y=w.getMovedRangeStart().path.slice();y.push(0);const C=new ke(w.targetPosition.root,y);p=p._getTransformedByMove(h,g,1);const S=new Ot(p,n.howMany,C,0);return u.push(w),u.push(S),u}}const l=le._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByMergeOperation(n);return c.sourcePosition=l.start,c.howMany=l.end.offset-l.start.offset,c.targetPosition=c.targetPosition._getTransformedByMergeOperation(n),[c]}),Tt(pi,pr,(c,n)=>(c.position=c.position._getTransformedByInsertOperation(n),[c])),Tt(pi,Nn,(c,n)=>c.position.isEqual(n.deletionPosition)?(c.position=n.graveyardPosition.clone(),c.position.stickiness="toNext",[c]):(c.position=c.position._getTransformedByMergeOperation(n),[c])),Tt(pi,Ot,(c,n)=>(c.position=c.position._getTransformedByMoveOperation(n),[c])),Tt(pi,pi,(c,n,i)=>{if(c.position.isEqual(n.position)){if(!i.aIsStrong)return[new Yn(0)];c.oldName=n.newName}return[c]}),Tt(pi,rn,(c,n)=>{if(Ae(c.position.path,n.splitPosition.getParentPath())=="same"&&!n.graveyardPosition){const i=new pi(c.position.getShiftedBy(1),c.oldName,c.newName,0);return[c,i]}return c.position=c.position._getTransformedBySplitOperation(n),[c]}),Tt(ka,ka,(c,n,i)=>{if(c.root===n.root&&c.key===n.key){if(!i.aIsStrong||c.newValue===n.newValue)return[new Yn(0)];c.oldValue=n.newValue}return[c]}),Tt(Ps,Ps,(c,n)=>c.rootName===n.rootName&&c.isAdd===n.isAdd?[new Yn(0)]:[c]),Tt(rn,pr,(c,n)=>(c.splitPosition.hasSameParentAs(n.position)&&c.splitPosition.offset<n.position.offset&&(c.howMany+=n.howMany),c.splitPosition=c.splitPosition._getTransformedByInsertOperation(n),c.insertionPosition=c.insertionPosition._getTransformedByInsertOperation(n),[c])),Tt(rn,Nn,(c,n,i)=>{if(!c.graveyardPosition&&!i.bWasUndone&&c.splitPosition.hasSameParentAs(n.sourcePosition)){const s=n.graveyardPosition.path.slice();s.push(0);const l=new ke(n.graveyardPosition.root,s),u=rn.getInsertionPosition(new ke(n.graveyardPosition.root,s)),h=new rn(l,0,u,null,0);return c.splitPosition=c.splitPosition._getTransformedByMergeOperation(n),c.insertionPosition=rn.getInsertionPosition(c.splitPosition),c.graveyardPosition=h.insertionPosition.clone(),c.graveyardPosition.stickiness="toNext",[h,c]}return c.splitPosition.hasSameParentAs(n.deletionPosition)&&!c.splitPosition.isAfter(n.deletionPosition)&&c.howMany--,c.splitPosition.hasSameParentAs(n.targetPosition)&&(c.howMany+=n.howMany),c.splitPosition=c.splitPosition._getTransformedByMergeOperation(n),c.insertionPosition=rn.getInsertionPosition(c.splitPosition),c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(n)),[c]}),Tt(rn,Ot,(c,n,i)=>{const s=le._createFromPositionAndShift(n.sourcePosition,n.howMany);if(c.graveyardPosition){const u=s.start.isEqual(c.graveyardPosition)||s.containsPosition(c.graveyardPosition);if(!i.bWasUndone&&u){const h=c.splitPosition._getTransformedByMoveOperation(n),p=c.graveyardPosition._getTransformedByMoveOperation(n),g=p.path.slice();g.push(0);const w=new ke(p.root,g);return[new Ot(h,c.howMany,w,0)]}c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(n)}const l=c.splitPosition.isEqual(n.targetPosition);if(l&&(i.baRelation=="insertAtSource"||i.abRelation=="splitBefore"))return c.howMany+=n.howMany,c.splitPosition=c.splitPosition._getTransformedByDeletion(n.sourcePosition,n.howMany),c.insertionPosition=rn.getInsertionPosition(c.splitPosition),[c];if(l&&i.abRelation&&i.abRelation.howMany){const{howMany:u,offset:h}=i.abRelation;return c.howMany+=u,c.splitPosition=c.splitPosition.getShiftedBy(h),[c]}if(c.splitPosition.hasSameParentAs(n.sourcePosition)&&s.containsPosition(c.splitPosition)){const u=n.howMany-(c.splitPosition.offset-n.sourcePosition.offset);return c.howMany-=u,c.splitPosition.hasSameParentAs(n.targetPosition)&&c.splitPosition.offset<n.targetPosition.offset&&(c.howMany+=n.howMany),c.splitPosition=n.sourcePosition.clone(),c.insertionPosition=rn.getInsertionPosition(c.splitPosition),[c]}return n.sourcePosition.isEqual(n.targetPosition)||(c.splitPosition.hasSameParentAs(n.sourcePosition)&&c.splitPosition.offset<=n.sourcePosition.offset&&(c.howMany-=n.howMany),c.splitPosition.hasSameParentAs(n.targetPosition)&&c.splitPosition.offset<n.targetPosition.offset&&(c.howMany+=n.howMany)),c.splitPosition.stickiness="toNone",c.splitPosition=c.splitPosition._getTransformedByMoveOperation(n),c.splitPosition.stickiness="toNext",c.graveyardPosition?c.insertionPosition=c.insertionPosition._getTransformedByMoveOperation(n):c.insertionPosition=rn.getInsertionPosition(c.splitPosition),[c]}),Tt(rn,rn,(c,n,i)=>{if(c.splitPosition.isEqual(n.splitPosition)){if(!c.graveyardPosition&&!n.graveyardPosition)return[new Yn(0)];if(c.graveyardPosition&&n.graveyardPosition&&c.graveyardPosition.isEqual(n.graveyardPosition))return[new Yn(0)];if(i.abRelation=="splitBefore")return c.howMany=0,c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(n),[c]}if(c.graveyardPosition&&n.graveyardPosition&&c.graveyardPosition.isEqual(n.graveyardPosition)){const s=c.splitPosition.root.rootName=="$graveyard",l=n.splitPosition.root.rootName=="$graveyard";if(l&&!s||!(s&&!l)&&i.aIsStrong){const u=[];return n.howMany&&u.push(new Ot(n.moveTargetPosition,n.howMany,n.splitPosition,0)),c.howMany&&u.push(new Ot(c.splitPosition,c.howMany,c.moveTargetPosition,0)),u}return[new Yn(0)]}if(c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(n)),c.splitPosition.isEqual(n.insertionPosition)&&i.abRelation=="splitBefore")return c.howMany++,[c];if(n.splitPosition.isEqual(c.insertionPosition)&&i.baRelation=="splitBefore"){const s=n.insertionPosition.path.slice();s.push(0);const l=new ke(n.insertionPosition.root,s);return[c,new Ot(c.insertionPosition,1,l,0)]}return c.splitPosition.hasSameParentAs(n.splitPosition)&&c.splitPosition.offset<n.splitPosition.offset&&(c.howMany-=n.howMany),c.splitPosition=c.splitPosition._getTransformedBySplitOperation(n),c.insertionPosition=rn.getInsertionPosition(c.splitPosition),[c]});class Cr extends we(ke){constructor(n,i,s="toNone"){if(super(n,i,s),!this.root.is("rootElement"))throw new V("model-liveposition-root-not-rootelement",n);jV.call(this)}detach(){this.stopListening()}toPosition(){return new ke(this.root,this.path.slice(),this.stickiness)}static fromPosition(n,i){return new this(n.root,n.path.slice(),i||n.stickiness)}}function jV(){this.listenTo(this.root.document.model,"applyOperation",(c,n)=>{const i=n[0];i.isDocumentOperation&&zV.call(this,i)},{priority:"low"})}function zV(c){const n=this.getTransformedByOperation(c);if(!this.isEqual(n)){const i=this.toPosition();this.path=n.path,this.root=n.root,this.fire("change",i)}}Cr.prototype.is=function(c){return c==="livePosition"||c==="model:livePosition"||c=="position"||c==="model:position"};class rh{constructor(n={}){typeof n=="string"&&(n=n==="transparent"?{isUndoable:!1}:{},se("batch-constructor-deprecated-string-type"));const{isUndoable:i=!0,isLocal:s=!0,isUndo:l=!1,isTyping:u=!1}=n;this.operations=[],this.isUndoable=i,this.isLocal=s,this.isUndo=l,this.isTyping=u}get type(){return se("batch-type-deprecated"),"default"}get baseVersion(){for(const n of this.operations)if(n.baseVersion!==null)return n.baseVersion;return null}addOperation(n){return n.batch=this,this.operations.push(n),n}}var FV=Object.defineProperty,$V=Object.defineProperties,VV=Object.getOwnPropertyDescriptors,sI=Object.getOwnPropertySymbols,UV=Object.prototype.hasOwnProperty,HV=Object.prototype.propertyIsEnumerable,aI=(c,n,i)=>n in c?FV(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i,cI=(c,n)=>{for(var i in n||(n={}))UV.call(n,i)&&aI(c,i,n[i]);if(sI)for(var i of sI(n))HV.call(n,i)&&aI(c,i,n[i]);return c};class WV{constructor(n){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=n}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(n){const i=n;switch(i.type){case"insert":if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const s of i.range.getItems({shallow:!0}))this._isInInsertedElement(s.parent)||this._markAttribute(s);break;case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const s=this._isInInsertedElement(i.sourcePosition.parent),l=this._isInInsertedElement(i.targetPosition.parent);s||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),l||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const s=le._createFromPositionAndShift(i.position,1);for(const l of this._markerCollection.getMarkersIntersectingRange(s)){const u=l.getData();this.bufferMarkerChange(l.name,u,u)}break}case"split":{const s=i.splitPosition.parent;this._isInInsertedElement(s)||this._markRemove(s,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const s=i.sourcePosition.parent;this._isInInsertedElement(s.parent)||this._markRemove(s.parent,s.startOffset,1);const l=i.graveyardPosition.parent;this._markInsert(l,i.graveyardPosition.offset,1);const u=i.targetPosition.parent;this._isInInsertedElement(u)||this._markInsert(u,i.targetPosition.offset,s.maxOffset);break}case"detachRoot":case"addRoot":{const s=i.affectedSelectable;if(!s._isLoaded||s.isAttached()==i.isAdd)return;this._bufferRootStateChange(i.rootName,i.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!i.root._isLoaded)return;const s=i.root.rootName;this._bufferRootAttributeChange(s,i.key,i.oldValue,i.newValue);break}}this._cachedChanges=null}bufferMarkerChange(n,i,s){i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null),s.range&&s.range.root.is("rootElement")&&!s.range.root._isLoaded&&(s.range=null);let l=this._changedMarkers.get(n);l?l.newMarkerData=s:(l={newMarkerData:s,oldMarkerData:i},this._changedMarkers.set(n,l)),l.oldMarkerData.range==null&&s.range==null&&this._changedMarkers.delete(n)}getMarkersToRemove(){const n=[];for(const[i,s]of this._changedMarkers)s.oldMarkerData.range!=null&&n.push({name:i,range:s.oldMarkerData.range});return n}getMarkersToAdd(){const n=[];for(const[i,s]of this._changedMarkers)s.newMarkerData.range!=null&&n.push({name:i,range:s.newMarkerData.range});return n}getChangedMarkers(){return Array.from(this._changedMarkers).map(([n,i])=>({name:n,data:{oldRange:i.oldMarkerData.range,newRange:i.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:n,oldMarkerData:i}of this._changedMarkers.values()){if(n.affectsData!==i.affectsData)return!0;if(n.affectsData){const s=n.range&&!i.range,l=!n.range&&i.range,u=n.range&&i.range&&!n.range.isEqual(i.range);if(s||l||u)return!0}}return!1}getChanges(n={}){if(this._cachedChanges)return n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let i=[];for(const s of this._changesInElement.keys()){const l=this._changesInElement.get(s).sort((y,C)=>y.offset===C.offset?y.type!=C.type?y.type=="remove"?-1:1:0:y.offset<C.offset?-1:1),u=this._elementSnapshots.get(s),h=lI(s.getChildren()),p=qV(u.length,l);let g=0,w=0;for(const y of p)if(y==="i")i.push(this._getInsertDiff(s,g,h[g])),g++;else if(y==="r")i.push(this._getRemoveDiff(s,g,u[w])),w++;else if(y==="a"){const C=h[g].attributes,S=u[w].attributes;let N;if(h[g].name=="$text")N=new le(ke._createAt(s,g),ke._createAt(s,g+1));else{const P=s.offsetToIndex(g);N=new le(ke._createAt(s,g),ke._createAt(s.getChild(P),0))}i.push(...this._getAttributesDiff(N,S,C)),g++,w++}else g++,w++}i.sort((s,l)=>s.position.root!=l.position.root?s.position.root.rootName<l.position.root.rootName?-1:1:s.position.isEqual(l.position)?s.changeCount-l.changeCount:s.position.isBefore(l.position)?-1:1);for(let s=1,l=0;s<i.length;s++){const u=i[l],h=i[s],p=u.type=="remove"&&h.type=="remove"&&u.name=="$text"&&h.name=="$text"&&u.position.isEqual(h.position),g=u.type=="insert"&&h.type=="insert"&&u.name=="$text"&&h.name=="$text"&&u.position.parent==h.position.parent&&u.position.offset+u.length==h.position.offset,w=u.type=="attribute"&&h.type=="attribute"&&u.position.parent==h.position.parent&&u.range.isFlat&&h.range.isFlat&&u.position.offset+u.length==h.position.offset&&u.attributeKey==h.attributeKey&&u.attributeOldValue==h.attributeOldValue&&u.attributeNewValue==h.attributeNewValue;p||g||w?(u.length++,w&&(u.range.end=u.range.end.getShiftedBy(1)),i[s]=null):l=s}i=i.filter(s=>s);for(const s of i)delete s.changeCount,s.type=="attribute"&&(delete s.position,delete s.length);return this._changeCount=0,this._cachedChangesWithGraveyard=i,this._cachedChanges=i.filter(GV),n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(n=>{const i=cI({},n);return i.state!==void 0&&delete i.attributes,i})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(n,i){if(!this._changedRoots.has(n))return void this._changedRoots.set(n,{name:n,state:i?"attached":"detached"});const s=this._changedRoots.get(n);s.state!==void 0?(delete s.state,s.attributes===void 0&&this._changedRoots.delete(n)):s.state=i?"attached":"detached"}_bufferRootAttributeChange(n,i,s,l){const u=this._changedRoots.get(n)||{name:n},h=u.attributes||{};if(h[i]){const p=h[i];l===p.oldValue?delete h[i]:p.newValue=l}else h[i]={oldValue:s,newValue:l};Object.entries(h).length===0?(delete u.attributes,u.state===void 0&&this._changedRoots.delete(n)):(u.attributes=h,this._changedRoots.set(n,u))}_refreshItem(n){if(this._isInInsertedElement(n.parent))return;this._markRemove(n.parent,n.startOffset,n.offsetSize),this._markInsert(n.parent,n.startOffset,n.offsetSize),this._refreshedItems.add(n);const i=le._createOn(n);for(const s of this._markerCollection.getMarkersIntersectingRange(i)){const l=s.getData();this.bufferMarkerChange(s.name,l,l)}this._cachedChanges=null}_bufferRootLoad(n){if(n.isAttached()){this._bufferRootStateChange(n.rootName,!0),this._markInsert(n,0,n.maxOffset);for(const s of n.getAttributeKeys())this._bufferRootAttributeChange(n.rootName,s,null,n.getAttribute(s));for(const s of this._markerCollection)if(s.getRange().root==n){const l=s.getData();this.bufferMarkerChange(s.name,(i=cI({},l),$V(i,VV({range:null}))),l)}var i}}_markInsert(n,i,s){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const l={type:"insert",offset:i,howMany:s,count:this._changeCount++};this._markChange(n,l)}_markRemove(n,i,s){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const l={type:"remove",offset:i,howMany:s,count:this._changeCount++};this._markChange(n,l),this._removeAllNestedChanges(n,i,s)}_markAttribute(n){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const i={type:"attribute",offset:n.startOffset,howMany:n.offsetSize,count:this._changeCount++};this._markChange(n.parent,i)}_markChange(n,i){this._makeSnapshot(n);const s=this._getChangesForElement(n);this._handleChange(i,s),s.push(i);for(let l=0;l<s.length;l++)s[l].howMany<1&&(s.splice(l,1),l--)}_getChangesForElement(n){let i;return this._changesInElement.has(n)?i=this._changesInElement.get(n):(i=[],this._changesInElement.set(n,i)),i}_makeSnapshot(n){this._elementSnapshots.has(n)||this._elementSnapshots.set(n,lI(n.getChildren()))}_handleChange(n,i){n.nodesToHandle=n.howMany;for(const s of i){const l=n.offset+n.howMany,u=s.offset+s.howMany;if(n.type=="insert"&&(s.type=="insert"&&(n.offset<=s.offset?s.offset+=n.howMany:n.offset<u&&(s.howMany+=n.nodesToHandle,n.nodesToHandle=0)),s.type=="remove"&&n.offset<s.offset&&(s.offset+=n.howMany),s.type=="attribute")){if(n.offset<=s.offset)s.offset+=n.howMany;else if(n.offset<u){const h=s.howMany;s.howMany=n.offset-s.offset,i.unshift({type:"attribute",offset:l,howMany:h-s.howMany,count:this._changeCount++})}}if(n.type=="remove"){if(s.type=="insert"){if(l<=s.offset)s.offset-=n.howMany;else if(l<=u)if(n.offset<s.offset){const h=l-s.offset;s.offset=n.offset,s.howMany-=h,n.nodesToHandle-=h}else s.howMany-=n.nodesToHandle,n.nodesToHandle=0;else if(n.offset<=s.offset)n.nodesToHandle-=s.howMany,s.howMany=0;else if(n.offset<u){const h=u-n.offset;s.howMany-=h,n.nodesToHandle-=h}}if(s.type=="remove"&&(l<=s.offset?s.offset-=n.howMany:n.offset<s.offset&&(n.nodesToHandle+=s.howMany,s.howMany=0)),s.type=="attribute"){if(l<=s.offset)s.offset-=n.howMany;else if(n.offset<s.offset){const h=l-s.offset;s.offset=n.offset,s.howMany-=h}else if(n.offset<u)if(l<=u){const h=s.howMany;s.howMany=n.offset-s.offset;const p=h-s.howMany-n.nodesToHandle;i.unshift({type:"attribute",offset:n.offset,howMany:p,count:this._changeCount++})}else s.howMany-=u-n.offset}}if(n.type=="attribute"){if(s.type=="insert")if(n.offset<s.offset&&l>s.offset){if(l>u){const h={type:"attribute",offset:u,howMany:l-u,count:this._changeCount++};this._handleChange(h,i),i.push(h)}n.nodesToHandle=s.offset-n.offset,n.howMany=n.nodesToHandle}else n.offset>=s.offset&&n.offset<u&&(l>u?(n.nodesToHandle=l-u,n.offset=u):n.nodesToHandle=0);if(s.type=="remove"&&n.offset<s.offset&&l>s.offset){const h={type:"attribute",offset:s.offset,howMany:l-s.offset,count:this._changeCount++};this._handleChange(h,i),i.push(h),n.nodesToHandle=s.offset-n.offset,n.howMany=n.nodesToHandle}s.type=="attribute"&&(n.offset>=s.offset&&l<=u?(n.nodesToHandle=0,n.howMany=0,n.offset=0):n.offset<=s.offset&&l>=u&&(s.howMany=0))}}n.howMany=n.nodesToHandle,delete n.nodesToHandle}_getInsertDiff(n,i,s){return{type:"insert",position:ke._createAt(n,i),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(n,i,s){return{type:"remove",position:ke._createAt(n,i),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(n,i,s){const l=[];s=new Map(s);for(const[u,h]of i){const p=s.has(u)?s.get(u):null;p!==h&&l.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:u,attributeOldValue:h,attributeNewValue:p,changeCount:this._changeCount++}),s.delete(u)}for(const[u,h]of s)l.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:u,attributeOldValue:null,attributeNewValue:h,changeCount:this._changeCount++});return l}_isInInsertedElement(n){const i=n.parent;if(!i)return!1;const s=this._changesInElement.get(i),l=n.startOffset;if(s){for(const u of s)if(u.type=="insert"&&l>=u.offset&&l<u.offset+u.howMany)return!0}return this._isInInsertedElement(i)}_removeAllNestedChanges(n,i,s){const l=new le(ke._createAt(n,i),ke._createAt(n,i+s));for(const u of l.getItems({shallow:!0}))u.is("element")&&(this._elementSnapshots.delete(u),this._changesInElement.delete(u),this._removeAllNestedChanges(u,0,u.maxOffset))}}function lI(c){const n=[];for(const i of c)if(i.is("$text"))for(let s=0;s<i.data.length;s++)n.push({name:"$text",attributes:new Map(i.getAttributes())});else n.push({name:i.name,attributes:new Map(i.getAttributes())});return n}function qV(c,n){const i=[];let s=0,l=0;for(const u of n){if(u.offset>s){for(let h=0;h<u.offset-s;h++)i.push("e");l+=u.offset-s}if(u.type=="insert"){for(let h=0;h<u.howMany;h++)i.push("i");s=u.offset+u.howMany}else if(u.type=="remove"){for(let h=0;h<u.howMany;h++)i.push("r");s=u.offset,l+=u.howMany}else i.push(..."a".repeat(u.howMany).split("")),s=u.offset+u.howMany,l+=u.howMany}if(l<c)for(let u=0;u<c-l-s;u++)i.push("e");return i}function GV(c){const n="position"in c&&c.position.root.rootName=="$graveyard",i="range"in c&&c.range.root.rootName=="$graveyard";return!n&&!i}class YV{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(n){this._operations.length&&n>this._version+1&&this._gaps.set(this._version,n),this._version=n}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(n){if(n.baseVersion!==this.version)throw new V("model-document-history-addoperation-incorrect-version",this,{operation:n,historyVersion:this.version});this._operations.push(n),this._version++,this._baseVersionToOperationIndex.set(n.baseVersion,this._operations.length-1)}getOperations(n,i=this.version){if(!this._operations.length)return[];const s=this._operations[0];n===void 0&&(n=s.baseVersion);let l=i-1;for(const[p,g]of this._gaps)n>p&&n<g&&(n=g),l>p&&l<g&&(l=p-1);if(l<s.baseVersion||n>this.lastOperation.baseVersion)return[];let u=this._baseVersionToOperationIndex.get(n);u===void 0&&(u=0);let h=this._baseVersionToOperationIndex.get(l);return h===void 0&&(h=this._operations.length-1),this._operations.slice(u,h+1)}getOperation(n){const i=this._baseVersionToOperationIndex.get(n);if(i!==void 0)return this._operations[i]}setOperationAsUndone(n,i){this._undoPairs.set(i,n),this._undoneOperations.add(n)}isUndoingOperation(n){return this._undoPairs.has(n)}isUndoneOperation(n){return this._undoneOperations.has(n)}getUndoneOperation(n){return this._undoPairs.get(n)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Eb extends Yt{constructor(n,i,s="main"){super(i),this._isAttached=!0,this._isLoaded=!0,this._document=n,this.rootName=s}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Eb.prototype.is=function(c,n){return n?n===this.name&&(c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"):c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"||c==="node"||c==="model:node"};var KV=Object.defineProperty,QV=Object.defineProperties,ZV=Object.getOwnPropertyDescriptors,uI=Object.getOwnPropertySymbols,JV=Object.prototype.hasOwnProperty,XV=Object.prototype.propertyIsEnumerable,dI=(c,n,i)=>n in c?KV(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i,hI=(c,n)=>{for(var i in n||(n={}))JV.call(n,i)&&dI(c,i,n[i]);if(uI)for(var i of uI(n))XV.call(n,i)&&dI(c,i,n[i]);return c},fI=(c,n)=>QV(c,ZV(n));const pI="$graveyard";class eU extends we(){constructor(n){super(),this.model=n,this.history=new YV,this.selection=new Vo(this),this.roots=new Mi({idProperty:"rootName"}),this.differ=new WV(n.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",pI),this.listenTo(n,"applyOperation",(i,s)=>{const l=s[0];l.isDocumentOperation&&this.differ.bufferOperation(l)},{priority:"high"}),this.listenTo(n,"applyOperation",(i,s)=>{const l=s[0];l.isDocumentOperation&&this.history.addOperation(l)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(n.markers,"update",(i,s,l,u,h)=>{const p=fI(hI({},s.getData()),{range:u});this.differ.bufferMarkerChange(s.name,h,p),l===null&&s.on("change",(g,w)=>{const y=s.getData();this.differ.bufferMarkerChange(s.name,fI(hI({},y),{range:w}),y)})}),this.registerPostFixer(i=>{let s=!1;for(const l of this.roots)l.isAttached()||l.isEmpty||(i.remove(i.createRangeIn(l)),s=!0);for(const l of this.model.markers)l.getRange().root.isAttached()||(i.removeMarker(l),s=!0);return s})}get version(){return this.history.version}set version(n){this.history.version=n}get graveyard(){return this.getRoot(pI)}createRoot(n="$root",i="main"){if(this.roots.get(i))throw new V("model-document-createroot-name-exists",this,{name:i});const s=new Eb(this,n,i);return this.roots.add(s),s}destroy(){this.selection.destroy(),this.stopListening()}getRoot(n="main"){return this.roots.get(n)}getRootNames(n=!1){return this.getRoots(n).map(i=>i.rootName)}getRoots(n=!1){return Array.from(this.roots).filter(i=>i!=this.graveyard&&(n||i.isAttached())&&i._isLoaded)}registerPostFixer(n){this._postFixers.add(n)}toJSON(){const n=R(this);return n.selection="[engine.model.DocumentSelection]",n.model="[engine.model.Model]",n}_handleChangeBlock(n){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(n),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",n.batch):this.fire("change",n.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const n=this.getRoots();return n.length?n[0]:this.graveyard}_getDefaultRange(){const n=this._getDefaultRoot(),i=this.model,s=i.schema,l=i.createPositionFromPath(n,[0]);return s.getNearestSelectionRange(l)||i.createRange(l)}_validateSelectionRange(n){return gI(n.start)&&gI(n.end)}_callPostFixers(n){let i=!1;do for(const s of this._postFixers)if(this.selection.refresh(),i=s(n),i)break;while(i)}}function gI(c){const n=c.textNode;if(n){const i=n.data,s=c.offset-n.startOffset;return!Tp(i,s)&&!Dp(i,s)}return!0}var tU=Object.defineProperty,nU=Object.defineProperties,rU=Object.getOwnPropertyDescriptors,mI=Object.getOwnPropertySymbols,iU=Object.prototype.hasOwnProperty,oU=Object.prototype.propertyIsEnumerable,kI=(c,n,i)=>n in c?tU(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i;class sU extends we(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(n){const i=n instanceof ih?n.name:n;return this._markers.has(i)}get(n){return this._markers.get(n)||null}_set(n,i,s=!1,l=!1){const u=n instanceof ih?n.name:n;if(u.includes(","))throw new V("markercollection-incorrect-marker-name",this);const h=this._markers.get(u);if(h){const y=h.getData(),C=h.getRange();let S=!1;return C.isEqual(i)||(h._attachLiveRange($o.fromRange(i)),S=!0),s!=h.managedUsingOperations&&(h._managedUsingOperations=s,S=!0),typeof l=="boolean"&&l!=h.affectsData&&(h._affectsData=l,S=!0),S&&this.fire(`update:${u}`,h,C,i,y),h}const p=$o.fromRange(i),g=new ih(u,p,s,l);var w;return this._markers.set(u,g),this.fire(`update:${u}`,g,null,i,(w=((y,C)=>{for(var S in C||(C={}))iU.call(C,S)&&kI(y,S,C[S]);if(mI)for(var S of mI(C))oU.call(C,S)&&kI(y,S,C[S]);return y})({},g.getData()),nU(w,rU({range:null})))),g}_remove(n){const i=n instanceof ih?n.name:n,s=this._markers.get(i);return!!s&&(this._markers.delete(i),this.fire(`update:${i}`,s,s.getRange(),null,s.getData()),this._destroyMarker(s),!0)}_refresh(n){const i=n instanceof ih?n.name:n,s=this._markers.get(i);if(!s)throw new V("markercollection-refresh-marker-not-exists",this);const l=s.getRange();this.fire(`update:${i}`,s,l,l,s.getData())}*getMarkersAtPosition(n){for(const i of this)i.getRange().containsPosition(n)&&(yield i)}*getMarkersIntersectingRange(n){for(const i of this)i.getRange().getIntersection(n)!==null&&(yield i)}destroy(){for(const n of this._markers.values())this._destroyMarker(n);this._markers=null,this.stopListening()}*getMarkersGroup(n){for(const i of this._markers.values())i.name.startsWith(n+":")&&(yield i)}_destroyMarker(n){n.stopListening(),n._detachLiveRange()}}class ih extends we(Cc){constructor(n,i,s,l){super(),this.name=n,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=s,this._affectsData=l}get managedUsingOperations(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(n){return this._liveRange&&this._detachLiveRange(),n.delegate("change:range").to(this),n.delegate("change:content").to(this),this._liveRange=n,n}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}ih.prototype.is=function(c){return c==="marker"||c==="model:marker"};class aU extends Li{constructor(n,i){super(null),this.sourcePosition=n.clone(),this.howMany=i}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n}_validate(){if(this.sourcePosition.root.document)throw new V("detach-operation-on-document-node",this)}_execute(){ZD(le._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ba extends Cc{constructor(n){super(),this.markers=new Map,this._children=new Yp,n&&this._insertChild(0,n)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}getPath(){return[]}getNodeByPath(n){let i=this;for(const s of n)i=i.getChild(i.offsetToIndex(s));return i}offsetToIndex(n){return this._children.offsetToIndex(n)}toJSON(){const n=[];for(const i of this._children)n.push(i.toJSON());return n}static fromJSON(n){const i=[];for(const s of n)s.name?i.push(Yt.fromJSON(s)):i.push(nn.fromJSON(s));return new ba(i)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,i){const s=function(l){return typeof l=="string"?[new nn(l)]:(Ie(l)||(l=[l]),Array.from(l).map(u=>typeof u=="string"?new nn(u):u instanceof Fo?new nn(u.data,u.getAttributes()):u))}(i);for(const l of s)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(n,s)}_removeChildren(n,i=1){const s=this._children._removeNodes(n,i);for(const l of s)l.parent=null;return s}}ba.prototype.is=function(c){return c==="documentFragment"||c==="model:documentFragment"};class cU{constructor(n,i){this.model=n,this.batch=i}createText(n,i){return new nn(n,i)}createElement(n,i){return new Yt(n,i)}createDocumentFragment(){return new ba}cloneElement(n,i=!0){return n._clone(i)}insert(n,i,s=0){if(this._assertWriterUsedCorrectly(),n instanceof nn&&n.data=="")return;const l=ke._createAt(i,s);if(n.parent){if(vI(n.root,l.root))return void this.move(le._createOn(n),l);if(n.root.document)throw new V("model-writer-insert-forbidden-move",this);this.remove(n)}const u=l.root.document?l.root.document.version:null,h=new pr(l,n,u);if(n instanceof nn&&(h.shouldReceiveAttributes=!0),this.batch.addOperation(h),this.model.applyOperation(h),n instanceof ba)for(const[p,g]of n.markers){const w=ke._createAt(g.root,0),y={range:new le(g.start._getCombined(w,l),g.end._getCombined(w,l)),usingOperation:!0,affectsData:!0};this.model.markers.has(p)?this.updateMarker(p,y):this.addMarker(p,y)}}insertText(n,i,s,l){i instanceof ba||i instanceof Yt||i instanceof ke?this.insert(this.createText(n),i,s):this.insert(this.createText(n,i),s,l)}insertElement(n,i,s,l){i instanceof ba||i instanceof Yt||i instanceof ke?this.insert(this.createElement(n),i,s):this.insert(this.createElement(n,i),s,l)}append(n,i){this.insert(n,i,"end")}appendText(n,i,s){i instanceof ba||i instanceof Yt?this.insert(this.createText(n),i,"end"):this.insert(this.createText(n,i),s,"end")}appendElement(n,i,s){i instanceof ba||i instanceof Yt?this.insert(this.createElement(n),i,"end"):this.insert(this.createElement(n,i),s,"end")}setAttribute(n,i,s){if(this._assertWriterUsedCorrectly(),s instanceof le){const l=s.getMinimalFlatRanges();for(const u of l)bI(this,n,i,u)}else wI(this,n,i,s)}setAttributes(n,i){for(const[s,l]of uo(n))this.setAttribute(s,l,i)}removeAttribute(n,i){if(this._assertWriterUsedCorrectly(),i instanceof le){const s=i.getMinimalFlatRanges();for(const l of s)bI(this,n,null,l)}else wI(this,n,null,i)}clearAttributes(n){this._assertWriterUsedCorrectly();const i=s=>{for(const l of s.getAttributeKeys())this.removeAttribute(l,s)};if(n instanceof le)for(const s of n.getItems())i(s);else i(n)}move(n,i,s){if(this._assertWriterUsedCorrectly(),!(n instanceof le))throw new V("writer-move-invalid-range",this);if(!n.isFlat)throw new V("writer-move-range-not-flat",this);const l=ke._createAt(i,s);if(l.isEqual(n.start))return;if(this._addOperationForAffectedMarkers("move",n),!vI(n.root,l.root))throw new V("writer-move-different-document",this);const u=n.root.document?n.root.document.version:null,h=new Ot(n.start,n.end.offset-n.start.offset,l,u);this.batch.addOperation(h),this.model.applyOperation(h)}remove(n){this._assertWriterUsedCorrectly();const i=(n instanceof le?n:le._createOn(n)).getMinimalFlatRanges().reverse();for(const s of i)this._addOperationForAffectedMarkers("move",s),lU(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(n){this._assertWriterUsedCorrectly();const i=n.nodeBefore,s=n.nodeAfter;if(this._addOperationForAffectedMarkers("merge",n),!(i instanceof Yt))throw new V("writer-merge-no-element-before",this);if(!(s instanceof Yt))throw new V("writer-merge-no-element-after",this);n.root.document?this._merge(n):this._mergeDetached(n)}createPositionFromPath(n,i,s){return this.model.createPositionFromPath(n,i,s)}createPositionAt(n,i){return this.model.createPositionAt(n,i)}createPositionAfter(n){return this.model.createPositionAfter(n)}createPositionBefore(n){return this.model.createPositionBefore(n)}createRange(n,i){return this.model.createRange(n,i)}createRangeIn(n){return this.model.createRangeIn(n)}createRangeOn(n){return this.model.createRangeOn(n)}createSelection(...n){return this.model.createSelection(...n)}_mergeDetached(n){const i=n.nodeBefore,s=n.nodeAfter;this.move(le._createIn(s),ke._createAt(i,"end")),this.remove(s)}_merge(n){const i=ke._createAt(n.nodeBefore,"end"),s=ke._createAt(n.nodeAfter,0),l=n.root.document.graveyard,u=new ke(l,[0]),h=n.root.document.version,p=new Nn(s,n.nodeAfter.maxOffset,i,u,h);this.batch.addOperation(p),this.model.applyOperation(p)}rename(n,i){if(this._assertWriterUsedCorrectly(),!(n instanceof Yt))throw new V("writer-rename-not-element-instance",this);const s=n.root.document?n.root.document.version:null,l=new pi(ke._createBefore(n),n.name,i,s);this.batch.addOperation(l),this.model.applyOperation(l)}split(n,i){this._assertWriterUsedCorrectly();let s,l,u=n.parent;if(!u.parent)throw new V("writer-split-element-no-parent",this);if(i||(i=u.parent),!n.parent.getAncestors({includeSelf:!0}).includes(i))throw new V("writer-split-invalid-limit-element",this);do{const h=u.root.document?u.root.document.version:null,p=u.maxOffset-n.offset,g=rn.getInsertionPosition(n),w=new rn(n,p,g,null,h);this.batch.addOperation(w),this.model.applyOperation(w),s||l||(s=u,l=n.parent.nextSibling),u=(n=this.createPositionAfter(n.parent)).parent}while(u!==i);return{position:n,range:new le(ke._createAt(s,"end"),ke._createAt(l,0))}}wrap(n,i){if(this._assertWriterUsedCorrectly(),!n.isFlat)throw new V("writer-wrap-range-not-flat",this);const s=i instanceof Yt?i:new Yt(i);if(s.childCount>0)throw new V("writer-wrap-element-not-empty",this);if(s.parent!==null)throw new V("writer-wrap-element-attached",this);this.insert(s,n.start);const l=new le(n.start.getShiftedBy(1),n.end.getShiftedBy(1));this.move(l,ke._createAt(s,0))}unwrap(n){if(this._assertWriterUsedCorrectly(),n.parent===null)throw new V("writer-unwrap-element-no-parent",this);this.move(le._createIn(n),this.createPositionAfter(n)),this.remove(n)}addMarker(n,i){if(this._assertWriterUsedCorrectly(),!i||typeof i.usingOperation!="boolean")throw new V("writer-addmarker-no-usingoperation",this);const s=i.usingOperation,l=i.range,u=i.affectsData!==void 0&&i.affectsData;if(this.model.markers.has(n))throw new V("writer-addmarker-marker-exists",this);if(!l)throw new V("writer-addmarker-no-range",this);return s?(ng(this,n,null,l,u),this.model.markers.get(n)):this.model.markers._set(n,l,s,u)}updateMarker(n,i){this._assertWriterUsedCorrectly();const s=typeof n=="string"?n:n.name,l=this.model.markers.get(s);if(!l)throw new V("writer-updatemarker-marker-not-exists",this);if(!i)return se("writer-updatemarker-reconvert-using-editingcontroller",{markerName:s}),void this.model.markers._refresh(l);const u=typeof i.usingOperation=="boolean",h=typeof i.affectsData=="boolean",p=h?i.affectsData:l.affectsData;if(!u&&!i.range&&!h)throw new V("writer-updatemarker-wrong-options",this);const g=l.getRange(),w=i.range?i.range:g;u&&i.usingOperation!==l.managedUsingOperations?i.usingOperation?ng(this,s,null,w,p):(ng(this,s,g,null,p),this.model.markers._set(s,w,void 0,p)):l.managedUsingOperations?ng(this,s,g,w,p):this.model.markers._set(s,w,void 0,p)}removeMarker(n){this._assertWriterUsedCorrectly();const i=typeof n=="string"?n:n.name;if(!this.model.markers.has(i))throw new V("writer-removemarker-no-marker",this);const s=this.model.markers.get(i);if(!s.managedUsingOperations)return void this.model.markers._remove(i);ng(this,i,s.getRange(),null,s.affectsData)}addRoot(n,i="$root"){this._assertWriterUsedCorrectly();const s=this.model.document.getRoot(n);if(s&&s.isAttached())throw new V("writer-addroot-root-exists",this);const l=this.model.document,u=new Ps(n,i,!0,l,l.version);return this.batch.addOperation(u),this.model.applyOperation(u),this.model.document.getRoot(n)}detachRoot(n){this._assertWriterUsedCorrectly();const i=typeof n=="string"?this.model.document.getRoot(n):n;if(!i||!i.isAttached())throw new V("writer-detachroot-no-root",this);for(const u of this.model.markers)u.getRange().root===i&&this.removeMarker(u);for(const u of i.getAttributeKeys())this.removeAttribute(u,i);this.remove(this.createRangeIn(i));const s=this.model.document,l=new Ps(i.rootName,i.name,!1,s,s.version);this.batch.addOperation(l),this.model.applyOperation(l)}setSelection(...n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...n)}setSelectionFocus(n,i){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(n,i)}setSelectionAttribute(n,i){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._setSelectionAttribute(n,i);else for(const[s,l]of uo(n))this._setSelectionAttribute(s,l)}removeSelectionAttribute(n){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._removeSelectionAttribute(n);else for(const i of n)this._removeSelectionAttribute(i)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(n){this.model.document.selection._restoreGravity(n)}_setSelectionAttribute(n,i){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const l=Vo._getStoreAttributeKey(n);this.setAttribute(l,i,s.anchor.parent)}s._setAttribute(n,i)}_removeSelectionAttribute(n){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const s=Vo._getStoreAttributeKey(n);this.removeAttribute(s,i.anchor.parent)}i._removeAttribute(n)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new V("writer-incorrect-use",this)}_addOperationForAffectedMarkers(n,i){for(const s of this.model.markers){if(!s.managedUsingOperations)continue;const l=s.getRange();let u=!1;if(n==="move"){const h=i;u=h.containsPosition(l.start)||h.start.isEqual(l.start)||h.containsPosition(l.end)||h.end.isEqual(l.end)}else{const h=i,p=h.nodeBefore,g=h.nodeAfter,w=l.start.parent==p&&l.start.isAtEnd,y=l.end.parent==g&&l.end.offset==0,C=l.end.nodeAfter==g,S=l.start.nodeAfter==g;u=w||y||C||S}u&&this.updateMarker(s.name,{range:l})}}}function bI(c,n,i,s){const l=c.model,u=l.document;let h,p,g,w=s.start;for(const C of s.getWalker({shallow:!0}))g=C.item.getAttribute(n),h&&p!=g&&(p!=i&&y(),w=h),h=C.nextPosition,p=g;function y(){const C=new le(w,h),S=C.root.document?u.version:null,N=new zn(C,n,p,i,S);c.batch.addOperation(N),l.applyOperation(N)}h instanceof ke&&h!=w&&p!=i&&y()}function wI(c,n,i,s){const l=c.model,u=l.document,h=s.getAttribute(n);let p,g;if(h!=i){if(s.root===s){const w=s.document?u.version:null;g=new ka(s,n,h,i,w)}else{p=new le(ke._createBefore(s),c.createPositionAfter(s));const w=p.root.document?u.version:null;g=new zn(p,n,h,i,w)}c.batch.addOperation(g),l.applyOperation(g)}}function ng(c,n,i,s,l){const u=c.model,h=u.document,p=new fi(n,i,s,u.markers,!!l,h.version);c.batch.addOperation(p),u.applyOperation(p)}function lU(c,n,i,s){let l;if(c.root.document){const u=s.document,h=new ke(u.graveyard,[0]);l=new Ot(c,n,h,u.version)}else l=new aU(c,n);i.addOperation(l),s.applyOperation(l)}function vI(c,n){return c===n||c instanceof Eb&&n instanceof Eb}function uU(c,n,i={}){if(n.isCollapsed)return;const s=n.getFirstRange();if(s.root.rootName=="$graveyard")return;const l=c.schema;c.change(u=>{if(!i.doNotResetEntireContent&&function(w,y){const C=w.getLimitElement(y);if(!y.containsEntireContent(C))return!1;const S=y.getFirstRange();return S.start.parent==S.end.parent?!1:w.checkChild(C,"paragraph")}(l,n))return void function(w,y){const C=w.model.schema.getLimitElement(y);w.remove(w.createRangeIn(C)),AI(w,w.createPositionAt(C,0),y)}(u,n);const h={};if(!i.doNotAutoparagraph){const w=n.getSelectedElement();w&&Object.assign(h,l.getAttributesWithProperty(w,"copyOnReplace",!0))}const[p,g]=function(w){const y=w.root.document.model,C=w.start;let S=w.end;if(y.hasContent(w,{ignoreMarkers:!0})){const N=function(P){const j=P.parent,H=j.root.document.model.schema,q=j.getAncestors({parentFirst:!0,includeSelf:!0});for(const te of q){if(H.isLimit(te))return null;if(H.isBlock(te))return te}}(S);if(N&&S.isTouching(y.createPositionAt(N,0))){const P=y.createSelection(w);y.modifySelection(P,{direction:"backward"});const j=P.getLastPosition(),H=y.createRange(j,S);y.hasContent(H,{ignoreMarkers:!0})||(S=j)}}return[Cr.fromPosition(C,"toPrevious"),Cr.fromPosition(S,"toNext")]}(s);p.isTouching(g)||u.remove(u.createRange(p,g)),i.leaveUnmerged||(function(w,y,C){const S=w.model;if(!eA(w.model.schema,y,C))return;const[N,P]=function(j,H){const q=j.getAncestors(),te=H.getAncestors();let fe=0;for(;q[fe]&&q[fe]==te[fe];)fe++;return[q[fe],te[fe]]}(y,C);!N||!P||(!S.hasContent(N,{ignoreMarkers:!0})&&S.hasContent(P,{ignoreMarkers:!0})?_I(w,y,C,N.parent):yI(w,y,C,N.parent))}(u,p,g),l.removeDisallowedAttributes(p.parent.getChildren(),u)),CI(u,n,p),!i.doNotAutoparagraph&&function(w,y){const C=w.checkChild(y,"$text"),S=w.checkChild(y,"paragraph");return!C&&S}(l,p)&&AI(u,p,n,h),p.detach(),g.detach()})}function yI(c,n,i,s){const l=n.parent,u=i.parent;if(l!=s&&u!=s){for(n=c.createPositionAfter(l),(i=c.createPositionBefore(u)).isEqual(n)||c.insert(u,n),c.merge(n);i.parent.isEmpty;){const h=i.parent;i=c.createPositionBefore(h),c.remove(h)}eA(c.model.schema,n,i)&&yI(c,n,i,s)}}function _I(c,n,i,s){const l=n.parent,u=i.parent;if(l!=s&&u!=s){for(n=c.createPositionAfter(l),(i=c.createPositionBefore(u)).isEqual(n)||c.insert(l,i);n.parent.isEmpty;){const h=n.parent;n=c.createPositionBefore(h),c.remove(h)}i=c.createPositionBefore(u),function(h,p){const g=p.nodeBefore,w=p.nodeAfter;g.name!=w.name&&h.rename(g,w.name),h.clearAttributes(g),h.setAttributes(Object.fromEntries(w.getAttributes()),g),h.merge(p)}(c,i),eA(c.model.schema,n,i)&&_I(c,n,i,s)}}function eA(c,n,i){const s=n.parent,l=i.parent;return s!=l&&!c.isLimit(s)&&!c.isLimit(l)&&function(u,h,p){const g=new le(u,h);for(const w of g.getWalker())if(p.isLimit(w.item))return!1;return!0}(n,i,c)}function AI(c,n,i,s={}){const l=c.createElement("paragraph");c.model.schema.setAllowedAttributes(l,s,c),c.insert(l,n),CI(c,i,c.createPositionAt(l,0))}function CI(c,n,i){n instanceof Vo?c.setSelection(i):n.setTo(i)}function xI(c,n){const i=[];Array.from(c.getItems({direction:"backward"})).map(s=>n.createRangeOn(s)).filter(s=>(s.start.isAfter(c.start)||s.start.isEqual(c.start))&&(s.end.isBefore(c.end)||s.end.isEqual(c.end))).forEach(s=>{i.push(s.start.parent),n.remove(s)}),i.forEach(s=>{let l=s;for(;l.parent&&l.isEmpty;){const u=n.createRangeOn(l);l=l.parent,n.remove(u)}})}class dU{constructor(n,i,s){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=n,this.writer=i,this.position=s,this.canMergeWith=new Set([this.position.parent]),this.schema=n.schema,this._documentFragment=i.createDocumentFragment(),this._documentFragmentPosition=i.createPositionAt(this._documentFragment,0)}handleNodes(n){for(const i of Array.from(n))this._handleNode(i);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(n){const i=this.writer.createPositionAfter(this._lastNode),s=this.writer.createPositionAfter(n);if(s.isAfter(i)){if(this._lastNode=n,this.position.parent!=n||!this.position.isAtEnd)throw new V("insertcontent-invalid-insertion-position",this);this.position=s,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?le._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new le(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(n){if(this.schema.isObject(n))return void this._handleObject(n);let i=this._checkAndAutoParagraphToAllowedPosition(n);i||(i=this._checkAndSplitToAllowedPosition(n),i)?(this._appendToFragment(n),this._firstNode||(this._firstNode=n),this._lastNode=n):this._handleDisallowedNode(n)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const n=Cr.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=n.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=n.toPosition(),n.detach()}_handleObject(n){this._checkAndSplitToAllowedPosition(n)?this._appendToFragment(n):this._tryAutoparagraphing(n)}_handleDisallowedNode(n){n.is("element")?this.handleNodes(n.getChildren()):this._tryAutoparagraphing(n)}_appendToFragment(n){if(!this.schema.checkChild(this.position,n))throw new V("insertcontent-wrong-position",this,{node:n,position:this.position});this.writer.insert(n,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(n.offsetSize),this.schema.isObject(n)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=n:this._nodeToSelect=null,this._filterAttributesOf.push(n)}_setAffectedBoundaries(n){this._affectedStart||(this._affectedStart=Cr.fromPosition(n,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(n)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Cr.fromPosition(n,"toNext"))}_mergeOnLeft(){const n=this._firstNode;if(!(n instanceof Yt)||!this._canMergeLeft(n))return;const i=Cr._createBefore(n);i.stickiness="toNext";const s=Cr.fromPosition(this.position,"toNext");this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=Cr._createAt(i.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Cr._createAt(i.nodeBefore,"end","toNext")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_mergeOnRight(){const n=this._lastNode;if(!(n instanceof Yt)||!this._canMergeRight(n))return;const i=Cr._createAfter(n);if(i.stickiness="toNext",!this.position.isEqual(i))throw new V("insertcontent-invalid-insertion-position",this);this.position=ke._createAt(i.nodeBefore,"end");const s=Cr.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=Cr._createAt(i.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Cr._createAt(i.nodeBefore,0,"toPrevious")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_canMergeLeft(n){const i=n.previousSibling;return i instanceof Yt&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,n)}_canMergeRight(n){const i=n.nextSibling;return i instanceof Yt&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(n,i)}_tryAutoparagraphing(n){const i=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,i)&&this.schema.checkChild(i,n)&&(i._appendChild(n),this._handleNode(i))}_checkAndAutoParagraphToAllowedPosition(n){if(this.schema.checkChild(this.position.parent,n))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",n))return!1;this._insertPartialFragment();const i=this.writer.createElement("paragraph");return this.writer.insert(i,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=i,this.position=this.writer.createPositionAt(i,0),!0}_checkAndSplitToAllowedPosition(n){const i=this._getAllowedIn(this.position.parent,n);if(!i)return!1;for(i!=this.position.parent&&this._insertPartialFragment();i!=this.position.parent;)if(this.position.isAtStart){const s=this.position.parent;this.position=this.writer.createPositionBefore(s),s.isEmpty&&s.parent===i&&this.writer.remove(s)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const s=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=s,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(n,i){return this.schema.checkChild(n,i)?n:this.schema.isLimit(n)?null:this._getAllowedIn(n.parent,i)}}function EI(c,n,i="auto"){const s=c.getSelectedElement();if(s&&n.schema.isObject(s)&&!n.schema.isInline(s))return i=="before"||i=="after"?n.createRange(n.createPositionAt(s,i)):n.createRangeOn(s);const l=Mn(c.getSelectedBlocks());if(!l)return n.createRange(c.focus);if(l.isEmpty)return n.createRange(n.createPositionAt(l,0));const u=n.createPositionAfter(l);return c.focus.isTouching(u)?n.createRange(u):n.createRange(n.createPositionBefore(l))}function hU(c,n,i,s={}){if(!c.schema.isObject(n))throw new V("insertobject-element-not-an-object",c,{object:n});const l=i||c.document.selection;let u=l;s.findOptimalPosition&&c.schema.isBlock(n)&&(u=c.createSelection(EI(l,c,s.findOptimalPosition)));const h=Mn(l.getSelectedBlocks()),p={};return h&&Object.assign(p,c.schema.getAttributesWithProperty(h,"copyOnReplace",!0)),c.change(g=>{u.isCollapsed||c.deleteContent(u,{doNotAutoparagraph:!0});let w=n;const y=u.anchor.parent;!c.schema.checkChild(y,n)&&c.schema.checkChild(y,"paragraph")&&c.schema.checkChild("paragraph",n)&&(w=g.createElement("paragraph"),g.insert(n,w)),c.schema.setAllowedAttributes(w,p,g);const C=c.insertContent(w,u);return C.isCollapsed||s.setSelection&&function(S,N,P,j){const H=S.model;if(P=="on")return void S.setSelection(N,"on");if(P!="after")throw new V("insertobject-invalid-place-parameter-value",H);let q=N.nextSibling;if(H.schema.isInline(N))return void S.setSelection(N,"after");!(q&&H.schema.checkChild(q,"$text"))&&H.schema.checkChild(N.parent,"paragraph")&&(q=S.createElement("paragraph"),H.schema.setAllowedAttributes(q,j,S),H.insertContent(q,S.createPositionAfter(N))),q&&S.setSelection(q,0)}(g,n,s.setSelection,p),C})}const fU=' ,.?!:;"-()';function pU(c,n){const{isForward:i,walker:s,unit:l,schema:u,treatEmojiAsSingleUnit:h}=c,{type:p,item:g,nextPosition:w}=n;if(p=="text")return c.unit==="word"?function(y,C){let S=y.position.textNode;for(S||(S=C?y.position.nodeAfter:y.position.nodeBefore);S&&S.is("$text");){const N=y.position.offset-S.startOffset;if(kU(S,N,C))S=C?y.position.nodeAfter:y.position.nodeBefore;else{if(mU(S.data,N,C))break;y.next()}}return y.position}(s,i):function(y,C,S){const N=y.position.textNode;if(N){const P=N.data;let j=y.position.offset-N.startOffset;for(;Tp(P,j)||C=="character"&&Dp(P,j)||S&&Yk(P,j);)y.next(),j=y.position.offset-N.startOffset}return y.position}(s,l,h);if(p==(i?"elementStart":"elementEnd")){if(u.isSelectable(g))return ke._createAt(g,i?"after":"before");if(u.checkChild(w,"$text"))return w}else{if(u.isLimit(g))return void s.skip(()=>!0);if(u.checkChild(w,"$text"))return w}}function gU(c,n){const i=c.root,s=ke._createAt(i,n?"end":0);return n?new le(c,s):new le(s,c)}function mU(c,n,i){const s=n+(i?0:-1);return fU.includes(c.charAt(s))}function kU(c,n,i){return n===(i?c.offsetSize:0)}class bU extends ut(){constructor(){super(),this.markers=new sU,this.document=new eU(this),this.schema=new hV,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(n=>this.decorate(n)),this.on("applyOperation",(n,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((n,i)=>{if(i.name==="$marker")return!0}),lV(this),this.document.registerPostFixer(RD),this.on("insertContent",(n,[i,s])=>{n.return=function(l,u,h){return l.change(p=>{const g=h||l.document.selection;g.isCollapsed||l.deleteContent(g,{doNotAutoparagraph:!0});const w=new dU(l,p,g.anchor),y=[];let C;if(u.is("documentFragment")){if(u.markers.size){const P=[];for(const[j,H]of u.markers){const{start:q,end:te}=H,fe=q.isEqual(te);P.push({position:q,name:j,isCollapsed:fe},{position:te,name:j,isCollapsed:fe})}P.sort(({position:j},{position:H})=>j.isBefore(H)?1:-1);for(const{position:j,name:H,isCollapsed:q}of P){let te=null,fe=null;const Te=j.parent===u&&j.isAtStart,Je=j.parent===u&&j.isAtEnd;Te||Je?q&&(fe=Te?"start":"end"):(te=p.createElement("$marker"),p.insert(te,j)),y.push({name:H,element:te,collapsed:fe})}}C=u.getChildren()}else C=[u];w.handleNodes(C);let S=w.getSelectionRange();if(u.is("documentFragment")&&y.length){const P=S?$o.fromRange(S):null,j={};for(let H=y.length-1;H>=0;H--){const{name:q,element:te,collapsed:fe}=y[H],Te=!j[q];if(Te&&(j[q]=[]),te){const Je=p.createPositionAt(te,"before");j[q].push(Je),p.remove(te)}else{const Je=w.getAffectedRange();if(!Je){fe&&j[q].push(w.position);continue}fe?j[q].push(Je[fe]):j[q].push(Te?Je.start:Je.end)}}for(const[H,[q,te]]of Object.entries(j))q&&te&&q.root===te.root&&p.addMarker(H,{usingOperation:!0,affectsData:!0,range:new le(q,te)});P&&(S=P.toRange(),P.detach())}S&&(g instanceof Vo?p.setSelection(S):g.setTo(S));const N=w.getAffectedRange()||l.createRange(g.anchor);return w.destroy(),N})}(this,i,s)}),this.on("insertObject",(n,[i,s,l])=>{n.return=hU(this,i,s,l)}),this.on("canEditAt",n=>{const i=!this.document.isReadOnly;n.return=i,i||n.stop()})}change(n){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new rh,callback:n}),this._runPendingChanges()[0]):n(this._currentWriter)}catch(i){V.rethrowUnexpectedError(i,this)}}enqueueChange(n,i){try{n?typeof n=="function"?(i=n,n=new rh):n instanceof rh||(n=new rh(n)):n=new rh,this._pendingChanges.push({batch:n,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(s){V.rethrowUnexpectedError(s,this)}}applyOperation(n){n._execute()}insertContent(n,i,s,...l){const u=tA(i,s);return this.fire("insertContent",[n,u,s,...l])}insertObject(n,i,s,l,...u){const h=tA(i,s);return this.fire("insertObject",[n,h,l,l,...u])}deleteContent(n,i){uU(this,n,i)}modifySelection(n,i){(function(s,l,u={}){const h=s.schema,p=u.direction!="backward",g=u.unit?u.unit:"character",w=!!u.treatEmojiAsSingleUnit,y=l.focus,C=new Ns({boundaries:gU(y,p),singleCharacters:!0,direction:p?"forward":"backward"}),S={walker:C,schema:h,isForward:p,unit:g,treatEmojiAsSingleUnit:w};let N;for(;N=C.next();){if(N.done)return;const P=pU(S,N.value);if(P)return void(l instanceof Vo?s.change(j=>{j.setSelectionFocus(P)}):l.setFocus(P))}})(this,n,i)}getSelectedContent(n){return function(i,s){return i.change(l=>{const u=l.createDocumentFragment(),h=s.getFirstRange();if(!h||h.isCollapsed)return u;const p=h.start.root,g=h.start.getCommonPath(h.end),w=p.getNodeByPath(g);let y;y=h.start.parent==h.end.parent?h:l.createRange(l.createPositionAt(w,h.start.path[g.length]),l.createPositionAt(w,h.end.path[g.length]+1));const C=y.end.offset-y.start.offset;for(const S of y.getItems({shallow:!0}))S.is("$textProxy")?l.appendText(S.data,S.getAttributes(),u):l.append(l.cloneElement(S,!0),u);if(y!=h){const S=h._getTransformedByMove(y.start,l.createPositionAt(u,0),C)[0],N=l.createRange(l.createPositionAt(u,0),S.start);xI(l.createRange(S.end,l.createPositionAt(u,"end")),l),xI(N,l)}return u})}(this,n)}hasContent(n,i={}){const s=n instanceof le?n:le._createIn(n);if(s.isCollapsed)return!1;const{ignoreWhitespaces:l=!1,ignoreMarkers:u=!1}=i;if(!u){for(const h of this.markers.getMarkersIntersectingRange(s))if(h.affectsData)return!0}for(const h of s.getItems())if(this.schema.isContent(h)&&(!h.is("$textProxy")||!l||h.data.search(/\S/)!==-1))return!0;return!1}canEditAt(n){const i=tA(n);return this.fire("canEditAt",[i])}createPositionFromPath(n,i,s){return new ke(n,i,s)}createPositionAt(n,i){return ke._createAt(n,i)}createPositionAfter(n){return ke._createAfter(n)}createPositionBefore(n){return ke._createBefore(n)}createRange(n,i){return new le(n,i)}createRangeIn(n){return le._createIn(n)}createRangeOn(n){return le._createOn(n)}createSelection(...n){return new Ri(...n)}createBatch(n){return new rh(n)}createOperationFromJSON(n){return OV.fromJSON(n,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const n=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new cU(this,i);const s=this._pendingChanges[0].callback(this._currentWriter);n.push(s),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return n}}function tA(c,n){if(c)return c instanceof Ri||c instanceof Vo?c:c instanceof Xl?n||n===0?new Ri(c,n):c.is("rootElement")?new Ri(c,"in"):new Ri(c,"on"):new Ri(c)}class wU extends _c{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(n){this.fire(n.type,n)}}class nA extends _c{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(n){this.fire(n.type,n)}}class xc{constructor(n){this.document=n}createDocumentFragment(n){return new Jl(this.document,n)}createElement(n,i,s){return new Pi(this.document,n,i,s)}createText(n){return new Q(this.document,n)}clone(n,i=!1){return n._clone(i)}appendChild(n,i){return i._appendChild(n)}insertChild(n,i,s){return s._insertChild(n,i)}removeChildren(n,i,s){return s._removeChildren(n,i)}remove(n){const i=n.parent;return i?this.removeChildren(i.getChildIndex(n),1,i):[]}replace(n,i){const s=n.parent;if(s){const l=s.getChildIndex(n);return this.removeChildren(l,1,s),this.insertChild(l,i,s),!0}return!1}unwrapElement(n){const i=n.parent;if(i){const s=i.getChildIndex(n);this.remove(n),this.insertChild(s,n.getChildren(),i)}}rename(n,i){const s=new Pi(this.document,n,i.getAttributes(),i.getChildren());return this.replace(i,s)?s:null}setAttribute(n,i,s){s._setAttribute(n,i)}removeAttribute(n,i){i._removeAttribute(n)}addClass(n,i){i._addClass(n)}removeClass(n,i){i._removeClass(n)}setStyle(n,i,s){jn(n)&&s===void 0?i._setStyle(n):s._setStyle(n,i)}removeStyle(n,i){i._removeStyle(n)}setCustomProperty(n,i,s){s._setCustomProperty(n,i)}removeCustomProperty(n,i){return i._removeCustomProperty(n)}createPositionAt(n,i){return Ee._createAt(n,i)}createPositionAfter(n){return Ee._createAfter(n)}createPositionBefore(n){return Ee._createBefore(n)}createRange(n,i){return new Xe(n,i)}createRangeOn(n){return Xe._createOn(n)}createRangeIn(n){return Xe._createIn(n)}createSelection(...n){return new Is(...n)}}class vU{constructor(){this._commands=new Map}add(n,i){this._commands.set(n,i)}get(n){return this._commands.get(n)}execute(n,...i){const s=this.get(n);if(!s)throw new V("commandcollection-command-not-found",this,{commandName:n});return s.execute(...i)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const n of this.commands())n.destroy()}}class yU extends ut(){constructor(n={}){super();const i=this.constructor,s=n.language||i.defaultConfig&&i.defaultConfig.language;this._context=n.context||new ga({language:s}),this._context._addEditor(this,!n.context);const l=Array.from(i.builtinPlugins||[]);this.config=new di(n,i.defaultConfig),this.config.define("plugins",l),this.config.define(this._context._getEditorConfig()),this.plugins=new po(this,l,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new vU,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new bU,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const u=new q$;this.data=new NV(this.model,u),this.editing=new uV(this.model,u),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new PV([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new A_(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(n){throw new V("editor-isreadonly-has-no-setter")}enableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new V("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)||(this._readOnlyLocks.add(n),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new V("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)&&(this._readOnlyLocks.delete(n),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const n=this.config,i=n.get("plugins"),s=n.get("removePlugins")||[],l=n.get("extraPlugins")||[],u=n.get("substitutePlugins")||[];return this.plugins.init(i.concat(l),s,u)}destroy(){let n=Promise.resolve();return this.state=="initializing"&&(n=new Promise(i=>this.once("ready",i))),n.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(n,...i){try{return this.commands.execute(n,...i)}catch(s){V.rethrowUnexpectedError(s,this)}}focus(){this.editing.view.focus()}static create(...n){throw new Error("This is an abstract method.")}}function Sb(c){return class extends c{setData(n){this.data.set(n)}getData(n){return this.data.get(n)}}}{const c=Sb(Object);Sb.setData=c.prototype.setData,Sb.getData=c.prototype.getData}function rA(c){return class extends c{updateSourceElement(n=this.data.get()){if(!this.sourceElement)throw new V("editor-missing-sourceelement",this);const i=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;$d(this.sourceElement,i||s?n:"")}}}rA.updateSourceElement=rA(Object).prototype.updateSourceElement;class SI extends Kd{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Mi({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(n){if(typeof n!="string")throw new V("pendingactions-add-invalid-message",this);const i=new(ut());return i.set("message",n),this._actions.add(i),this.hasAny=!0,i}remove(n){this._actions.remove(n),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Fn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var TI=a(5542),_U={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(TI.Z,_U),TI.Z.locals;const{threeVerticalDots:DI}=Fn,AU={alignLeft:Fn.alignLeft,bold:Fn.bold,importExport:Fn.importExport,paragraph:Fn.paragraph,plus:Fn.plus,text:Fn.text,threeVerticalDots:Fn.threeVerticalDots};class iA extends gt{constructor(n,i){super(n);const s=this.bindTemplate,l=this.t;this.options=i||{},this.set("ariaLabel",l("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new hi,this.keystrokes=new lo,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new CU(n),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const u=n.uiLanguageDirection==="rtl";this._focusCycler=new yc({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[u?"arrowright":"arrowleft","arrowup"],focusNext:[u?"arrowleft":"arrowright","arrowdown"]}});const h=["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact")];var p;this.options.shouldGroupWhenFull&&this.options.isFloating&&h.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:h,role:"toolbar","aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(p=this,p.bindTemplate.to(g=>{g.target===p.element&&g.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new EU(this):new xU(this)}render(){super.render(),this.focusTracker.add(this.element);for(const n of this.items)this.focusTracker.add(n.element);this.items.on("add",(n,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(n,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(n,i,s){this.items.addMany(this._buildItemsFromConfig(n,i,s))}_buildItemsFromConfig(n,i,s){const l=cb(n),u=s||l.removeItems;return this._cleanItemsConfiguration(l.items,i,u).map(h=>Se(h)?this._createNestedToolbarDropdown(h,i,u):h==="|"?new ab:h==="-"?new __:i.create(h)).filter(h=>!!h)}_cleanItemsConfiguration(n,i,s){const l=n.filter((u,h,p)=>u==="|"||s.indexOf(u)===-1&&(u==="-"?!this.options.shouldGroupWhenFull||(se("toolbarview-line-break-ignored-when-grouping-items",p),!1):!(!Se(u)&&!i.has(u))||(se("toolbarview-item-unavailable",{item:u}),!1)));return this._cleanSeparatorsAndLineBreaks(l)}_cleanSeparatorsAndLineBreaks(n){const i=h=>h!=="-"&&h!=="|",s=n.length,l=n.findIndex(i);if(l===-1)return[];const u=s-n.slice().reverse().findIndex(i);return n.slice(l,u).filter((h,p,g)=>i(h)?!0:!(p>0&&g[p-1]===h))}_createNestedToolbarDropdown(n,i,s){let{label:l,icon:u,items:h,tooltip:p=!0,withText:g=!1}=n;if(h=this._cleanItemsConfiguration(h,i,s),!h.length)return null;const w=Ec(this.locale);return l||se("toolbarview-nested-toolbar-dropdown-missing-label",n),w.class="ck-toolbar__nested-toolbar-dropdown",w.buttonView.set({label:l,tooltip:p,withText:!!g}),u!==!1?w.buttonView.icon=AU[u]||u||DI:w.buttonView.withText=!0,sA(w,()=>w.toolbarView._buildItemsFromConfig(h,i,s)),w}}class CU extends gt{constructor(n){super(n),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class xU{constructor(n){const i=n.bindTemplate;n.set("isVertical",!1),n.itemsView.children.bindTo(n.items).using(s=>s),n.focusables.bindTo(n.items).using(s=>s),n.extendTemplate({attributes:{class:[i.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class EU{constructor(n){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=n,this.viewChildren=n.children,this.viewFocusables=n.focusables,this.viewItemsView=n.itemsView,this.viewFocusTracker=n.focusTracker,this.viewLocale=n.locale,this.ungroupedItems=n.createCollection(),this.groupedItems=n.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),n.itemsView.children.bindTo(this.ungroupedItems).using(i=>i),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),n.children.on("change",this._updateFocusCycleableItems.bind(this)),n.items.on("change",(i,s)=>{const l=s.index,u=Array.from(s.added);for(const h of s.removed)l>=this.ungroupedItems.length?this.groupedItems.remove(h):this.ungroupedItems.remove(h);for(let h=l;h<l+u.length;h++){const p=u[h-l];h>this.ungroupedItems.length?this.groupedItems.add(p,h-this.ungroupedItems.length):this.ungroupedItems.add(p,h)}this._updateGrouping()}),n.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(n){this.viewElement=n.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(n)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!ha(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const n=this.groupedItems.length;let i;for(;this._areItemsOverflowing;)this._groupLastItem(),i=!0;if(!i&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==n&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const n=this.viewElement,i=this.viewLocale.uiLanguageDirection,s=new Ut(n.lastChild),l=new Ut(n);if(!this.cachedPadding){const u=at.window.getComputedStyle(n),h=i==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(u[h])}return i==="ltr"?s.right>l.right-this.cachedPadding:s.left<l.left+this.cachedPadding}_enableGroupingOnResize(){let n;this.resizeObserver=new Fd(this.viewElement,i=>{n&&n===i.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),n=i.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(n){n.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new ab),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const n=this.viewLocale,i=n.t,s=Ec(n);return s.class="ck-toolbar__grouped-dropdown",s.panelPosition=n.uiLanguageDirection==="ltr"?"sw":"se",sA(s,this.groupedItems),s.buttonView.set({label:i("Show more items"),tooltip:!0,tooltipPosition:n.uiLanguageDirection==="rtl"?"se":"sw",icon:DI}),s}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(n=>{this.viewFocusables.add(n)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var II=a(1046),SU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(II.Z,SU),II.Z.locals;class TU extends gt{constructor(n){super(n);const i=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new hi,this.keystrokes=new lo,this._focusCycler=new yc({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:i.to("role"),"aria-label":i.to("ariaLabel")},children:this.items})}render(){super.render();for(const n of this.items)this.focusTracker.add(n.element);this.items.on("add",(n,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(n,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class MI extends gt{constructor(n){super(n);const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",s=>!s)],role:"presentation"},children:this.children})}focus(){this.children.first.focus()}}class DU extends gt{constructor(n){super(n),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var NI=a(7686),IU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(NI.Z,IU),NI.Z.locals;class oA extends gt{constructor(n){super(n);const i=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new lo,this.focusTracker=new hi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",s=>!s),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(n,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(n,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const n=new tn;return n.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),n.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),n.delegate("execute").to(this),n}_createArrowView(){const n=new tn,i=n.bindTemplate;return n.icon=sb,n.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",s=>String(s))}}),n.bind("isEnabled").to(this),n.bind("label").to(this),n.bind("tooltip").to(this),n.delegate("execute").to(this,"open"),n}}var PI=a(7339),MU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(PI.Z,MU),PI.Z.locals;var OI=a(3949),NU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(OI.Z,NU),OI.Z.locals;function Ec(c,n=y_){const i=new n(c),s=new w_(c),l=new $p(c,i,s);return i.bind("isEnabled").to(l),i instanceof oA?i.arrowView.bind("isOn").to(l,"isOpen"):i.bind("isOn").to(l,"isOpen"),function(u){(function(h){h.on("render",()=>{f({emitter:h,activator:()=>h.isOpen,callback:()=>{h.isOpen=!1},contextElements:()=>[h.element,...h.focusTracker._elements]})})})(u),function(h){h.on("execute",p=>{p.source instanceof Yl||(h.isOpen=!1)})}(u),function(h){h.focusTracker.on("change:isFocused",(p,g,w)=>{h.isOpen&&!w&&(h.isOpen=!1)})}(u),function(h){h.keystrokes.set("arrowdown",(p,g)=>{h.isOpen&&(h.panelView.focus(),g())}),h.keystrokes.set("arrowup",(p,g)=>{h.isOpen&&(h.panelView.focusLast(),g())})}(u),function(h){h.on("change:isOpen",(p,g,w)=>{if(w)return;const y=h.panelView.element;y&&y.contains(at.document.activeElement)&&h.buttonView.focus()})}(u),function(h){h.on("change:isOpen",(p,g,w)=>{w&&h.panelView.focus()},{priority:"low"})}(u)}(l),l}function sA(c,n,i={}){c.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),c.isOpen?RI(c,n,i):c.once("change:isOpen",()=>RI(c,n,i),{priority:"highest"}),i.enableActiveItemFocusOnDropdownOpen&&jI(c,()=>c.toolbarView.items.find(s=>s.isOn))}function RI(c,n,i){const s=c.locale,l=s.t,u=c.toolbarView=new iA(s),h=typeof n=="function"?n():n;u.ariaLabel=i.ariaLabel||l("Dropdown toolbar"),i.maxWidth&&(u.maxWidth=i.maxWidth),i.class&&(u.class=i.class),i.isCompact&&(u.isCompact=i.isCompact),i.isVertical&&(u.isVertical=!0),h instanceof Ts?u.items.bindTo(h).using(p=>p):u.items.addMany(h),c.panelView.children.add(u),u.items.delegate("execute").to(c)}function LI(c,n,i={}){c.isOpen?BI(c,n,i):c.once("change:isOpen",()=>BI(c,n,i),{priority:"highest"}),jI(c,()=>c.listView.items.find(s=>s instanceof MI&&s.children.first.isOn))}function BI(c,n,i){const s=c.locale,l=c.listView=new TU(s),u=typeof n=="function"?n():n;l.ariaLabel=i.ariaLabel,l.role=i.role,l.items.bindTo(u).using(h=>{if(h.type==="separator")return new DU(s);if(h.type==="button"||h.type==="switchbutton"){const p=new MI(s);let g;return g=h.type==="button"?new tn(s):new Yl(s),g.bind(...Object.keys(h.model)).to(h.model),g.delegate("execute").to(p),p.children.add(g),p}return null}),c.panelView.children.add(l),l.items.delegate("execute").to(c)}function jI(c,n){c.on("change:isOpen",()=>{if(!c.isOpen)return;const i=n();i&&(typeof i.focus=="function"?i.focus():se("ui-dropdown-focus-child-on-open-child-missing-focus",{view:i}))},{priority:X.low-10})}function aA(c,n,i){const s=new b_(c.locale);return s.set({id:n,ariaDescribedById:i}),s.bind("isReadOnly").to(c,"isEnabled",l=>!l),s.bind("hasError").to(c,"errorText",l=>!!l),s.on("input",()=>{c.errorText=null}),c.bind("isEmpty","isFocused","placeholder").to(s),s}const rg=(c,n=0,i=1)=>c>i?i:c<n?n:c,xr=(c,n=0,i=Math.pow(10,n))=>Math.round(i*c)/i,cA=c=>(c[0]==="#"&&(c=c.substring(1)),c.length<6?{r:parseInt(c[0]+c[0],16),g:parseInt(c[1]+c[1],16),b:parseInt(c[2]+c[2],16),a:c.length===4?xr(parseInt(c[3]+c[3],16)/255,2):1}:{r:parseInt(c.substring(0,2),16),g:parseInt(c.substring(2,4),16),b:parseInt(c.substring(4,6),16),a:c.length===8?xr(parseInt(c.substring(6,8),16)/255,2):1}),PU=({h:c,s:n,v:i,a:s})=>{const l=(200-n)*i/100;return{h:xr(c),s:xr(l>0&&l<200?n*i/100/(l<=100?l:200-l)*100:0),l:xr(l/2),a:xr(s,2)}},lA=c=>{const{h:n,s:i,l:s}=PU(c);return`hsl(${n}, ${i}%, ${s}%)`},OU=({h:c,s:n,v:i,a:s})=>{c=c/360*6,n/=100,i/=100;const l=Math.floor(c),u=i*(1-n),h=i*(1-(c-l)*n),p=i*(1-(1-c+l)*n),g=l%6;return{r:xr(255*[i,h,u,u,p,i][g]),g:xr(255*[p,i,i,h,u,u][g]),b:xr(255*[u,u,p,i,i,h][g]),a:xr(s,2)}},Tb=c=>{const n=c.toString(16);return n.length<2?"0"+n:n},RU=({r:c,g:n,b:i,a:s})=>{const l=s<1?Tb(xr(255*s)):"";return"#"+Tb(c)+Tb(n)+Tb(i)+l},LU=({r:c,g:n,b:i,a:s})=>{const l=Math.max(c,n,i),u=l-Math.min(c,n,i),h=u?l===c?(n-i)/u:l===n?2+(i-c)/u:4+(c-n)/u:0;return{h:xr(60*(h<0?h+6:h)),s:xr(l?u/l*100:0),v:xr(l/255*100),a:s}},zI=(c,n)=>{if(c===n)return!0;for(const i in c)if(c[i]!==n[i])return!1;return!0},FI={},$I=c=>{let n=FI[c];return n||(n=document.createElement("template"),n.innerHTML=c,FI[c]=n),n},uA=(c,n,i)=>{c.dispatchEvent(new CustomEvent(n,{bubbles:!0,detail:i}))};let oh=!1;const dA=c=>"touches"in c,VI=(c,n)=>{const i=dA(n)?n.touches[0]:n,s=c.el.getBoundingClientRect();uA(c.el,"move",c.getMove({x:rg((i.pageX-(s.left+window.pageXOffset))/s.width),y:rg((i.pageY-(s.top+window.pageYOffset))/s.height)}))};class UI{constructor(n,i,s,l){const u=$I(`<div role="slider" tabindex="0" part="${i}" ${s}><div part="${i}-pointer"></div></div>`);n.appendChild(u.content.cloneNode(!0));const h=n.querySelector(`[part=${i}]`);h.addEventListener("mousedown",this),h.addEventListener("touchstart",this),h.addEventListener("keydown",this),this.el=h,this.xy=l,this.nodes=[h.firstChild,h]}set dragging(n){const i=n?document.addEventListener:document.removeEventListener;i(oh?"touchmove":"mousemove",this),i(oh?"touchend":"mouseup",this)}handleEvent(n){switch(n.type){case"mousedown":case"touchstart":if(n.preventDefault(),!(i=>!(oh&&!dA(i)||(oh||(oh=dA(i)),0)))(n)||!oh&&n.button!=0)return;this.el.focus(),VI(this,n),this.dragging=!0;break;case"mousemove":case"touchmove":n.preventDefault(),VI(this,n);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((i,s)=>{const l=s.keyCode;l>40||i.xy&&l<37||l<33||(s.preventDefault(),uA(i.el,"move",i.getMove({x:l===39?.01:l===37?-.01:l===34?.05:l===33?-.05:l===35?1:l===36?-1:0,y:l===40?.01:l===38?-.01:0},!0)))})(this,n)}}style(n){n.forEach((i,s)=>{for(const l in i)this.nodes[s].style.setProperty(l,i[l])})}}class BU extends UI{constructor(n){super(n,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:n}){this.h=n,this.style([{left:n/360*100+"%",color:lA({h:n,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${xr(n)}`)}getMove(n,i){return{h:i?rg(this.h+360*n.x,0,360):360*n.x}}}class jU extends UI{constructor(n){super(n,"saturation",'aria-label="Color"',!0)}update(n){this.hsva=n,this.style([{top:100-n.v+"%",left:`${n.s}%`,color:lA(n)},{"background-color":lA({h:n.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${xr(n.s)}%, Brightness ${xr(n.v)}%`)}getMove(n,i){return{s:i?rg(this.hsva.s+100*n.x,0,100):100*n.x,v:i?rg(this.hsva.v-100*n.y,0,100):Math.round(100-100*n.y)}}}const Db=Symbol("same"),hA=Symbol("color"),HI=Symbol("hsva"),fA=Symbol("update"),WI=Symbol("parts"),qI=Symbol("css"),GI=Symbol("sliders");class zU extends HTMLElement{static get observedAttributes(){return["color"]}get[qI](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[GI](){return[jU,BU]}get color(){return this[hA]}set color(n){if(!this[Db](n)){const i=this.colorModel.toHsva(n);this[fA](i),this[hA]=n}}constructor(){super();const n=$I(`<style>${this[qI].join("")}</style>`),i=this.attachShadow({mode:"open"});i.appendChild(n.content.cloneNode(!0)),i.addEventListener("move",this),this[WI]=this[GI].map(s=>new s(i))}connectedCallback(){if(this.hasOwnProperty("color")){const n=this.color;delete this.color,this.color=n}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(n,i,s){const l=this.colorModel.fromAttr(s);this[Db](l)||(this.color=l)}handleEvent(n){const i=this[HI],s={...i,...n.detail};let l;this[fA](s),zI(s,i)||this[Db](l=this.colorModel.fromHsva(s))||(this[hA]=l,uA(this,"color-changed",{value:l}))}[Db](n){return this.color&&this.colorModel.equal(n,this.color)}[fA](n){this[HI]=n,this[WI].forEach(i=>i.update(n))}}const FU={defaultColor:"#000",toHsva:c=>LU(cA(c)),fromHsva:({h:c,s:n,v:i})=>RU(OU({h:c,s:n,v:i,a:1})),equal:(c,n)=>c.toLowerCase()===n.toLowerCase()||zI(cA(c),cA(n)),fromAttr:c=>c};class $U extends zU{get colorModel(){return FU}}customElements.define("hex-color-picker",class extends $U{});var YI=a(3398),VU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(YI.Z,VU),YI.Z.locals;var KI=a(4157),UU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(KI.Z,UU),KI.Z.locals;class HU{constructor(n){this._components=new Map,this.editor=n}*names(){for(const n of this._components.values())yield n.originalName}add(n,i){this._components.set(pA(n),{callback:i,originalName:n})}create(n){if(!this.has(n))throw new V("componentfactory-item-missing",this,{name:n});return this._components.get(pA(n)).callback(this.editor.locale)}has(n){return this._components.has(pA(n))}}function pA(c){return String(c).toLowerCase()}var QI=a(8793),WU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(QI.Z,WU),QI.Z.locals;var qU=Object.defineProperty,ZI=Object.getOwnPropertySymbols,GU=Object.prototype.hasOwnProperty,YU=Object.prototype.propertyIsEnumerable,JI=(c,n,i)=>n in c?qU(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i,Mt=(c,n)=>{for(var i in n||(n={}))GU.call(n,i)&&JI(c,i,n[i]);if(ZI)for(var i of ZI(n))YU.call(n,i)&&JI(c,i,n[i]);return c};const XI=Ap("px"),eM=at.document.body,gA=class extends gt{constructor(c){super(c);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",n.to("position",i=>`ck-balloon-panel_${i}`),n.if("isVisible","ck-balloon-panel_visible"),n.if("withArrow","ck-balloon-panel_with-arrow"),n.to("class")],style:{top:n.to("top",XI),left:n.to("left",XI)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(c){this.show();const n=gA.defaultPositions,i=Object.assign({},{element:this.element,positions:[n.southArrowNorth,n.southArrowNorthMiddleWest,n.southArrowNorthMiddleEast,n.southArrowNorthWest,n.southArrowNorthEast,n.northArrowSouth,n.northArrowSouthMiddleWest,n.northArrowSouthMiddleEast,n.northArrowSouthWest,n.northArrowSouthEast,n.viewportStickyNorth],limiter:eM,fitInViewport:!0},c),s=gA._getOptimalPosition(i),l=parseInt(s.left),u=parseInt(s.top),h=s.name,p=s.config||{},{withArrow:g=!0}=p;this.top=u,this.left=l,this.position=h,this.withArrow=g}pin(c){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(c):this._stopPinning()},this._startPinning(c),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(c){this.attachTo(c);const n=mA(c.target),i=c.limiter?mA(c.limiter):eM;this.listenTo(at.document,"scroll",(s,l)=>{const u=l.target,h=n&&u.contains(n),p=i&&u.contains(i);!h&&!p&&n&&i||this.attachTo(c)},{useCapture:!0}),this.listenTo(at.window,"resize",()=>{this.attachTo(c)})}_stopPinning(){this.stopListening(at.document,"scroll"),this.stopListening(at.window,"resize")}};let gi=gA;function mA(c){return Ar(c)?c:jd(c)?c.commonAncestorContainer:typeof c=="function"?mA(c()):null}function tM(c={}){const{sideOffset:n=gi.arrowSideOffset,heightOffset:i=gi.arrowHeightOffset,stickyVerticalOffset:s=gi.stickyVerticalOffset,config:l}=c;return{northWestArrowSouthWest:(p,g)=>Mt({top:u(p,g),left:p.left-n,name:"arrow_sw"},l&&{config:l}),northWestArrowSouthMiddleWest:(p,g)=>Mt({top:u(p,g),left:p.left-.25*g.width-n,name:"arrow_smw"},l&&{config:l}),northWestArrowSouth:(p,g)=>Mt({top:u(p,g),left:p.left-g.width/2,name:"arrow_s"},l&&{config:l}),northWestArrowSouthMiddleEast:(p,g)=>Mt({top:u(p,g),left:p.left-.75*g.width+n,name:"arrow_sme"},l&&{config:l}),northWestArrowSouthEast:(p,g)=>Mt({top:u(p,g),left:p.left-g.width+n,name:"arrow_se"},l&&{config:l}),northArrowSouthWest:(p,g)=>Mt({top:u(p,g),left:p.left+p.width/2-n,name:"arrow_sw"},l&&{config:l}),northArrowSouthMiddleWest:(p,g)=>Mt({top:u(p,g),left:p.left+p.width/2-.25*g.width-n,name:"arrow_smw"},l&&{config:l}),northArrowSouth:(p,g)=>Mt({top:u(p,g),left:p.left+p.width/2-g.width/2,name:"arrow_s"},l&&{config:l}),northArrowSouthMiddleEast:(p,g)=>Mt({top:u(p,g),left:p.left+p.width/2-.75*g.width+n,name:"arrow_sme"},l&&{config:l}),northArrowSouthEast:(p,g)=>Mt({top:u(p,g),left:p.left+p.width/2-g.width+n,name:"arrow_se"},l&&{config:l}),northEastArrowSouthWest:(p,g)=>Mt({top:u(p,g),left:p.right-n,name:"arrow_sw"},l&&{config:l}),northEastArrowSouthMiddleWest:(p,g)=>Mt({top:u(p,g),left:p.right-.25*g.width-n,name:"arrow_smw"},l&&{config:l}),northEastArrowSouth:(p,g)=>Mt({top:u(p,g),left:p.right-g.width/2,name:"arrow_s"},l&&{config:l}),northEastArrowSouthMiddleEast:(p,g)=>Mt({top:u(p,g),left:p.right-.75*g.width+n,name:"arrow_sme"},l&&{config:l}),northEastArrowSouthEast:(p,g)=>Mt({top:u(p,g),left:p.right-g.width+n,name:"arrow_se"},l&&{config:l}),southWestArrowNorthWest:p=>Mt({top:h(p),left:p.left-n,name:"arrow_nw"},l&&{config:l}),southWestArrowNorthMiddleWest:(p,g)=>Mt({top:h(p),left:p.left-.25*g.width-n,name:"arrow_nmw"},l&&{config:l}),southWestArrowNorth:(p,g)=>Mt({top:h(p),left:p.left-g.width/2,name:"arrow_n"},l&&{config:l}),southWestArrowNorthMiddleEast:(p,g)=>Mt({top:h(p),left:p.left-.75*g.width+n,name:"arrow_nme"},l&&{config:l}),southWestArrowNorthEast:(p,g)=>Mt({top:h(p),left:p.left-g.width+n,name:"arrow_ne"},l&&{config:l}),southArrowNorthWest:p=>Mt({top:h(p),left:p.left+p.width/2-n,name:"arrow_nw"},l&&{config:l}),southArrowNorthMiddleWest:(p,g)=>Mt({top:h(p),left:p.left+p.width/2-.25*g.width-n,name:"arrow_nmw"},l&&{config:l}),southArrowNorth:(p,g)=>Mt({top:h(p),left:p.left+p.width/2-g.width/2,name:"arrow_n"},l&&{config:l}),southArrowNorthMiddleEast:(p,g)=>Mt({top:h(p),left:p.left+p.width/2-.75*g.width+n,name:"arrow_nme"},l&&{config:l}),southArrowNorthEast:(p,g)=>Mt({top:h(p),left:p.left+p.width/2-g.width+n,name:"arrow_ne"},l&&{config:l}),southEastArrowNorthWest:p=>Mt({top:h(p),left:p.right-n,name:"arrow_nw"},l&&{config:l}),southEastArrowNorthMiddleWest:(p,g)=>Mt({top:h(p),left:p.right-.25*g.width-n,name:"arrow_nmw"},l&&{config:l}),southEastArrowNorth:(p,g)=>Mt({top:h(p),left:p.right-g.width/2,name:"arrow_n"},l&&{config:l}),southEastArrowNorthMiddleEast:(p,g)=>Mt({top:h(p),left:p.right-.75*g.width+n,name:"arrow_nme"},l&&{config:l}),southEastArrowNorthEast:(p,g)=>Mt({top:h(p),left:p.right-g.width+n,name:"arrow_ne"},l&&{config:l}),westArrowEast:(p,g)=>Mt({top:p.top+p.height/2-g.height/2,left:p.left-g.width-i,name:"arrow_e"},l&&{config:l}),eastArrowWest:(p,g)=>Mt({top:p.top+p.height/2-g.height/2,left:p.right+i,name:"arrow_w"},l&&{config:l}),viewportStickyNorth:(p,g,w)=>p.getIntersection(w)?{top:w.top+s,left:p.left+p.width/2-g.width/2,name:"arrowless",config:Mt({withArrow:!1},l)}:null};function u(p,g){return p.top-g.height-i}function h(p){return p.bottom+i}}gi.arrowSideOffset=25,gi.arrowHeightOffset=10,gi.stickyVerticalOffset=20,gi._getOptimalPosition=$k,gi.defaultPositions=tM();var nM=a(3332),KU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(nM.Z,KU),nM.Z.locals;const rM="ck-tooltip",mi=class extends Ss(){constructor(c){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,mi._editors.add(c),mi._instance)return mi._instance;mi._instance=this,this.tooltipTextView=new gt(c.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new gi(c.locale),this.balloonPanelView.class=rM,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=Gp(this._pinTooltip,600),this.listenTo(at.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(at.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(at.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(at.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(at.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(c){const n=c.ui.view&&c.ui.view.body;mi._editors.delete(c),this.stopListening(c.ui),n&&n.has(this.balloonPanelView)&&n.remove(this.balloonPanelView),mi._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),mi._instance=null)}static getPositioningFunctions(c){const n=mi.defaultBalloonPositions;return{s:[n.southArrowNorth,n.southArrowNorthEast,n.southArrowNorthWest],n:[n.northArrowSouth],e:[n.eastArrowWest],w:[n.westArrowEast],sw:[n.southArrowNorthEast],se:[n.southArrowNorthWest]}[c]}_onEnterOrFocus(c,{target:n}){const i=kA(n);var s;i&&i!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(i,{text:(s=i).dataset.ckeTooltipText,position:s.dataset.ckeTooltipPosition||"s",cssClass:s.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(c,{target:n,relatedTarget:i}){if(c.name==="mouseleave"){if(!Ar(n)||this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;const s=kA(n),l=kA(i);s&&s!==l&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(c,{target:n}){this._currentElementWithTooltip&&(n.contains(this.balloonPanelView.element)&&n.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(c,{text:n,position:i,cssClass:s}){const l=Mn(mi._editors.values()).ui.view.body;l.has(this.balloonPanelView)||l.add(this.balloonPanelView),this.tooltipTextView.text=n,this.balloonPanelView.pin({target:c,positions:mi.getPositioningFunctions(i)}),this._resizeObserver=new Fd(c,()=>{ha(c)||this._unpinTooltip()}),this.balloonPanelView.class=[rM,s].filter(u=>u).join(" ");for(const u of mi._editors)this.listenTo(u.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=c,this._currentTooltipPosition=i}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const c of mi._editors)this.stopListening(c.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){ha(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:mi.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let Ib=mi;function kA(c){return Ar(c)?c.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}Ib.defaultBalloonPositions=tM({heightOffset:5,sideOffset:13}),Ib._editors=new Set,Ib._instance=null;const bA=function(c,n,i){var s=!0,l=!0;if(typeof c!="function")throw new TypeError("Expected a function");return Se(i)&&(s="leading"in i?!!i.leading:s,l="trailing"in i?!!i.trailing:l),Gp(c,n,{leading:s,maxWait:n,trailing:l})};var QU=Object.defineProperty,iM=Object.getOwnPropertySymbols,ZU=Object.prototype.hasOwnProperty,JU=Object.prototype.propertyIsEnumerable,oM=(c,n,i)=>n in c?QU(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i,XU=(c,n)=>{for(var i in n||(n={}))ZU.call(n,i)&&oM(c,i,n[i]);if(iM)for(var i of iM(n))JU.call(n,i)&&oM(c,i,n[i]);return c};const eH=50,tH=350,nH="Powered by",Mb={top:-99999,left:-99999,name:"invalid",config:{withArrow:!1}};class rH extends Ss(){constructor(n){super(),this.editor=n,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=bA(this._showBalloon.bind(this),50,{leading:!0}),n.on("ready",this._handleEditorReady.bind(this))}destroy(){const n=this._balloonView;n&&(n.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const n=this.editor;(n.config.get("ui.poweredBy.forceVisible")||function(i){function s(N){return N.length>=40&&N.length<=255?"VALID":"INVALID"}if(!i)return"INVALID";let l="";try{l=atob(i)}catch{return"INVALID"}const u=l.split("-"),h=u[0],p=u[1];if(!p)return s(i);try{atob(p)}catch{try{if(atob(h),!atob(h).length)return s(i)}catch{return s(i)}}if(h.length<40||h.length>255)return"INVALID";let g="";try{atob(h),g=atob(p)}catch{return"INVALID"}if(g.length!==8)return"INVALID";const w=Number(g.substring(0,4)),y=Number(g.substring(4,6))-1,C=Number(g.substring(6,8)),S=new Date(w,y,C);return S<Re||isNaN(Number(S))?"INVALID":"VALID"}(n.config.get("licenseKey"))!=="VALID")&&n.ui.view&&(n.ui.focusTracker.on("change:isFocused",(i,s,l)=>{this._updateLastFocusedEditableElement(),l?this._showBalloon():this._hideBalloon()}),n.ui.focusTracker.on("change:focusedElement",(i,s,l)=>{this._updateLastFocusedEditableElement(),l&&this._showBalloon()}),n.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const n=this.editor,i=this._balloonView=new gi,s=aM(n),l=new iH(n.locale,s.label);i.content.add(l),i.set({class:"ck-powered-by-balloon"}),n.ui.view.body.add(i),n.ui.focusTracker.add(i.element),this._balloonView=i}_showBalloon(){if(!this._lastFocusedEditableElement)return;const n=function(i,s){const l=aM(i),u=l.side==="right"?function(h,p){return sM(h,p,(g,w)=>g.left+g.width-w.width-p.horizontalOffset)}(s,l):function(h,p){return sM(h,p,g=>g.left+p.horizontalOffset)}(s,l);return{target:s,positions:[u]}}(this.editor,this._lastFocusedEditableElement);n&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(n))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const n=this.editor,i=n.ui.focusTracker.isFocused,s=n.ui.focusTracker.focusedElement;if(!i||!s)return void(this._lastFocusedEditableElement=null);const l=Array.from(n.ui.getEditableElementsNames()).map(u=>n.ui.getEditableElement(u));l.includes(s)?this._lastFocusedEditableElement=s:this._lastFocusedEditableElement=l[0]}}class iH extends gt{constructor(n,i){super(n);const s=new vc,l=this.bindTemplate;s.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),s.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...i?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[i]}]:[],s],on:{dragstart:l.to(u=>u.preventDefault())}}]})}}function sM(c,n,i){return(s,l)=>{const u=s.getVisible();if(!u||s.width<tH||s.height<eH)return Mb;let h;h=n.position==="inside"?s.bottom-l.height:s.bottom-l.height/2,h-=n.verticalOffset;const p=i(s,l);if(n.position==="inside"){const g=l.clone().moveTo(p,h);if(g.getIntersectionArea(u)<g.getArea())return Mb}else{const g=_p(c);if(g){const w=new Ut(g),y=u.bottom+l.height/2>w.bottom,C=n.side==="left"?s.left<w.left:s.right>w.right;if(y||C)return Mb}}return{top:h,left:p,name:`position_${n.position}-side_${n.side}`,config:{withArrow:!1}}}}function aM(c){const n=c.config.get("ui.poweredBy"),i=n&&n.position||"border";return XU({position:i,label:nH,verticalOffset:i==="inside"?5:0,horizontalOffset:5,side:c.locale.contentLanguageDirection==="ltr"?"right":"left"},n)}var oH=Object.defineProperty,cM=Object.getOwnPropertySymbols,sH=Object.prototype.hasOwnProperty,aH=Object.prototype.propertyIsEnumerable,lM=(c,n,i)=>n in c?oH(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i;class cH extends ut(){constructor(n){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const i=n.editing.view;this.editor=n,this.componentFactory=new HU(n),this.focusTracker=new hi,this.tooltipManager=new Ib(n),this.poweredBy=new rH(n),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(i.document,"layoutChanged",this.update.bind(this)),this.listenTo(i,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const n of this._editableElementsMap.values())n.ckeditorInstance=null,this.editor.keystrokes.stopListening(n);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(n,i){this._editableElementsMap.set(n,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const s=()=>{this.editor.editing.view.getDomRoot(n)||this.editor.keystrokes.listenTo(i)};this.isReady?s():this.once("ready",s)}removeEditableElement(n){const i=this._editableElementsMap.get(n);i&&(this._editableElementsMap.delete(n),this.editor.keystrokes.stopListening(i),this.focusTracker.remove(i),i.ckeditorInstance=null)}getEditableElement(n="main"){return this._editableElementsMap.get(n)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(n,i={}){n.isRendered?(this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)):n.once("render",()=>{this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)}),this._focusableToolbarDefinitions.push({toolbarView:n,options:i})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const n=this.editor,i=n.config.get("ui.viewportOffset");if(i)return i;const s=n.config.get("toolbar.viewportTopOffset");return s?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:s}):{top:0}}_initFocusTracking(){const n=this.editor,i=n.editing.view;let s,l;n.keystrokes.set("Alt+F10",(u,h)=>{const p=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(p)&&!Array.from(i.domRoots.values()).includes(p)&&(s=p);const g=this._getCurrentFocusedToolbarDefinition();g&&l||(l=this._getFocusableCandidateToolbarDefinitions());for(let w=0;w<l.length;w++){const y=l.shift();if(l.push(y),y!==g&&this._focusFocusableCandidateToolbar(y)){g&&g.options.afterBlur&&g.options.afterBlur();break}}h()}),n.keystrokes.set("Esc",(u,h)=>{const p=this._getCurrentFocusedToolbarDefinition();p&&(s?(s.focus(),s=null):n.editing.view.focus(),p.options.afterBlur&&p.options.afterBlur(),h())})}_getFocusableCandidateToolbarDefinitions(){const n=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:s,options:l}=i;(ha(s.element)||l.beforeFocus)&&n.push(i)}return n.sort((i,s)=>uM(i)-uM(s)),n}_getCurrentFocusedToolbarDefinition(){for(const n of this._focusableToolbarDefinitions)if(n.toolbarView.element&&n.toolbarView.element.contains(this.focusTracker.focusedElement))return n;return null}_focusFocusableCandidateToolbar(n){const{toolbarView:i,options:{beforeFocus:s}}=n;return s&&s(),!!ha(i.element)&&(i.focus(),!0)}_handleScrollToTheSelection(n,i){const s=((l,u)=>{for(var h in u||(u={}))sH.call(u,h)&&lM(l,h,u[h]);if(cM)for(var h of cM(u))aH.call(u,h)&&lM(l,h,u[h]);return l})({top:0,bottom:0,left:0,right:0},this.viewportOffset);i.viewportOffset.top+=s.top,i.viewportOffset.bottom+=s.bottom,i.viewportOffset.left+=s.left,i.viewportOffset.right+=s.right}}function uM(c){const{toolbarView:n,options:i}=c;let s=10;return ha(n.element)&&s--,i.isContextual&&s--,s}var dM=a(9688),lH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(dM.Z,lH),dM.Z.locals;class uH extends gt{constructor(n){super(n),this.body=new Gd(n)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class dH extends uH{constructor(n){super(n),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:n.uiLanguageDirection,lang:n.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const n=this.t,i=new jp;return i.text=n("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class hH extends gt{constructor(n,i,s){super(n),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:n.contentLanguage,dir:n.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=s,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const n=this._editingView;function i(s){n.change(l=>{const u=n.document.getRoot(s.name);l.addClass(s.isFocused?"ck-focused":"ck-blurred",u),l.removeClass(s.isFocused?"ck-blurred":"ck-focused",u)})}n.isRenderingInProgress?function s(l){n.once("change:isRenderingInProgress",(u,h,p)=>{p?s(l):i(l)})}(this):i(this)}}class fH extends hH{constructor(n,i,s,l={}){super(n,i,s);const u=n.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=l.label||(()=>u("Editor editing area: %0",this.name))}render(){super.render();const n=this._editingView;n.change(i=>{const s=n.document.getRoot(this.name);i.setAttribute("aria-label",this._generateLabel(this),s)})}}var hM=a(8847),pH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(hM.Z,pH),hM.Z.locals;class wA extends Kd{static get pluginName(){return"Notification"}init(){this.on("show:warning",(n,i)=>{window.alert(i.message)},{priority:"lowest"})}showSuccess(n,i={}){this._showNotification({message:n,type:"success",namespace:i.namespace,title:i.title})}showInfo(n,i={}){this._showNotification({message:n,type:"info",namespace:i.namespace,title:i.title})}showWarning(n,i={}){this._showNotification({message:n,type:"warning",namespace:i.namespace,title:i.title})}_showNotification(n){const i=n.namespace?`show:${n.type}:${n.namespace}`:`show:${n.type}`;this.fire(i,{message:n.message,type:n.type,title:n.title||""})}}class fM extends ut(){constructor(n,i){super(),i&&iD(this,i),n&&this.set(n)}}var pM=a(4650),gH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(pM.Z,gH),pM.Z.locals;var gM=a(7676),mH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(gM.Z,mH),gM.Z.locals;const Nb=Ap("px");class Pb extends ye{constructor(n){super(n),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const i=this.editor.editing.view,s=i.document.selection.editableElement;return s?i.domConverter.mapViewToDom(s.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(n){return Array.from(this._viewToStack.keys()).includes(n)}add(n){if(this._view||this._createPanelView(),this.hasView(n.view))throw new V("contextualballoon-add-view-exist",[this,n]);const i=n.stackId||"main";if(!this._idToStack.has(i))return this._idToStack.set(i,new Map([[n.view,n]])),this._viewToStack.set(n.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!n.singleViewMode||this.showStack(i));const s=this._idToStack.get(i);n.singleViewMode&&this.showStack(i),s.set(n.view,n),this._viewToStack.set(n.view,s),s===this._visibleStack&&this._showView(n)}remove(n){if(!this.hasView(n))throw new V("contextualballoon-remove-view-not-exist",[this,n]);const i=this._viewToStack.get(n);this._singleViewMode&&this.visibleView===n&&(this._singleViewMode=!1),this.visibleView===n&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(n),this._viewToStack.delete(n)}updatePosition(n){n&&(this._visibleStack.get(this.visibleView).position=n),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(n){this.visibleStack=n;const i=this._idToStack.get(n);if(!i)throw new V("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new gi(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(n){return Array.from(this._idToStack.entries()).find(i=>i[1]===n)[0]}_showNextStack(){const n=Array.from(this._idToStack.values());let i=n.indexOf(this._visibleStack)+1;n[i]||(i=0),this.showStack(this._getStackId(n[i]))}_showPrevStack(){const n=Array.from(this._idToStack.values());let i=n.indexOf(this._visibleStack)-1;n[i]||(i=n.length-1),this.showStack(this._getStackId(n[i]))}_createRotatorView(){const n=new kH(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(n),n.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(s,l)=>!l&&s>1),n.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),n.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(s,l)=>{if(l<2)return"";const u=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[u,l])}),n.buttonNextView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),n.buttonPrevView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),n}_createFakePanelsView(){const n=new bH(this.editor.locale,this.view);return n.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,s)=>!s&&i>=2?Math.min(i-1,2):0),n.listenTo(this.view,"change:top",()=>n.updatePosition()),n.listenTo(this.view,"change:left",()=>n.updatePosition()),this.editor.ui.view.body.add(n),n}_showView({view:n,balloonClassName:i="",withArrow:s=!0,singleViewMode:l=!1}){this.view.class=i,this.view.withArrow=s,this._rotatorView.showView(n),this.visibleView=n,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),l&&(this._singleViewMode=!0)}_getBalloonPosition(){let n=Array.from(this._visibleStack.values()).pop().position;return n&&(n.limiter||(n=Object.assign({},n,{limiter:this.positionLimiter})),n=Object.assign({},n,{viewportOffsetConfig:this.editor.ui.viewportOffset})),n}}class kH extends gt{constructor(n){super(n);const i=n.t,s=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new hi,this.buttonPrevView=this._createButtonView(i("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(i("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",s.to("isNavigationVisible",l=>l?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:s.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(n){this.hideView(),this.content.add(n)}hideView(){this.content.clear()}_createButtonView(n,i){const s=new tn(this.locale);return s.set({label:n,icon:i,tooltip:!0}),s}}class bH extends gt{constructor(n,i){super(n);const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",s.to("numberOfPanels",l=>l?"":"ck-hidden")],style:{top:s.to("top",Nb),left:s.to("left",Nb),width:s.to("width",Nb),height:s.to("height",Nb)}},children:this.content}),this.on("change:numberOfPanels",(l,u,h,p)=>{h>p?this._addPanels(h-p):this._removePanels(p-h),this.updatePosition()})}_addPanels(n){for(;n--;){const i=new gt;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(n){for(;n--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:n,left:i}=this._balloonPanelView,{width:s,height:l}=new Ut(this._balloonPanelView.element);Object.assign(this,{top:n,left:i,width:s,height:l})}}}var mM=a(5868),wH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(mM.Z,wH),mM.Z.locals;const sh=Ap("px");class vH extends gt{constructor(n){super(n);const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Ni({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",s=>s?"block":"none"),height:i.to("isSticky",s=>s?sh(this._contentPanelRect.height):null)}}}).render(),this._contentPanel=new Ni({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",s=>s?sh(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_stickyTopOffset",s=>s&&sh(s)),bottom:i.to("_stickyBottomOffset",s=>s&&sh(s)),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(at.document,"scroll",(n,i)=>{this.checkIfShouldBeSticky(i.target)},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(n){if(!this.limiterElement||!this.isActive)return void this._unstick();const i=function(u){const h=[];let p=_p(u);for(;p&&p!==at.document.body;)h.push(p),p=_p(p);return h.push(at.document),h}(this.limiterElement);if(n&&!i.includes(n))return;const s=function(u,h=0){const p=u.map(w=>{if(w instanceof Document){const y=new Ut(a.g.window);return y.top+=h,y.height-=h,y}return new Ut(w)});let g=p[0];for(const w of p.slice(1))g&&(g=g.getIntersection(w));return g}(i,this.viewportTopOffset),l=new Ut(this.limiterElement);if(s&&l.top<s.top){const u=l.getIntersection(s);if(u){const h=s.top;if(h+this._contentPanelRect.height+this.limiterBottomOffset>u.bottom){const p=Math.max(l.bottom-s.bottom,0)+this.limiterBottomOffset;l.bottom-p>l.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(p):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<l.height?this._stickToTopOfAncestors(h):this._unstick()}else this._unstick()}else this._unstick()}_stickToTopOfAncestors(n){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=n,this._stickyBottomOffset=null,this._marginLeft=sh(-at.window.scrollX)}_stickToBottomOfLimiter(n){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=n,this._marginLeft=sh(-at.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Ut(this._contentPanel)}}var kM=a(9695),yH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(kM.Z,yH),kM.Z.locals;class _H extends cH{constructor(n,i){super(n),this.view=i,this._toolbarConfig=cb(n.config.get("toolbar")),this._elementReplacer=new an,this.listenTo(n.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(n){const i=this.editor,s=this.view,l=i.editing.view,u=s.editable,h=l.document.getRoot();u.name=h.rootName,s.render();const p=u.element;this.setEditableElement(u.name,p),s.editable.bind("isFocused").to(this.focusTracker),l.attachDomRoot(p),n&&this._elementReplacer.replace(n,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const n=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(n.editable.name),n.destroy()}_initToolbar(){const n=this.view;n.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),n.stickyPanel.limiterElement=n.element,n.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:i})=>i||0),n.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(n.toolbar)}_initPlaceholder(){const n=this.editor,i=n.editing.view,s=i.document.getRoot(),l=n.sourceElement;let u;const h=n.config.get("placeholder");h&&(u=typeof h=="string"?h:h[this.view.editable.name]),!u&&l&&l.tagName.toLowerCase()==="textarea"&&(u=l.getAttribute("placeholder")),u&&(s.placeholder=u),ma({view:i,element:s,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(n,i,s){const l=this.view.stickyPanel;if(l.isSticky){const u=new Ut(l.element).height;i.viewportOffset.top+=u}else{const u=()=>{this.editor.editing.view.scrollToTheSelection(s)};this.listenTo(l,"change:isSticky",u),setTimeout(()=>{this.stopListening(l,"change:isSticky",u)},20)}}}var bM=a(3143),AH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(bM.Z,AH),bM.Z.locals;class CH extends dH{constructor(n,i,s={}){super(n),this.stickyPanel=new vH(n),this.toolbar=new iA(n,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull}),this.editable=new fH(n,i)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class wM{constructor(n){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof n.crashNumberLimit=="number"?n.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof n.minimumNonErrorTimePeriod=="number"?n.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=i=>{const s="error"in i?i.error:i.reason;s instanceof Error&&this._handleError(s,i)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(n,i){this._listeners[n]||(this._listeners[n]=[]),this._listeners[n].push(i)}off(n,i){this._listeners[n]=this._listeners[n].filter(s=>s!==i)}_fire(n,...i){const s=this._listeners[n]||[];for(const l of s)l.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(n,i){if(this._shouldReactToError(n)){this.crashes.push({message:n.message,stack:n.stack,filename:i instanceof ErrorEvent?i.filename:void 0,lineno:i instanceof ErrorEvent?i.lineno:void 0,colno:i instanceof ErrorEvent?i.colno:void 0,date:this._now()});const s=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:n,causesRestart:s}),s?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(n){return n.is&&n.is("CKEditorError")&&n.context!==void 0&&n.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(n)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function vA(c,n=new Set){const i=[c],s=new Set;let l=0;for(;i.length>l;){const u=i[l++];if(!s.has(u)&&xH(u)&&!n.has(u))if(s.add(u),Symbol.iterator in u)try{for(const h of u)i.push(h)}catch{}else for(const h in u)h!=="defaultValue"&&i.push(u[h])}return s}function xH(c){const n=Object.prototype.toString.call(c),i=typeof c;return!(i==="number"||i==="boolean"||i==="string"||i==="symbol"||i==="function"||n==="[object Date]"||n==="[object RegExp]"||n==="[object Module]"||c==null||c._watchdogExcluded||c instanceof EventTarget||c instanceof Event)}function vM(c,n,i=new Set){if(c===n&&typeof(s=c)=="object"&&s!==null)return!0;var s;const l=vA(c,i),u=vA(n,i);for(const h of l)if(u.has(h))return!0;return!1}var EH=Object.defineProperty,SH=Object.defineProperties,TH=Object.getOwnPropertyDescriptors,Ob=Object.getOwnPropertySymbols,yM=Object.prototype.hasOwnProperty,_M=Object.prototype.propertyIsEnumerable,AM=(c,n,i)=>n in c?EH(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i,yA=(c,n)=>{for(var i in n||(n={}))yM.call(n,i)&&AM(c,i,n[i]);if(Ob)for(var i of Ob(n))_M.call(n,i)&&AM(c,i,n[i]);return c};class CM extends wM{constructor(n,i={}){super(i),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=bA(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),n&&(this._creator=(s,l)=>n.create(s,l)),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(n=>{console.error("An error happened during the editor destroying.",n)}).then(()=>{const n={},i=[],s=this._config.rootsAttributes||{},l={};for(const[g,w]of Object.entries(this._data.roots))w.isLoaded?(n[g]="",l[g]=s[g]||{}):i.push(g);const u=(h=yA({},this._config),p={extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:l,_watchdogInitialData:this._data},SH(h,TH(p)));var h,p;return delete u.initialData,u.extraPlugins.push(DH),this._initUsingData?this.create(n,u,u.context):Ar(this._elementOrData)?this.create(this._elementOrData,u,u.context):this.create(this._editables,u,u.context)}).then(()=>{this._fire("restart")})}create(n=this._elementOrData,i=this._config,s){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=n,this._initUsingData=typeof n=="string"||Object.keys(n).length>0&&typeof Object.values(n)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=s,this._creator(n,this._config))).then(l=>{this._editor=l,l.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=l.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const n=this._editor;return this._editor=null,n.model.document.off("change:data",this._throttledSave),this._destructor(n)})}_save(){const n=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=n}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(n){this._excludedProps=n}_getData(){const n=this._editor,i=n.model.document.roots.filter(p=>p.isAttached()&&p.rootName!="$graveyard"),{plugins:s}=n,l=s.has("CommentsRepository")&&s.get("CommentsRepository"),u=s.has("TrackChanges")&&s.get("TrackChanges"),h={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(p=>{h.roots[p.rootName]={content:JSON.stringify(Array.from(p.getChildren())),attributes:JSON.stringify(Array.from(p.getAttributes())),isLoaded:p._isLoaded}});for(const p of n.model.markers)p._affectsData&&(h.markers[p.name]={rangeJSON:p.getRange().toJSON(),usingOperation:p._managedUsingOperations,affectsData:p._affectsData});return l&&(h.commentThreads=JSON.stringify(l.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),u&&(h.suggestions=JSON.stringify(u.getSuggestions({toJSON:!0,skipNotAttached:!0}))),h}_getEditables(){const n={};for(const i of this.editor.model.document.getRootNames()){const s=this.editor.ui.getEditableElement(i);s&&(n[i]=s)}return n}_isErrorComingFromThisItem(n){return vM(this._editor,n.context,this._excludedProps)}_cloneEditorConfiguration(n){return ti(n,(i,s)=>Ar(i)||s==="context"?i:void 0)}}class DH{constructor(n){this.editor=n,this._data=n.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",n=>{n.stop(),this.editor.model.enqueueChange({isUndoable:!1},i=>{this._restoreCollaborationData(),this._restoreEditorData(i)}),this.editor.data.fire("ready")},{priority:999})}_createNode(n,i){if("name"in i){const s=n.createElement(i.name,i.attributes);if(i.children)for(const l of i.children)s._appendChild(this._createNode(n,l));return s}return n.createText(i.data,i.attributes)}_restoreEditorData(n){const i=this.editor;Object.entries(this._data.roots).forEach(([s,{content:l,attributes:u}])=>{const h=JSON.parse(l),p=JSON.parse(u),g=i.model.document.getRoot(s);for(const[w,y]of p)n.setAttribute(w,y,g);for(const w of h){const y=this._createNode(n,w);n.insert(y,g,"end")}}),Object.entries(this._data.markers).forEach(([s,l])=>{const{document:u}=i.model,h=l,{rangeJSON:{start:p,end:g}}=h,w=((P,j)=>{var H={};for(var q in P)yM.call(P,q)&&j.indexOf(q)<0&&(H[q]=P[q]);if(P!=null&&Ob)for(var q of Ob(P))j.indexOf(q)<0&&_M.call(P,q)&&(H[q]=P[q]);return H})(h,["rangeJSON"]),y=u.getRoot(p.root),C=n.createPositionFromPath(y,p.path,p.stickiness),S=n.createPositionFromPath(y,g.path,g.stickiness),N=n.createRange(C,S);n.addMarker(s,yA({range:N},w))})}_restoreCollaborationData(){const n=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);n.forEach(s=>{const l=this.editor.config.get("collaboration.channelId"),u=this.editor.plugins.get("CommentsRepository");u.hasCommentThread(s.threadId)&&u.getCommentThread(s.threadId).remove(),u.addCommentThread(yA({channelId:l},s))}),i.forEach(s=>{const l=this.editor.plugins.get("TrackChangesEditing");l.hasSuggestion(s.id)?l.getSuggestion(s.id).attributes=s.attributes:l.addSuggestionData(s)})}}const ig=Symbol("MainQueueId");class IH{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(n){this._onEmptyCallbacks.push(n)}enqueue(n,i){const s=n===ig;this._activeActions++,this._queues.get(n)||this._queues.set(n,Promise.resolve());const l=(s?Promise.all(this._queues.values()):Promise.all([this._queues.get(ig),this._queues.get(n)])).then(i),u=l.catch(()=>{});return this._queues.set(n,u),l.finally(()=>{this._activeActions--,this._queues.get(n)===u&&this._activeActions===0&&this._onEmptyCallbacks.forEach(h=>h())})}}function xM(c){return Array.isArray(c)?c:[c]}class Rb extends Sb(rA(yU)){constructor(n,i={}){if(!Lb(n)&&i.initialData!==void 0)throw new V("editor-create-initial-data",null);super(i),this.config.get("initialData")===void 0&&this.config.set("initialData",function(u){return Lb(u)?(h=u,h instanceof HTMLTextAreaElement?h.value:h.innerHTML):u;var h}(n)),Lb(n)&&(this.sourceElement=n),this.model.document.createRoot();const s=!this.config.get("toolbar.shouldNotGroupWhenFull"),l=new CH(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:s});this.ui=new _H(this,l),function(u){if(!Ft(u.updateSourceElement))throw new V("attachtoform-missing-elementapi-interface",u);const h=u.sourceElement;if(function(p){return!!p&&p.tagName.toLowerCase()==="textarea"}(h)&&h.form){let p;const g=h.form,w=()=>u.updateSourceElement();Ft(g.submit)&&(p=g.submit,g.submit=()=>{w(),p.apply(g)}),g.addEventListener("submit",w),u.on("destroy",()=>{g.removeEventListener("submit",w),p&&(g.submit=p)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(n,i={}){return new Promise(s=>{const l=new this(n,i);s(l.initPlugins().then(()=>l.ui.init(Lb(n)?n:null)).then(()=>l.data.init(l.config.get("initialData"))).then(()=>l.fire("ready")).then(()=>l))})}}function Lb(c){return Ar(c)}Rb.Context=ga,Rb.EditorWatchdog=CM,Rb.ContextWatchdog=class extends wM{constructor(c,n={}){super(n),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new IH,this._watchdogConfig=n,this._creator=i=>c.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(c){this._creator=c}setDestructor(c){this._destructor=c}get context(){return this._context}create(c={}){return this._actionQueues.enqueue(ig,()=>(this._contextConfig=c,this._create()))}getItem(c){return this._getWatchdog(c)._item}getItemState(c){return this._getWatchdog(c).state}add(c){const n=xM(c);return Promise.all(n.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return s=new CM(null,this._watchdogConfig),s.setCreator(i.creator),s._setExcludedProperties(this._contextProps),i.destructor&&s.setDestructor(i.destructor),this._watchdogs.set(i.id,s),s.on("error",(l,{error:u,causesRestart:h})=>{this._fire("itemError",{itemId:i.id,error:u}),h&&this._actionQueues.enqueue(i.id,()=>new Promise(p=>{const g=()=>{s.off("restart",g),this._fire("itemRestart",{itemId:i.id}),p()};s.on("restart",g)}))}),s.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(c){const n=xM(c);return Promise.all(n.map(i=>this._actionQueues.enqueue(i,()=>{const s=this._getWatchdog(i);return this._watchdogs.delete(i),s.destroy()})))}destroy(){return this._actionQueues.enqueue(ig,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(ig,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(c=>{console.error("An error happened during destroying the context or items.",c)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(c=>(this._context=c,this._contextProps=vA(this._context),Promise.all(Array.from(this._watchdogs.values()).map(n=>(n._setExcludedProperties(this._contextProps),n.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const c=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(n=>n.destroy())).then(()=>this._destructor(c))})}_getWatchdog(c){const n=this._watchdogs.get(c);if(!n)throw new Error(`Item with the given id was not registered: ${c}.`);return n}_isErrorComingFromThisItem(c){for(const n of this._watchdogs.values())if(n._isErrorComingFromThisItem(c))return!1;return vM(this._context,c.context)}};class _A extends _c{constructor(n){super(n),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const i=this.document;function s(l){return(u,h)=>{h.preventDefault();const p=h.dropRange?[h.dropRange]:null,g=new L(i,l);i.fire(g,{dataTransfer:h.dataTransfer,method:u.name,targetRanges:p,target:h.target,domEvent:h.domEvent}),g.stop.called&&h.stopPropagation()}}this.listenTo(i,"paste",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",s("dragging"),{priority:"low"})}onDomEvent(n){const i="clipboardData"in n?n.clipboardData:n.dataTransfer,s=n.type=="drop"||n.type=="paste",l={dataTransfer:new fD(i,{cacheFiles:s})};n.type!="drop"&&n.type!="dragover"||(l.dropRange=function(u,h){const p=h.target.ownerDocument,g=h.clientX,w=h.clientY;let y;return p.caretRangeFromPoint&&p.caretRangeFromPoint(g,w)?y=p.caretRangeFromPoint(g,w):h.rangeParent&&(y=p.createRange(),y.setStart(h.rangeParent,h.rangeOffset),y.collapse(!0)),y?u.domConverter.domRangeToView(y):null}(this.view,n)),this.fire(n.type,n,l)}}const EM=["figcaption","li"];function SM(c){let n="";if(c.is("$text")||c.is("$textProxy"))n=c.data;else if(c.is("element","img")&&c.hasAttribute("alt"))n=c.getAttribute("alt");else if(c.is("element","br"))n=`
`;else{let i=null;for(const s of c.getChildren()){const l=SM(s);i&&(i.is("containerElement")||s.is("containerElement"))&&(EM.includes(i.name)||EM.includes(s.name)?n+=`
`:n+=`

`),n+=l,i=s}}return n}class Os extends ye{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(_A),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const n=this.editor,i=n.model,s=n.editing.view,l=s.document;this.listenTo(l,"clipboardInput",(u,h)=>{h.method!="paste"||n.model.canEditAt(n.model.document.selection)||u.stop()},{priority:"highest"}),this.listenTo(l,"clipboardInput",(u,h)=>{const p=h.dataTransfer;let g;if(h.content)g=h.content;else{let C="";p.getData("text/html")?C=function(S){return S.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(N,P)=>P.length==1?" ":P).replace(/<!--[\s\S]*?-->/g,"")}(p.getData("text/html")):p.getData("text/plain")&&(((w=(w=p.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||w.includes("<br>"))&&(w=`<p>${w}</p>`),C=w),g=this.editor.data.htmlProcessor.toView(C)}var w;const y=new L(this,"inputTransformation");this.fire(y,{content:g,dataTransfer:p,targetRanges:h.targetRanges,method:h.method}),y.stop.called&&u.stop(),s.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(u,h)=>{if(h.content.isEmpty)return;const p=this.editor.data.toModel(h.content,"$clipboardHolder");p.childCount!=0&&(u.stop(),i.change(()=>{this.fire("contentInsertion",{content:p,method:h.method,dataTransfer:h.dataTransfer,targetRanges:h.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(u,h)=>{h.resultRange=i.insertContent(h.content)},{priority:"low"})}_setupCopyCut(){const n=this.editor,i=n.model.document,s=n.editing.view.document,l=(u,h)=>{const p=h.dataTransfer;h.preventDefault();const g=n.data.toView(n.model.getSelectedContent(i.selection));s.fire("clipboardOutput",{dataTransfer:p,content:g,method:u.name})};this.listenTo(s,"copy",l,{priority:"low"}),this.listenTo(s,"cut",(u,h)=>{n.model.canEditAt(n.model.document.selection)?l(u,h):h.preventDefault()},{priority:"low"}),this.listenTo(s,"clipboardOutput",(u,h)=>{h.content.isEmpty||(h.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(h.content)),h.dataTransfer.setData("text/plain",SM(h.content))),h.method=="cut"&&n.model.deleteContent(i.selection)},{priority:"low"})}}class TM{constructor(n,i=20){this._batch=null,this.model=n,this._size=0,this.limit=i,this._isLocked=!1,this._changeCallback=(s,l)=>{l.isLocal&&l.isUndoable&&l!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(n){this._size+=n,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(n=!1){this.isLocked&&!n||(this._batch=null,this._size=0)}}class MH extends ft{constructor(n,i){super(n),this._buffer=new TM(n.model,i),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(n={}){const i=this.editor.model,s=i.document,l=n.text||"",u=l.length;let h=s.selection;if(n.selection?h=n.selection:n.range&&(h=i.createSelection(n.range)),!i.canEditAt(h))return;const p=n.resultRange;i.enqueueChange(this._buffer.batch,g=>{this._buffer.lock(),i.deleteContent(h),l&&i.insertContent(g.createText(l,s.selection.getAttributes()),h),p?g.setSelection(p):h.is("documentSelection")||g.setSelection(h),this._buffer.unlock(),this._buffer.input(u)})}}const DM=["insertText","insertReplacementText"];class NH extends Ms{constructor(n){super(n),this.focusObserver=n.getObserver(_b),x.isAndroid&&DM.push("insertCompositionText");const i=n.document;i.on("beforeinput",(s,l)=>{if(!this.isEnabled)return;const{data:u,targetRanges:h,inputType:p,domEvent:g}=l;if(!DM.includes(p))return;this.focusObserver.flush();const w=new L(i,"insertText");i.fire(w,new th(n,g,{text:u,selection:n.createSelection(h)})),w.stop.called&&s.stop()}),i.on("compositionend",(s,{data:l,domEvent:u})=>{this.isEnabled&&!x.isAndroid&&l&&i.fire("insertText",new th(n,u,{text:l,selection:i.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class IM extends ye{static get pluginName(){return"Input"}init(){const n=this.editor,i=n.model,s=n.editing.view,l=i.document.selection;s.addObserver(NH);const u=new MH(n,n.config.get("typing.undoStep")||20);n.commands.add("insertText",u),n.commands.add("input",u),this.listenTo(s.document,"insertText",(h,p)=>{s.document.isComposing||p.preventDefault();const{text:g,selection:w,resultRange:y}=p,C=Array.from(w.getRanges()).map(P=>n.editing.mapper.toModelRange(P));let S=g;if(x.isAndroid){const P=Array.from(C[0].getItems()).reduce((j,H)=>j+(H.is("$textProxy")?H.data:""),"");P&&(P.length<=S.length?S.startsWith(P)&&(S=S.substring(P.length),C[0].start=C[0].start.getShiftedBy(P.length)):P.startsWith(S)&&(C[0].start=C[0].start.getShiftedBy(S.length),S=""))}const N={text:S,selection:i.createSelection(C)};y&&(N.resultRange=n.editing.mapper.toModelRange(y)),n.execute("insertText",N),s.scrollToTheSelection()}),x.isAndroid?this.listenTo(s.document,"keydown",(h,p)=>{!l.isCollapsed&&p.keyCode==229&&s.document.isComposing&&MM(i,u)}):this.listenTo(s.document,"compositionstart",()=>{l.isCollapsed||MM(i,u)})}}function MM(c,n){if(!n.isEnabled)return;const i=n.buffer;i.lock(),c.enqueueChange(i.batch,()=>{c.deleteContent(c.document.selection)}),i.unlock()}class NM extends ft{constructor(n,i){super(n),this.direction=i,this._buffer=new TM(n.model,n.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(n={}){const i=this.editor.model,s=i.document;i.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const u=l.createSelection(n.selection||s.selection);if(!i.canEditAt(u))return;const h=n.sequence||1,p=u.isCollapsed;if(u.isCollapsed&&i.modifySelection(u,{direction:this.direction,unit:n.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(h))return void this._replaceEntireContentWithParagraph(l);if(this._shouldReplaceFirstBlockWithParagraph(u,h))return void this.editor.execute("paragraph",{selection:u});if(u.isCollapsed)return;let g=0;u.getFirstRange().getMinimalFlatRanges().forEach(w=>{g+=re(w.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(u,{doNotResetEntireContent:p,direction:this.direction}),this._buffer.input(g),l.setSelection(u),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(n){if(n>1)return!1;const i=this.editor.model,s=i.document.selection,l=i.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(l))||!i.schema.checkChild(l,"paragraph"))return!1;const u=l.getChild(0);return!u||!u.is("element","paragraph")}_replaceEntireContentWithParagraph(n){const i=this.editor.model,s=i.document.selection,l=i.schema.getLimitElement(s),u=n.createElement("paragraph");n.remove(n.createRangeIn(l)),n.insert(u,l),n.setSelection(u,0)}_shouldReplaceFirstBlockWithParagraph(n,i){const s=this.editor.model;if(i>1||this.direction!="backward"||!n.isCollapsed)return!1;const l=n.getFirstPosition(),u=s.schema.getLimitElement(l),h=u.getChild(0);return l.parent==h&&!!n.containsEntireContent(h)&&!!s.schema.checkChild(u,"paragraph")&&h.name!="paragraph"}}const PM="word",Sc="selection",ah="backward",og="forward",OM={deleteContent:{unit:Sc,direction:ah},deleteContentBackward:{unit:"codePoint",direction:ah},deleteWordBackward:{unit:PM,direction:ah},deleteHardLineBackward:{unit:Sc,direction:ah},deleteSoftLineBackward:{unit:Sc,direction:ah},deleteContentForward:{unit:"character",direction:og},deleteWordForward:{unit:PM,direction:og},deleteHardLineForward:{unit:Sc,direction:og},deleteSoftLineForward:{unit:Sc,direction:og}};class PH extends Ms{constructor(n){super(n);const i=n.document;let s=0;i.on("keydown",()=>{s++}),i.on("keyup",()=>{s=0}),i.on("beforeinput",(l,u)=>{if(!this.isEnabled)return;const{targetRanges:h,domEvent:p,inputType:g}=u,w=OM[g];if(!w)return;const y={direction:w.direction,unit:w.unit,sequence:s};y.unit==Sc&&(y.selectionToRemove=n.createSelection(h[0])),g==="deleteContentBackward"&&(x.isAndroid&&(y.sequence=1),function(S){if(S.length!=1||S[0].isCollapsed)return!1;const N=S[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let P=0;for(const{nextPosition:j}of N){if(j.parent.is("$text")){const H=j.parent.data,q=j.offset;if(Tp(H,q)||Dp(H,q)||Yk(H,q))continue;P++}else P++;if(P>1)return!0}return!1}(h)&&(y.unit=Sc,y.selectionToRemove=n.createSelection(h)));const C=new Xd(i,"delete",h[0]);i.fire(C,new th(n,p,y)),C.stop.called&&l.stop()}),x.isBlink&&function(l){const u=l.view,h=u.document;let p=null,g=!1;function w(C){return C==bt.backspace||C==bt.delete}function y(C){return C==bt.backspace?ah:og}h.on("keydown",(C,{keyCode:S})=>{p=S,g=!1}),h.on("keyup",(C,{keyCode:S,domEvent:N})=>{const P=h.selection,j=l.isEnabled&&S==p&&w(S)&&!P.isCollapsed&&!g;if(p=null,j){const H=P.getFirstRange(),q=new Xd(h,"delete",H),te={unit:Sc,direction:y(S),selectionToRemove:P};h.fire(q,new th(u,N,te))}}),h.on("beforeinput",(C,{inputType:S})=>{const N=OM[S];w(p)&&N&&N.direction==y(p)&&(g=!0)},{priority:"high"}),h.on("beforeinput",(C,{inputType:S,data:N})=>{p==bt.delete&&S=="insertText"&&N==""&&C.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class wa extends ye{static get pluginName(){return"Delete"}init(){const n=this.editor,i=n.editing.view,s=i.document,l=n.model.document;i.addObserver(PH),this._undoOnBackspace=!1;const u=new NM(n,"forward");n.commands.add("deleteForward",u),n.commands.add("forwardDelete",u),n.commands.add("delete",new NM(n,"backward")),this.listenTo(s,"delete",(h,p)=>{s.isComposing||p.preventDefault();const{direction:g,sequence:w,selectionToRemove:y,unit:C}=p,S=g==="forward"?"deleteForward":"delete",N={sequence:w};if(C=="selection"){const P=Array.from(y.getRanges()).map(j=>n.editing.mapper.toModelRange(j));N.selection=n.model.createSelection(P)}else N.unit=C;n.execute(S,N),i.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(s,"delete",(h,p)=>{this._undoOnBackspace&&p.direction=="backward"&&p.sequence==1&&p.unit=="codePoint"&&(this._undoOnBackspace=!1,n.execute("undo"),p.preventDefault(),h.stop())},{context:"$capture"}),this.listenTo(l,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class OH extends ye{static get requires(){return[IM,wa]}static get pluginName(){return"Typing"}}function RM(c,n){let i=c.start;return{text:Array.from(c.getWalker({ignoreElementEnd:!1})).reduce((s,{item:l})=>l.is("$text")||l.is("$textProxy")?s+l.data:(i=n.createPositionAfter(l),""),""),range:n.createRange(i,c.end)}}class LM extends ut(){constructor(n,i){super(),this.model=n,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(n.document.selection),this.stopListening(n.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const n=this.model.document;this.listenTo(n.selection,"change:range",(i,{directChange:s})=>{s&&(n.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(n,"change:data",(i,s)=>{!s.isUndo&&s.isLocal&&this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(n,i={}){const s=this.model,l=s.document.selection,u=s.createRange(s.createPositionAt(l.focus.parent,0),l.focus),{text:h,range:p}=RM(u,s),g=this.testCallback(h);if(!g&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!g,g){const w=Object.assign(i,{text:h,range:p});typeof g=="object"&&Object.assign(w,g),this.fire(`matched:${n}`,w)}}}class BM extends ye{constructor(n){super(n),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const n=this.editor,i=n.model,s=n.editing.view,l=n.locale,u=i.document.selection;this.listenTo(s.document,"arrowKey",(h,p)=>{if(!u.isCollapsed||p.shiftKey||p.altKey||p.ctrlKey)return;const g=p.keyCode==bt.arrowright,w=p.keyCode==bt.arrowleft;if(!g&&!w)return;const y=l.contentLanguageDirection;let C=!1;C=y==="ltr"&&g||y==="rtl"&&w?this._handleForwardMovement(p):this._handleBackwardMovement(p),C===!0&&h.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(u,"change:range",(h,p)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!p.directChange&&jb(u.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(n){this.attributes.add(n)}_handleForwardMovement(n){const i=this.attributes,s=this.editor.model.document.selection,l=s.getFirstPosition();return!this._isGravityOverridden&&(!l.isAtStart||!AA(s,i))&&!!jb(l,i)&&(Bb(n),this._overrideGravity(),!0)}_handleBackwardMovement(n){const i=this.attributes,s=this.editor.model,l=s.document.selection,u=l.getFirstPosition();return this._isGravityOverridden?(Bb(n),this._restoreGravity(),CA(s,i,u),!0):u.isAtStart?!!AA(l,i)&&(Bb(n),CA(s,i,u),!0):!!function(h,p){const g=h.getShiftedBy(-1);return jb(g,p)}(u,i)&&(u.isAtEnd&&!AA(l,i)&&jb(u,i)?(Bb(n),CA(s,i,u),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(n=>n.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(n=>{n.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function AA(c,n){for(const i of n)if(c.hasAttribute(i))return!0;return!1}function CA(c,n,i){const s=i.nodeBefore;c.change(l=>{if(s){const u=[],h=c.schema.isObject(s)&&c.schema.isInline(s);for(const[p,g]of s.getAttributes())!c.schema.checkAttribute("$text",p)||h&&c.schema.getAttributeProperties(p).copyFromObject===!1||u.push([p,g]);l.setSelectionAttribute(u)}else l.removeSelectionAttribute(n)})}function Bb(c){c.preventDefault()}function jb(c,n){const{nodeBefore:i,nodeAfter:s}=c;for(const l of n){const u=i?i.getAttribute(l):void 0;if((s?s.getAttribute(l):void 0)!==u)return!0}return!1}var jM=/[\\^$.*+?()[\]{}|]/g,RH=RegExp(jM.source);const LH=function(c){return(c=E_(c))&&RH.test(c)?c.replace(jM,"\\$&"):c},zM={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:ch('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:ch("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:ch("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:ch('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:ch('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:ch("'"),to:[null,"‚",null,"’"]}},FM={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},BH=["symbols","mathematical","typography","quotes"];function jH(c){return typeof c=="string"?new RegExp(`(${LH(c)})$`):c}function zH(c){return typeof c=="string"?()=>[c]:c instanceof Array?()=>c:c}function FH(c){return(c.textNode?c.textNode:c.nodeAfter).getAttributes()}function ch(c){return new RegExp(`(^|\\s)(${c})([^${c}]*)(${c})$`)}function lh(c,n,i,s){return s.createRange($M(c,n,i,!0,s),$M(c,n,i,!1,s))}function $M(c,n,i,s,l){let u=c.textNode||(s?c.nodeBefore:c.nodeAfter),h=null;for(;u&&u.getAttribute(n)==i;)h=u,u=s?u.previousSibling:u.nextSibling;return h?l.createPositionAt(h,s?"before":"after"):c}function*VM(c,n){for(const i of n)i&&c.getAttributeProperties(i[0]).copyOnEnter&&(yield i)}class $H extends ft{execute(){this.editor.model.change(n=>{this.enterBlock(n),this.fire("afterExecute",{writer:n})})}enterBlock(n){const i=this.editor.model,s=i.document.selection,l=i.schema,u=s.isCollapsed,h=s.getFirstRange(),p=h.start.parent,g=h.end.parent;if(l.isLimit(p)||l.isLimit(g))return u||p!=g||i.deleteContent(s),!1;if(u){const w=VM(n.model.schema,s.getAttributes());return UM(n,h.start),n.setSelectionAttribute(w),!0}{const w=!(h.start.isAtStart&&h.end.isAtEnd),y=p==g;if(i.deleteContent(s,{leaveUnmerged:w}),w){if(y)return UM(n,s.focus),!0;n.setSelection(g,0)}}return!1}}function UM(c,n){c.split(n),c.setSelection(n.parent.nextSibling,0)}const VH={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class HM extends Ms{constructor(n){super(n);const i=this.document;let s=!1;i.on("keydown",(l,u)=>{s=u.shiftKey}),i.on("beforeinput",(l,u)=>{if(!this.isEnabled)return;let h=u.inputType;x.isSafari&&s&&h=="insertParagraph"&&(h="insertLineBreak");const p=u.domEvent,g=VH[h];if(!g)return;const w=new Xd(i,"enter",u.targetRanges[0]);i.fire(w,new th(n,p,{isSoft:g.isSoft})),w.stop.called&&l.stop()})}observe(){}stopObserving(){}}class zb extends ye{static get pluginName(){return"Enter"}init(){const n=this.editor,i=n.editing.view,s=i.document;i.addObserver(HM),n.commands.add("enter",new $H(n)),this.listenTo(s,"enter",(l,u)=>{s.isComposing||u.preventDefault(),u.isSoft||(n.execute("enter"),i.scrollToTheSelection())},{priority:"low"})}}class UH extends ft{execute(){const n=this.editor.model,i=n.document;n.change(s=>{(function(l,u,h){const p=h.isCollapsed,g=h.getFirstRange(),w=g.start.parent,y=g.end.parent,C=w==y;if(p){const S=VM(l.schema,h.getAttributes());WM(l,u,g.end),u.removeSelectionAttribute(h.getAttributeKeys()),u.setSelectionAttribute(S)}else{const S=!(g.start.isAtStart&&g.end.isAtEnd);l.deleteContent(h,{leaveUnmerged:S}),C?WM(l,u,h.focus):S&&u.setSelection(y,0)}})(n,s,i.selection),this.fire("afterExecute",{writer:s})})}refresh(){const n=this.editor.model,i=n.document;this.isEnabled=function(s,l){if(l.rangeCount>1)return!1;const u=l.anchor;if(!u||!s.checkChild(u,"softBreak"))return!1;const h=l.getFirstRange(),p=h.start.parent,g=h.end.parent;return!((xA(p,s)||xA(g,s))&&p!==g)}(n.schema,i.selection)}}function WM(c,n,i){const s=n.createElement("softBreak");c.insertContent(s,i),n.setSelection(s,"after")}function xA(c,n){return!c.is("rootElement")&&(n.isLimit(c)||xA(c.parent,n))}class HH extends ye{static get pluginName(){return"ShiftEnter"}init(){const n=this.editor,i=n.model.schema,s=n.conversion,l=n.editing.view,u=l.document;i.register("softBreak",{allowWhere:"$text",isInline:!0}),s.for("upcast").elementToElement({model:"softBreak",view:"br"}),s.for("downcast").elementToElement({model:"softBreak",view:(h,{writer:p})=>p.createEmptyElement("br")}),l.addObserver(HM),n.commands.add("shiftEnter",new UH(n)),this.listenTo(u,"enter",(h,p)=>{u.isComposing||p.preventDefault(),p.isSoft&&(n.execute("shiftEnter"),l.scrollToTheSelection())},{priority:"low"})}}class WH extends we(){constructor(){super(...arguments),this._stack=[]}add(n,i){const s=this._stack,l=s[0];this._insertDescriptor(n);const u=s[0];l===u||EA(l,u)||this.fire("change:top",{oldDescriptor:l,newDescriptor:u,writer:i})}remove(n,i){const s=this._stack,l=s[0];this._removeDescriptor(n);const u=s[0];l===u||EA(l,u)||this.fire("change:top",{oldDescriptor:l,newDescriptor:u,writer:i})}_insertDescriptor(n){const i=this._stack,s=i.findIndex(u=>u.id===n.id);if(EA(n,i[s]))return;s>-1&&i.splice(s,1);let l=0;for(;i[l]&&qH(i[l],n);)l++;i.splice(l,0,n)}_removeDescriptor(n){const i=this._stack,s=i.findIndex(l=>l.id===n);s>-1&&i.splice(s,1)}}function EA(c,n){return c&&n&&c.priority==n.priority&&Fb(c.classes)==Fb(n.classes)}function qH(c,n){return c.priority>n.priority||!(c.priority<n.priority)&&Fb(c.classes)>Fb(n.classes)}function Fb(c){return Array.isArray(c)?c.sort().join(","):c}const GH='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',YH="ck-widget",qM="ck-widget_selected";function xn(c){return!!c.is("element")&&!!c.getCustomProperty("widget")}function SA(c,n,i={}){if(!c.is("containerElement"))throw new V("widget-to-widget-wrong-element-type",null,{element:c});return n.setAttribute("contenteditable","false",c),n.addClass(YH,c),n.setCustomProperty("widget",!0,c),c.getFillerOffset=ZH,n.setCustomProperty("widgetLabel",[],c),i.label&&function(s,l){s.getCustomProperty("widgetLabel").push(l)}(c,i.label),i.hasSelectionHandle&&function(s,l){const u=l.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(h){const p=this.toDomElement(h),g=new vc;return g.set("content",GH),g.render(),p.appendChild(g.element),p});l.insert(l.createPositionAt(s,0),u),l.addClass(["ck-widget_with-selection-handle"],s)}(c,n),GM(c,n),c}function KH(c,n,i){if(n.classes&&i.addClass(qn(n.classes),c),n.attributes)for(const s in n.attributes)i.setAttribute(s,n.attributes[s],c)}function QH(c,n,i){if(n.classes&&i.removeClass(qn(n.classes),c),n.attributes)for(const s in n.attributes)i.removeAttribute(s,c)}function GM(c,n,i=KH,s=QH){const l=new WH;l.on("change:top",(u,h)=>{h.oldDescriptor&&s(c,h.oldDescriptor,h.writer),h.newDescriptor&&i(c,h.newDescriptor,h.writer)}),n.setCustomProperty("addHighlight",(u,h,p)=>l.add(h,p),c),n.setCustomProperty("removeHighlight",(u,h,p)=>l.remove(h,p),c)}function YM(c,n,i={}){return n.addClass(["ck-editor__editable","ck-editor__nested-editable"],c),n.setAttribute("role","textbox",c),i.label&&n.setAttribute("aria-label",i.label,c),n.setAttribute("contenteditable",c.isReadOnly?"false":"true",c),c.on("change:isReadOnly",(s,l,u)=>{n.setAttribute("contenteditable",u?"false":"true",c)}),c.on("change:isFocused",(s,l,u)=>{u?n.addClass("ck-editor__nested-editable_focused",c):n.removeClass("ck-editor__nested-editable_focused",c)}),GM(c,n),c}function KM(c,n){const i=c.getSelectedElement();if(i){const s=Tc(c);if(s)return n.createRange(n.createPositionAt(i,s))}return EI(c,n)}function ZH(){return null}const va="widget-type-around";function ru(c,n,i){return!!c&&xn(c)&&!i.isInline(n)}function Tc(c){return c.getAttribute(va)}var QM=a(4921),JH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(QM.Z,JH),QM.Z.locals;const ZM=["before","after"],XH=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,JM="ck-widget__type-around_disabled";class eW extends ye{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[zb,wa]}init(){const n=this.editor,i=n.editing.view;this.on("change:isEnabled",(s,l,u)=>{i.change(h=>{for(const p of i.document.roots)u?h.removeClass(JM,p):h.addClass(JM,p)}),u||n.model.change(h=>{h.removeSelectionAttribute(va)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(n,i){const s=this.editor,l=s.editing.view,u=s.model.schema.getAttributesWithProperty(n,"copyOnReplace",!0);s.execute("insertParagraph",{position:s.model.createPositionAt(n,i),attributes:u}),l.focus(),l.scrollToTheSelection()}_listenToIfEnabled(n,i,s,l){this.listenTo(n,i,(...u)=>{this.isEnabled&&s(...u)},l)}_insertParagraphAccordingToFakeCaretPosition(){const n=this.editor.model.document.selection,i=Tc(n);if(!i)return!1;const s=n.getSelectedElement();return this._insertParagraph(s,i),!0}_enableTypeAroundUIInjection(){const n=this.editor,i=n.model.schema,s=n.locale.t,l={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};n.editing.downcastDispatcher.on("insert",(u,h,p)=>{const g=p.mapper.toViewElement(h.item);g&&ru(g,h.item,i)&&(function(w,y,C){const S=w.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(N){const P=this.toDomElement(N);return function(j,H){for(const q of ZM){const te=new Ni({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${q}`],title:H[q],"aria-hidden":"true"},children:[j.ownerDocument.importNode(XH,!0)]});j.appendChild(te.render())}}(P,y),function(j){const H=new Ni({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});j.appendChild(H.render())}(P),P});w.insert(w.createPositionAt(C,"end"),S)}(p.writer,l,g),g.getCustomProperty("widgetLabel").push(()=>this.isEnabled?s("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const n=this.editor,i=n.model,s=i.document.selection,l=i.schema,u=n.editing.view;function h(p){return`ck-widget_type-around_show-fake-caret_${p}`}this._listenToIfEnabled(u.document,"arrowKey",(p,g)=>{this._handleArrowKeyPress(p,g)},{context:[xn,"$text"],priority:"high"}),this._listenToIfEnabled(s,"change:range",(p,g)=>{g.directChange&&n.model.change(w=>{w.removeSelectionAttribute(va)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const p=s.getSelectedElement();p&&ru(n.editing.mapper.toViewElement(p),p,l)||n.model.change(g=>{g.removeSelectionAttribute(va)})}),this._listenToIfEnabled(n.editing.downcastDispatcher,"selection",(p,g,w)=>{const y=w.writer;if(this._currentFakeCaretModelElement){const P=w.mapper.toViewElement(this._currentFakeCaretModelElement);P&&(y.removeClass(ZM.map(h),P),this._currentFakeCaretModelElement=null)}const C=g.selection.getSelectedElement();if(!C)return;const S=w.mapper.toViewElement(C);if(!ru(S,C,l))return;const N=Tc(g.selection);N&&(y.addClass(h(N),S),this._currentFakeCaretModelElement=C)}),this._listenToIfEnabled(n.ui.focusTracker,"change:isFocused",(p,g,w)=>{w||n.model.change(y=>{y.removeSelectionAttribute(va)})})}_handleArrowKeyPress(n,i){const s=this.editor,l=s.model,u=l.document.selection,h=l.schema,p=s.editing.view,g=function(C,S){const N=Ep(C,S);return N==="down"||N==="right"}(i.keyCode,s.locale.contentLanguageDirection),w=p.document.selection.getSelectedElement();let y;ru(w,s.editing.mapper.toModelElement(w),h)?y=this._handleArrowKeyPressOnSelectedWidget(g):u.isCollapsed?y=this._handleArrowKeyPressWhenSelectionNextToAWidget(g):i.shiftKey||(y=this._handleArrowKeyPressWhenNonCollapsedSelection(g)),y&&(i.preventDefault(),n.stop())}_handleArrowKeyPressOnSelectedWidget(n){const i=this.editor.model,s=Tc(i.document.selection);return i.change(l=>s?s!==(n?"after":"before")?(l.removeSelectionAttribute(va),!0):!1:(l.setSelectionAttribute(va,n?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(n){const i=this.editor,s=i.model,l=s.schema,u=i.plugins.get("Widget"),h=u._getObjectElementNextToSelection(n);return!!ru(i.editing.mapper.toViewElement(h),h,l)&&(s.change(p=>{u._setSelectionOverElement(h),p.setSelectionAttribute(va,n?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(n){const i=this.editor,s=i.model,l=s.schema,u=i.editing.mapper,h=s.document.selection,p=n?h.getLastPosition().nodeBefore:h.getFirstPosition().nodeAfter;return!!ru(u.toViewElement(p),p,l)&&(s.change(g=>{g.setSelection(p,"on"),g.setSelectionAttribute(va,n?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const n=this.editor,i=n.editing.view;this._listenToIfEnabled(i.document,"mousedown",(s,l)=>{const u=l.domTarget.closest(".ck-widget__type-around__button");if(!u)return;const h=function(w){return w.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(u),p=function(w,y){const C=w.closest(".ck-widget");return y.mapDomToView(C)}(u,i.domConverter),g=n.editing.mapper.toModelElement(p);this._insertParagraph(g,h),l.preventDefault(),s.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const n=this.editor,i=n.model.document.selection,s=n.editing.view;this._listenToIfEnabled(s.document,"enter",(l,u)=>{if(l.eventPhase!="atTarget")return;const h=i.getSelectedElement(),p=n.editing.mapper.toViewElement(h),g=n.model.schema;let w;this._insertParagraphAccordingToFakeCaretPosition()?w=!0:ru(p,h,g)&&(this._insertParagraph(h,u.isSoft?"before":"after"),w=!0),w&&(u.preventDefault(),l.stop())},{context:xn})}_enableInsertingParagraphsOnTypingKeystroke(){const n=this.editor.editing.view.document;this._listenToIfEnabled(n,"insertText",(i,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=n.selection)},{priority:"high"}),x.isAndroid?this._listenToIfEnabled(n,"keydown",(i,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(n,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const n=this.editor,i=n.editing.view,s=n.model,l=s.schema;this._listenToIfEnabled(i.document,"delete",(u,h)=>{if(u.eventPhase!="atTarget")return;const p=Tc(s.document.selection);if(!p)return;const g=h.direction,w=s.document.selection.getSelectedElement(),y=g=="forward";if(p==="before"===y)n.execute("delete",{selection:s.createSelection(w,"on")});else{const C=l.getNearestSelectionRange(s.createPositionAt(w,p),g);if(C)if(C.isCollapsed){const S=s.createSelection(C.start);if(s.modifySelection(S,{direction:g}),S.focus.isEqual(C.start)){const N=function(P,j){let H=j;for(const q of j.getAncestors({parentFirst:!0})){if(q.childCount>1||P.isLimit(q))break;H=q}return H}(l,C.start.parent);s.deleteContent(s.createSelection(N,"on"),{doNotAutoparagraph:!0})}else s.change(N=>{N.setSelection(C),n.execute(y?"deleteForward":"delete")})}else s.change(S=>{S.setSelection(C),n.execute(y?"deleteForward":"delete")})}h.preventDefault(),u.stop()},{context:xn})}_enableInsertContentIntegration(){const n=this.editor,i=this.editor.model,s=i.document.selection;this._listenToIfEnabled(n.model,"insertContent",(l,[u,h])=>{if(h&&!h.is("documentSelection"))return;const p=Tc(s);return p?(l.stop(),i.change(g=>{const w=s.getSelectedElement(),y=i.createPositionAt(w,p),C=g.createSelection(y),S=i.insertContent(u,C);return g.setSelection(C),S})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const n=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"insertObject",(s,l)=>{const[,u,h={}]=l;if(u&&!u.is("documentSelection"))return;const p=Tc(i);p&&(h.findOptimalPosition=p,l[3]=h)},{priority:"high"})}_enableDeleteContentIntegration(){const n=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"deleteContent",(s,[l])=>{l&&!l.is("documentSelection")||Tc(i)&&s.stop()},{priority:"high"})}}function tW(c){const n=c.model;return(i,s)=>{const l=s.keyCode==bt.arrowup,u=s.keyCode==bt.arrowdown,h=s.shiftKey,p=n.document.selection;if(!l&&!u)return;const g=u;if(h&&function(y,C){return!y.isCollapsed&&y.isBackward==C}(p,g))return;const w=function(y,C,S){const N=y.model;if(S){const P=C.isCollapsed?C.focus:C.getLastPosition(),j=XM(N,P,"forward");if(!j)return null;const H=N.createRange(P,j),q=e5(N.schema,H,"backward");return q?N.createRange(P,q):null}{const P=C.isCollapsed?C.focus:C.getFirstPosition(),j=XM(N,P,"backward");if(!j)return null;const H=N.createRange(j,P),q=e5(N.schema,H,"forward");return q?N.createRange(q,P):null}}(c,p,g);if(w){if(w.isCollapsed&&(p.isCollapsed||h))return;(w.isCollapsed||function(y,C,S){const N=y.model,P=y.view.domConverter;if(S){const fe=N.createSelection(C.start);N.modifySelection(fe),fe.focus.isAtEnd||C.start.isEqual(fe.focus)||(C=N.createRange(fe.focus,C.end))}const j=y.mapper.toViewRange(C),H=P.viewRangeToDom(j),q=Ut.getDomRangeRects(H);let te;for(const fe of q)if(te!==void 0){if(Math.round(fe.top)>=te)return!1;te=Math.max(te,Math.round(fe.bottom))}else te=Math.round(fe.bottom);return!0}(c,w,g))&&(n.change(y=>{const C=g?w.end:w.start;if(h){const S=n.createSelection(p.anchor);S.setFocus(C),y.setSelection(S)}else y.setSelection(C)}),i.stop(),s.preventDefault(),s.stopPropagation())}}}function XM(c,n,i){const s=c.schema,l=c.createRangeIn(n.root),u=i=="forward"?"elementStart":"elementEnd";for(const{previousPosition:h,item:p,type:g}of l.getWalker({startPosition:n,direction:i})){if(s.isLimit(p)&&!s.isInline(p))return h;if(g==u&&s.isBlock(p))return null}return null}function e5(c,n,i){const s=i=="backward"?n.end:n.start;if(c.checkChild(s,"$text"))return s;for(const{nextPosition:l}of n.getWalker({direction:i}))if(c.checkChild(l,"$text"))return l;return null}var t5=a(3488),nW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(t5.Z,nW),t5.Z.locals;class sg extends ye{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[eW,wa]}init(){const n=this.editor,i=n.editing.view,s=i.document;this.editor.editing.downcastDispatcher.on("selection",(l,u,h)=>{const p=h.writer,g=u.selection;if(g.isCollapsed)return;const w=g.getSelectedElement();if(!w)return;const y=n.editing.mapper.toViewElement(w);var C;xn(y)&&h.consumable.consume(g,"selection")&&p.setSelection(p.createRangeOn(y),{fake:!0,label:(C=y,C.getCustomProperty("widgetLabel").reduce((S,N)=>typeof N=="function"?S?S+". "+N():N():S?S+". "+N:N,""))})}),this.editor.editing.downcastDispatcher.on("selection",(l,u,h)=>{this._clearPreviouslySelectedWidgets(h.writer);const p=h.writer,g=p.document.selection;let w=null;for(const y of g.getRanges())for(const C of y){const S=C.item;xn(S)&&!rW(S,w)&&(p.addClass(qM,S),this._previouslySelected.add(S),w=S)}},{priority:"low"}),i.addObserver(nA),this.listenTo(s,"mousedown",(...l)=>this._onMousedown(...l)),this.listenTo(s,"arrowKey",(...l)=>{this._handleSelectionChangeOnArrowKeyPress(...l)},{context:[xn,"$text"]}),this.listenTo(s,"arrowKey",(...l)=>{this._preventDefaultOnArrowKeyPress(...l)},{context:"$root"}),this.listenTo(s,"arrowKey",tW(this.editor.editing),{context:"$text"}),this.listenTo(s,"delete",(l,u)=>{this._handleDelete(u.direction=="forward")&&(u.preventDefault(),l.stop())},{context:"$root"})}_onMousedown(n,i){const s=this.editor,l=s.editing.view,u=l.document;let h=i.target;if(function(g){let w=g;for(;w;){if(w.is("editableElement")&&!w.is("rootElement"))return!0;if(xn(w))return!1;w=w.parent}return!1}(h)){if((x.isSafari||x.isGecko)&&i.domEvent.detail>=3){const g=s.editing.mapper,w=h.is("attributeElement")?h.findAncestor(C=>!C.is("attributeElement")):h,y=g.toModelElement(w);i.preventDefault(),this.editor.model.change(C=>{C.setSelection(y,"in")})}return}if(!xn(h)&&(h=h.findAncestor(xn),!h))return;x.isAndroid&&i.preventDefault(),u.isFocused||l.focus();const p=s.editing.mapper.toModelElement(h);this._setSelectionOverElement(p)}_handleSelectionChangeOnArrowKeyPress(n,i){const s=i.keyCode,l=this.editor.model,u=l.schema,h=l.document.selection,p=h.getSelectedElement(),g=Ep(s,this.editor.locale.contentLanguageDirection),w=g=="down"||g=="right",y=g=="up"||g=="down";if(p&&u.isObject(p)){const S=w?h.getLastPosition():h.getFirstPosition(),N=u.getNearestSelectionRange(S,w?"forward":"backward");return void(N&&(l.change(P=>{P.setSelection(N)}),i.preventDefault(),n.stop()))}if(!h.isCollapsed&&!i.shiftKey){const S=h.getFirstPosition(),N=h.getLastPosition(),P=S.nodeAfter,j=N.nodeBefore;return void((P&&u.isObject(P)||j&&u.isObject(j))&&(l.change(H=>{H.setSelection(w?N:S)}),i.preventDefault(),n.stop()))}if(!h.isCollapsed)return;const C=this._getObjectElementNextToSelection(w);if(C&&u.isObject(C)){if(u.isInline(C)&&y)return;this._setSelectionOverElement(C),i.preventDefault(),n.stop()}}_preventDefaultOnArrowKeyPress(n,i){const s=this.editor.model,l=s.schema,u=s.document.selection.getSelectedElement();u&&l.isObject(u)&&(i.preventDefault(),n.stop())}_handleDelete(n){const i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;const s=this._getObjectElementNextToSelection(n);return s?(this.editor.model.change(l=>{let u=i.anchor.parent;for(;u.isEmpty;){const h=u;u=h.parent,l.remove(h)}this._setSelectionOverElement(s)}),!0):void 0}_setSelectionOverElement(n){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(n))})}_getObjectElementNextToSelection(n){const i=this.editor.model,s=i.schema,l=i.document.selection,u=i.createSelection(l);if(i.modifySelection(u,{direction:n?"forward":"backward"}),u.isEqual(l))return null;const h=n?u.focus.nodeBefore:u.focus.nodeAfter;return h&&s.isObject(h)?h:null}_clearPreviouslySelectedWidgets(n){for(const i of this._previouslySelected)n.removeClass(qM,i);this._previouslySelected.clear()}}function rW(c,n){return!!n&&Array.from(c.getAncestors()).includes(n)}class $b extends ye{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[Pb]}static get pluginName(){return"WidgetToolbarRepository"}init(){const n=this.editor;if(n.plugins.has("BalloonToolbar")){const i=n.plugins.get("BalloonToolbar");this.listenTo(i,"show",s=>{(function(l){const u=l.getSelectedElement();return!(!u||!xn(u))})(n.editing.view.document.selection)&&s.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const n of this._toolbarDefinitions.values())n.view.destroy()}register(n,{ariaLabel:i,items:s,getRelatedElement:l,balloonClassName:u="ck-toolbar-container"}){if(!s.length)return void se("widget-toolbar-no-items",{toolbarId:n});const h=this.editor,p=h.t,g=new iA(h.locale);if(g.ariaLabel=i||p("Widget toolbar"),this._toolbarDefinitions.has(n))throw new V("widget-toolbar-duplicated",this,{toolbarId:n});const w={view:g,getRelatedElement:l,balloonClassName:u,itemsConfig:s,initialized:!1};h.ui.addToolbar(g,{isContextual:!0,beforeFocus:()=>{const y=l(h.editing.view.document.selection);y&&this._showToolbar(w,y)},afterBlur:()=>{this._hideToolbar(w)}}),this._toolbarDefinitions.set(n,w)}_updateToolbarsVisibility(){let n=0,i=null,s=null;for(const l of this._toolbarDefinitions.values()){const u=l.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&u)if(this.editor.ui.focusTracker.isFocused){const h=u.getAncestors().length;h>n&&(n=h,i=u,s=l)}else this._isToolbarVisible(l)&&this._hideToolbar(l);else this._isToolbarInBalloon(l)&&this._hideToolbar(l)}s&&this._showToolbar(s,i)}_hideToolbar(n){this._balloon.remove(n.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(n,i){this._isToolbarVisible(n)?n5(this.editor,i):this._isToolbarInBalloon(n)||(n.initialized||(n.initialized=!0,n.view.fillFromConfig(n.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:n.view,position:r5(this.editor,i),balloonClassName:n.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const s of this._toolbarDefinitions.values())if(this._isToolbarVisible(s)){const l=s.getRelatedElement(this.editor.editing.view.document.selection);n5(this.editor,l)}}))}_isToolbarVisible(n){return this._balloon.visibleView===n.view}_isToolbarInBalloon(n){return this._balloon.hasView(n.view)}}function n5(c,n){const i=c.plugins.get("ContextualBalloon"),s=r5(c,n);i.updatePosition(s)}function r5(c,n){const i=c.editing.view,s=gi.defaultPositions;return{target:i.domConverter.mapViewToDom(n),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}var i5=a(8506),iW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(i5.Z,iW),i5.Z.locals;var o5=a(903),oW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(o5.Z,oW),o5.Z.locals;class sW extends ye{static get pluginName(){return"DragDrop"}static get requires(){return[Os,sg]}init(){const n=this.editor,i=n.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=bA(s=>this._updateDropMarker(s),40),this._removeDropMarkerDelayed=Sp(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=Sp(()=>this._clearDraggableAttributes(),40),n.plugins.has("DragDropExperimental")?this.forceDisabled("DragDropExperimental"):(i.addObserver(_A),i.addObserver(nA),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(n,"change:isReadOnly",(s,l,u)=>{u?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(s,l,u)=>{u||this._finalizeDragging(!1)}),x.isAndroid&&this.forceDisabled("noAndroidSupport"))}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const n=this.editor,i=n.model,s=i.document,l=n.editing.view,u=l.document;this.listenTo(u,"dragstart",(h,p)=>{const g=s.selection;if(p.target&&p.target.is("editableElement"))return void p.preventDefault();const w=p.target?c5(p.target):null;if(w){const N=n.editing.mapper.toModelElement(w);this._draggedRange=$o.fromRange(i.createRangeOn(N)),n.plugins.has("WidgetToolbarRepository")&&n.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!u.selection.isCollapsed){const N=u.selection.getSelectedElement();N&&xn(N)||(this._draggedRange=$o.fromRange(g.getFirstRange()))}if(!this._draggedRange)return void p.preventDefault();this._draggingUid=Y();const y=this.isEnabled&&n.model.canEditAt(this._draggedRange);p.dataTransfer.effectAllowed=y?"copyMove":"copy",p.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const C=i.createSelection(this._draggedRange.toRange()),S=n.data.toView(i.getSelectedContent(C));u.fire("clipboardOutput",{dataTransfer:p.dataTransfer,content:S,method:"dragstart"}),y||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(u,"dragend",(h,p)=>{this._finalizeDragging(!p.dataTransfer.isCanceled&&p.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(u,"dragenter",()=>{this.isEnabled&&l.focus()}),this.listenTo(u,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(u,"dragging",(h,p)=>{if(!this.isEnabled)return void(p.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const g=s5(n,p.targetRanges,p.target);n.model.canEditAt(g)?(this._draggedRange||(p.dataTransfer.dropEffect="copy"),x.isGecko||(p.dataTransfer.effectAllowed=="copy"?p.dataTransfer.dropEffect="copy":["all","copyMove"].includes(p.dataTransfer.effectAllowed)&&(p.dataTransfer.dropEffect="move")),g&&this._updateDropMarkerThrottled(g)):p.dataTransfer.dropEffect="none"},{priority:"low"})}_setupClipboardInputIntegration(){const n=this.editor,i=n.editing.view.document;this.listenTo(i,"clipboardInput",(s,l)=>{if(l.method!="drop")return;const u=s5(n,l.targetRanges,l.target);if(this._removeDropMarker(),!u||!n.model.canEditAt(u))return this._finalizeDragging(!1),void s.stop();if(this._draggedRange&&this._draggingUid!=l.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),a5(l.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(u,!0))return this._finalizeDragging(!1),void s.stop();l.targetRanges=[n.editing.mapper.toViewRange(u)]},{priority:"high"})}_setupContentInsertionIntegration(){const n=this.editor.plugins.get(Os);n.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const l=s.targetRanges.map(u=>this.editor.editing.mapper.toModelRange(u));this.editor.model.change(u=>u.setSelection(l))},{priority:"high"}),n.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const l=a5(s.dataTransfer)=="move",u=!s.resultRange||!s.resultRange.isCollapsed;this._finalizeDragging(u&&l)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const n=this.editor,i=n.editing.view,s=i.document;this.listenTo(s,"mousedown",(l,u)=>{if(x.isAndroid||!u)return;this._clearDraggableAttributesDelayed.cancel();let h=c5(u.target);if(x.isBlink&&!h&&!s.selection.isCollapsed){const p=s.selection.getSelectedElement();if(!p||!xn(p)){const g=s.selection.editableElement;g&&!g.isReadOnly&&(h=g)}}h&&(i.change(p=>{p.setAttribute("draggable","true",h)}),this._draggableElement=n.editing.mapper.toModelElement(h))}),this.listenTo(s,"mouseup",()=>{x.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const n=this.editor.editing;n.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",n.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const n=this.editor;n.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),n.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:s})=>{if(n.model.schema.checkChild(i.markerRange.start,"$text"))return s.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(l){const u=this.toDomElement(l);return u.append("⁠",l.createElement("span"),"⁠"),u})}})}_updateDropMarker(n){const i=this.editor,s=i.model.markers;i.model.change(l=>{s.has("drop-target")?s.get("drop-target").getRange().isEqual(n)||l.updateMarker("drop-target",{range:n}):l.addMarker("drop-target",{range:n,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const n=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),n.markers.has("drop-target")&&n.change(i=>{i.removeMarker("drop-target")})}_finalizeDragging(n){const i=this.editor,s=i.model;this._removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(n&&this.isEnabled&&s.deleteContent(s.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function s5(c,n,i){const s=c.model,l=c.editing.mapper;let u=null;const h=n?n[0].start:null;if(i.is("uiElement")&&(i=i.parent),u=function(w,y){const C=w.model,S=w.editing.mapper;if(xn(y))return C.createRangeOn(S.toModelElement(y));if(!y.is("editableElement")){const N=y.findAncestor(P=>xn(P)||P.is("editableElement"));if(xn(N))return C.createRangeOn(S.toModelElement(N))}return null}(c,i),u)return u;const p=function(w,y){const C=w.editing.mapper,S=w.editing.view,N=C.toModelElement(y);if(N)return N;const P=S.createPositionBefore(y),j=C.findMappedViewAncestor(P);return C.toModelElement(j)}(c,i),g=h?l.toModelPosition(h):null;return g?(u=function(w,y,C){const S=w.model;if(!S.schema.checkChild(C,"$block"))return null;const N=S.createPositionAt(C,0),P=y.path.slice(0,N.path.length),j=S.createPositionFromPath(y.root,P),H=j.nodeAfter;return H&&S.schema.isObject(H)?S.createRangeOn(H):null}(c,g,p),u||(u=s.schema.getNearestSelectionRange(g,x.isGecko?"forward":"backward"),u||function(w,y){const C=w.model;let S=y;for(;S;){if(C.schema.isObject(S))return C.createRangeOn(S);S=S.parent}return null}(c,g.parent))):function(w,y){const C=w.model,S=C.schema,N=C.createPositionAt(y,0);return S.getNearestSelectionRange(N,"forward")}(c,p)}function a5(c){return x.isGecko?c.dropEffect:["all","copyMove"].includes(c.effectAllowed)?"move":"copy"}function c5(c){if(c.is("editableElement"))return null;if(c.hasClass("ck-widget__selection-handle"))return c.findAncestor(xn);if(xn(c))return c;const n=c.findAncestor(i=>xn(i)||i.is("editableElement"));return xn(n)?n:null}class aW extends ye{static get pluginName(){return"PastePlainText"}static get requires(){return[Os]}init(){const n=this.editor,i=n.model,s=n.editing.view,l=s.document,u=i.document.selection;let h=!1;s.addObserver(_A),this.listenTo(l,"keydown",(p,g)=>{h=g.shiftKey}),n.plugins.get(Os).on("contentInsertion",(p,g)=>{(h||function(w,y){if(w.childCount>1)return!1;const C=w.getChild(0);return y.isObject(C)?!1:Array.from(C.getAttributeKeys()).length==0}(g.content,i.schema))&&i.change(w=>{const y=Array.from(u.getAttributes()).filter(([S])=>i.schema.getAttributeProperties(S).isFormatting);u.isCollapsed||i.deleteContent(u,{doNotAutoparagraph:!0}),y.push(...u.getAttributes());const C=w.createRangeIn(g.content);for(const S of C.getItems())S.is("$textProxy")&&w.setAttributes(y,S)})})}}class l5 extends ye{static get pluginName(){return"Clipboard"}static get requires(){return[Os,sW,aW]}}class cW extends ft{constructor(n){super(n),this.affectsData=!1}execute(){const n=this.editor.model,i=n.document.selection;let s=n.schema.getLimitElement(i);if(i.containsEntireContent(s)||!u5(n.schema,s))do if(s=s.parent,!s)return;while(!u5(n.schema,s));n.change(l=>{l.setSelection(s,"in")})}}function u5(c,n){return c.isLimit(n)&&(c.checkChild(n,"$text")||c.checkChild(n,"paragraph"))}const lW=qd("Ctrl+A");class uW extends ye{static get pluginName(){return"SelectAllEditing"}init(){const n=this.editor,i=n.editing.view.document;n.commands.add("selectAll",new cW(n)),this.listenTo(i,"keydown",(s,l)=>{bc(l)===lW&&(n.execute("selectAll"),l.preventDefault())})}}class dW extends ye{static get pluginName(){return"SelectAllUI"}init(){const n=this.editor;n.ui.componentFactory.add("selectAll",i=>{const s=n.commands.get("selectAll"),l=new tn(i),u=i.t;return l.set({label:u("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),l.bind("isEnabled").to(s,"isEnabled"),this.listenTo(l,"execute",()=>{n.execute("selectAll"),n.editing.view.focus()}),l})}}class hW extends ye{static get requires(){return[uW,dW]}static get pluginName(){return"SelectAll"}}var fW=Object.defineProperty,d5=Object.getOwnPropertySymbols,pW=Object.prototype.hasOwnProperty,gW=Object.prototype.propertyIsEnumerable,h5=(c,n,i)=>n in c?fW(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i;class f5 extends ft{constructor(n){super(n),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(n.data,"set",(i,s)=>{s[1]=((u,h)=>{for(var p in h||(h={}))pW.call(h,p)&&h5(u,p,h[p]);if(d5)for(var p of d5(h))gW.call(h,p)&&h5(u,p,h[p]);return u})({},s[1]);const l=s[1];l.batchType||(l.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(n.data,"set",(i,s)=>{s[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(n){const i=this.editor.model.document.selection,s={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:n,selection:s}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(n,i,s){const l=this.editor.model,u=l.document,h=[],p=n.map(w=>w.getTransformedByOperations(s)),g=p.flat();for(const w of p){const y=w.filter(C=>C.root!=u.graveyard).filter(C=>!kW(C,g));y.length&&(mW(y),h.push(y[0]))}h.length&&l.change(w=>{w.setSelection(h,{backward:i})})}_undo(n,i){const s=this.editor.model,l=s.document;this._createdBatches.add(i);const u=n.operations.slice().filter(h=>h.isDocumentOperation);u.reverse();for(const h of u){const p=h.baseVersion+1,g=Array.from(l.history.getOperations(p)),w=LV([h.getReversed()],g,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let y of w){const C=y.affectedSelectable;C&&!s.canEditAt(C)&&(y=new Yn(y.baseVersion)),i.addOperation(y),s.applyOperation(y),l.history.setOperationAsUndone(h,y)}}}}function mW(c){c.sort((n,i)=>n.start.isBefore(i.start)?-1:1);for(let n=1;n<c.length;n++){const i=c[n-1].getJoined(c[n],!0);i&&(n--,c.splice(n,2,i))}}function kW(c,n){return n.some(i=>i!==c&&i.containsRange(c,!0))}class bW extends f5{execute(n=null){const i=n?this._stack.findIndex(u=>u.batch==n):this._stack.length-1,s=this._stack.splice(i,1)[0],l=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(l,()=>{this._undo(s.batch,l);const u=this.editor.model.document.history.getOperations(s.batch.baseVersion);this._restoreSelection(s.selection.ranges,s.selection.isBackward,u)}),this.fire("revert",s.batch,l),this.refresh()}}class wW extends f5{execute(){const n=this._stack.pop(),i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{const s=n.batch.operations[n.batch.operations.length-1].baseVersion+1,l=this.editor.model.document.history.getOperations(s);this._restoreSelection(n.selection.ranges,n.selection.isBackward,l),this._undo(n.batch,i)}),this.refresh()}}class vW extends ye{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const n=this.editor;this._undoCommand=new bW(n),this._redoCommand=new wW(n),n.commands.add("undo",this._undoCommand),n.commands.add("redo",this._redoCommand),this.listenTo(n.model,"applyOperation",(i,s)=>{const l=s[0];if(!l.isDocumentOperation)return;const u=l.batch,h=this._redoCommand.createdBatches.has(u),p=this._undoCommand.createdBatches.has(u);this._batchRegistry.has(u)||(this._batchRegistry.add(u),u.isUndoable&&(h?this._undoCommand.addBatch(u):p||(this._undoCommand.addBatch(u),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(i,s,l)=>{this._redoCommand.addBatch(l)}),n.keystrokes.set("CTRL+Z","undo"),n.keystrokes.set("CTRL+Y","redo"),n.keystrokes.set("CTRL+SHIFT+Z","redo")}}const p5='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',g5='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class yW extends ye{static get pluginName(){return"UndoUI"}init(){const n=this.editor,i=n.locale,s=n.t,l=i.uiLanguageDirection=="ltr"?p5:g5,u=i.uiLanguageDirection=="ltr"?g5:p5;this._addButton("undo",s("Undo"),"CTRL+Z",l),this._addButton("redo",s("Redo"),"CTRL+Y",u)}_addButton(n,i,s,l){const u=this.editor;u.ui.componentFactory.add(n,h=>{const p=u.commands.get(n),g=new tn(h);return g.set({label:i,icon:l,keystroke:s,tooltip:!0}),g.bind("isEnabled").to(p,"isEnabled"),this.listenTo(g,"execute",()=>{u.execute(n),u.editing.view.focus()}),g})}}class m5 extends ye{static get requires(){return[vW,yW]}static get pluginName(){return"Undo"}}class _W extends ut(){constructor(){super();const n=new window.FileReader;this._reader=n,this._data=void 0,this.set("loaded",0),n.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(n){const i=this._reader;return this.total=n.size,new Promise((s,l)=>{i.onload=()=>{const u=i.result;this._data=u,s(u)},i.onerror=()=>{l("error")},i.onabort=()=>{l("aborted")},this._reader.readAsDataURL(n)})}abort(){this._reader.abort()}}class Uo extends ye{constructor(){super(...arguments),this.loaders=new Mi,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[SI]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,i)=>i?n/i*100:0)}getLoader(n){return this._loadersMap.get(n)||null}createLoader(n){if(!this.createUploadAdapter)return se("filerepository-no-upload-adapter"),null;const i=new k5(Promise.resolve(n),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(n,i),n instanceof Promise&&i.file.then(s=>{this._loadersMap.set(s,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let s=0;for(const l of this.loaders)s+=l.uploaded;this.uploaded=s}),i.on("change:uploadTotal",()=>{let s=0;for(const l of this.loaders)l.uploadTotal&&(s+=l.uploadTotal);this.uploadTotal=s}),i}destroyLoader(n){const i=n instanceof k5?n:this.getLoader(n);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((s,l)=>{s===i&&this._loadersMap.delete(l)})}_updatePendingAction(){const n=this.editor.plugins.get(SI);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,s=l=>`${i("Upload in progress")} ${parseInt(l)}%.`;this._pendingAction=n.add(s(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",s)}}else n.remove(this._pendingAction),this._pendingAction=null}}class k5 extends ut(){constructor(n,i){super(),this.id=Y(),this._filePromiseWrapper=this._createFilePromiseWrapper(n),this._adapter=i(this),this._reader=new _W,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(s,l)=>l?s/l*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(n=>this._filePromiseWrapper?n:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new V("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(n=>this._reader.read(n)).then(n=>{if(this.status!=="reading")throw this.status;return this.status="idle",n}).catch(n=>{throw n==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:n)})}upload(){if(this.status!="idle")throw new V("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(n=>(this.uploadResponse=n,this.status="idle",n)).catch(n=>{throw this.status==="aborted"?"aborted":(this.status="error",n)})}abort(){const n=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?n=="reading"?this._reader.abort():n=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(n){const i={};return i.promise=new Promise((s,l)=>{i.rejecter=l,i.isFulfilled=!1,n.then(u=>{i.isFulfilled=!0,s(u)}).catch(u=>{i.isFulfilled=!0,l(u)})}),i}}class AW extends gt{constructor(n){super(n),this.buttonView=new tn(n),this._fileInputView=new CW(n),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class CW extends gt{constructor(n){super(n),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const b5="ckCsrfToken",w5="abcdefghijklmnopqrstuvwxyz0123456789";function xW(){let c=function(s){s=s.toLowerCase();const l=document.cookie.split(";");for(const u of l){const h=u.split("=");if(decodeURIComponent(h[0].trim().toLowerCase())===s)return decodeURIComponent(h[1])}return null}(b5);var n,i;return c&&c.length==40||(c=function(s){let l="";const u=new Uint8Array(s);window.crypto.getRandomValues(u);for(let h=0;h<u.length;h++){const p=w5.charAt(u[h]%w5.length);l+=Math.random()>.5?p.toUpperCase():p}return l}(40),n=b5,i=c,document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(i)+";path=/"),c}class EW{constructor(n,i,s){this.loader=n,this.url=i,this.t=s}upload(){return this.loader.file.then(n=>new Promise((i,s)=>{this._initRequest(),this._initListeners(i,s,n),this._sendRequest(n)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const n=this.xhr=new XMLHttpRequest;n.open("POST",this.url,!0),n.responseType="json"}_initListeners(n,i,s){const l=this.xhr,u=this.loader,h=(0,this.t)("Cannot upload file:")+` ${s.name}.`;l.addEventListener("error",()=>i(h)),l.addEventListener("abort",()=>i()),l.addEventListener("load",()=>{const p=l.response;if(!p||!p.uploaded)return i(p&&p.error&&p.error.message?p.error.message:h);n({default:p.url})}),l.upload&&l.upload.addEventListener("progress",p=>{p.lengthComputable&&(u.uploadTotal=p.total,u.uploaded=p.loaded)})}_sendRequest(n){const i=new FormData;i.append("upload",n),i.append("ckCsrfToken",xW()),this.xhr.send(i)}}function Dc(c,n,i,s){let l,u=null;typeof s=="function"?l=s:(u=c.commands.get(s),l=()=>{c.execute(s)}),c.model.document.on("change:data",(h,p)=>{if(u&&!u.isEnabled||!n.isEnabled)return;const g=Mn(c.model.document.selection.getRanges());if(!g.isCollapsed||p.isUndo||!p.isLocal)return;const w=Array.from(c.model.document.differ.getChanges()),y=w[0];if(w.length!=1||y.type!=="insert"||y.name!="$text"||y.length!=1)return;const C=y.position.parent;if(C.is("element","codeBlock")||C.is("element","listItem")&&typeof s!="function"&&!["numberedList","bulletedList","todoList"].includes(s)||u&&u.value===!0)return;const S=C.getChild(0),N=c.model.createRangeOn(S);if(!N.containsRange(g)&&!g.end.isEqual(N.end))return;const P=i.exec(S.data.substr(0,g.end.offset));P&&c.model.enqueueChange(j=>{const H=j.createPositionAt(C,0),q=j.createPositionAt(C,P[0].length),te=new $o(H,q);if(l({match:P})!==!1){j.remove(te);const fe=c.model.document.selection.getFirstRange(),Te=j.createRangeIn(C);!C.isEmpty||Te.isEqual(fe)||Te.containsRange(fe,!0)||j.remove(C)}te.detach(),c.model.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})})})}function uh(c,n,i,s){let l,u;i instanceof RegExp?l=i:u=i,u=u||(h=>{let p;const g=[],w=[];for(;(p=l.exec(h))!==null&&!(p&&p.length<4);){let{index:y,1:C,2:S,3:N}=p;const P=C+S+N;y+=p[0].length-P.length;const j=[y,y+C.length],H=[y+C.length+S.length,y+C.length+S.length+N.length];g.push(j),g.push(H),w.push([y+C.length,y+C.length+S.length])}return{remove:g,format:w}}),c.model.document.on("change:data",(h,p)=>{if(p.isUndo||!p.isLocal||!n.isEnabled)return;const g=c.model,w=g.document.selection;if(!w.isCollapsed)return;const y=Array.from(g.document.differ.getChanges()),C=y[0];if(y.length!=1||C.type!=="insert"||C.name!="$text"||C.length!=1)return;const S=w.focus,N=S.parent,{text:P,range:j}=function(fe,Te){let Je=fe.start;return{text:Array.from(fe.getItems()).reduce((wt,sr)=>!sr.is("$text")&&!sr.is("$textProxy")||sr.getAttribute("code")?(Je=Te.createPositionAfter(sr),""):wt+sr.data,""),range:Te.createRange(Je,fe.end)}}(g.createRange(g.createPositionAt(N,0),S),g),H=u(P),q=v5(j.start,H.format,g),te=v5(j.start,H.remove,g);q.length&&te.length&&g.enqueueChange(fe=>{if(s(fe,q)!==!1){for(const Te of te.reverse())fe.remove(Te);g.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})}})})}function v5(c,n,i){return n.filter(s=>s[0]!==void 0&&s[1]!==void 0).map(s=>i.createRange(c.getShiftedBy(s[0]),c.getShiftedBy(s[1])))}function Vb(c,n){return(i,s)=>{if(!c.commands.get(n).isEnabled)return!1;const l=c.model.schema.getValidRanges(s,n);for(const u of l)i.setAttribute(n,!0,u);i.removeSelectionAttribute(n)}}class y5 extends ft{constructor(n,i){super(n),this.attributeKey=i}refresh(){const n=this.editor.model,i=n.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=n.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(n={}){const i=this.editor.model,s=i.document.selection,l=n.forceValue===void 0?!this.value:n.forceValue;i.change(u=>{if(s.isCollapsed)l?u.setSelectionAttribute(this.attributeKey,!0):u.removeSelectionAttribute(this.attributeKey);else{const h=i.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const p of h)l?u.setAttribute(this.attributeKey,l,p):u.removeAttribute(this.attributeKey,p)}})}_getValueFromFirstAllowedNode(){const n=this.editor.model,i=n.schema,s=n.document.selection;if(s.isCollapsed)return s.hasAttribute(this.attributeKey);for(const l of s.getRanges())for(const u of l.getItems())if(i.checkAttribute(u,this.attributeKey))return u.hasAttribute(this.attributeKey);return!1}}const dh="bold";class SW extends ye{static get pluginName(){return"BoldEditing"}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:dh}),n.model.schema.setAttributeProperties(dh,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:dh,view:"strong",upcastAlso:["b",i=>{const s=i.getStyle("font-weight");return s&&(s=="bold"||Number(s)>=600)?{name:!0,styles:["font-weight"]}:null}]}),n.commands.add(dh,new y5(n,dh)),n.keystrokes.set("CTRL+B",dh)}}const TA="bold";class TW extends ye{static get pluginName(){return"BoldUI"}init(){const n=this.editor,i=n.t;n.ui.componentFactory.add(TA,s=>{const l=n.commands.get(TA),u=new tn(s);return u.set({label:i("Bold"),icon:Fn.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(u,"execute",()=>{n.execute(TA),n.editing.view.focus()}),u})}}var _5=a(8603),DW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(_5.Z,DW),_5.Z.locals;const hh="italic";class IW extends ye{static get pluginName(){return"ItalicEditing"}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:hh}),n.model.schema.setAttributeProperties(hh,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:hh,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),n.commands.add(hh,new y5(n,hh)),n.keystrokes.set("CTRL+I",hh)}}const DA="italic";class MW extends ye{static get pluginName(){return"ItalicUI"}init(){const n=this.editor,i=n.t;n.ui.componentFactory.add(DA,s=>{const l=n.commands.get(DA),u=new tn(s);return u.set({label:i("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(u,"execute",()=>{n.execute(DA),n.editing.view.focus()}),u})}}class NW extends ft{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const i=this.editor.model,s=i.schema,l=i.document.selection,u=Array.from(l.getSelectedBlocks()),h=n.forceValue===void 0?!this.value:n.forceValue;i.change(p=>{if(h){const g=u.filter(w=>Ub(w)||C5(s,w));this._applyQuote(p,g)}else this._removeQuote(p,u.filter(Ub))})}_getValue(){const n=Mn(this.editor.model.document.selection.getSelectedBlocks());return!(!n||!Ub(n))}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,i=this.editor.model.schema,s=Mn(n.getSelectedBlocks());return!!s&&C5(i,s)}_removeQuote(n,i){A5(n,i).reverse().forEach(s=>{if(s.start.isAtStart&&s.end.isAtEnd)return void n.unwrap(s.start.parent);if(s.start.isAtStart){const u=n.createPositionBefore(s.start.parent);return void n.move(s,u)}s.end.isAtEnd||n.split(s.end);const l=n.createPositionAfter(s.end.parent);n.move(s,l)})}_applyQuote(n,i){const s=[];A5(n,i).reverse().forEach(l=>{let u=Ub(l.start);u||(u=n.createElement("blockQuote"),n.wrap(l,u)),s.push(u)}),s.reverse().reduce((l,u)=>l.nextSibling==u?(n.merge(n.createPositionAfter(l)),l):u)}}function Ub(c){return c.parent.name=="blockQuote"?c.parent:null}function A5(c,n){let i,s=0;const l=[];for(;s<n.length;){const u=n[s],h=n[s+1];i||(i=c.createPositionBefore(u)),h&&u.nextSibling==h||(l.push(c.createRange(i,c.createPositionAfter(u))),i=null),s++}return l}function C5(c,n){const i=c.checkChild(n.parent,"blockQuote"),s=c.checkChild(["$root","blockQuote"],n);return i&&s}class PW extends ye{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[zb,wa]}init(){const n=this.editor,i=n.model.schema;n.commands.add("blockQuote",new NW(n)),i.register("blockQuote",{inheritAllFrom:"$container"}),n.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),n.model.document.registerPostFixer(h=>{const p=n.model.document.differ.getChanges();for(const g of p)if(g.type=="insert"){const w=g.position.nodeAfter;if(!w)continue;if(w.is("element","blockQuote")&&w.isEmpty)return h.remove(w),!0;if(w.is("element","blockQuote")&&!i.checkChild(g.position,w))return h.unwrap(w),!0;if(w.is("element")){const y=h.createRangeIn(w);for(const C of y.getItems())if(C.is("element","blockQuote")&&!i.checkChild(h.createPositionBefore(C),C))return h.unwrap(C),!0}}else if(g.type=="remove"){const w=g.position.parent;if(w.is("element","blockQuote")&&w.isEmpty)return h.remove(w),!0}return!1});const s=this.editor.editing.view.document,l=n.model.document.selection,u=n.commands.get("blockQuote");this.listenTo(s,"enter",(h,p)=>{!l.isCollapsed||!u.value||l.getLastPosition().parent.isEmpty&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),p.preventDefault(),h.stop())},{context:"blockquote"}),this.listenTo(s,"delete",(h,p)=>{if(p.direction!="backward"||!l.isCollapsed||!u.value)return;const g=l.getLastPosition().parent;g.isEmpty&&!g.previousSibling&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),p.preventDefault(),h.stop())},{context:"blockquote"})}}var x5=a(3062),OW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(x5.Z,OW),x5.Z.locals;class RW extends ye{static get pluginName(){return"BlockQuoteUI"}init(){const n=this.editor,i=n.t;n.ui.componentFactory.add("blockQuote",s=>{const l=n.commands.get("blockQuote"),u=new tn(s);return u.set({label:i("Block quote"),icon:Fn.quote,tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(u,"execute",()=>{n.execute("blockQuote"),n.editing.view.focus()}),u})}}class LW extends ye{static get pluginName(){return"CKBoxUI"}afterInit(){const n=this.editor,i=n.commands.get("ckbox");if(!i)return;const s=n.t;n.ui.componentFactory.add("ckbox",l=>{const u=new tn(l);return u.set({label:s("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),u.bind("isOn","isEnabled").to(i,"value","isEnabled"),u.on("execute",()=>{n.execute("ckbox")}),u})}}function E5(c){const n=[];let i=0;for(const l in c){const u=parseInt(l,10);isNaN(u)||(u>i&&(i=u),n.push(`${c[l]} ${l}w`))}const s=[{srcset:n.join(","),sizes:`(max-width: ${i}px) 100vw, ${i}px`,type:"image/webp"}];return{imageFallbackUrl:c.default,imageSources:s}}class BW extends ft{constructor(n){super(n),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const n=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");return!(!n.isEnabled&&!i.isEnabled)}_prepareOptions(){const n=this.editor.config.get("ckbox");return{theme:n.theme,language:n.language,tokenUrl:n.tokenUrl,serviceOrigin:n.serviceOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:i=>this.fire("ckbox:choose",i)}}}_initListeners(){const n=this.editor,i=n.model,s=!n.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=Cl(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(l,u)=>{if(!this.isEnabled)return;const h=n.commands.get("insertImage"),p=n.commands.get("link"),g=function({assets:w,isImageAllowed:y,isLinkAllowed:C}){return w.map(S=>function(N){const P=N.data.metadata;return P?P.width&&P.height:!1}(S)?{id:S.data.id,type:"image",attributes:jW(S)}:{id:S.data.id,type:"link",attributes:zW(S)}).filter(S=>S.type==="image"?y:C)}({assets:u,isImageAllowed:h.isEnabled,isLinkAllowed:p.isEnabled});g.length!==0&&i.change(w=>{for(const y of g){const C=y===g[g.length-1];this._insertAsset(y,C,w),s&&(setTimeout(()=>this._chosenAssets.delete(y),1e3),this._chosenAssets.add(y))}})}),this.listenTo(n,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(n,i,s){const l=this.editor.model.document.selection;s.removeSelectionAttribute("linkHref"),n.type==="image"?this._insertImage(n):this._insertLink(n,s),i||s.setSelection(l.getLastPosition())}_insertImage(n){const i=this.editor,{imageFallbackUrl:s,imageSources:l,imageTextAlternative:u}=n.attributes;i.execute("insertImage",{source:{src:s,sources:l,alt:u}})}_insertLink(n,i){const s=this.editor,l=s.model,u=l.document.selection,{linkName:h,linkHref:p}=n.attributes;if(u.isCollapsed){const g=uo(u.getAttributes()),w=i.createText(h,g),y=l.insertContent(w);i.setSelection(y)}s.execute("link",p)}}function jW(c){const{imageFallbackUrl:n,imageSources:i}=E5(c.data.imageUrls);return{imageFallbackUrl:n,imageSources:i,imageTextAlternative:c.data.metadata.description||""}}function zW(c){return{linkName:c.data.name,linkHref:FW(c)}}function FW(c){const n=new URL(c.data.url);return n.searchParams.set("download","true"),n.toString()}var iu=(c,n,i)=>new Promise((s,l)=>{var u=g=>{try{p(i.next(g))}catch(w){l(w)}},h=g=>{try{p(i.throw(g))}catch(w){l(w)}},p=g=>g.done?s(g.value):Promise.resolve(g.value).then(u,h);p((i=i.apply(c,n)).next())});class $W extends ye{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Uo,IA]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return iu(this,null,function*(){const n=this.editor,i=!!n.config.get("ckbox"),s=!!window.CKBox;if(!i&&!s)return;const l=n.plugins.get(Uo),u=n.plugins.get(IA);l.createUploadAdapter=g=>new VW(g,u.getToken(),n);const h=!n.config.get("ckbox.ignoreDataId"),p=n.plugins.get("ImageUploadEditing");h&&p.on("uploadComplete",(g,{imageElement:w,data:y})=>{n.model.change(C=>{C.setAttribute("ckboxImageId",y.ckboxImageId,w)})})})}}class VW{constructor(n,i,s){this.loader=n,this.token=i,this.editor=s,this.controller=new AbortController,this.serviceOrigin=s.config.get("ckbox.serviceOrigin")}getWorkspaceId(){const n=(0,this.editor.t)("Cannot access default workspace."),i=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),s=function(l,u){const[,h]=l.value.split("."),p=JSON.parse(atob(h)),g=p.auth&&p.auth.ckbox&&p.auth.ckbox.workspaces||[p.aud];return u?(p.auth&&p.auth.ckbox&&p.auth.ckbox.role)=="superadmin"||g.includes(u)?u:null:g[0]}(this.token,i);if(s==null)throw ie("ckbox-access-default-workspace-error"),n;return s}getAvailableCategories(n=0){return iu(this,null,function*(){const i=new URL("categories",this.serviceOrigin);return i.searchParams.set("limit",50 .toString()),i.searchParams.set("offset",n.toString()),i.searchParams.set("workspaceId",this.getWorkspaceId()),this._sendHttpRequest({url:i}).then(s=>iu(this,null,function*(){if(s.totalCount-(n+50)>0){const l=yield this.getAvailableCategories(n+50);return[...s.items,...l]}return s.items})).catch(()=>{this.controller.signal.throwIfAborted(),ie("ckbox-fetch-category-http-error")})})}getCategoryIdForFile(n){return iu(this,null,function*(){const i=function(h){const p=new RegExp("\\.(?<ext>[^.]+)$");return h.match(p).groups.ext.toLowerCase()}(n.name),s=yield this.getAvailableCategories();if(!s)return null;const l=this.editor.config.get("ckbox.defaultUploadCategories");if(l){const h=Object.keys(l).find(p=>l[p].find(g=>g.toLowerCase()==i));if(h){const p=s.find(g=>g.id===h||g.name===h);return p?p.id:null}}const u=s.find(h=>h.extensions.find(p=>p.toLowerCase()==i));return u?u.id:null})}upload(){return iu(this,null,function*(){const n=this.editor.t,i=n("Cannot determine a category for the uploaded file."),s=yield this.loader.file,l=yield this.getCategoryIdForFile(s);if(!l)return Promise.reject(i);const u=new URL("assets",this.serviceOrigin),h=new FormData;u.searchParams.set("workspaceId",this.getWorkspaceId()),h.append("categoryId",l),h.append("file",s);const p={method:"POST",url:u,data:h,onUploadProgress:g=>{g.lengthComputable&&(this.loader.uploadTotal=g.total,this.loader.uploaded=g.loaded)}};return this._sendHttpRequest(p).then(g=>iu(this,null,function*(){const w=E5(g.imageUrls);return{ckboxImageId:g.id,default:w.imageFallbackUrl,sources:w.imageSources}})).catch(()=>{const g=n("Cannot upload file:")+` ${s.name}.`;return Promise.reject(g)})})}abort(){this.controller.abort()}_sendHttpRequest({url:n,method:i="GET",data:s,onUploadProgress:l}){const u=this.controller.signal,h=new XMLHttpRequest;h.open(i,n.toString(),!0),h.setRequestHeader("Authorization",this.token.value),h.setRequestHeader("CKBox-Version","CKEditor 5"),h.responseType="json";const p=()=>{h.abort()};return new Promise((g,w)=>{u.addEventListener("abort",p),h.addEventListener("loadstart",()=>{u.addEventListener("abort",p)}),h.addEventListener("loadend",()=>{u.removeEventListener("abort",p)}),h.addEventListener("error",()=>{w()}),h.addEventListener("abort",()=>{w()}),h.addEventListener("load",()=>iu(this,null,function*(){const y=h.response;return!y||y.statusCode>=400?w(y&&y.message):g(y)})),l&&h.upload.addEventListener("progress",y=>{l(y)}),h.send(s)})}}class IA extends ye{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",$W]}init(){return n=this,i=null,s=function*(){const l=this.editor,u=!!l.config.get("ckbox"),h=!!window.CKBox;if(!u&&!h)return;this._initConfig();const p=l.plugins.get("CloudServicesCore"),g=l.config.get("ckbox.tokenUrl");if(g===l.config.get("cloudServices.tokenUrl")){const w=l.plugins.get("CloudServices");this._token=w.token}else this._token=yield p.createToken(g).init();l.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),h&&l.commands.add("ckbox",new BW(l))},new Promise((l,u)=>{var h=w=>{try{g(s.next(w))}catch(y){u(y)}},p=w=>{try{g(s.throw(w))}catch(y){u(y)}},g=w=>w.done?l(w.value):Promise.resolve(w.value).then(h,p);g((s=s.apply(n,i)).next())});var n,i,s}getToken(){return this._token}_initConfig(){const n=this.editor;if(n.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:n.locale.uiLanguage,theme:"default",tokenUrl:n.config.get("cloudServices.tokenUrl")}),!n.config.get("ckbox.tokenUrl"))throw new V("ckbox-plugin-missing-token-url",this);n.plugins.has("ImageBlockEditing")||n.plugins.has("ImageInlineEditing")||ie("ckbox-plugin-image-feature-missing",n)}_initSchema(){const n=this.editor.model.schema;n.extend("$text",{allowAttributes:"ckboxLinkId"}),n.isRegistered("imageBlock")&&n.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),n.isRegistered("imageInline")&&n.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),n.addAttributeCheck((i,s)=>{if(!i.last.getAttribute("linkHref")&&s==="ckboxLinkId")return!1})}_initConversion(){const n=this.editor;n.conversion.for("downcast").add(i=>{i.on("attribute:ckboxLinkId:imageBlock",(s,l,u)=>{const{writer:h,mapper:p,consumable:g}=u;if(!g.consume(l.item,s.name))return;const w=[...p.toViewElement(l.item).getChildren()].find(y=>y.name==="a");w&&(l.item.hasAttribute("ckboxLinkId")?h.setAttribute("data-ckbox-resource-id",l.item.getAttribute("ckboxLinkId"),w):h.removeAttribute("data-ckbox-resource-id",w))},{priority:"low"}),i.on("attribute:ckboxLinkId",(s,l,u)=>{const{writer:h,mapper:p,consumable:g}=u;if(g.consume(l.item,s.name)){if(l.attributeOldValue){const w=S5(h,l.attributeOldValue);h.unwrap(p.toViewRange(l.range),w)}if(l.attributeNewValue){const w=S5(h,l.attributeNewValue);if(l.item.is("selection")){const y=h.document.selection;h.wrap(y.getFirstRange(),w)}else h.wrap(p.toViewRange(l.range),w)}}},{priority:"low"})}),n.conversion.for("upcast").add(i=>{i.on("element:a",(s,l,u)=>{const{writer:h,consumable:p}=u;if(!l.viewItem.getAttribute("href")||!p.consume(l.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const g=l.viewItem.getAttribute("data-ckbox-resource-id");if(g)if(l.modelRange)for(let w of l.modelRange.getItems())w.is("$textProxy")&&(w=w.textNode),HW(w)&&h.setAttribute("ckboxLinkId",g,w);else{const w=l.modelCursor.nodeBefore||l.modelCursor.parent;h.setAttribute("ckboxLinkId",g,w)}},{priority:"low"})}),n.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),n.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:i=>i.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const n=this.editor,i=n.model,s=i.document.selection;i.document.registerPostFixer(function(l){return u=>{let h=!1;const p=l.model,g=l.commands.get("ckbox");if(!g)return h;for(const w of p.document.differ.getChanges()){if(w.type!=="insert"&&w.type!=="attribute")continue;const y=w.type==="insert"?new le(w.position,w.position.getShiftedBy(w.length)):w.range,C=w.type==="attribute"&&w.attributeKey==="linkHref"&&w.attributeNewValue===null;for(const S of y.getItems()){if(C&&S.hasAttribute("ckboxLinkId")){u.removeAttribute("ckboxLinkId",S),h=!0;continue}const N=UW(S,g._chosenAssets);for(const P of N){const j=P.type==="image"?"ckboxImageId":"ckboxLinkId";P.id!==S.getAttribute(j)&&(u.setAttribute(j,P.id,S),h=!0)}}}return h}}(n)),i.document.registerPostFixer(function(l){return u=>!(l.hasAttribute("linkHref")||!l.hasAttribute("ckboxLinkId"))&&(u.removeSelectionAttribute("ckboxLinkId"),!0)}(s))}}function UW(c,n){const i=c.is("element","imageInline")||c.is("element","imageBlock"),s=c.hasAttribute("linkHref");return[...n].filter(l=>l.type==="image"&&i?l.attributes.imageFallbackUrl===c.getAttribute("src"):l.type==="link"&&s?l.attributes.linkHref===c.getAttribute("linkHref"):void 0)}function S5(c,n){const i=c.createAttributeElement("a",{"data-ckbox-resource-id":n},{priority:5});return c.setCustomProperty("link",!0,i),i}function HW(c){return!!c.is("$text")||!(!c.is("element","imageInline")&&!c.is("element","imageBlock"))}class WW extends ye{static get pluginName(){return"CKFinderUI"}init(){const n=this.editor,i=n.ui.componentFactory,s=n.t;i.add("ckfinder",l=>{const u=n.commands.get("ckfinder"),h=new tn(l);return h.set({label:s("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),h.bind("isEnabled").to(u),h.on("execute",()=>{n.execute("ckfinder"),n.editing.view.focus()}),h})}}class qW extends ft{constructor(n){super(n),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const n=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");this.isEnabled=n.isEnabled||i.isEnabled}execute(){const n=this.editor,i=this.editor.config.get("ckfinder.openerMethod")||"modal";if(i!="popup"&&i!="modal")throw new V("ckfinder-unknown-openermethod",n);const s=this.editor.config.get("ckfinder.options")||{};s.chooseFiles=!0;const l=s.onInit;s.language||(s.language=n.locale.uiLanguage),s.onInit=u=>{l&&l(u),u.on("files:choose",h=>{const p=h.data.files.toArray(),g=p.filter(C=>!C.isImage()),w=p.filter(C=>C.isImage());for(const C of g)n.execute("link",C.getUrl());const y=[];for(const C of w){const S=C.getUrl();y.push(S||u.request("file:getProxyUrl",{file:C}))}y.length&&T5(n,y)}),u.on("file:choose:resizedImage",h=>{const p=h.data.resizedUrl;if(p)T5(n,[p]);else{const g=n.plugins.get("Notification"),w=n.locale.t;g.showWarning(w("Could not obtain resized image URL."),{title:w("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[i](s)}}function T5(c,n){if(c.commands.get("insertImage").isEnabled)c.execute("insertImage",{source:n});else{const i=c.plugins.get("Notification"),s=c.locale.t;i.showWarning(s("Could not insert image at the current position."),{title:s("Inserting image failed"),namespace:"ckfinder"})}}class GW extends ye{static get pluginName(){return"CKFinderEditing"}static get requires(){return[wA,"LinkEditing"]}init(){const n=this.editor;if(!n.plugins.has("ImageBlockEditing")&&!n.plugins.has("ImageInlineEditing"))throw new V("ckfinder-missing-image-plugin",n);n.commands.add("ckfinder",new qW(n))}}class YW extends ye{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Uo]}init(){const n=this.editor,i=n.plugins.get("CloudServices"),s=i.token,l=i.uploadUrl;if(!s)return;const u=n.plugins.get("CloudServicesCore");this._uploadGateway=u.createUploadGateway(s,l),n.plugins.get(Uo).createUploadAdapter=h=>new KW(this._uploadGateway,h)}}class KW{constructor(n,i){this.uploadGateway=n,this.loader=i}upload(){return this.loader.file.then(n=>(this.fileUploader=this.uploadGateway.upload(n),this.fileUploader.on("progress",(i,s)=>{this.loader.uploadTotal=s.total,this.loader.uploaded=s.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class QW extends ft{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}refresh(){const n=this.editor.model,i=Mn(n.document.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&D5(i,n.schema)}execute(n={}){const i=this.editor.model,s=i.document,l=n.selection||s.selection;i.canEditAt(l)&&i.change(u=>{const h=l.getSelectedBlocks();for(const p of h)!p.is("element","paragraph")&&D5(p,i.schema)&&u.rename(p,"paragraph")})}}function D5(c,n){return n.checkChild(c.parent,"paragraph")&&!n.isObject(c)}class ZW extends ft{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}execute(n){const i=this.editor.model,s=n.attributes;let l=n.position;i.canEditAt(l)&&i.change(u=>{if(l=this._findPositionToInsertParagraph(l,u),!l)return;const h=u.createElement("paragraph");s&&i.schema.setAllowedAttributes(h,s,u),i.insertContent(h,l),u.setSelection(h,"in")})}_findPositionToInsertParagraph(n,i){const s=this.editor.model;if(s.schema.checkChild(n,"paragraph"))return n;const l=s.schema.findAllowedParent(n,"paragraph");if(!l)return null;const u=n.parent,h=s.schema.checkChild(u,"$text");return u.isEmpty||h&&n.isAtEnd?s.createPositionAfter(u):!u.isEmpty&&h&&n.isAtStart?s.createPositionBefore(u):i.split(n,l).position}}const I5=class extends ye{static get pluginName(){return"Paragraph"}init(){const c=this.editor,n=c.model;c.commands.add("paragraph",new QW(c)),c.commands.add("insertParagraph",new ZW(c)),n.schema.register("paragraph",{inheritAllFrom:"$block"}),c.conversion.elementToElement({model:"paragraph",view:"p"}),c.conversion.for("upcast").elementToElement({model:(i,{writer:s})=>I5.paragraphLikeElements.has(i.name)?i.isEmpty?null:s.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let MA=I5;MA.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class JW extends ft{constructor(n,i){super(n),this.modelElements=i}refresh(){const n=Mn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!n&&this.modelElements.includes(n.name)&&n.name,this.isEnabled=!!n&&this.modelElements.some(i=>M5(n,i,this.editor.model.schema))}execute(n){const i=this.editor.model,s=i.document,l=n.value;i.change(u=>{const h=Array.from(s.selection.getSelectedBlocks()).filter(p=>M5(p,l,i.schema));for(const p of h)p.is("element",l)||u.rename(p,l)})}}function M5(c,n,i){return i.checkChild(c.parent,n)&&!i.isObject(c)}const N5="paragraph";class XW extends ye{static get pluginName(){return"HeadingEditing"}constructor(n){super(n),n.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[MA]}init(){const n=this.editor,i=n.config.get("heading.options"),s=[];for(const l of i)l.model!=="paragraph"&&(n.model.schema.register(l.model,{inheritAllFrom:"$block"}),n.conversion.elementToElement(l),s.push(l.model));this._addDefaultH1Conversion(n),n.commands.add("heading",new JW(n,s))}afterInit(){const n=this.editor,i=n.commands.get("enter"),s=n.config.get("heading.options");i&&this.listenTo(i,"afterExecute",(l,u)=>{const h=n.model.document.selection.getFirstPosition().parent;s.some(p=>h.is("element",p.model))&&!h.is("element",N5)&&h.childCount===0&&u.writer.rename(h,N5)})}_addDefaultH1Conversion(n){n.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:X.low+1})}}var P5=a(8733),eq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(P5.Z,eq),P5.Z.locals;class tq extends ye{static get pluginName(){return"HeadingUI"}init(){const n=this.editor,i=n.t,s=function(h){const p=h.t,g={Paragraph:p("Paragraph"),"Heading 1":p("Heading 1"),"Heading 2":p("Heading 2"),"Heading 3":p("Heading 3"),"Heading 4":p("Heading 4"),"Heading 5":p("Heading 5"),"Heading 6":p("Heading 6")};return h.config.get("heading.options").map(w=>{const y=g[w.title];return y&&y!=w.title&&(w.title=y),w})}(n),l=i("Choose heading"),u=i("Heading");n.ui.componentFactory.add("heading",h=>{const p={},g=new Mi,w=n.commands.get("heading"),y=n.commands.get("paragraph"),C=[w];for(const N of s){const P={type:"button",model:new fM({label:N.title,class:N.class,role:"menuitemradio",withText:!0})};N.model==="paragraph"?(P.model.bind("isOn").to(y,"value"),P.model.set("commandName","paragraph"),C.push(y)):(P.model.bind("isOn").to(w,"value",j=>j===N.model),P.model.set({commandName:"heading",commandValue:N.model})),g.add(P),p[N.model]=N.title}const S=Ec(h);return LI(S,g,{ariaLabel:u,role:"menu"}),S.buttonView.set({ariaLabel:u,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:u}),S.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),S.bind("isEnabled").toMany(C,"isEnabled",(...N)=>N.some(P=>P)),S.buttonView.bind("label").to(w,"value",y,"value",(N,P)=>{const j=N||P&&"paragraph";return typeof j=="boolean"?l:p[j]?p[j]:l}),this.listenTo(S,"execute",N=>{const{commandName:P,commandValue:j}=N.source;n.execute(P,j?{value:j}:void 0),n.editing.view.focus()}),S})}}function O5(c){return c.createContainerElement("figure",{class:"image"},[c.createEmptyElement("img"),c.createSlot("children")])}function R5(c,n){const i=c.plugins.get("ImageUtils"),s=c.plugins.has("ImageInlineEditing")&&c.plugins.has("ImageBlockEditing");return u=>i.isInlineImageView(u)?s&&(u.getStyle("display")=="block"||u.findAncestor(i.isBlockImageView)?"imageBlock":"imageInline")!==n?null:l(u):null;function l(u){const h={name:!0};return u.hasAttribute("src")&&(h.attributes=["src"]),h}}function NA(c,n){const i=Mn(n.getSelectedBlocks());return!i||c.isObject(i)||i.isEmpty&&i.name!="listItem"?"imageBlock":"imageInline"}var nq=Object.defineProperty,L5=Object.getOwnPropertySymbols,rq=Object.prototype.hasOwnProperty,iq=Object.prototype.propertyIsEnumerable,B5=(c,n,i)=>n in c?nq(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i,j5=(c,n)=>{for(var i in n||(n={}))rq.call(n,i)&&B5(c,i,n[i]);if(L5)for(var i of L5(n))iq.call(n,i)&&B5(c,i,n[i]);return c};class Ho extends ye{static get pluginName(){return"ImageUtils"}isImage(n){return this.isInlineImage(n)||this.isBlockImage(n)}isInlineImageView(n){return!!n&&n.is("element","img")}isBlockImageView(n){return!!n&&n.is("element","figure")&&n.hasClass("image")}insertImage(n={},i=null,s=null){const l=this.editor,u=l.model,h=u.document.selection;s=z5(l,i||h,s),n=j5(j5({},Object.fromEntries(h.getAttributes())),n);for(const p in n)u.schema.checkAttribute(s,p)||delete n[p];return u.change(p=>{const g=p.createElement(s,n);return u.insertObject(g,i,null,{setSelection:"on",findOptimalPosition:i||s=="imageInline"?void 0:"auto"}),g.parent?g:null})}getClosestSelectedImageWidget(n){const i=n.getFirstPosition();if(!i)return null;const s=n.getSelectedElement();if(s&&this.isImageWidget(s))return s;let l=i.parent;for(;l;){if(l.is("element")&&this.isImageWidget(l))return l;l=l.parent}return null}getClosestSelectedImageElement(n){const i=n.getSelectedElement();return this.isImage(i)?i:n.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const n=this.editor.model.document.selection;return function(i,s){if(z5(i,s,null)=="imageBlock"){const u=function(h,p){const g=KM(h,p),w=g.start.parent;return w.isEmpty&&!w.is("element","$root")?w.parent:w}(s,i.model);if(i.model.schema.checkChild(u,"imageBlock"))return!0}else if(i.model.schema.checkChild(s.focus,"imageInline"))return!0;return!1}(this.editor,n)&&function(i){return[...i.focus.getAncestors()].every(s=>!s.is("element","imageBlock"))}(n)}toImageWidget(n,i,s){return i.setCustomProperty("image",!0,n),SA(n,i,{label:()=>{const l=this.findViewImgElement(n).getAttribute("alt");return l?`${l} ${s}`:s}})}isImageWidget(n){return!!n.getCustomProperty("image")&&xn(n)}isBlockImage(n){return!!n&&n.is("element","imageBlock")}isInlineImage(n){return!!n&&n.is("element","imageInline")}findViewImgElement(n){if(this.isInlineImageView(n))return n;const i=this.editor.editing.view;for(const{item:s}of i.createRangeIn(n))if(this.isInlineImageView(s))return s}}function z5(c,n,i){const s=c.model.schema,l=c.config.get("image.insert.type");return c.plugins.has("ImageBlockEditing")?c.plugins.has("ImageInlineEditing")?i||(l==="inline"?"imageInline":l==="block"?"imageBlock":n.is("selection")?NA(s,n):s.checkChild(n,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class oq extends ft{refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled&&n.hasAttribute("alt")?this.value=n.getAttribute("alt"):this.value=!1}execute(n){const i=this.editor,s=i.plugins.get("ImageUtils"),l=i.model,u=s.getClosestSelectedImageElement(l.document.selection);l.change(h=>{h.setAttribute("alt",n.newValue,u)})}}class sq extends ye{static get requires(){return[Ho]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new oq(this.editor))}}var F5=a(1905),aq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(F5.Z,aq),F5.Z.locals;var $5=a(6764),cq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()($5.Z,cq),$5.Z.locals;class lq extends gt{constructor(n){super(n);const i=this.locale.t;this.focusTracker=new hi,this.keystrokes=new lo,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),Fn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),Fn.cancel,"ck-button-cancel","cancel"),this._focusables=new Ts,this._focusCycler=new yc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),m({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(n,i,s,l){const u=new tn(this.locale);return u.set({label:n,icon:i,tooltip:!0}),u.extendTemplate({attributes:{class:s}}),l&&u.delegate("execute").to(this,l),u}_createLabeledInputView(){const n=this.locale.t,i=new zp(this.locale,aA);return i.label=n("Text alternative"),i}}function V5(c){const n=c.editing.view,i=gi.defaultPositions,s=c.plugins.get("ImageUtils");return{target:n.domConverter.mapViewToDom(s.getClosestSelectedImageWidget(n.document.selection)),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class uq extends ye{static get requires(){return[Pb]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const n=this.editor,i=n.t;n.ui.componentFactory.add("imageTextAlternative",s=>{const l=n.commands.get("imageTextAlternative"),u=new tn(s);return u.set({label:i("Change image text alternative"),icon:Fn.lowVision,tooltip:!0}),u.bind("isEnabled").to(l,"isEnabled"),u.bind("isOn").to(l,"value",h=>!!h),this.listenTo(u,"execute",()=>{this._showForm()}),u})}_createForm(){const n=this.editor,i=n.editing.view.document,s=n.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(k(lq))(n.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{n.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(l,u)=>{this._hideForm(!0),u()}),this.listenTo(n.ui,"update",()=>{s.getClosestSelectedImageWidget(i.selection)?this._isVisible&&function(l){const u=l.plugins.get("ContextualBalloon");if(l.plugins.get("ImageUtils").getClosestSelectedImageWidget(l.editing.view.document.selection)){const h=V5(l);u.updatePosition(h)}}(n):this._hideForm(!0)}),f({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const n=this.editor,i=n.commands.get("imageTextAlternative"),s=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:V5(n)}),s.fieldView.value=s.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(n=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),n&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class U5 extends ye{static get requires(){return[sq,uq]}static get pluginName(){return"ImageTextAlternative"}}function H5(c,n){const i=(s,l,u)=>{if(!u.consumable.consume(l.item,s.name))return;const h=u.writer,p=u.mapper.toViewElement(l.item),g=c.findViewImgElement(p);if(l.attributeNewValue===null){const w=l.attributeOldValue;w&&w.data&&(h.removeAttribute("srcset",g),h.removeAttribute("sizes",g),w.width&&h.removeAttribute("width",g))}else{const w=l.attributeNewValue;w&&w.data&&(h.setAttribute("srcset",w.data,g),h.setAttribute("sizes","100vw",g),w.width&&h.setAttribute("width",w.width,g))}};return s=>{s.on(`attribute:srcset:${n}`,i)}}function Hb(c,n,i){const s=(l,u,h)=>{if(!h.consumable.consume(u.item,l.name))return;const p=h.writer,g=h.mapper.toViewElement(u.item),w=c.findViewImgElement(g);p.setAttribute(u.attributeKey,u.attributeNewValue||"",w)};return l=>{l.on(`attribute:${i}:${n}`,s)}}class dq extends Ms{observe(n){this.listenTo(n,"load",(i,s)=>{const l=s.target;this.checkShouldIgnoreEventFromTarget(l)||l.tagName=="IMG"&&this._fireEvents(s)},{useCapture:!0})}stopObserving(n){this.stopListening(n)}_fireEvents(n){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",n))}}var hq=Object.defineProperty,W5=Object.getOwnPropertySymbols,fq=Object.prototype.hasOwnProperty,pq=Object.prototype.propertyIsEnumerable,q5=(c,n,i)=>n in c?hq(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i,Wb=(c,n)=>{for(var i in n||(n={}))fq.call(n,i)&&q5(c,i,n[i]);if(W5)for(var i of W5(n))pq.call(n,i)&&q5(c,i,n[i]);return c};class gq extends ft{constructor(n){super(n);const i=n.config.get("image.insert.type");n.plugins.has("ImageBlockEditing")||i==="block"&&se("image-block-plugin-required"),n.plugins.has("ImageInlineEditing")||i==="inline"&&se("image-inline-plugin-required")}refresh(){const n=this.editor.plugins.get("ImageUtils");this.isEnabled=n.isImageAllowed()}execute(n){const i=qn(n.source),s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),u=Object.fromEntries(s.getAttributes());i.forEach((h,p)=>{const g=s.getSelectedElement();if(typeof h=="string"&&(h={src:h}),p&&g&&l.isImage(g)){const w=this.editor.model.createPositionAfter(g);l.insertImage(Wb(Wb({},h),u),w)}else l.insertImage(Wb(Wb({},h),u))})}}class mq extends ft{refresh(){const n=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=n.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(n){const i=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(s=>{s.setAttribute("src",n.source,i),s.removeAttribute("srcset",i),s.removeAttribute("sizes",i)})}}class PA extends ye{static get requires(){return[Ho]}static get pluginName(){return"ImageEditing"}init(){const n=this.editor,i=n.conversion;n.editing.view.addObserver(dq),i.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:u=>{const h={data:u.getAttribute("srcset")};return u.hasAttribute("width")&&(h.width=u.getAttribute("width")),h}}});const s=new gq(n),l=new mq(n);n.commands.add("insertImage",s),n.commands.add("replaceImageSource",l),n.commands.add("imageInsert",s)}}class G5 extends ft{constructor(n,i){super(n),this._modelElementName=i}refresh(){const n=this.editor.plugins.get("ImageUtils"),i=n.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=n.isInlineImage(i):this.isEnabled=n.isBlockImage(i)}execute(){const n=this.editor,i=this.editor.model,s=n.plugins.get("ImageUtils"),l=s.getClosestSelectedImageElement(i.document.selection),u=Object.fromEntries(l.getAttributes());return u.src||u.uploadId?i.change(h=>{const p=Array.from(i.markers).filter(y=>y.getRange().containsItem(l)),g=s.insertImage(u,i.createSelection(l,"on"),this._modelElementName);if(!g)return null;const w=h.createRangeOn(g);for(const y of p){const C=y.getRange(),S=C.root.rootName!="$graveyard"?C.getJoined(w,!0):w;h.updateMarker(y,{range:S})}return{oldElement:l,newElement:g}}):null}}class Y5 extends ye{static get requires(){return[PA,Ho,Os]}static get pluginName(){return"ImageBlockEditing"}init(){const n=this.editor;n.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),n.plugins.has("ImageInlineEditing")&&(n.commands.add("imageTypeBlock",new G5(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,i=n.t,s=n.conversion,l=n.plugins.get("ImageUtils");s.for("dataDowncast").elementToStructure({model:"imageBlock",view:(u,{writer:h})=>O5(h)}),s.for("editingDowncast").elementToStructure({model:"imageBlock",view:(u,{writer:h})=>l.toImageWidget(O5(h),h,i("image widget"))}),s.for("downcast").add(Hb(l,"imageBlock","src")).add(Hb(l,"imageBlock","alt")).add(H5(l,"imageBlock")),s.for("upcast").elementToElement({view:R5(n,"imageBlock"),model:(u,{writer:h})=>h.createElement("imageBlock",u.hasAttribute("src")?{src:u.getAttribute("src")}:void 0)}).add(function(u){const h=(p,g,w)=>{if(!w.consumable.test(g.viewItem,{name:!0,classes:"image"}))return;const y=u.findViewImgElement(g.viewItem);if(!y||!w.consumable.test(y,{name:!0}))return;w.consumable.consume(g.viewItem,{name:!0,classes:"image"});const C=Mn(w.convertItem(y,g.modelCursor).modelRange.getItems());C?(w.convertChildren(g.viewItem,C),w.updateConversionResult(C,g)):w.consumable.revert(g.viewItem,{name:!0,classes:"image"})};return p=>{p.on("element:figure",h)}}(l))}_setupClipboardIntegration(){const n=this.editor,i=n.model,s=n.editing.view,l=n.plugins.get("ImageUtils"),u=n.plugins.get("ClipboardPipeline");this.listenTo(u,"inputTransformation",(h,p)=>{const g=Array.from(p.content.getChildren());let w;if(!g.every(l.isInlineImageView))return;w=p.targetRanges?n.editing.mapper.toModelRange(p.targetRanges[0]):i.document.selection.getFirstRange();const y=i.createSelection(w);if(NA(i.schema,y)==="imageBlock"){const C=new xc(s.document),S=g.map(N=>C.createElement("figure",{class:"image"},N));p.content=C.createDocumentFragment(S)}})}}var K5=a(3508),kq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(K5.Z,kq),K5.Z.locals;class bq extends ye{static get requires(){return[Y5,sg,U5]}static get pluginName(){return"ImageBlock"}}class wq extends ye{static get requires(){return[PA,Ho,Os]}static get pluginName(){return"ImageInlineEditing"}init(){const n=this.editor,i=n.model.schema;i.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),i.addChildCheck((s,l)=>{if(s.endsWith("caption")&&l.name==="imageInline")return!1}),this._setupConversion(),n.plugins.has("ImageBlockEditing")&&(n.commands.add("imageTypeInline",new G5(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,i=n.t,s=n.conversion,l=n.plugins.get("ImageUtils");s.for("dataDowncast").elementToElement({model:"imageInline",view:(u,{writer:h})=>h.createEmptyElement("img")}),s.for("editingDowncast").elementToStructure({model:"imageInline",view:(u,{writer:h})=>l.toImageWidget(function(p){return p.createContainerElement("span",{class:"image-inline"},p.createEmptyElement("img"))}(h),h,i("image widget"))}),s.for("downcast").add(Hb(l,"imageInline","src")).add(Hb(l,"imageInline","alt")).add(H5(l,"imageInline")),s.for("upcast").elementToElement({view:R5(n,"imageInline"),model:(u,{writer:h})=>h.createElement("imageInline",u.hasAttribute("src")?{src:u.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const n=this.editor,i=n.model,s=n.editing.view,l=n.plugins.get("ImageUtils"),u=n.plugins.get("ClipboardPipeline");this.listenTo(u,"inputTransformation",(h,p)=>{const g=Array.from(p.content.getChildren());let w;if(!g.every(l.isBlockImageView))return;w=p.targetRanges?n.editing.mapper.toModelRange(p.targetRanges[0]):i.document.selection.getFirstRange();const y=i.createSelection(w);if(NA(i.schema,y)==="imageInline"){const C=new xc(s.document),S=g.map(N=>N.childCount===1?(Array.from(N.getAttributes()).forEach(P=>C.setAttribute(...P,l.findViewImgElement(N))),N.getChild(0)):N);p.content=C.createDocumentFragment(S)}})}}class vq extends ye{static get requires(){return[wq,sg,U5]}static get pluginName(){return"ImageInline"}}class Q5 extends ye{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Ho]}getCaptionFromImageModelElement(n){for(const i of n.getChildren())if(i&&i.is("element","caption"))return i;return null}getCaptionFromModelSelection(n){const i=this.editor.plugins.get("ImageUtils"),s=n.getFirstPosition().findAncestor("caption");return s&&i.isBlockImage(s.parent)?s:null}matchImageCaptionViewElement(n){const i=this.editor.plugins.get("ImageUtils");return n.name=="figcaption"&&i.isBlockImageView(n.parent)?{name:!0}:null}}class yq extends ft{refresh(){const n=this.editor,i=n.plugins.get("ImageCaptionUtils"),s=n.plugins.get("ImageUtils");if(!n.plugins.has(Y5))return this.isEnabled=!1,void(this.value=!1);const l=n.model.document.selection,u=l.getSelectedElement();if(!u){const h=i.getCaptionFromModelSelection(l);return this.isEnabled=!!h,void(this.value=!!h)}this.isEnabled=s.isImage(u),this.isEnabled?this.value=!!i.getCaptionFromImageModelElement(u):this.value=!1}execute(n={}){const{focusCaptionOnShow:i}=n;this.editor.model.change(s=>{this.value?this._hideImageCaption(s):this._showImageCaption(s,i)})}_showImageCaption(n,i){const s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageCaptionEditing"),u=this.editor.plugins.get("ImageUtils");let h=s.getSelectedElement();const p=l._getSavedCaption(h);u.isInlineImage(h)&&(this.editor.execute("imageTypeBlock"),h=s.getSelectedElement());const g=p||n.createElement("caption");n.append(g,h),i&&n.setSelection(g,"in")}_hideImageCaption(n){const i=this.editor,s=i.model.document.selection,l=i.plugins.get("ImageCaptionEditing"),u=i.plugins.get("ImageCaptionUtils");let h,p=s.getSelectedElement();p?h=u.getCaptionFromImageModelElement(p):(h=u.getCaptionFromModelSelection(s),p=h.parent),l._saveCaption(p,h),n.setSelection(p,"on"),n.remove(h)}}class _q extends ye{constructor(n){super(n),this._savedCaptionsMap=new WeakMap}static get requires(){return[Ho,Q5]}static get pluginName(){return"ImageCaptionEditing"}init(){const n=this.editor,i=n.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),n.commands.add("toggleImageCaption",new yq(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const n=this.editor,i=n.editing.view,s=n.plugins.get("ImageUtils"),l=n.plugins.get("ImageCaptionUtils"),u=n.t;n.conversion.for("upcast").elementToElement({view:h=>l.matchImageCaptionViewElement(h),model:"caption"}),n.conversion.for("dataDowncast").elementToElement({model:"caption",view:(h,{writer:p})=>s.isBlockImage(h.parent)?p.createContainerElement("figcaption"):null}),n.conversion.for("editingDowncast").elementToElement({model:"caption",view:(h,{writer:p})=>{if(!s.isBlockImage(h.parent))return null;const g=p.createEditableElement("figcaption");p.setCustomProperty("imageCaption",!0,g),g.placeholder=u("Enter image caption"),ma({view:i,element:g,keepOnFocus:!0});const w=h.parent.getAttribute("alt");return YM(g,p,{label:w?u("Caption for image: %0",[w]):u("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const n=this.editor,i=n.plugins.get("ImageUtils"),s=n.plugins.get("ImageCaptionUtils"),l=n.commands.get("imageTypeInline"),u=n.commands.get("imageTypeBlock"),h=p=>{if(!p.return)return;const{oldElement:g,newElement:w}=p.return;if(!g)return;if(i.isBlockImage(g)){const C=s.getCaptionFromImageModelElement(g);if(C)return void this._saveCaption(w,C)}const y=this._getSavedCaption(g);y&&this._saveCaption(w,y)};l&&this.listenTo(l,"execute",h,{priority:"low"}),u&&this.listenTo(u,"execute",h,{priority:"low"})}_getSavedCaption(n){const i=this._savedCaptionsMap.get(n);return i?Yt.fromJSON(i):null}_saveCaption(n,i){this._savedCaptionsMap.set(n,i.toJSON())}_registerCaptionReconversion(){const n=this.editor,i=n.model,s=n.plugins.get("ImageUtils"),l=n.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const u=i.document.differ.getChanges();for(const h of u){if(h.attributeKey!=="alt")continue;const p=h.range.start.nodeAfter;if(s.isBlockImage(p)){const g=l.getCaptionFromImageModelElement(p);if(!g)return;n.editing.reconvertItem(g)}}})}}class Aq extends ye{static get requires(){return[Q5]}static get pluginName(){return"ImageCaptionUI"}init(){const n=this.editor,i=n.editing.view,s=n.plugins.get("ImageCaptionUtils"),l=n.t;n.ui.componentFactory.add("toggleImageCaption",u=>{const h=n.commands.get("toggleImageCaption"),p=new tn(u);return p.set({icon:Fn.caption,tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(h,"value","isEnabled"),p.bind("label").to(h,"value",g=>l(g?"Toggle caption off":"Toggle caption on")),this.listenTo(p,"execute",()=>{n.execute("toggleImageCaption",{focusCaptionOnShow:!0});const g=s.getCaptionFromModelSelection(n.model.document.selection);if(g){const w=n.editing.mapper.toViewElement(g);i.scrollToTheSelection(),i.change(y=>{y.addClass("image__caption_highlighted",w)})}n.editing.view.focus()}),p})}}var Z5=a(2640),Cq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(Z5.Z,Cq),Z5.Z.locals;function J5(c){const n=c.map(i=>i.replace("+","\\+"));return new RegExp(`^image\\/(${n.join("|")})$`)}function xq(c){return new Promise((n,i)=>{const s=c.getAttribute("src");fetch(s).then(l=>l.blob()).then(l=>{const u=X5(l,s),h=u.replace("image/",""),p=new File([l],`image.${h}`,{type:u});n(p)}).catch(l=>l&&l.name==="TypeError"?function(u){return function(h){return new Promise((p,g)=>{const w=at.document.createElement("img");w.addEventListener("load",()=>{const y=at.document.createElement("canvas");y.width=w.width,y.height=w.height,y.getContext("2d").drawImage(w,0,0),y.toBlob(C=>C?p(C):g())}),w.addEventListener("error",()=>g()),w.src=h})}(u).then(h=>{const p=X5(h,u),g=p.replace("image/","");return new File([h],`image.${g}`,{type:p})})}(s).then(n).catch(i):i(l))})}function X5(c,n){return c.type?c.type:n.match(/data:(image\/\w+);base64/)?n.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Eq extends ye{static get pluginName(){return"ImageUploadUI"}init(){const n=this.editor,i=n.t,s=l=>{const u=new AW(l),h=n.commands.get("uploadImage"),p=n.config.get("image.upload.types"),g=J5(p);return u.set({acceptedType:p.map(w=>`image/${w}`).join(","),allowMultipleFiles:!0}),u.buttonView.set({label:i("Insert image"),icon:Fn.image,tooltip:!0}),u.buttonView.bind("isEnabled").to(h),u.on("done",(w,y)=>{const C=Array.from(y).filter(S=>g.test(S.type));C.length&&(n.execute("uploadImage",{file:C}),n.editing.view.focus())}),u};n.ui.componentFactory.add("uploadImage",s),n.ui.componentFactory.add("imageUpload",s)}}var eN=a(3689),Sq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(eN.Z,Sq),eN.Z.locals;var tN=a(4036),Tq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(tN.Z,Tq),tN.Z.locals;var nN=a(3773),Dq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(nN.Z,Dq),nN.Z.locals;class Iq extends ye{constructor(n){super(n),this.uploadStatusChange=(i,s,l)=>{const u=this.editor,h=s.item,p=h.getAttribute("uploadId");if(!l.consumable.consume(s.item,i.name))return;const g=u.plugins.get("ImageUtils"),w=u.plugins.get(Uo),y=p?s.attributeNewValue:null,C=this.placeholder,S=u.editing.mapper.toViewElement(h),N=l.writer;if(y=="reading")return rN(S,N),void iN(g,C,S,N);if(y=="uploading"){const P=w.loaders.get(p);return rN(S,N),void(P?(oN(S,N),function(j,H,q,te){const fe=function(Te){const Je=Te.createUIElement("div",{class:"ck-progress-bar"});return Te.setCustomProperty("progressBar",!0,Je),Je}(H);H.insert(H.createPositionAt(j,"end"),fe),q.on("change:uploadedPercent",(Te,Je,Qt)=>{te.change(wt=>{wt.setStyle("width",Qt+"%",fe)})})}(S,N,P,u.editing.view),function(j,H,q,te){if(te.data){const fe=j.findViewImgElement(H);q.setAttribute("src",te.data,fe)}}(g,S,N,P)):iN(g,C,S,N))}y=="complete"&&w.loaders.get(p)&&function(P,j,H){const q=j.createUIElement("div",{class:"ck-image-upload-complete-icon"});j.insert(j.createPositionAt(P,"end"),q),setTimeout(()=>{H.change(te=>te.remove(te.createRangeOn(q)))},3e3)}(S,N,u.editing.view),function(P,j){aN(P,j,"progressBar")}(S,N),oN(S,N),function(P,j){j.removeClass("ck-appear",P)}(S,N)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const n=this.editor;n.plugins.has("ImageBlockEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),n.plugins.has("ImageInlineEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function rN(c,n){c.hasClass("ck-appear")||n.addClass("ck-appear",c)}function iN(c,n,i,s){i.hasClass("ck-image-upload-placeholder")||s.addClass("ck-image-upload-placeholder",i);const l=c.findViewImgElement(i);l.getAttribute("src")!==n&&s.setAttribute("src",n,l),sN(i,"placeholder")||s.insert(s.createPositionAfter(l),function(u){const h=u.createUIElement("div",{class:"ck-upload-placeholder-loader"});return u.setCustomProperty("placeholder",!0,h),h}(s))}function oN(c,n){c.hasClass("ck-image-upload-placeholder")&&n.removeClass("ck-image-upload-placeholder",c),aN(c,n,"placeholder")}function sN(c,n){for(const i of c.getChildren())if(i.getCustomProperty(n))return i}function aN(c,n,i){const s=sN(c,i);s&&n.remove(n.createRangeOn(s))}var Mq=Object.defineProperty,Nq=Object.defineProperties,Pq=Object.getOwnPropertyDescriptors,cN=Object.getOwnPropertySymbols,Oq=Object.prototype.hasOwnProperty,Rq=Object.prototype.propertyIsEnumerable,lN=(c,n,i)=>n in c?Mq(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i;class Lq extends ft{refresh(){const n=this.editor,i=n.plugins.get("ImageUtils"),s=n.model.document.selection.getSelectedElement();this.isEnabled=i.isImageAllowed()||i.isImage(s)}execute(n){const i=qn(n.file),s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),u=Object.fromEntries(s.getAttributes());i.forEach((h,p)=>{const g=s.getSelectedElement();if(p&&g&&l.isImage(g)){const w=this.editor.model.createPositionAfter(g);this._uploadImage(h,u,w)}else this._uploadImage(h,u)})}_uploadImage(n,i,s){const l=this.editor,u=l.plugins.get(Uo).createLoader(n),h=l.plugins.get("ImageUtils");var p,g;u&&h.insertImage((p=((w,y)=>{for(var C in y||(y={}))Oq.call(y,C)&&lN(w,C,y[C]);if(cN)for(var C of cN(y))Rq.call(y,C)&&lN(w,C,y[C]);return w})({},i),g={uploadId:u.id},Nq(p,Pq(g))),s)}}class Bq extends ye{constructor(n){super(n),n.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Uo,wA,Os,Ho]}static get pluginName(){return"ImageUploadEditing"}init(){const n=this.editor,i=n.model.document,s=n.conversion,l=n.plugins.get(Uo),u=n.plugins.get("ImageUtils"),h=n.plugins.get("ClipboardPipeline"),p=J5(n.config.get("image.upload.types")),g=new Lq(n);n.commands.add("uploadImage",g),n.commands.add("imageUpload",g),s.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(n.editing.view.document,"clipboardInput",(w,y)=>{if(C=y.dataTransfer,Array.from(C.types).includes("text/html")&&C.getData("text/html")!=="")return;var C;const S=Array.from(y.dataTransfer.files).filter(N=>!!N&&p.test(N.type));S.length&&(w.stop(),n.model.change(N=>{y.targetRanges&&N.setSelection(y.targetRanges.map(P=>n.editing.mapper.toModelRange(P))),n.model.enqueueChange(()=>{n.execute("uploadImage",{file:S})})}))}),this.listenTo(h,"inputTransformation",(w,y)=>{const C=Array.from(n.editing.view.createRangeIn(y.content)).map(N=>N.item).filter(N=>function(P,j){return!(!P.isInlineImageView(j)||!j.getAttribute("src")||!j.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!j.getAttribute("src").match(/^blob:/g))}(u,N)&&!N.getAttribute("uploadProcessed")).map(N=>({promise:xq(N),imageElement:N}));if(!C.length)return;const S=new xc(n.editing.view.document);for(const N of C){S.setAttribute("uploadProcessed",!0,N.imageElement);const P=l.createLoader(N.promise);P&&(S.setAttribute("src","",N.imageElement),S.setAttribute("uploadId",P.id,N.imageElement))}}),n.editing.view.document.on("dragover",(w,y)=>{y.preventDefault()}),i.on("change",()=>{const w=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),y=new Set;for(const C of w)if(C.type=="insert"&&C.name!="$text"){const S=C.position.nodeAfter,N=C.position.root.rootName=="$graveyard";for(const P of jq(n,S)){const j=P.getAttribute("uploadId");if(!j)continue;const H=l.loaders.get(j);H&&(N?y.has(j)||H.abort():(y.add(j),this._uploadImageElements.set(j,P),H.status=="idle"&&this._readAndUpload(H)))}}}),this.on("uploadComplete",(w,{imageElement:y,data:C})=>{const S=C.urls?C.urls:C;this.editor.model.change(N=>{N.setAttribute("src",S.default,y),this._parseAndSetSrcsetAttributeOnImage(S,y,N)})},{priority:"low"})}afterInit(){const n=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&n.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&n.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(n){const i=this.editor,s=i.model,l=i.locale.t,u=i.plugins.get(Uo),h=i.plugins.get(wA),p=i.plugins.get("ImageUtils"),g=this._uploadImageElements;return s.enqueueChange({isUndoable:!1},y=>{y.setAttribute("uploadStatus","reading",g.get(n.id))}),n.read().then(()=>{const y=n.upload(),C=g.get(n.id);if(x.isSafari){const S=i.editing.mapper.toViewElement(C),N=p.findViewImgElement(S);i.editing.view.once("render",()=>{if(!N.parent)return;const P=i.editing.view.domConverter.mapViewToDom(N.parent);if(!P)return;const j=P.style.display;P.style.display="none",P._ckHack=P.offsetHeight,P.style.display=j})}return s.enqueueChange({isUndoable:!1},S=>{S.setAttribute("uploadStatus","uploading",C)}),y}).then(y=>{s.enqueueChange({isUndoable:!1},C=>{const S=g.get(n.id);C.setAttribute("uploadStatus","complete",S),this.fire("uploadComplete",{data:y,imageElement:S})}),w()}).catch(y=>{if(n.status!=="error"&&n.status!=="aborted")throw y;n.status=="error"&&y&&h.showWarning(y,{title:l("Upload failed"),namespace:"upload"}),s.enqueueChange({isUndoable:!1},C=>{C.remove(g.get(n.id))}),w()});function w(){s.enqueueChange({isUndoable:!1},y=>{const C=g.get(n.id);y.removeAttribute("uploadId",C),y.removeAttribute("uploadStatus",C),g.delete(n.id)}),u.destroyLoader(n)}}_parseAndSetSrcsetAttributeOnImage(n,i,s){let l=0;const u=Object.keys(n).filter(h=>{const p=parseInt(h,10);if(!isNaN(p))return l=Math.max(l,p),!0}).map(h=>`${n[h]} ${h}w`).join(", ");u!=""&&s.setAttribute("srcset",{data:u,width:l},i)}}function jq(c,n){const i=c.plugins.get("ImageUtils");return Array.from(c.model.createRangeOn(n)).filter(s=>i.isImage(s.item)).map(s=>s.item)}var uN=a(1568),zq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(uN.Z,zq),uN.Z.locals;var dN=a(3535),Fq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(dN.Z,Fq),dN.Z.locals;var hN=a(6270),$q={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(hN.Z,$q),hN.Z.locals;class Vq extends ft{constructor(n,i){super(n),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(s=>{if(s.isDefault)for(const l of s.modelElements)this._defaultStyles[l]=s.name;return[s.name,s]}))}refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled?n.hasAttribute("imageStyle")?this.value=n.getAttribute("imageStyle"):this.value=this._defaultStyles[n.name]:this.value=!1}execute(n={}){const i=this.editor,s=i.model,l=i.plugins.get("ImageUtils");s.change(u=>{const h=n.value;let p=l.getClosestSelectedImageElement(s.document.selection);h&&this.shouldConvertImageType(h,p)&&(this.editor.execute(l.isBlockImage(p)?"imageTypeInline":"imageTypeBlock"),p=l.getClosestSelectedImageElement(s.document.selection)),!h||this._styles.get(h).isDefault?u.removeAttribute("imageStyle",p):u.setAttribute("imageStyle",h,p)})}shouldConvertImageType(n,i){return!this._styles.get(n).modelElements.includes(i.name)}}var Uq=Object.defineProperty,fN=Object.getOwnPropertySymbols,Hq=Object.prototype.hasOwnProperty,Wq=Object.prototype.propertyIsEnumerable,pN=(c,n,i)=>n in c?Uq(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i,gN=(c,n)=>{for(var i in n||(n={}))Hq.call(n,i)&&pN(c,i,n[i]);if(fN)for(var i of fN(n))Wq.call(n,i)&&pN(c,i,n[i]);return c};const{objectFullWidth:qq,objectInline:mN,objectLeft:kN,objectRight:OA,objectCenter:RA,objectBlockLeft:bN,objectBlockRight:wN}=Fn,qb={get inline(){return{name:"inline",title:"In line",icon:mN,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:kN,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:bN,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:RA,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:OA,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:wN,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:RA,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:OA,modelElements:["imageBlock"],className:"image-style-side"}}},vN={full:qq,left:bN,right:wN,center:RA,inlineLeft:kN,inlineRight:OA,inline:mN},yN=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function _N(c){se("image-style-configuration-definition-invalid",c)}const LA={normalizeStyles:function(c){return(c.configuredStyles.options||[]).map(n=>function(i){return i=typeof i=="string"?qb[i]?gN({},qb[i]):{name:i}:function(s,l){const u=gN({},l);for(const h in s)Object.prototype.hasOwnProperty.call(l,h)||(u[h]=s[h]);return u}(qb[i.name],i),typeof i.icon=="string"&&(i.icon=vN[i.icon]||i.icon),i}(n)).filter(n=>function(i,{isBlockPluginLoaded:s,isInlinePluginLoaded:l}){const{modelElements:u,name:h}=i;if(!(u&&u.length&&h))return _N({style:i}),!1;{const p=[s?"imageBlock":null,l?"imageInline":null];if(!u.some(g=>p.includes(g)))return se("image-style-missing-dependency",{style:i,missingPlugins:u.map(g=>g==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(n,c))},getDefaultStylesConfiguration:function(c,n){return c&&n?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:c?{options:["block","side"]}:n?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(c){return c.has("ImageBlockEditing")&&c.has("ImageInlineEditing")?[...yN]:[]},warnInvalidStyle:_N,DEFAULT_OPTIONS:qb,DEFAULT_ICONS:vN,DEFAULT_DROPDOWN_DEFINITIONS:yN};function AN(c,n){for(const i of n)if(i.name===c)return i}class CN extends ye{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Ho]}init(){const{normalizeStyles:n,getDefaultStylesConfiguration:i}=LA,s=this.editor,l=s.plugins.has("ImageBlockEditing"),u=s.plugins.has("ImageInlineEditing");s.config.define("image.styles",i(l,u)),this.normalizedStyles=n({configuredStyles:s.config.get("image.styles"),isBlockPluginLoaded:l,isInlinePluginLoaded:u}),this._setupConversion(l,u),this._setupPostFixer(),s.commands.add("imageStyle",new Vq(s,this.normalizedStyles))}_setupConversion(n,i){const s=this.editor,l=s.model.schema,u=(h=this.normalizedStyles,(g,w,y)=>{if(!y.consumable.consume(w.item,g.name))return;const C=AN(w.attributeNewValue,h),S=AN(w.attributeOldValue,h),N=y.mapper.toViewElement(w.item),P=y.writer;S&&P.removeClass(S.className,N),C&&P.addClass(C.className,N)});var h;const p=function(g){const w={imageInline:g.filter(y=>!y.isDefault&&y.modelElements.includes("imageInline")),imageBlock:g.filter(y=>!y.isDefault&&y.modelElements.includes("imageBlock"))};return(y,C,S)=>{if(!C.modelRange)return;const N=C.viewItem,P=Mn(C.modelRange.getItems());if(P&&S.schema.checkAttribute(P,"imageStyle"))for(const j of w[P.name])S.consumable.consume(N,{classes:j.className})&&S.writer.setAttribute("imageStyle",j.name,P)}}(this.normalizedStyles);s.editing.downcastDispatcher.on("attribute:imageStyle",u),s.data.downcastDispatcher.on("attribute:imageStyle",u),n&&(l.extend("imageBlock",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:figure",p,{priority:"low"})),i&&(l.extend("imageInline",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:img",p,{priority:"low"}))}_setupPostFixer(){const n=this.editor,i=n.model.document,s=n.plugins.get(Ho),l=new Map(this.normalizedStyles.map(u=>[u.name,u]));i.registerPostFixer(u=>{let h=!1;for(const p of i.differ.getChanges())if(p.type=="insert"||p.type=="attribute"&&p.attributeKey=="imageStyle"){let g=p.type=="insert"?p.position.nodeAfter:p.range.start.nodeAfter;if(g&&g.is("element","paragraph")&&g.childCount>0&&(g=g.getChild(0)),!s.isImage(g))continue;const w=g.getAttribute("imageStyle");if(!w)continue;const y=l.get(w);y&&y.modelElements.includes(g.name)||(u.removeAttribute("imageStyle",g),h=!0)}return h})}}var xN=a(5083),Gq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(xN.Z,Gq),xN.Z.locals;class Yq extends ye{static get requires(){return[CN]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const n=this.editor.t;return{"Wrap text":n("Wrap text"),"Break text":n("Break text"),"In line":n("In line"),"Full size image":n("Full size image"),"Side image":n("Side image"),"Left aligned image":n("Left aligned image"),"Centered image":n("Centered image"),"Right aligned image":n("Right aligned image")}}init(){const n=this.editor.plugins,i=this.editor.config.get("image.toolbar")||[],s=EN(n.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const u of s)this._createButton(u);const l=EN([...i.filter(Se),...LA.getDefaultDropdownDefinitions(n)],this.localizedDefaultStylesTitles);for(const u of l)this._createDropdown(u,s)}_createDropdown(n,i){const s=this.editor.ui.componentFactory;s.add(n.name,l=>{let u;const{defaultItem:h,items:p,title:g}=n,w=p.filter(N=>i.find(({name:P})=>SN(P)===N)).map(N=>{const P=s.create(N);return N===h&&(u=P),P});p.length!==w.length&&LA.warnInvalidStyle({dropdown:n});const y=Ec(l,oA),C=y.buttonView,S=C.arrowView;return sA(y,w,{enableActiveItemFocusOnDropdownOpen:!0}),C.set({label:TN(g,u.label),class:null,tooltip:!0}),S.unbind("label"),S.set({label:g}),C.bind("icon").toMany(w,"isOn",(...N)=>{const P=N.findIndex(Kl);return P<0?u.icon:w[P].icon}),C.bind("label").toMany(w,"isOn",(...N)=>{const P=N.findIndex(Kl);return TN(g,P<0?u.label:w[P].label)}),C.bind("isOn").toMany(w,"isOn",(...N)=>N.some(Kl)),C.bind("class").toMany(w,"isOn",(...N)=>N.some(Kl)?"ck-splitbutton_flatten":void 0),C.on("execute",()=>{w.some(({isOn:N})=>N)?y.isOpen=!y.isOpen:u.fire("execute")}),y.bind("isEnabled").toMany(w,"isEnabled",(...N)=>N.some(Kl)),this.listenTo(y,"execute",()=>{this.editor.editing.view.focus()}),y})}_createButton(n){const i=n.name;this.editor.ui.componentFactory.add(SN(i),s=>{const l=this.editor.commands.get("imageStyle"),u=new tn(s);return u.set({label:n.title,icon:n.icon,tooltip:!0,isToggleable:!0}),u.bind("isEnabled").to(l,"isEnabled"),u.bind("isOn").to(l,"value",h=>h===i),u.on("execute",this._executeCommand.bind(this,i)),u})}_executeCommand(n){this.editor.execute("imageStyle",{value:n}),this.editor.editing.view.focus()}}function EN(c,n){for(const i of c)n[i.title]&&(i.title=n[i.title]);return c}function SN(c){return`imageStyle:${c}`}function TN(c,n){return(c?c+": ":"")+n}class Kq extends ye{static get pluginName(){return"IndentEditing"}init(){const n=this.editor;n.commands.add("indent",new db(n)),n.commands.add("outdent",new db(n))}}const DN='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',IN='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class Qq extends ye{static get pluginName(){return"IndentUI"}init(){const n=this.editor,i=n.locale,s=n.t,l=i.uiLanguageDirection=="ltr"?DN:IN,u=i.uiLanguageDirection=="ltr"?IN:DN;this._defineButton("indent",s("Increase indent"),l),this._defineButton("outdent",s("Decrease indent"),u)}_defineButton(n,i,s){const l=this.editor;l.ui.componentFactory.add(n,u=>{const h=l.commands.get(n),p=new tn(u);return p.set({label:i,icon:s,tooltip:!0}),p.bind("isEnabled").to(h,"isEnabled"),this.listenTo(p,"execute",()=>{l.execute(n),l.editing.view.focus()}),p})}}class Zq{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(n){Array.isArray(n)?n.forEach(i=>this._definitions.add(i)):this._definitions.add(n)}getDispatcher(){return n=>{n.on("attribute:linkHref",(i,s,l)=>{if(!l.consumable.test(s.item,"attribute:linkHref")||!s.item.is("selection")&&!l.schema.isInline(s.item))return;const u=l.writer,h=u.document.selection;for(const p of this._definitions){const g=u.createAttributeElement("a",p.attributes,{priority:5});p.classes&&u.addClass(p.classes,g);for(const w in p.styles)u.setStyle(w,p.styles[w],g);u.setCustomProperty("link",!0,g),p.callback(s.attributeNewValue)?s.item.is("selection")?u.wrap(h.getFirstRange(),g):u.wrap(l.mapper.toViewRange(s.range),g):u.unwrap(l.mapper.toViewRange(s.range),g)}},{priority:"high"})}}getDispatcherForLinkedImage(){return n=>{n.on("attribute:linkHref:imageBlock",(i,s,{writer:l,mapper:u})=>{const h=u.toViewElement(s.item),p=Array.from(h.getChildren()).find(g=>g.is("element","a"));for(const g of this._definitions){const w=uo(g.attributes);if(g.callback(s.attributeNewValue)){for(const[y,C]of w)y==="class"?l.addClass(C,p):l.setAttribute(y,C,p);g.classes&&l.addClass(g.classes,p);for(const y in g.styles)l.setStyle(y,g.styles[y],p)}else{for(const[y,C]of w)y==="class"?l.removeClass(C,p):l.removeAttribute(y,p);g.classes&&l.removeClass(g.classes,p);for(const y in g.styles)l.removeStyle(y,p)}}})}}}const Jq=function(c,n,i){var s=c.length;return i=i===void 0?s:i,!n&&i>=s?c:PT(c,n,i)};var Xq=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const MN=function(c){return Xq.test(c)},eG=function(c){return c.split("")};var NN="\\ud800-\\udfff",tG="["+NN+"]",BA="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",jA="\\ud83c[\\udffb-\\udfff]",PN="[^"+NN+"]",ON="(?:\\ud83c[\\udde6-\\uddff]){2}",RN="[\\ud800-\\udbff][\\udc00-\\udfff]",LN="(?:"+BA+"|"+jA+")?",BN="[\\ufe0e\\ufe0f]?",nG=BN+LN+("(?:\\u200d(?:"+[PN,ON,RN].join("|")+")"+BN+LN+")*"),rG="(?:"+[PN+BA+"?",BA,ON,RN,tG].join("|")+")",iG=RegExp(jA+"(?="+jA+")|"+rG+nG,"g");const oG=function(c){return c.match(iG)||[]},sG=function(c){return MN(c)?oG(c):eG(c)},aG=function(c){return function(n){n=E_(n);var i=MN(n)?sG(n):void 0,s=i?i[0]:n.charAt(0),l=i?Jq(i,1).join(""):n.slice(1);return s[c]()+l}}("toUpperCase"),cG=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,lG=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,uG=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,dG=/^((\w+:(\/{2,})?)|(\W))/i,zA="Ctrl+K";function jN(c,{writer:n}){const i=n.createAttributeElement("a",{href:c},{priority:5});return n.setCustomProperty("link",!0,i),i}function zN(c){const n=String(c);return function(i){return!!i.replace(cG,"").match(lG)}(n)?n:"#"}function FA(c,n){return!!c&&n.checkAttribute(c.name,"linkHref")}function $A(c,n){const i=(s=c,uG.test(s)?"mailto:":n);var s;const l=!!i&&!FN(c);return c&&l?i+c:c}function FN(c){return dG.test(c)}function $N(c){window.open(c,"_blank","noopener")}class hG extends ft{constructor(){super(...arguments),this.manualDecorators=new Mi,this.automaticDecorators=new Zq}restoreManualDecoratorStates(){for(const n of this.manualDecorators)n.value=this._getDecoratorStateFromModel(n.id)}refresh(){const n=this.editor.model,i=n.document.selection,s=i.getSelectedElement()||Mn(i.getSelectedBlocks());FA(s,n.schema)?(this.value=s.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttribute(s,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttributeInSelection(i,"linkHref"));for(const l of this.manualDecorators)l.value=this._getDecoratorStateFromModel(l.id)}execute(n,i={}){const s=this.editor.model,l=s.document.selection,u=[],h=[];for(const p in i)i[p]?u.push(p):h.push(p);s.change(p=>{if(l.isCollapsed){const g=l.getFirstPosition();if(l.hasAttribute("linkHref")){const w=VN(l);let y=lh(g,"linkHref",l.getAttribute("linkHref"),s);l.getAttribute("linkHref")===w&&(y=this._updateLinkContent(s,p,y,n)),p.setAttribute("linkHref",n,y),u.forEach(C=>{p.setAttribute(C,!0,y)}),h.forEach(C=>{p.removeAttribute(C,y)}),p.setSelection(p.createPositionAfter(y.end.nodeBefore))}else if(n!==""){const w=uo(l.getAttributes());w.set("linkHref",n),u.forEach(C=>{w.set(C,!0)});const{end:y}=s.insertContent(p.createText(n,w),g);p.setSelection(y)}["linkHref",...u,...h].forEach(w=>{p.removeSelectionAttribute(w)})}else{const g=s.schema.getValidRanges(l.getRanges(),"linkHref"),w=[];for(const C of l.getSelectedBlocks())s.schema.checkAttribute(C,"linkHref")&&w.push(p.createRangeOn(C));const y=w.slice();for(const C of g)this._isRangeToUpdate(C,w)&&y.push(C);for(const C of y){let S=C;if(y.length===1){const N=VN(l);l.getAttribute("linkHref")===N&&(S=this._updateLinkContent(s,p,C,n),p.setSelection(p.createSelection(S)))}p.setAttribute("linkHref",n,S),u.forEach(N=>{p.setAttribute(N,!0,S)}),h.forEach(N=>{p.removeAttribute(N,S)})}}})}_getDecoratorStateFromModel(n){const i=this.editor.model,s=i.document.selection,l=s.getSelectedElement();return FA(l,i.schema)?l.getAttribute(n):s.getAttribute(n)}_isRangeToUpdate(n,i){for(const s of i)if(s.containsRange(n))return!1;return!0}_updateLinkContent(n,i,s,l){const u=i.createText(l,{linkHref:l});return n.insertContent(u,s)}}function VN(c){if(c.isCollapsed){const n=c.getFirstPosition();return n.textNode&&n.textNode.data}{const n=Array.from(c.getFirstRange().getItems());if(n.length>1)return null;const i=n[0];return i.is("$text")||i.is("$textProxy")?i.data:null}}class fG extends ft{refresh(){const n=this.editor.model,i=n.document.selection,s=i.getSelectedElement();FA(s,n.schema)?this.isEnabled=n.schema.checkAttribute(s,"linkHref"):this.isEnabled=n.schema.checkAttributeInSelection(i,"linkHref")}execute(){const n=this.editor,i=this.editor.model,s=i.document.selection,l=n.commands.get("link");i.change(u=>{const h=s.isCollapsed?[lh(s.getFirstPosition(),"linkHref",s.getAttribute("linkHref"),i)]:i.schema.getValidRanges(s.getRanges(),"linkHref");for(const p of h)if(u.removeAttribute("linkHref",p),l)for(const g of l.manualDecorators)u.removeAttribute(g.id,p)})}}class pG extends ut(){constructor({id:n,label:i,attributes:s,classes:l,styles:u,defaultValue:h}){super(),this.id=n,this.set("value",void 0),this.defaultValue=h,this.label=i,this.attributes=s,this.classes=l,this.styles=u}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var UN=a(9773),gG={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(UN.Z,gG),UN.Z.locals;var mG=Object.defineProperty,HN=Object.getOwnPropertySymbols,kG=Object.prototype.hasOwnProperty,bG=Object.prototype.propertyIsEnumerable,WN=(c,n,i)=>n in c?mG(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i,wG=(c,n)=>{for(var i in n||(n={}))kG.call(n,i)&&WN(c,i,n[i]);if(HN)for(var i of HN(n))bG.call(n,i)&&WN(c,i,n[i]);return c};const qN="automatic",vG=/^(https?:)?\/\//;class yG extends ye{static get pluginName(){return"LinkEditing"}static get requires(){return[BM,IM,Os]}constructor(n){super(n),n.config.define("link",{addTargetToExternalLinks:!1})}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:"linkHref"}),n.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:jN}),n.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(s,l)=>jN(zN(s),l)}),n.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:s=>s.getAttribute("href")}}),n.commands.add("link",new hG(n)),n.commands.add("unlink",new fG(n));const i=function(s,l){const u={"Open in a new tab":s("Open in a new tab"),Downloadable:s("Downloadable")};return l.forEach(h=>("label"in h&&u[h.label]&&(h.label=u[h.label]),h)),l}(n.t,function(s){const l=[];if(s)for(const[u,h]of Object.entries(s)){const p=Object.assign({},h,{id:`link${aG(u)}`});l.push(p)}return l}(n.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(s=>s.mode===qN)),this._enableManualDecorators(i.filter(s=>s.mode==="manual")),n.plugins.get(BM).registerAttribute("linkHref"),function(s,l,u,h){const p=s.editing.view,g=new Set;p.document.registerPostFixer(w=>{const y=s.model.document.selection;let C=!1;if(y.hasAttribute(l)){const S=lh(y.getFirstPosition(),l,y.getAttribute(l),s.model),N=s.editing.mapper.toViewRange(S);for(const P of N.getItems())P.is("element",u)&&!P.hasClass(h)&&(w.addClass(h,P),g.add(P),C=!0)}return C}),s.conversion.for("editingDowncast").add(w=>{function y(){p.change(C=>{for(const S of g.values())C.removeClass(h,S),g.delete(S)})}w.on("insert",y,{priority:"highest"}),w.on("remove",y,{priority:"highest"}),w.on("attribute",y,{priority:"highest"}),w.on("selection",y,{priority:"highest"})})}(n,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(n){const i=this.editor,s=i.commands.get("link").automaticDecorators;i.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:qN,callback:l=>!!l&&vG.test(l),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(n),s.length&&i.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(n){if(!n.length)return;const i=this.editor,s=i.commands.get("link").manualDecorators;n.forEach(l=>{i.model.schema.extend("$text",{allowAttributes:l.id});const u=new pG(l);s.add(u),i.conversion.for("downcast").attributeToElement({model:u.id,view:(h,{writer:p,schema:g},{item:w})=>{if((w.is("selection")||g.isInline(w))&&h){const y=p.createAttributeElement("a",u.attributes,{priority:5});u.classes&&p.addClass(u.classes,y);for(const C in u.styles)p.setStyle(C,u.styles[C],y);return p.setCustomProperty("link",!0,y),y}}}),i.conversion.for("upcast").elementToAttribute({view:wG({name:"a"},u._createPattern()),model:{key:u.id}})})}_enableLinkOpen(){const n=this.editor,i=n.editing.view.document;this.listenTo(i,"click",(s,l)=>{if(!(x.isMac?l.domEvent.metaKey:l.domEvent.ctrlKey))return;let u=l.domTarget;if(u.tagName.toLowerCase()!="a"&&(u=u.closest("a")),!u)return;const h=u.getAttribute("href");h&&(s.stop(),l.preventDefault(),$N(h))},{context:"$capture"}),this.listenTo(i,"keydown",(s,l)=>{const u=n.commands.get("link").value;u&&l.keyCode===bt.enter&&l.altKey&&(s.stop(),$N(u))})}_enableInsertContentSelectionAttributesFixer(){const n=this.editor.model,i=n.document.selection;this.listenTo(n,"insertContent",()=>{const s=i.anchor.nodeBefore,l=i.anchor.nodeAfter;i.hasAttribute("linkHref")&&s&&s.hasAttribute("linkHref")&&(l&&l.hasAttribute("linkHref")||n.change(u=>{VA(u,UA(n.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const n=this.editor,i=n.model;n.editing.view.addObserver(nA);let s=!1;this.listenTo(n.editing.view.document,"mousedown",()=>{s=!0}),this.listenTo(n.editing.view.document,"selectionChange",()=>{if(!s)return;s=!1;const l=i.document.selection;if(!l.isCollapsed||!l.hasAttribute("linkHref"))return;const u=l.getFirstPosition(),h=lh(u,"linkHref",l.getAttribute("linkHref"),i);(u.isTouching(h.start)||u.isTouching(h.end))&&i.change(p=>{VA(p,UA(i.schema))})})}_enableTypingOverLink(){const n=this.editor,i=n.editing.view;let s=null,l=!1;this.listenTo(i.document,"delete",()=>{l=!0},{priority:"high"}),this.listenTo(n.model,"deleteContent",()=>{const u=n.model.document.selection;u.isCollapsed||(l?l=!1:GN(n)&&function(h){const p=h.document.selection,g=p.getFirstPosition(),w=p.getLastPosition(),y=g.nodeAfter;if(!y||!y.is("$text")||!y.hasAttribute("linkHref"))return!1;const C=w.textNode||w.nodeBefore;return y===C?!0:lh(g,"linkHref",y.getAttribute("linkHref"),h).containsRange(h.createRange(g,w),!0)}(n.model)&&(s=u.getAttributes()))},{priority:"high"}),this.listenTo(n.model,"insertContent",(u,[h])=>{l=!1,GN(n)&&s&&(n.model.change(p=>{for(const[g,w]of s)p.setAttribute(g,w,h)}),s=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const n=this.editor,i=n.model,s=i.document.selection,l=n.editing.view;let u=!1,h=!1;this.listenTo(l.document,"delete",(p,g)=>{h=g.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{u=!1;const p=s.getFirstPosition(),g=s.getAttribute("linkHref");if(!g)return;const w=lh(p,"linkHref",g,i);u=w.containsPosition(p)||w.end.isEqual(p)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{h&&(h=!1,u||n.model.enqueueChange(p=>{VA(p,UA(i.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const n=this.editor,i=n.model,s=this.editor.config.get("link.defaultProtocol");s&&this.listenTo(n.plugins.get("ClipboardPipeline"),"contentInsertion",(l,u)=>{i.change(h=>{const p=h.createRangeIn(u.content);for(const g of p.getItems())if(g.hasAttribute("linkHref")){const w=$A(g.getAttribute("linkHref"),s);h.setAttribute("linkHref",w,g)}})})}}function VA(c,n){c.removeSelectionAttribute("linkHref");for(const i of n)c.removeSelectionAttribute(i)}function GN(c){return c.model.change(n=>n.batch).isTyping}function UA(c){return c.getDefinition("$text").allowAttributes.filter(n=>n.startsWith("link"))}var YN=a(7754),_G={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(YN.Z,_G),YN.Z.locals;class AG extends gt{constructor(n,i){super(n),this.focusTracker=new hi,this.keystrokes=new lo,this._focusables=new Ts;const s=n.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),Fn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),Fn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusCycler=new yc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const l=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&l.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:l,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((n,i)=>(n[i.name]=i.isOn,n),{})}render(){super.render(),m({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const n=this.locale.t,i=new zp(this.locale,aA);return i.label=n("Link URL"),i}_createButton(n,i,s,l){const u=new tn(this.locale);return u.set({label:n,icon:i,tooltip:!0}),u.extendTemplate({attributes:{class:s}}),l&&u.delegate("execute").to(this,l),u}_createManualDecoratorSwitches(n){const i=this.createCollection();for(const s of n.manualDecorators){const l=new Yl(this.locale);l.set({name:s.id,label:s.label,withText:!0}),l.bind("isOn").toMany([s,n],"value",(u,h)=>h===void 0&&u===void 0?!!s.defaultValue:!!u),l.on("execute",()=>{s.set("value",!l.isOn)}),i.add(l)}return i}_createFormChildren(n){const i=this.createCollection();if(i.add(this.urlInputView),n.length){const s=new gt;s.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(l=>({tag:"li",children:[l],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(s)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}}var KN=a(2347),CG={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(KN.Z,CG),KN.Z.locals;class xG extends gt{constructor(n){super(n),this.focusTracker=new hi,this.keystrokes=new lo,this._focusables=new Ts;const i=n.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(i("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(i("Edit link"),Fn.pencil,"edit"),this.set("href",void 0),this._focusCycler=new yc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(n,i,s){const l=new tn(this.locale);return l.set({label:n,icon:i,tooltip:!0}),l.delegate("execute").to(this,s),l}_createPreviewButton(){const n=new tn(this.locale),i=this.bindTemplate,s=this.t;return n.set({withText:!0,tooltip:s("Open link in new tab")}),n.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",l=>l&&zN(l)),target:"_blank",rel:"noopener noreferrer"}}),n.bind("label").to(this,"href",l=>l||s("This link has no URL")),n.bind("isEnabled").to(this,"href",l=>!!l),n.template.tag="a",n.template.eventListeners={},n}}const Rs="link-ui";class EG extends ye{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Pb]}static get pluginName(){return"LinkUI"}init(){const n=this.editor;n.editing.view.addObserver(wU),this._balloon=n.plugins.get(Pb),this._createToolbarLinkButton(),this._enableBalloonActivators(),n.conversion.for("editingDowncast").markerToHighlight({model:Rs,view:{classes:["ck-fake-link-selection"]}}),n.conversion.for("editingDowncast").markerToElement({model:Rs,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const n=this.editor,i=new xG(n.locale),s=n.commands.get("link"),l=n.commands.get("unlink");return i.bind("href").to(s,"value"),i.editButtonView.bind("isEnabled").to(s),i.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{n.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(u,h)=>{this._hideUI(),h()}),i.keystrokes.set(zA,(u,h)=>{this._addFormView(),h()}),i}_createFormView(){const n=this.editor,i=n.commands.get("link"),s=n.config.get("link.defaultProtocol"),l=new(k(AG))(n.locale,i);return l.urlInputView.fieldView.bind("value").to(i,"value"),l.urlInputView.bind("isEnabled").to(i,"isEnabled"),l.saveButtonView.bind("isEnabled").to(i),this.listenTo(l,"submit",()=>{const{value:u}=l.urlInputView.fieldView.element,h=$A(u,s);n.execute("link",h,l.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(l,"cancel",()=>{this._closeFormView()}),l.keystrokes.set("Esc",(u,h)=>{this._closeFormView(),h()}),l}_createToolbarLinkButton(){const n=this.editor,i=n.commands.get("link"),s=n.t;n.ui.componentFactory.add("link",l=>{const u=new tn(l);return u.isEnabled=!0,u.label=s("Link"),u.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',u.keystroke=zA,u.tooltip=!0,u.isToggleable=!0,u.bind("isEnabled").to(i,"isEnabled"),u.bind("isOn").to(i,"value",h=>!!h),this.listenTo(u,"execute",()=>this._showUI(!0)),u})}_enableBalloonActivators(){const n=this.editor,i=n.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),n.keystrokes.set(zA,(s,l)=>{l(),n.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(n,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(n,i)=>{this._isUIVisible&&(this._hideUI(),i())}),f({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const n=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=n.value||""}_closeFormView(){const n=this.editor.commands.get("link");n.restoreManualDecoratorStates(),n.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(n=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),n&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),n&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const n=this.editor;this.stopListening(n.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),n.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const n=this.editor,i=n.editing.view.document;let s=this._getSelectedLinkElement(),l=h();const u=()=>{const p=this._getSelectedLinkElement(),g=h();s&&!p||!s&&g!==l?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),s=p,l=g};function h(){return i.selection.focus.getAncestors().reverse().find(p=>p.is("element"))}this.listenTo(n.ui,"update",u),this.listenTo(this._balloon,"change:visibleView",u)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const n=this._balloon.visibleView;return!!this.formView&&n==this.formView||this._areActionsVisible}_getBalloonPositionData(){const n=this.editor.editing.view,i=this.editor.model,s=n.document;let l;if(i.markers.has(Rs)){const u=Array.from(this.editor.editing.mapper.markerNameToElements(Rs)),h=n.createRange(n.createPositionBefore(u[0]),n.createPositionAfter(u[u.length-1]));l=n.domConverter.viewRangeToDom(h)}else l=()=>{const u=this._getSelectedLinkElement();return u?n.domConverter.mapViewToDom(u):n.domConverter.viewRangeToDom(s.selection.getFirstRange())};return{target:l}}_getSelectedLinkElement(){const n=this.editor.editing.view,i=n.document.selection,s=i.getSelectedElement();if(i.isCollapsed||s&&xn(s))return HA(i.getFirstPosition());{const l=i.getFirstRange().getTrimmed(),u=HA(l.start),h=HA(l.end);return u&&u==h&&n.createRangeIn(u).getTrimmed().isEqual(l)?u:null}}_showFakeVisualSelection(){const n=this.editor.model;n.change(i=>{const s=n.document.selection.getFirstRange();if(n.markers.has(Rs))i.updateMarker(Rs,{range:s});else if(s.start.isAtEnd){const l=s.start.getLastMatchingPosition(({item:u})=>!n.schema.isContent(u),{boundaries:s});i.addMarker(Rs,{usingOperation:!1,affectsData:!1,range:i.createRange(l,s.end)})}else i.addMarker(Rs,{usingOperation:!1,affectsData:!1,range:s})})}_hideFakeVisualSelection(){const n=this.editor.model;n.markers.has(Rs)&&n.change(i=>{i.removeMarker(Rs)})}}function HA(c){return c.getAncestors().find(n=>{return(i=n).is("attributeElement")&&!!i.getCustomProperty("link");var i})||null}const SG=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class TG extends ye{static get requires(){return[wa]}static get pluginName(){return"AutoLink"}init(){const n=this.editor.model.document.selection;n.on("change:range",()=>{this.isEnabled=!n.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const n=this.editor,i=new LM(n.model,s=>{if(!function(u){return u.length>4&&u[u.length-1]===" "&&u[u.length-2]!==" "}(s))return;const l=QN(s.substr(0,s.length-1));return l?{url:l}:void 0});i.on("matched:data",(s,l)=>{const{batch:u,range:h,url:p}=l;if(!u.isTyping)return;const g=h.end.getShiftedBy(-1),w=g.getShiftedBy(-p.length),y=n.model.createRange(w,g);this._applyAutoLink(p,y)}),i.bind("isEnabled").to(this)}_enableEnterHandling(){const n=this.editor,i=n.model,s=n.commands.get("enter");s&&s.on("execute",()=>{const l=i.document.selection.getFirstPosition();if(!l.parent.previousSibling)return;const u=i.createRangeIn(l.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(u)})}_enableShiftEnterHandling(){const n=this.editor,i=n.model,s=n.commands.get("shiftEnter");s&&s.on("execute",()=>{const l=i.document.selection.getFirstPosition(),u=i.createRange(i.createPositionAt(l.parent,0),l.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(u)})}_checkAndApplyAutoLinkOnRange(n){const i=this.editor.model,{text:s,range:l}=RM(n,i),u=QN(s);if(u){const h=i.createRange(l.end.getShiftedBy(-u.length),l.end);this._applyAutoLink(u,h)}}_applyAutoLink(n,i){const s=this.editor.model,l=$A(n,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(u,h){return h.schema.checkAttributeInSelection(h.createSelection(u),"linkHref")}(i,s)&&FN(l)&&!function(u){const h=u.start.nodeAfter;return!!h&&h.hasAttribute("linkHref")}(i)&&this._persistAutoLink(l,i)}_persistAutoLink(n,i){const s=this.editor.model,l=this.editor.plugins.get("Delete");s.enqueueChange(u=>{u.setAttribute("linkHref",n,i),s.enqueueChange(()=>{l.requestUndoOnBackspace()})})}}function QN(c){const n=SG.exec(c);return n?n[2]:null}var ZN=a(111),DG={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(ZN.Z,DG),ZN.Z.locals;var JN=a(5730),IG={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(JN.Z,IG),JN.Z.locals;var XN=a(4564),MG={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(XN.Z,MG),XN.Z.locals;function NG(c,n){const i=n.mapper,s=n.writer,l=c.getAttribute("listType")=="numbered"?"ol":"ul",u=function(p){const g=p.createContainerElement("li");return g.getFillerOffset=RG,g}(s),h=s.createContainerElement(l,null);return s.insert(s.createPositionAt(h,0),u),i.bindElements(c,u),u}function eP(c,n,i,s){const l=n.parent,u=i.mapper,h=i.writer;let p=u.toViewPosition(s.createPositionBefore(c));const g=nP(c.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:c.getAttribute("listIndent")}),w=c.previousSibling;if(g&&g.getAttribute("listIndent")==c.getAttribute("listIndent")){const y=u.toViewElement(g);p=h.breakContainer(h.createPositionAfter(y))}else if(w&&w.name=="listItem"){p=u.toViewPosition(s.createPositionAt(w,"end"));const y=u.findMappedViewAncestor(p),C=function(S){for(const N of S.getChildren())if(N.name=="ul"||N.name=="ol")return N;return null}(y);p=C?h.createPositionBefore(C):h.createPositionAt(y,"end")}else p=u.toViewPosition(s.createPositionBefore(c));if(p=tP(p),h.insert(p,l),w&&w.name=="listItem"){const y=u.toViewElement(w),C=h.createRange(h.createPositionAt(y,0),p).getWalker({ignoreElementEnd:!0});for(const S of C)if(S.item.is("element","li")){const N=h.breakContainer(h.createPositionBefore(S.item)),P=S.item.parent,j=h.createPositionAt(n,"end");mo(h,j.nodeBefore,j.nodeAfter),h.move(h.createRangeOn(P),j),C._position=N}}else{const y=l.nextSibling;if(y&&(y.is("element","ul")||y.is("element","ol"))){let C=null;for(const S of y.getChildren()){const N=u.toModelElement(S);if(!(N&&N.getAttribute("listIndent")>c.getAttribute("listIndent")))break;C=S}C&&(h.breakContainer(h.createPositionAfter(C)),h.move(h.createRangeOn(C.parent),h.createPositionAt(n,"end")))}}mo(h,l,l.nextSibling),mo(h,l.previousSibling,l)}function mo(c,n,i){return!n||!i||n.name!="ul"&&n.name!="ol"||n.name!=i.name||n.getAttribute("class")!==i.getAttribute("class")?null:c.mergeContainers(c.createPositionAfter(n))}function tP(c){return c.getLastMatchingPosition(n=>n.item.is("uiElement"))}function nP(c,n){const i=!!n.sameIndent,s=!!n.smallerIndent,l=n.listIndent;let u=c;for(;u&&u.name=="listItem";){const h=u.getAttribute("listIndent");if(i&&l==h||s&&l>h)return u;u=n.direction==="forward"?u.nextSibling:u.previousSibling}return null}function rP(c,n,i,s){c.ui.componentFactory.add(n,l=>{const u=c.commands.get(n),h=new tn(l);return h.set({label:i,icon:s,tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(u,"value","isEnabled"),h.on("execute",()=>{c.execute(n),c.editing.view.focus()}),h})}function WA(c,n){const i=[],s=c.parent,l={ignoreElementEnd:!1,startPosition:c,shallow:!0,direction:n},u=s.getAttribute("listIndent"),h=[...new Ns(l)].filter(p=>p.item.is("element")).map(p=>p.item);for(const p of h){if(!p.is("element","listItem")||p.getAttribute("listIndent")<u)break;if(!(p.getAttribute("listIndent")>u)){if(p.getAttribute("listType")!==s.getAttribute("listType")||p.getAttribute("listStyle")!==s.getAttribute("listStyle")||p.getAttribute("listReversed")!==s.getAttribute("listReversed")||p.getAttribute("listStart")!==s.getAttribute("listStart"))break;n==="backward"?i.unshift(p):i.push(p)}}return i}const PG=["disc","circle","square"],OG=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function RG(){const c=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||c?0:jT.call(this)}class LG extends ye{static get pluginName(){return"ListUI"}init(){const n=this.editor.t;rP(this.editor,"numberedList",n("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),rP(this.editor,"bulletedList",n("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const BG=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:c,typeAttribute:n,listType:i}of BG);var iP=a(4721),jG={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(iP.Z,jG),iP.Z.locals;var oP=a(6082),zG={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(oP.Z,zG),oP.Z.locals;var sP=a(2417),FG={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(sP.Z,FG),sP.Z.locals;class aP extends ft{constructor(n,i){super(n),this._indentBy=i=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const n=this.editor.model,i=n.document;let s=Array.from(i.selection.getSelectedBlocks());n.change(l=>{const u=s[s.length-1];let h=u.nextSibling;for(;h&&h.name=="listItem"&&h.getAttribute("listIndent")>u.getAttribute("listIndent");)s.push(h),h=h.nextSibling;this._indentBy<0&&(s=s.reverse());for(const p of s){const g=p.getAttribute("listIndent")+this._indentBy;g<0?l.rename(p,"paragraph"):l.setAttribute("listIndent",g,p)}this.fire("_executeCleanup",s)})}_checkEnabled(){const n=Mn(this.editor.model.document.selection.getSelectedBlocks());if(!n||!n.is("element","listItem"))return!1;if(this._indentBy>0){const i=n.getAttribute("listIndent"),s=n.getAttribute("listType");let l=n.previousSibling;for(;l&&l.is("element","listItem")&&l.getAttribute("listIndent")>=i;){if(l.getAttribute("listIndent")==i)return l.getAttribute("listType")==s;l=l.previousSibling}return!1}return!0}}class cP extends ft{constructor(n,i){super(n),this.type=i}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const i=this.editor.model,s=i.document,l=Array.from(s.selection.getSelectedBlocks()).filter(h=>uP(h,i.schema)),u=n.forceValue!==void 0?!n.forceValue:this.value;i.change(h=>{if(u){let p=l[l.length-1].nextSibling,g=Number.POSITIVE_INFINITY,w=[];for(;p&&p.name=="listItem"&&p.getAttribute("listIndent")!==0;){const y=p.getAttribute("listIndent");y<g&&(g=y);const C=y-g;w.push({element:p,listIndent:C}),p=p.nextSibling}w=w.reverse();for(const y of w)h.setAttribute("listIndent",y.listIndent,y.element)}if(!u){let p=Number.POSITIVE_INFINITY;for(const g of l)g.is("element","listItem")&&g.getAttribute("listIndent")<p&&(p=g.getAttribute("listIndent"));p=p===0?1:p,lP(l,!0,p),lP(l,!1,p)}for(const p of l.reverse())u&&p.name=="listItem"?h.rename(p,"paragraph"):u||p.name=="listItem"?u||p.name!="listItem"||p.getAttribute("listType")==this.type||h.setAttribute("listType",this.type,p):(h.setAttributes({listType:this.type,listIndent:0},p),h.rename(p,"listItem"));this.fire("_executeCleanup",l)})}_getValue(){const n=Mn(this.editor.model.document.selection.getSelectedBlocks());return!!n&&n.is("element","listItem")&&n.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,i=this.editor.model.schema,s=Mn(n.getSelectedBlocks());return!!s&&uP(s,i)}}function lP(c,n,i){const s=n?c[0]:c[c.length-1];if(s.is("element","listItem")){let l=s[n?"previousSibling":"nextSibling"],u=s.getAttribute("listIndent");for(;l&&l.is("element","listItem")&&l.getAttribute("listIndent")>=i;)u>l.getAttribute("listIndent")&&(u=l.getAttribute("listIndent")),l.getAttribute("listIndent")==u&&c[n?"unshift":"push"](l),l=l[n?"previousSibling":"nextSibling"]}}function uP(c,n){return n.checkChild(c.parent,"listItem")&&!n.isObject(c)}class $G extends ye{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(n){return function(i){return PG.includes(i)?"bulleted":OG.includes(i)?"numbered":null}(n)}getSelectedListItems(n){return function(i){let s=[...i.document.selection.getSelectedBlocks()].filter(l=>l.is("element","listItem")).map(l=>{const u=i.change(h=>h.createPositionAt(l,0));return[...WA(u,"backward"),...WA(u,"forward")]}).flat();return s=[...new Set(s)],s}(n)}getSiblingNodes(n,i){return WA(n,i)}}function dP(c){return(n,i,s)=>{const l=s.consumable;if(!l.test(i.item,"insert")||!l.test(i.item,"attribute:listType")||!l.test(i.item,"attribute:listIndent"))return;l.consume(i.item,"insert"),l.consume(i.item,"attribute:listType"),l.consume(i.item,"attribute:listIndent");const u=i.item;eP(u,NG(u,s),s,c)}}const VG=(c,n,i)=>{if(!i.consumable.test(n.item,c.name))return;const s=i.mapper.toViewElement(n.item),l=i.writer;l.breakContainer(l.createPositionBefore(s)),l.breakContainer(l.createPositionAfter(s));const u=s.parent,h=n.attributeNewValue=="numbered"?"ol":"ul";l.rename(h,u)},UG=(c,n,i)=>{i.consumable.consume(n.item,c.name);const s=i.mapper.toViewElement(n.item).parent,l=i.writer;mo(l,s,s.nextSibling),mo(l,s.previousSibling,s)},hP=(c,n,i)=>{if(i.consumable.test(n.item,c.name)&&n.item.name!="listItem"){let s=i.mapper.toViewPosition(n.range.start);const l=i.writer,u=[];for(;(s.parent.name=="ul"||s.parent.name=="ol")&&(s=l.breakContainer(s),s.parent.name=="li");){const h=s,p=l.createPositionAt(s.parent,"end");if(!h.isEqual(p)){const g=l.remove(l.createRange(h,p));u.push(g)}s=l.createPositionAfter(s.parent)}if(u.length>0){for(let h=0;h<u.length;h++){const p=s.nodeBefore;if(s=l.insert(s,u[h]).end,h>0){const g=mo(l,p,p.nextSibling);g&&g.parent==p&&s.offset--}}mo(l,s.nodeBefore,s.nodeAfter)}}},HG=(c,n,i)=>{const s=i.mapper.toViewPosition(n.position),l=s.nodeBefore,u=s.nodeAfter;mo(i.writer,l,u)},WG=(c,n,i)=>{if(i.consumable.consume(n.viewItem,{name:!0})){const s=i.writer,l=s.createElement("listItem"),u=function(g){let w=0,y=g.parent;for(;y;){if(y.is("element","li"))w++;else{const C=y.previousSibling;C&&C.is("element","li")&&w++}y=y.parent}return w}(n.viewItem);s.setAttribute("listIndent",u,l);const h=n.viewItem.parent&&n.viewItem.parent.name=="ol"?"numbered":"bulleted";if(s.setAttribute("listType",h,l),!i.safeInsert(l,n.modelCursor))return;const p=function(g,w,y){const{writer:C,schema:S}=y;let N=C.createPositionAfter(g);for(const P of w)if(P.name=="ul"||P.name=="ol")N=y.convertItem(P,N).modelCursor;else{const j=y.convertItem(P,C.createPositionAt(g,"end")),H=j.modelRange.start.nodeAfter;H&&H.is("element")&&!S.checkChild(g,H.name)&&(g=j.modelCursor.parent.is("element","listItem")?j.modelCursor.parent:YG(j.modelCursor),N=C.createPositionAfter(g))}return N}(l,n.viewItem.getChildren(),i);n.modelRange=s.createRange(n.modelCursor,p),i.updateConversionResult(l,n)}},fP=(c,n,i)=>{if(i.consumable.test(n.viewItem,{name:!0})){const s=Array.from(n.viewItem.getChildren());for(const l of s)!(l.is("element","li")||fh(l))&&l._remove()}},qG=(c,n,i)=>{if(i.consumable.test(n.viewItem,{name:!0})){if(n.viewItem.childCount===0)return;const s=[...n.viewItem.getChildren()];let l=!1;for(const u of s)l&&!fh(u)&&u._remove(),fh(u)&&(l=!0)}};function pP(c){return(n,i)=>{if(i.isPhantom)return;const s=i.modelPosition.nodeBefore;if(s&&s.is("element","listItem")){const l=i.mapper.toViewElement(s),u=l.getAncestors().find(fh),h=c.createPositionAt(l,0).getWalker();for(const p of h){if(p.type=="elementStart"&&p.item.is("element","li")){i.viewPosition=p.previousPosition;break}if(p.type=="elementEnd"&&p.item==u){i.viewPosition=p.nextPosition;break}}}}}const GG=function(c,[n,i]){const s=this;let l,u=n.is("documentFragment")?n.getChild(0):n;if(l=i?s.createSelection(i):s.document.selection,u&&u.is("element","listItem")){const h=l.getFirstPosition();let p=null;if(h.parent.is("element","listItem")?p=h.parent:h.nodeBefore&&h.nodeBefore.is("element","listItem")&&(p=h.nodeBefore),p){const g=p.getAttribute("listIndent");if(g>0)for(;u&&u.is("element","listItem");)u._setAttribute("listIndent",u.getAttribute("listIndent")+g),u=u.nextSibling}}};function YG(c){const n=new Ns({startPosition:c});let i;do i=n.next();while(!i.value.item.is("element","listItem"));return i.value.item}function gP(c,n,i,s,l,u){const h=nP(n.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:c}),p=l.mapper,g=l.writer,w=h?h.getAttribute("listIndent"):null;let y;if(h)if(w==c){const C=p.toViewElement(h).parent;y=g.createPositionAfter(C)}else{const C=u.createPositionAt(h,"end");y=p.toViewPosition(C)}else y=i;y=tP(y);for(const C of[...s.getChildren()])fh(C)&&(y=g.move(g.createRangeOn(C),y).end,mo(g,C,C.nextSibling),mo(g,C.previousSibling,C))}function fh(c){return c.is("element","ol")||c.is("element","ul")}class KG extends ye{static get pluginName(){return"ListEditing"}static get requires(){return[zb,wa,$G]}init(){const n=this.editor;n.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const i=n.data,s=n.editing;var l;n.model.document.registerPostFixer(h=>function(p,g){const w=p.document.differ.getChanges(),y=new Map;let C=!1;for(const j of w)if(j.type=="insert"&&j.name=="listItem")S(j.position);else if(j.type=="insert"&&j.name!="listItem"){if(j.name!="$text"){const H=j.position.nodeAfter;H.hasAttribute("listIndent")&&(g.removeAttribute("listIndent",H),C=!0),H.hasAttribute("listType")&&(g.removeAttribute("listType",H),C=!0),H.hasAttribute("listStyle")&&(g.removeAttribute("listStyle",H),C=!0),H.hasAttribute("listReversed")&&(g.removeAttribute("listReversed",H),C=!0),H.hasAttribute("listStart")&&(g.removeAttribute("listStart",H),C=!0);for(const q of Array.from(p.createRangeIn(H)).filter(te=>te.item.is("element","listItem")))S(q.previousPosition)}S(j.position.getShiftedBy(j.length))}else j.type=="remove"&&j.name=="listItem"?S(j.position):(j.type=="attribute"&&j.attributeKey=="listIndent"||j.type=="attribute"&&j.attributeKey=="listType")&&S(j.range.start);for(const j of y.values())N(j),P(j);return C;function S(j){const H=j.nodeBefore;if(H&&H.is("element","listItem")){let q=H;if(y.has(q))return;for(let te=q.previousSibling;te&&te.is("element","listItem");te=q.previousSibling)if(q=te,y.has(q))return;y.set(H,q)}else{const q=j.nodeAfter;q&&q.is("element","listItem")&&y.set(q,q)}}function N(j){let H=0,q=null;for(;j&&j.is("element","listItem");){const te=j.getAttribute("listIndent");if(te>H){let fe;q===null?(q=te-H,fe=H):(q>te&&(q=te),fe=te-q),g.setAttribute("listIndent",fe,j),C=!0}else q=null,H=j.getAttribute("listIndent")+1;j=j.nextSibling}}function P(j){let H=[],q=null;for(;j&&j.is("element","listItem");){const te=j.getAttribute("listIndent");if(q&&q.getAttribute("listIndent")>te&&(H=H.slice(0,te+1)),te!=0)if(H[te]){const fe=H[te];j.getAttribute("listType")!=fe&&(g.setAttribute("listType",fe,j),C=!0)}else H[te]=j.getAttribute("listType");q=j,j=j.nextSibling}}}(n.model,h)),s.mapper.registerViewToModelLength("li",qA),i.mapper.registerViewToModelLength("li",qA),s.mapper.on("modelToViewPosition",pP(s.view)),s.mapper.on("viewToModelPosition",(l=n.model,(h,p)=>{const g=p.viewPosition,w=g.parent,y=p.mapper;if(w.name=="ul"||w.name=="ol"){if(g.isAtEnd){const C=y.toModelElement(g.nodeBefore),S=y.getModelLength(g.nodeBefore);p.modelPosition=l.createPositionBefore(C).getShiftedBy(S)}else{const C=y.toModelElement(g.nodeAfter);p.modelPosition=l.createPositionBefore(C)}h.stop()}else if(w.name=="li"&&g.nodeBefore&&(g.nodeBefore.name=="ul"||g.nodeBefore.name=="ol")){const C=y.toModelElement(w);let S=1,N=g.nodeBefore;for(;N&&fh(N);)S+=y.getModelLength(N),N=N.previousSibling;p.modelPosition=l.createPositionBefore(C).getShiftedBy(S),h.stop()}})),i.mapper.on("modelToViewPosition",pP(s.view)),n.conversion.for("editingDowncast").add(h=>{h.on("insert",hP,{priority:"high"}),h.on("insert:listItem",dP(n.model)),h.on("attribute:listType:listItem",VG,{priority:"high"}),h.on("attribute:listType:listItem",UG,{priority:"low"}),h.on("attribute:listIndent:listItem",function(p){return(g,w,y)=>{if(!y.consumable.consume(w.item,"attribute:listIndent"))return;const C=y.mapper.toViewElement(w.item),S=y.writer;S.breakContainer(S.createPositionBefore(C)),S.breakContainer(S.createPositionAfter(C));const N=C.parent,P=N.previousSibling,j=S.createRangeOn(N);S.remove(j),P&&P.nextSibling&&mo(S,P,P.nextSibling),gP(w.attributeOldValue+1,w.range.start,j.start,C,y,p),eP(w.item,C,y,p);for(const H of w.item.getChildren())y.consumable.consume(H,"insert")}}(n.model)),h.on("remove:listItem",function(p){return(g,w,y)=>{const C=y.mapper.toViewPosition(w.position).getLastMatchingPosition(q=>!q.item.is("element","li")).nodeAfter,S=y.writer;S.breakContainer(S.createPositionBefore(C)),S.breakContainer(S.createPositionAfter(C));const N=C.parent,P=N.previousSibling,j=S.createRangeOn(N),H=S.remove(j);P&&P.nextSibling&&mo(S,P,P.nextSibling),gP(y.mapper.toModelElement(C).getAttribute("listIndent")+1,w.position,j.start,C,y,p);for(const q of S.createRangeIn(H).getItems())y.mapper.unbindViewElement(q);g.stop()}}(n.model)),h.on("remove",HG,{priority:"low"})}),n.conversion.for("dataDowncast").add(h=>{h.on("insert",hP,{priority:"high"}),h.on("insert:listItem",dP(n.model))}),n.conversion.for("upcast").add(h=>{h.on("element:ul",fP,{priority:"high"}),h.on("element:ol",fP,{priority:"high"}),h.on("element:li",qG,{priority:"high"}),h.on("element:li",WG)}),n.model.on("insertContent",GG,{priority:"high"}),n.commands.add("numberedList",new cP(n,"numbered")),n.commands.add("bulletedList",new cP(n,"bulleted")),n.commands.add("indentList",new aP(n,"forward")),n.commands.add("outdentList",new aP(n,"backward"));const u=s.view.document;this.listenTo(u,"enter",(h,p)=>{const g=this.editor.model.document,w=g.selection.getLastPosition().parent;g.selection.isCollapsed&&w.name=="listItem"&&w.isEmpty&&(this.editor.execute("outdentList"),p.preventDefault(),h.stop())},{context:"li"}),this.listenTo(u,"delete",(h,p)=>{if(p.direction!=="backward")return;const g=this.editor.model.document.selection;if(!g.isCollapsed)return;const w=g.getFirstPosition();if(!w.isAtStart)return;const y=w.parent;y.name==="listItem"&&(y.previousSibling&&y.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),p.preventDefault(),h.stop()))},{context:"li"}),this.listenTo(n.editing.view.document,"tab",(h,p)=>{const g=p.shiftKey?"outdentList":"indentList";this.editor.commands.get(g).isEnabled&&(n.execute(g),p.stopPropagation(),p.preventDefault(),h.stop())},{context:"li"})}afterInit(){const n=this.editor.commands,i=n.get("indent"),s=n.get("outdent");i&&i.registerChildCommand(n.get("indentList")),s&&s.registerChildCommand(n.get("outdentList"))}}function qA(c){let n=1;for(const i of c.getChildren())if(i.name=="ul"||i.name=="ol")for(const s of i.getChildren())n+=qA(s);return n}qd("Ctrl+Enter");var mP=a(1199),QG={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(mP.Z,QG),mP.Z.locals;function kP(c,n){const i=(s,l,u)=>{if(!u.consumable.consume(l.item,s.name))return;const h=l.attributeNewValue,p=u.writer,g=u.mapper.toViewElement(l.item),w=[...g.getChildren()].find(C=>C.getCustomProperty("media-content"));p.remove(w);const y=c.getMediaViewElement(p,h,n);p.insert(p.createPositionAt(g,0),y)};return s=>{s.on("attribute:url:media",i)}}function bP(c,n,i,s){return c.createContainerElement("figure",{class:"media"},[n.getMediaViewElement(c,i,s),c.createSlot()])}function wP(c){const n=c.getSelectedElement();return n&&n.is("element","media")?n:null}function vP(c,n,i,s){c.change(l=>{const u=l.createElement("media",{url:n});c.insertObject(u,i,null,{setSelection:"on",findOptimalPosition:s?"auto":void 0})})}class ZG extends ft{refresh(){const n=this.editor.model,i=n.document.selection,s=wP(i);this.value=s?s.getAttribute("url"):void 0,this.isEnabled=function(l){const u=l.getSelectedElement();return!!u&&u.name==="media"}(i)||function(l,u){let p=KM(l,u).start.parent;return p.isEmpty&&!u.schema.isLimit(p)&&(p=p.parent),u.schema.checkChild(p,"media")}(i,n)}execute(n){const i=this.editor.model,s=i.document.selection,l=wP(s);l?i.change(u=>{u.setAttribute("url",n,l)}):vP(i,n,s,!0)}}class JG{constructor(n,i){const s=i.providers,l=i.extraProviders||[],u=new Set(i.removeProviders),h=s.concat(l).filter(p=>{const g=p.name;return g?!u.has(g):(se("media-embed-no-provider-name",{provider:p}),!1)});this.locale=n,this.providerDefinitions=h}hasMedia(n){return!!this._getMedia(n)}getMediaViewElement(n,i,s){return this._getMedia(i).getViewElement(n,s)}_getMedia(n){if(!n)return new yP(this.locale);n=n.trim();for(const i of this.providerDefinitions){const s=i.html,l=qn(i.url);for(const u of l){const h=this._getUrlMatches(n,u);if(h)return new yP(this.locale,n,h,s)}}return null}_getUrlMatches(n,i){let s=n.match(i);if(s)return s;let l=n.replace(/^https?:\/\//,"");return s=l.match(i),s||(l=l.replace(/^www\./,""),s=l.match(i),s||null)}}class yP{constructor(n,i,s,l){this.url=this._getValidUrl(i),this._locale=n,this._match=s,this._previewRenderer=l}getViewElement(n,i){const s={};let l;if(i.renderForEditingView||i.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(s["data-oembed-url"]=this.url),i.renderForEditingView&&(s.class="ck-media__wrapper");const u=this._getPreviewHtml(i);l=n.createRawElement("div",s,(h,p)=>{p.setContentOf(h,u)})}else this.url&&(s.url=this.url),l=n.createEmptyElement(i.elementName,s);return n.setCustomProperty("media-content",!0,l),l}_getPreviewHtml(n){return this._previewRenderer?this._previewRenderer(this._match):this.url&&n.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const n=new vc,i=this._locale.t;return n.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',n.viewBox="0 0 64 42",new Ni({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[n]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":i("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(n){return n?n.match(/^https?/)?n:"https://"+n:null}}var _P=a(7442),XG={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(_P.Z,XG),_P.Z.locals;class Gb extends ye{constructor(n){super(n),n.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const s=i[1],l=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${s}${l?`?start=${l}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new JG(n.locale,n.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const n=this.editor,i=n.model.schema,s=n.t,l=n.conversion,u=n.config.get("mediaEmbed.previewsInData"),h=n.config.get("mediaEmbed.elementName"),p=this.registry;n.commands.add("mediaEmbed",new ZG(n)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),l.for("dataDowncast").elementToStructure({model:"media",view:(g,{writer:w})=>{const y=g.getAttribute("url");return bP(w,p,y,{elementName:h,renderMediaPreview:!!y&&u})}}),l.for("dataDowncast").add(kP(p,{elementName:h,renderMediaPreview:u})),l.for("editingDowncast").elementToStructure({model:"media",view:(g,{writer:w})=>{const y=g.getAttribute("url");return function(C,S,N){return S.setCustomProperty("media",!0,C),SA(C,S,{label:N})}(bP(w,p,y,{elementName:h,renderForEditingView:!0}),w,s("media widget"))}}),l.for("editingDowncast").add(kP(p,{elementName:h,renderForEditingView:!0})),l.for("upcast").elementToElement({view:g=>["oembed",h].includes(g.name)&&g.getAttribute("url")?{name:!0}:null,model:(g,{writer:w})=>{const y=g.getAttribute("url");return p.hasMedia(y)?w.createElement("media",{url:y}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(g,{writer:w})=>{const y=g.getAttribute("data-oembed-url");return p.hasMedia(y)?w.createElement("media",{url:y}):null}}).add(g=>{g.on("element:figure",(w,y,C)=>{if(!C.consumable.consume(y.viewItem,{name:!0,classes:"media"}))return;const{modelRange:S,modelCursor:N}=C.convertChildren(y.viewItem,y.modelCursor);y.modelRange=S,y.modelCursor=N,Mn(S.getItems())||C.consumable.revert(y.viewItem,{name:!0,classes:"media"})})})}}const eY=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class tY extends ye{constructor(n){super(n),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[l5,wa,m5]}static get pluginName(){return"AutoMediaEmbed"}init(){const n=this.editor,i=n.model.document,s=n.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",()=>{const l=i.selection.getFirstRange(),u=Cr.fromPosition(l.start);u.stickiness="toPrevious";const h=Cr.fromPosition(l.end);h.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(u,h),u.detach(),h.detach()},{priority:"high"})}),n.commands.get("undo").on("execute",()=>{this._timeoutId&&(at.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(n,i){const s=this.editor,l=s.plugins.get(Gb).registry,u=new $o(n,i),h=u.getWalker({ignoreElementEnd:!0});let p="";for(const g of h)g.item.is("$textProxy")&&(p+=g.item.data);if(p=p.trim(),!p.match(eY)||!l.hasMedia(p))return void u.detach();s.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Cr.fromPosition(n),this._timeoutId=at.window.setTimeout(()=>{s.model.change(g=>{this._timeoutId=null,g.remove(u),u.detach();let w=null;this._positionToInsert.root.rootName!=="$graveyard"&&(w=this._positionToInsert),vP(s.model,p,w,!1),this._positionToInsert.detach(),this._positionToInsert=null}),s.plugins.get(wa).requestUndoOnBackspace()},100)):u.detach()}}var AP=a(9292),nY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(AP.Z,nY),AP.Z.locals;class rY extends gt{constructor(n,i){super(i);const s=i.t;this.focusTracker=new hi,this.keystrokes=new lo,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),Fn.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",l=>!!l),this.cancelButtonView=this._createButton(s("Cancel"),Fn.cancel,"ck-button-cancel","cancel"),this._focusables=new Ts,this._focusCycler=new yc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=n,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),m({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element);const n=i=>i.stopPropagation();this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(n){this.urlInputView.fieldView.element.value=n.trim()}isValid(){this.resetFormStatus();for(const n of this._validators){const i=n(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const n=this.locale.t,i=new zp(this.locale,aA),s=i.fieldView;return this._urlInputViewInfoDefault=n("Paste the media URL in the input."),this._urlInputViewInfoTip=n("Tip: Paste the URL into the content to embed faster."),i.label=n("Media URL"),i.infoText=this._urlInputViewInfoDefault,s.on("input",()=>{i.infoText=s.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=s.element.value.trim()}),i}_createButton(n,i,s,l){const u=new tn(this.locale);return u.set({label:n,icon:i,tooltip:!0}),u.extendTemplate({attributes:{class:s}}),l&&u.delegate("execute").to(this,l),u}}class iY extends ye{static get requires(){return[Gb]}static get pluginName(){return"MediaEmbedUI"}init(){const n=this.editor,i=n.commands.get("mediaEmbed");n.ui.componentFactory.add("mediaEmbed",s=>{const l=Ec(s);return this._setUpDropdown(l,i),l})}_setUpDropdown(n,i){const s=this.editor,l=s.t,u=n.buttonView,h=s.plugins.get(Gb).registry;n.once("change:isOpen",()=>{const p=new(k(rY))(function(g,w){return[y=>{if(!y.url.length)return g("The URL must not be empty.")},y=>{if(!w.hasMedia(y.url))return g("This media URL is not supported.")}]}(s.t,h),s.locale);n.panelView.children.add(p),u.on("open",()=>{p.disableCssTransitions(),p.url=i.value||"",p.urlInputView.fieldView.select(),p.enableCssTransitions()},{priority:"low"}),n.on("submit",()=>{p.isValid()&&(s.execute("mediaEmbed",p.url),s.editing.view.focus())}),n.on("change:isOpen",()=>p.resetFormStatus()),n.on("cancel",()=>{s.editing.view.focus()}),p.delegate("submit","cancel").to(n),p.urlInputView.fieldView.bind("value").to(i,"value"),p.urlInputView.bind("isEnabled").to(i,"isEnabled")}),n.bind("isEnabled").to(i),u.set({label:l("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var CP=a(4652),oY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(CP.Z,oY),CP.Z.locals;function sY(c,n){if(!c.childCount)return;const i=new xc(c.document),s=function(h,p){const g=p.createRangeIn(h),w=new je({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),y=[];for(const C of g)if(C.type==="elementStart"&&w.match(C.item)){const S=cY(C.item);y.push({element:C.item,id:S.id,order:S.order,indent:S.indent})}return y}(c,i);if(!s.length)return;let l=null,u=1;s.forEach((h,p)=>{const g=function(P,j){if(!P)return!0;if(P.id!==j.id)return j.indent-P.indent!=1;const H=j.element.previousSibling;if(!H)return!0;return q=H,!(q.is("element","ol")||q.is("element","ul"));var q}(s[p-1],h),w=g?null:s[p-1],y=(S=h,(C=w)?S.indent-C.indent:S.indent-1);var C,S;if(g&&(l=null,u=1),!l||y!==0){const P=function(j,H){const q=new RegExp(`@list l${j.id}:level${j.indent}\\s*({[^}]*)`,"gi"),te=/mso-level-number-format:([^;]{0,100});/gi,fe=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,Te=q.exec(H);let Je="decimal",Qt="ol",wt=null;if(Te&&Te[1]){const sr=te.exec(Te[1]);if(sr&&sr[1]&&(Je=sr[1].trim(),Qt=Je!=="bullet"&&Je!=="image"?"ol":"ul"),Je==="bullet"){const Kn=function(gh){const Ls=function(ya){if(ya.getChild(0).is("$text"))return null;for(const _a of ya.getChildren()){if(!_a.is("element","span"))continue;const cu=_a.getChild(0);if(cu)return cu.is("$text")?cu:cu.getChild(0)}return null}(gh);if(!Ls)return null;const ko=Ls._data;return ko==="o"?"circle":ko==="·"?"disc":ko==="§"?"square":null}(j.element);Kn&&(Je=Kn)}else{const Kn=fe.exec(Te[1]);Kn&&Kn[1]&&(wt=parseInt(Kn[1]))}}return{type:Qt,startIndex:wt,style:aY(Je)}}(h,n);if(l){if(h.indent>u){const j=l.getChild(l.childCount-1),H=j.getChild(j.childCount-1);l=xP(P,H,i),u+=1}else if(h.indent<u){const j=u-h.indent;l=function(H,q){const te=H.getAncestors({parentFirst:!0});let fe=null,Te=0;for(const Je of te)if((Je.is("element","ul")||Je.is("element","ol"))&&Te++,Te===q){fe=Je;break}return fe}(l,j),u=h.indent}}else l=xP(P,h.element,i);h.indent<=u&&(l.is("element",P.type)||(l=i.rename(P.type,l)))}const N=function(P,j){return function(H,q){const te=new je({name:"span",styles:{"mso-list":"Ignore"}}),fe=q.createRangeIn(H);for(const Te of fe)Te.type==="elementStart"&&te.match(Te.item)&&q.remove(Te.item)}(P,j),j.removeStyle("text-indent",P),j.rename("li",P)}(h.element,i);i.appendChild(N,l)})}function aY(c){if(c.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(c){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return c;default:return null}}function xP(c,n,i){const s=n.parent,l=i.createElement(c.type),u=s.getChildIndex(n)+1;return i.insertChild(u,l,s),c.style&&i.setStyle("list-style-type",c.style,l),c.startIndex&&c.startIndex>1&&i.setAttribute("start",c.startIndex,l),l}function cY(c){const n={},i=c.getStyle("mso-list");if(i){const s=i.match(/(^|\s{1,100})l(\d+)/i),l=i.match(/\s{0,100}lfo(\d+)/i),u=i.match(/\s{0,100}level(\d+)/i);s&&l&&u&&(n.id=s[2],n.order=l[1],n.indent=parseInt(u[1]))}return n}function lY(c,n){if(!c.childCount)return;const i=new xc(c.document),s=function(u,h){const p=h.createRangeIn(u),g=new je({name:/v:(.+)/}),w=[];for(const y of p){if(y.type!="elementStart")continue;const C=y.item,S=C.previousSibling,N=S&&S.is("element")?S.name:null;g.match(C)&&C.getAttribute("o:gfxdata")&&N!=="v:shapetype"&&w.push(y.item.getAttribute("id"))}return w}(c,i);(function(u,h,p){const g=p.createRangeIn(h),w=new je({name:"img"}),y=[];for(const C of g)if(C.item.is("element")&&w.match(C.item)){const S=C.item,N=S.getAttribute("v:shapes")?S.getAttribute("v:shapes").split(" "):[];N.length&&N.every(P=>u.indexOf(P)>-1)?y.push(S):S.getAttribute("src")||y.push(S)}for(const C of y)p.remove(C)})(s,c,i),function(u,h,p){const g=p.createRangeIn(h),w=[];for(const S of g)if(S.type=="elementStart"&&S.item.is("element","v:shape")){const N=S.item.getAttribute("id");if(u.includes(N))continue;y(S.item.parent.getChildren(),N)||w.push(S.item)}for(const S of w){const N={src:C(S)};S.hasAttribute("alt")&&(N.alt=S.getAttribute("alt"));const P=p.createElement("img",N);p.insertChild(S.index+1,P,S.parent)}function y(S,N){for(const P of S)if(P.is("element")&&(P.name=="img"&&P.getAttribute("v:shapes")==N||y(P.getChildren(),N)))return!0;return!1}function C(S){for(const N of S.getChildren())if(N.is("element")&&N.getAttribute("src"))return N.getAttribute("src")}}(s,c,i),function(u,h){const p=h.createRangeIn(u),g=new je({name:/v:(.+)/}),w=[];for(const y of p)y.type=="elementStart"&&g.match(y.item)&&w.push(y.item);for(const y of w)h.remove(y)}(c,i);const l=function(u,h){const p=h.createRangeIn(u),g=new je({name:"img"}),w=[];for(const y of p)y.item.is("element")&&g.match(y.item)&&y.item.getAttribute("src").startsWith("file://")&&w.push(y.item);return w}(c,i);l.length&&function(u,h,p){if(u.length===h.length)for(let g=0;g<u.length;g++){const w=`data:${h[g].type};base64,${uY(h[g].hex)}`;p.setAttribute("src",w,u[g])}}(l,function(u){if(!u)return[];const h=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,p=new RegExp("(?:("+h.source+"))([\\da-fA-F\\s]+)\\}","g"),g=u.match(p),w=[];if(g)for(const y of g){let C=!1;y.includes("\\pngblip")?C="image/png":y.includes("\\jpegblip")&&(C="image/jpeg"),C&&w.push({hex:y.replace(h,"").replace(/[^\da-fA-F]/g,""),type:C})}return w}(n),i)}function uY(c){return btoa(c.match(/\w{2}/g).map(n=>String.fromCharCode(parseInt(n,16))).join(""))}const dY=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,hY=/xmlns:o="urn:schemas-microsoft-com/i;class fY{constructor(n){this.document=n}isActive(n){return dY.test(n)||hY.test(n)}execute(n){const{body:i,stylesString:s}=n._parsedData;sY(i,s),lY(i,n.dataTransfer.getData("text/rtf")),function(l){const u=new xc(l.document);for(const h of l.getChildren()){if(!h.is("element"))continue;if(h.is("element","table")){u.setAttribute("align","left",h);continue}const p=h.getAttribute("align"),g=h.getChild(0);h.name==="div"&&p&&g&&g.is("element","table")&&u.setAttribute("align",p==="center"?"none":p,g)}}(i),n.content=i}}function EP(c,n,i,{blockElements:s,inlineObjectElements:l}){let u=i.createPositionAt(c,n=="forward"?"after":"before");return u=u.getLastMatchingPosition(({item:h})=>h.is("element")&&!s.includes(h.name)&&!l.includes(h.name),{direction:n}),n=="forward"?u.nodeAfter:u.nodeBefore}function SP(c,n){return!!c&&c.is("element")&&n.includes(c.name)}const pY=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class gY{constructor(n){this.document=n}isActive(n){return pY.test(n)}execute(n){const i=new xc(this.document),{body:s}=n._parsedData;(function(l,u){for(const h of l.getChildren())if(h.is("element","b")&&h.getStyle("font-weight")==="normal"){const p=l.getChildIndex(h);u.remove(h),u.insertChild(p,h.getChildren(),l)}})(s,i),function(l,u){for(const h of u.createRangeIn(l)){const p=h.item;if(p.is("element","li")){const g=p.getChild(0);g&&g.is("element","p")&&u.unwrapElement(g)}}}(s,i),function(l,u){const h=new mb(u.document.stylesProcessor),p=new wb(h,{renderingMode:"data"}),g=p.blockElements,w=p.inlineObjectElements,y=[];for(const C of u.createRangeIn(l)){const S=C.item;if(S.is("element","br")){const N=EP(S,"forward",u,{blockElements:g,inlineObjectElements:w}),P=EP(S,"backward",u,{blockElements:g,inlineObjectElements:w}),j=SP(N,g);(SP(P,g)||j)&&y.push(S)}}for(const C of y)C.hasClass("Apple-interchange-newline")?u.remove(C):u.replace(C,u.createElement("p"))}(s,i),n.content=s}}const mY=/<google-sheets-html-origin/i;class kY{constructor(n){this.document=n}isActive(n){return mY.test(n)}execute(n){const i=new xc(this.document),{body:s}=n._parsedData;(function(l,u){for(const h of l.getChildren())if(h.is("element","google-sheets-html-origin")){const p=l.getChildIndex(h);u.remove(h),u.insertChild(p,h.getChildren(),l)}})(s,i),function(l,u){for(const h of l.getChildren())h.is("element","table")&&h.hasAttribute("xmlns")&&u.removeAttribute("xmlns",h)}(s,i),function(l,u){for(const h of l.getChildren())h.is("element","table")&&h.getStyle("width")==="0px"&&u.removeStyle("width",h)}(s,i),function(l,u){for(const h of Array.from(l.getChildren()))h.is("element","style")&&u.remove(h)}(s,i),n.content=s}}function TP(c){return c.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(n,i)=>i.length===1?" ":Array(i.length+1).join("  ").substr(0,i.length))}function bY(c,n){const i=new DOMParser,s=function(g){return TP(TP(g)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(g){const w="</body>",y="</html>",C=g.indexOf(w);if(C<0)return g;const S=g.indexOf(y,C+w.length);return g.substring(0,C+w.length)+(S>=0?g.substring(S):"")}(c=c.replace(/<!--\[if gte vml 1]>/g,""))),l=i.parseFromString(s,"text/html");(function(g){g.querySelectorAll("span[style*=spacerun]").forEach(w=>{const y=w,C=y.innerText.length||0;y.innerText=Array(C+1).join("  ").substr(0,C)})})(l);const u=l.body.innerHTML,h=function(g,w){const y=new mb(w),C=new wb(y,{renderingMode:"data"}),S=g.createDocumentFragment(),N=g.body.childNodes;for(;N.length>0;)S.appendChild(N[0]);return C.domToView(S,{skipComments:!0})}(l,n),p=function(g){const w=[],y=[],C=Array.from(g.getElementsByTagName("style"));for(const S of C)S.sheet&&S.sheet.cssRules&&S.sheet.cssRules.length&&(w.push(S.sheet),y.push(S.innerHTML));return{styles:w,stylesString:y.join(" ")}}(l);return{body:h,bodyString:u,styles:p.styles,stylesString:p.stylesString}}function Pn(c,n,i,s,l=1){n!=null&&l!=null&&n>l?s.setAttribute(c,n,i):s.removeAttribute(c,i)}function ou(c,n,i={}){const s=c.createElement("tableCell",i);return c.insertElement("paragraph",s),c.insert(s,n),s}function GA(c,n){const i=n.parent.parent,s=parseInt(i.getAttribute("headingColumns")||"0"),{column:l}=c.getCellLocation(n);return!!s&&l<s}function wY(){return c=>{c.on("element:table",(n,i,s)=>{const l=i.viewItem;if(!s.consumable.test(l,{name:!0}))return;const{rows:u,headingRows:h,headingColumns:p}=function(y){let C,S=0;const N=[],P=[];let j;for(const H of Array.from(y.getChildren())){if(H.name!=="tbody"&&H.name!=="thead"&&H.name!=="tfoot")continue;H.name!=="thead"||j||(j=H);const q=Array.from(H.getChildren()).filter(te=>te.is("element","tr"));for(const te of q)if(j&&H===j||H.name==="tbody"&&Array.from(te.getChildren()).length&&Array.from(te.getChildren()).every(fe=>fe.is("element","th")))S++,N.push(te);else{P.push(te);const fe=vY(te);(!C||fe<C)&&(C=fe)}}return{headingRows:S,headingColumns:C||0,rows:[...N,...P]}}(l),g={};p&&(g.headingColumns=p),h&&(g.headingRows=h);const w=s.writer.createElement("table",g);if(s.safeInsert(w,i.modelCursor)){if(s.consumable.consume(l,{name:!0}),u.forEach(y=>s.convertItem(y,s.writer.createPositionAt(w,"end"))),s.convertChildren(l,s.writer.createPositionAt(w,"end")),w.isEmpty){const y=s.writer.createElement("tableRow");s.writer.insert(y,s.writer.createPositionAt(w,"end")),ou(s.writer,s.writer.createPositionAt(y,"end"))}s.updateConversionResult(w,i)}})}}function DP(c){return n=>{n.on(`element:${c}`,(i,s,{writer:l})=>{if(!s.modelRange)return;const u=s.modelRange.start.nodeAfter,h=l.createPositionAt(u,0);if(s.viewItem.isEmpty)return void l.insertElement("paragraph",h);const p=Array.from(u.getChildren());if(p.every(g=>g.is("element","$marker"))){const g=l.createElement("paragraph");l.insert(g,l.createPositionAt(u,0));for(const w of p)l.move(l.createRangeOn(w),l.createPositionAt(g,"end"))}},{priority:"low"})}}function vY(c){let n=0,i=0;const s=Array.from(c.getChildren()).filter(l=>l.name==="th"||l.name==="td");for(;i<s.length&&s[i].name==="th";){const l=s[i];n+=parseInt(l.getAttribute("colspan")||"1"),i++}return n}class Kt{constructor(n,i={}){this._table=n,this._startRow=i.row!==void 0?i.row:i.startRow||0,this._endRow=i.row!==void 0?i.row:i.endRow,this._startColumn=i.column!==void 0?i.column:i.startColumn||0,this._endColumn=i.column!==void 0?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const n=this._table.getChild(this._rowIndex);if(!n||this._isOverEndRow())return{done:!0,value:void 0};if(!n.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let i=null;const s=this._getSpanned();if(s)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(s.cell,s.row,s.column));else{const l=n.getChild(this._cellIndex);if(!l)return this._advanceToNextRow();const u=parseInt(l.getAttribute("colspan")||"1"),h=parseInt(l.getAttribute("rowspan")||"1");(u>1||h>1)&&this._recordSpans(l,h,u),this._shouldSkipSlot()||(i=this._formatOutValue(l)),this._nextCellAtColumn=this._column+u}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}skipRow(n){this._skipRows.add(n)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(n,i=this._row,s=this._column){return{done:!1,value:new yY(this,n,i,s)}}_shouldSkipSlot(){const n=this._skipRows.has(this._row),i=this._row<this._startRow,s=this._column<this._startColumn,l=this._endColumn!==void 0&&this._column>this._endColumn;return n||i||s||l}_getSpanned(){const n=this._spannedCells.get(this._row);return n&&n.get(this._column)||null}_recordSpans(n,i,s){const l={cell:n,row:this._row,column:this._column};for(let u=this._row;u<this._row+i;u++)for(let h=this._column;h<this._column+s;h++)u==this._row&&h==this._column||this._markSpannedCell(u,h,l)}_markSpannedCell(n,i,s){this._spannedCells.has(n)||this._spannedCells.set(n,new Map),this._spannedCells.get(n).set(i,s)}}class yY{constructor(n,i,s,l){this.cell=i,this.row=n._row,this.column=n._column,this.cellAnchorRow=s,this.cellAnchorColumn=l,this._cellIndex=n._cellIndex,this._rowIndex=n._rowIndex,this._table=n._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function IP(c,n){return(i,{writer:s})=>{const l=i.getAttribute("headingRows")||0,u=s.createContainerElement("table",null,[]),h=s.createContainerElement("figure",{class:"table"},u);l>0&&s.insert(s.createPositionAt(u,"end"),s.createContainerElement("thead",null,s.createSlot(p=>p.is("element","tableRow")&&p.index<l))),l<c.getRows(i)&&s.insert(s.createPositionAt(u,"end"),s.createContainerElement("tbody",null,s.createSlot(p=>p.is("element","tableRow")&&p.index>=l)));for(const{positionOffset:p,filter:g}of n.additionalSlots)s.insert(s.createPositionAt(u,p),s.createSlot(g));return s.insert(s.createPositionAt(u,"after"),s.createSlot(p=>!p.is("element","tableRow")&&!n.additionalSlots.some(({filter:g})=>g(p)))),n.asWidget?function(p,g){return g.setCustomProperty("table",!0,p),SA(p,g,{hasSelectionHandle:!0})}(h,s):h}}function MP(c={}){return(n,{writer:i})=>{const s=n.parent,l=s.parent,u=l.getChildIndex(s),h=new Kt(l,{row:u}),p=l.getAttribute("headingRows")||0,g=l.getAttribute("headingColumns")||0;let w=null;for(const y of h)if(y.cell==n){const C=y.row<p||y.column<g?"th":"td";w=c.asWidget?YM(i.createEditableElement(C),i):i.createContainerElement(C);break}return w}}function NP(c={}){return(n,{writer:i})=>{if(!n.parent.is("element","tableCell")||!PP(n))return null;if(c.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const s=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,s),s}}}function PP(c){return c.parent.childCount==1&&!!c.getAttributeKeys().next().done}class _Y extends ft{refresh(){const n=this.editor.model,i=n.document.selection,s=n.schema;this.isEnabled=function(l,u){const h=l.getFirstPosition().parent,p=h===h.root?h:h.parent;return u.checkChild(p,"table")}(i,s)}execute(n={}){const i=this.editor,s=i.model,l=i.plugins.get("TableUtils"),u=i.config.get("table.defaultHeadings.rows"),h=i.config.get("table.defaultHeadings.columns");n.headingRows===void 0&&u&&(n.headingRows=u),n.headingColumns===void 0&&h&&(n.headingColumns=h),s.change(p=>{const g=l.createTable(p,n);s.insertObject(g,null,null,{findOptimalPosition:"auto"}),p.setSelection(p.createPositionAt(g.getNodeByPath([0,0,0]),0))})}}class OP extends ft{constructor(n,i={}){super(n),this.order=i.order||"below"}refresh(){const n=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=i}execute(){const n=this.editor,i=n.model.document.selection,s=n.plugins.get("TableUtils"),l=this.order==="above",u=s.getSelectionAffectedTableCells(i),h=s.getRowIndexes(u),p=l?h.first:h.last,g=u[0].findAncestor("table");s.insertRows(g,{at:l?p:p+1,copyStructureFromAbove:!l})}}class RP extends ft{constructor(n,i={}){super(n),this.order=i.order||"right"}refresh(){const n=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=i}execute(){const n=this.editor,i=n.model.document.selection,s=n.plugins.get("TableUtils"),l=this.order==="left",u=s.getSelectionAffectedTableCells(i),h=s.getColumnIndexes(u),p=l?h.first:h.last,g=u[0].findAncestor("table");s.insertColumns(g,{columns:1,at:l?p:p+1})}}class LP extends ft{constructor(n,i={}){super(n),this.direction=i.direction||"horizontally"}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length===1}execute(){const n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?n.splitCellHorizontally(i,2):n.splitCellVertically(i,2)}}function BP(c,n,i){const{startRow:s,startColumn:l,endRow:u,endColumn:h}=n,p=i.createElement("table"),g=u-s+1;for(let y=0;y<g;y++)i.insertElement("tableRow",p,"end");const w=[...new Kt(c,{startRow:s,endRow:u,startColumn:l,endColumn:h,includeAllSlots:!0})];for(const{row:y,column:C,cell:S,isAnchor:N,cellAnchorRow:P,cellAnchorColumn:j}of w){const H=y-s,q=p.getChild(H);if(N){const te=i.cloneElement(S);i.append(te,q),VP(te,y,C,u,h,i)}else(P<s||j<l)&&ou(i,i.createPositionAt(q,"end"))}return function(y,C,S,N,P){const j=parseInt(C.getAttribute("headingRows")||"0");j>0&&Pn("headingRows",j-S,y,P,0);const H=parseInt(C.getAttribute("headingColumns")||"0");H>0&&Pn("headingColumns",H-N,y,P,0)}(p,c,s,l,i),p}function jP(c,n,i=0){const s=[],l=new Kt(c,{startRow:i,endRow:n-1});for(const u of l){const{row:h,cellHeight:p}=u;h<n&&n<=h+p-1&&s.push(u)}return s}function zP(c,n,i){const s=c.parent,l=s.parent,u=s.index,h=n-u,p={},g=parseInt(c.getAttribute("rowspan"))-h;g>1&&(p.rowspan=g);const w=parseInt(c.getAttribute("colspan")||"1");w>1&&(p.colspan=w);const y=u+h,C=[...new Kt(l,{startRow:u,endRow:y,includeAllSlots:!0})];let S,N=null;for(const P of C){const{row:j,column:H,cell:q}=P;q===c&&S===void 0&&(S=H),S!==void 0&&S===H&&j===y&&(N=ou(i,P.getPositionBefore(),p))}return Pn("rowspan",h,c,i),N}function FP(c,n){const i=[],s=new Kt(c);for(const l of s){const{column:u,cellWidth:h}=l;u<n&&n<=u+h-1&&i.push(l)}return i}function $P(c,n,i,s){const l=i-n,u={},h=parseInt(c.getAttribute("colspan"))-l;h>1&&(u.colspan=h);const p=parseInt(c.getAttribute("rowspan")||"1");p>1&&(u.rowspan=p);const g=ou(s,s.createPositionAfter(c),u);return Pn("colspan",l,c,s),g}function VP(c,n,i,s,l,u){const h=parseInt(c.getAttribute("colspan")||"1"),p=parseInt(c.getAttribute("rowspan")||"1");i+h-1>l&&Pn("colspan",l-i+1,c,u,1),n+p-1>s&&Pn("rowspan",s-n+1,c,u,1)}function YA(c,n){const i=n.getColumns(c),s=new Array(i).fill(0);for(const{column:u}of new Kt(c))s[u]++;const l=s.reduce((u,h,p)=>h?u:[...u,p],[]);if(l.length>0){const u=l[l.length-1];return n.removeColumns(c,{at:u}),!0}return!1}function KA(c,n){const i=[],s=n.getRows(c);for(let l=0;l<s;l++)c.getChild(l).isEmpty&&i.push(l);if(i.length>0){const l=i[i.length-1];return n.removeRows(c,{at:l}),!0}return!1}function QA(c,n){YA(c,n)||KA(c,n)}function UP(c,n){const i=Array.from(new Kt(c,{startColumn:n.firstColumn,endColumn:n.lastColumn,row:n.lastRow}));if(i.every(({cellHeight:l})=>l===1))return n.lastRow;const s=i[0].cellHeight-1;return n.lastRow+s}function HP(c,n){const i=Array.from(new Kt(c,{startRow:n.firstRow,endRow:n.lastRow,column:n.lastColumn}));if(i.every(({cellWidth:l})=>l===1))return n.lastColumn;const s=i[0].cellWidth-1;return n.lastColumn+s}class Yb extends ft{constructor(n,i){super(n),this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const n=this._getMergeableCell();this.value=n,this.isEnabled=!!n}execute(){const n=this.editor.model,i=n.document,s=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],l=this.value,u=this.direction;n.change(h=>{const p=u=="right"||u=="down",g=p?s:l,w=p?l:s,y=w.parent;(function(j,H,q){WP(j)||(WP(H)&&q.remove(q.createRangeIn(H)),q.move(q.createRangeIn(j),q.createPositionAt(H,"end"))),q.remove(j)})(w,g,h);const C=this.isHorizontal?"colspan":"rowspan",S=parseInt(s.getAttribute(C)||"1"),N=parseInt(l.getAttribute(C)||"1");h.setAttribute(C,S+N,g),h.setSelection(h.createRangeIn(g));const P=this.editor.plugins.get("TableUtils");QA(y.findAncestor("table"),P)})}_getMergeableCell(){const n=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),s=i.getTableCellsContainingSelection(n.selection)[0];if(!s)return;const l=this.isHorizontal?function(p,g,w){const y=p.parent,C=y.parent,S=g=="right"?p.nextSibling:p.previousSibling,N=(C.getAttribute("headingColumns")||0)>0;if(!S)return;const P=g=="right"?p:S,j=g=="right"?S:p,{column:H}=w.getCellLocation(P),{column:q}=w.getCellLocation(j),te=parseInt(P.getAttribute("colspan")||"1"),fe=GA(w,P),Te=GA(w,j);if(!(N&&fe!=Te))return H+te===q?S:void 0}(s,this.direction,i):function(p,g,w){const y=p.parent,C=y.parent,S=C.getChildIndex(y);if(g=="down"&&S===w.getRows(C)-1||g=="up"&&S===0)return null;const N=parseInt(p.getAttribute("rowspan")||"1"),P=C.getAttribute("headingRows")||0,j=g=="down"&&S+N===P,H=g=="up"&&S===P;if(P&&(j||H))return null;const q=parseInt(p.getAttribute("rowspan")||"1"),te=g=="down"?S+q:S,fe=[...new Kt(C,{endRow:te})],Te=fe.find(wt=>wt.cell===p),Je=Te.column,Qt=fe.find(({row:wt,cellHeight:sr,column:Kn})=>Kn===Je&&(g=="down"?wt===te:te===wt+sr));return Qt&&Qt.cell?Qt.cell:null}(s,this.direction,i);if(!l)return;const u=this.isHorizontal?"rowspan":"colspan",h=parseInt(s.getAttribute(u)||"1");return parseInt(l.getAttribute(u)||"1")===h?l:void 0}}function WP(c){const n=c.getChild(0);return c.childCount==1&&n.is("element","paragraph")&&n.isEmpty}class AY extends ft{refresh(){const n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(this.editor.model.document.selection),s=i[0];if(s){const l=s.findAncestor("table"),u=n.getRows(l)-1,h=n.getRowIndexes(i),p=h.first===0&&h.last===u;this.isEnabled=!p}else this.isEnabled=!1}execute(){const n=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(n.document.selection),l=i.getRowIndexes(s),u=s[0],h=u.findAncestor("table"),p=i.getCellLocation(u).column;n.change(g=>{const w=l.last-l.first+1;i.removeRows(h,{at:l.first,rows:w});const y=function(C,S,N,P){const j=C.getChild(Math.min(S,P-1));let H=j.getChild(0),q=0;for(const te of j.getChildren()){if(q>N)return H;H=te,q+=parseInt(te.getAttribute("colspan")||"1")}return H}(h,l.first,p,i.getRows(h));g.setSelection(g.createPositionAt(y,0))})}}class CY extends ft{refresh(){const n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(this.editor.model.document.selection),s=i[0];if(s){const l=s.findAncestor("table"),u=n.getColumns(l),{first:h,last:p}=n.getColumnIndexes(i);this.isEnabled=p-h<u-1}else this.isEnabled=!1}execute(){const n=this.editor.plugins.get("TableUtils"),[i,s]=function(g,w){const y=w.getSelectionAffectedTableCells(g),C=y[0],S=y.pop(),N=[C,S];return C.isBefore(S)?N:N.reverse()}(this.editor.model.document.selection,n),l=i.parent.parent,u=[...new Kt(l)],h={first:u.find(g=>g.cell===i).column,last:u.find(g=>g.cell===s).column},p=function(g,w,y,C){return parseInt(y.getAttribute("colspan")||"1")>1?y:w.previousSibling||y.nextSibling?y.nextSibling||w.previousSibling:C.first?g.reverse().find(({column:N})=>N<C.first).cell:g.reverse().find(({column:N})=>N>C.last).cell}(u,i,s,h);this.editor.model.change(g=>{const w=h.last-h.first+1;n.removeColumns(l,{at:h.first,columns:w}),g.setSelection(g.createPositionAt(p,0))})}}class xY extends ft{refresh(){const n=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=n.getSelectionAffectedTableCells(i.document.selection),l=s.length>0;this.isEnabled=l,this.value=l&&s.every(u=>this._isInHeading(u,u.parent.parent))}execute(n={}){if(n.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,l=i.getSelectionAffectedTableCells(s.document.selection),u=l[0].findAncestor("table"),{first:h,last:p}=i.getRowIndexes(l),g=this.value?h:p+1,w=u.getAttribute("headingRows")||0;s.change(y=>{if(g){const C=jP(u,g,g>w?w:0);for(const{cell:S}of C)zP(S,g,y)}Pn("headingRows",g,u,y,0)})}_isInHeading(n,i){const s=parseInt(i.getAttribute("headingRows")||"0");return!!s&&n.parent.index<s}}class EY extends ft{refresh(){const n=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(n.document.selection),l=s.length>0;this.isEnabled=l,this.value=l&&s.every(u=>GA(i,u))}execute(n={}){if(n.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,l=i.getSelectionAffectedTableCells(s.document.selection),u=l[0].findAncestor("table"),{first:h,last:p}=i.getColumnIndexes(l),g=this.value?h:p+1;s.change(w=>{if(g){const y=FP(u,g);for(const{cell:C,column:S}of y)$P(C,S,g,w)}Pn("headingColumns",g,u,w,0)})}}class Br extends ye{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(n){const i=n.parent,s=i.parent,l=s.getChildIndex(i),u=new Kt(s,{row:l});for(const{cell:h,row:p,column:g}of u)if(h===n)return{row:p,column:g}}createTable(n,i){const s=n.createElement("table"),l=i.rows||2,u=i.columns||2;return ZA(n,s,0,l,u),i.headingRows&&Pn("headingRows",Math.min(i.headingRows,l),s,n,0),i.headingColumns&&Pn("headingColumns",Math.min(i.headingColumns,u),s,n,0),s}insertRows(n,i={}){const s=this.editor.model,l=i.at||0,u=i.rows||1,h=i.copyStructureFromAbove!==void 0,p=i.copyStructureFromAbove?l-1:l,g=this.getRows(n),w=this.getColumns(n);if(l>g)throw new V("tableutils-insertrows-insert-out-of-range",this,{options:i});s.change(y=>{const C=n.getAttribute("headingRows")||0;if(C>l&&Pn("headingRows",C+u,n,y,0),!h&&(l===0||l===g))return void ZA(y,n,l,u,w);const S=h?Math.max(l,p):l,N=new Kt(n,{endRow:S}),P=new Array(w).fill(1);for(const{row:j,column:H,cellHeight:q,cellWidth:te,cell:fe}of N){const Te=j+q-1,Je=j<=p&&p<=Te;j<l&&l<=Te?(y.setAttribute("rowspan",q+u,fe),P[H]=-te):h&&Je&&(P[H]=te)}for(let j=0;j<u;j++){const H=y.createElement("tableRow");y.insert(H,n,l);for(let q=0;q<P.length;q++){const te=P[q],fe=y.createPositionAt(H,"end");te>0&&ou(y,fe,te>1?{colspan:te}:void 0),q+=Math.abs(te)-1}}})}insertColumns(n,i={}){const s=this.editor.model,l=i.at||0,u=i.columns||1;s.change(h=>{const p=n.getAttribute("headingColumns");l<p&&h.setAttribute("headingColumns",p+u,n);const g=this.getColumns(n);if(l===0||g===l){for(const y of n.getChildren())y.is("element","tableRow")&&ph(u,h,h.createPositionAt(y,l?"end":0));return}const w=new Kt(n,{column:l,includeAllSlots:!0});for(const y of w){const{row:C,cell:S,cellAnchorColumn:N,cellAnchorRow:P,cellWidth:j,cellHeight:H}=y;if(N<l){h.setAttribute("colspan",j+u,S);const q=P+H-1;for(let te=C;te<=q;te++)w.skipRow(te)}else ph(u,h,y.getPositionBefore())}})}removeRows(n,i){const s=this.editor.model,l=i.rows||1,u=this.getRows(n),h=i.at,p=h+l-1;if(p>u-1)throw new V("tableutils-removerows-row-index-out-of-range",this,{table:n,options:i});s.change(g=>{const w={first:h,last:p},{cellsToMove:y,cellsToTrim:C}=function(S,{first:N,last:P}){const j=new Map,H=[];for(const{row:q,column:te,cellHeight:fe,cell:Te}of new Kt(S,{endRow:P})){const Je=q+fe-1;if(q>=N&&q<=P&&Je>P){const Qt=fe-(P-q+1);j.set(te,{cell:Te,rowspan:Qt})}if(q<N&&Je>=N){let Qt;Qt=Je>=P?P-N+1:Je-N+1,H.push({cell:Te,rowspan:fe-Qt})}}return{cellsToMove:j,cellsToTrim:H}}(n,w);y.size&&function(S,N,P,j){const H=new Kt(S,{includeAllSlots:!0,row:N}),q=[...H],te=S.getChild(N);let fe;for(const{column:Te,cell:Je,isAnchor:Qt}of q)if(P.has(Te)){const{cell:wt,rowspan:sr}=P.get(Te),Kn=fe?j.createPositionAfter(fe):j.createPositionAt(te,0);j.move(j.createRangeOn(wt),Kn),Pn("rowspan",sr,wt,j),fe=wt}else Qt&&(fe=Je)}(n,p+1,y,g);for(let S=p;S>=h;S--)g.remove(n.getChild(S));for(const{rowspan:S,cell:N}of C)Pn("rowspan",S,N,g);(function(S,{first:N,last:P},j){const H=S.getAttribute("headingRows")||0;N<H&&Pn("headingRows",P<H?H-(P-N+1):N,S,j,0)})(n,w,g),YA(n,this)||KA(n,this)})}removeColumns(n,i){const s=this.editor.model,l=i.at,u=i.columns||1,h=i.at+u-1;s.change(p=>{(function(g,w,y){const C=g.getAttribute("headingColumns")||0;if(C&&w.first<C){const S=Math.min(C-1,w.last)-w.first+1;y.setAttribute("headingColumns",C-S,g)}})(n,{first:l,last:h},p);for(let g=h;g>=l;g--)for(const{cell:w,column:y,cellWidth:C}of[...new Kt(n)])y<=g&&C>1&&y+C>g?Pn("colspan",C-1,w,p):y===g&&p.remove(w);KA(n,this)||YA(n,this)})}splitCellVertically(n,i=2){const s=this.editor.model,l=n.parent.parent,u=parseInt(n.getAttribute("rowspan")||"1"),h=parseInt(n.getAttribute("colspan")||"1");s.change(p=>{if(h>1){const{newCellsSpan:g,updatedSpan:w}=qP(h,i);Pn("colspan",w,n,p);const y={};g>1&&(y.colspan=g),u>1&&(y.rowspan=u),ph(h>i?i-1:h-1,p,p.createPositionAfter(n),y)}if(h<i){const g=i-h,w=[...new Kt(l)],{column:y}=w.find(({cell:P})=>P===n),C=w.filter(({cell:P,cellWidth:j,column:H})=>P!==n&&H===y||H<y&&H+j>y);for(const{cell:P,cellWidth:j}of C)p.setAttribute("colspan",j+g,P);const S={};u>1&&(S.rowspan=u),ph(g,p,p.createPositionAfter(n),S);const N=l.getAttribute("headingColumns")||0;N>y&&Pn("headingColumns",N+g,l,p)}})}splitCellHorizontally(n,i=2){const s=this.editor.model,l=n.parent,u=l.parent,h=u.getChildIndex(l),p=parseInt(n.getAttribute("rowspan")||"1"),g=parseInt(n.getAttribute("colspan")||"1");s.change(w=>{if(p>1){const y=[...new Kt(u,{startRow:h,endRow:h+p-1,includeAllSlots:!0})],{newCellsSpan:C,updatedSpan:S}=qP(p,i);Pn("rowspan",S,n,w);const{column:N}=y.find(({cell:j})=>j===n),P={};C>1&&(P.rowspan=C),g>1&&(P.colspan=g);for(const j of y){const{column:H,row:q}=j;q>=h+S&&H===N&&(q+h+S)%C==0&&ph(1,w,j.getPositionBefore(),P)}}if(p<i){const y=i-p,C=[...new Kt(u,{startRow:0,endRow:h})];for(const{cell:P,cellHeight:j,row:H}of C)if(P!==n&&H+j>h){const q=j+y;w.setAttribute("rowspan",q,P)}const S={};g>1&&(S.colspan=g),ZA(w,u,h+1,y,1,S);const N=u.getAttribute("headingRows")||0;N>h&&Pn("headingRows",N+y,u,w)}})}getColumns(n){return[...n.getChild(0).getChildren()].reduce((i,s)=>i+parseInt(s.getAttribute("colspan")||"1"),0)}getRows(n){return Array.from(n.getChildren()).reduce((i,s)=>s.is("element","tableRow")?i+1:i,0)}createTableWalker(n,i={}){return new Kt(n,i)}getSelectedTableCells(n){const i=[];for(const s of this.sortRanges(n.getRanges())){const l=s.getContainedElement();l&&l.is("element","tableCell")&&i.push(l)}return i}getTableCellsContainingSelection(n){const i=[];for(const s of n.getRanges()){const l=s.start.findAncestor("tableCell");l&&i.push(l)}return i}getSelectionAffectedTableCells(n){const i=this.getSelectedTableCells(n);return i.length?i:this.getTableCellsContainingSelection(n)}getRowIndexes(n){const i=n.map(s=>s.parent.index);return this._getFirstLastIndexesObject(i)}getColumnIndexes(n){const i=n[0].findAncestor("table"),s=[...new Kt(i)].filter(l=>n.includes(l.cell)).map(l=>l.column);return this._getFirstLastIndexesObject(s)}isSelectionRectangular(n){if(n.length<2||!this._areCellInTheSameTableSection(n))return!1;const i=new Set,s=new Set;let l=0;for(const h of n){const{row:p,column:g}=this.getCellLocation(h),w=parseInt(h.getAttribute("rowspan"))||1,y=parseInt(h.getAttribute("colspan"))||1;i.add(p),s.add(g),w>1&&i.add(p+w-1),y>1&&s.add(g+y-1),l+=w*y}return function(h,p){const g=Array.from(h.values()),w=Array.from(p.values()),y=Math.max(...g),C=Math.min(...g),S=Math.max(...w),N=Math.min(...w);return(y-C+1)*(S-N+1)}(i,s)==l}sortRanges(n){return Array.from(n).sort(SY)}_getFirstLastIndexesObject(n){const i=n.sort((s,l)=>s-l);return{first:i[0],last:i[i.length-1]}}_areCellInTheSameTableSection(n){const i=n[0].findAncestor("table"),s=this.getRowIndexes(n),l=parseInt(i.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(s,l))return!1;const u=this.getColumnIndexes(n),h=parseInt(i.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(u,h)}_areIndexesInSameSection({first:n,last:i},s){return n<s==i<s}}function ZA(c,n,i,s,l,u={}){for(let h=0;h<s;h++){const p=c.createElement("tableRow");c.insert(p,n,i),ph(l,c,c.createPositionAt(p,"end"),u)}}function ph(c,n,i,s={}){for(let l=0;l<c;l++)ou(n,i,s)}function qP(c,n){if(c<n)return{newCellsSpan:1,updatedSpan:1};const i=Math.floor(c/n);return{newCellsSpan:i,updatedSpan:c-i*n+i}}function SY(c,n){const i=c.start,s=n.start;return i.isBefore(s)?-1:1}class TY extends ft{refresh(){const n=this.editor.plugins.get(Br),i=n.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=n.isSelectionRectangular(i)}execute(){const n=this.editor.model,i=this.editor.plugins.get(Br);n.change(s=>{const l=i.getSelectedTableCells(n.document.selection),u=l.shift(),{mergeWidth:h,mergeHeight:p}=function(g,w,y){let C=0,S=0;for(const q of w){const{row:te,column:fe}=y.getCellLocation(q);C=YP(q,fe,C,"colspan"),S=YP(q,te,S,"rowspan")}const{row:N,column:P}=y.getCellLocation(g),j=C-P,H=S-N;return{mergeWidth:j,mergeHeight:H}}(u,l,i);Pn("colspan",h,u,s),Pn("rowspan",p,u,s);for(const g of l)DY(g,u,s);QA(u.findAncestor("table"),i),s.setSelection(u,"in")})}}function DY(c,n,i){GP(c)||(GP(n)&&i.remove(i.createRangeIn(n)),i.move(i.createRangeIn(c),i.createPositionAt(n,"end"))),i.remove(c)}function GP(c){const n=c.getChild(0);return c.childCount==1&&n.is("element","paragraph")&&n.isEmpty}function YP(c,n,i,s){const l=parseInt(c.getAttribute(s)||"1");return Math.max(i,n+l)}class IY extends ft{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(n.document.selection),l=i.getRowIndexes(s),u=s[0].findAncestor("table"),h=[];for(let p=l.first;p<=l.last;p++)for(const g of u.getChild(p).getChildren())h.push(n.createRangeOn(g));n.change(p=>{p.setSelection(h)})}}class MY extends ft{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=n.getSelectionAffectedTableCells(i.document.selection),l=s[0],u=s.pop(),h=l.findAncestor("table"),p=n.getCellLocation(l),g=n.getCellLocation(u),w=Math.min(p.column,g.column),y=Math.max(p.column,g.column),C=[];for(const S of new Kt(h,{startColumn:w,endColumn:y}))C.push(i.createRangeOn(S.cell));i.change(S=>{S.setSelection(C)})}}function NY(c){c.document.registerPostFixer(n=>function(i,s){const l=s.document.differ.getChanges();let u=!1;const h=new Set;for(const p of l){let g=null;p.type=="insert"&&p.name=="table"&&(g=p.position.nodeAfter),p.type!="insert"&&p.type!="remove"||p.name!="tableRow"&&p.name!="tableCell"||(g=p.position.findAncestor("table")),RY(p)&&(g=p.range.start.findAncestor("table")),g&&!h.has(g)&&(u=PY(g,i)||u,u=OY(g,i)||u,h.add(g))}return u}(n,c))}function PY(c,n){let i=!1;const s=function(l){const u=parseInt(l.getAttribute("headingRows")||"0"),h=Array.from(l.getChildren()).reduce((g,w)=>w.is("element","tableRow")?g+1:g,0),p=[];for(const{row:g,cell:w,cellHeight:y}of new Kt(l)){if(y<2)continue;const C=g<u?u:h;if(g+y>C){const S=C-g;p.push({cell:w,rowspan:S})}}return p}(c);if(s.length){i=!0;for(const l of s)Pn("rowspan",l.rowspan,l.cell,n,1)}return i}function OY(c,n){let i=!1;const s=function(p){const g=new Array(p.childCount).fill(0);for(const{rowIndex:w}of new Kt(p,{includeAllSlots:!0}))g[w]++;return g}(c),l=[];for(const[p,g]of s.entries())!g&&c.getChild(p).is("element","tableRow")&&l.push(p);if(l.length){i=!0;for(const p of l.reverse())n.remove(c.getChild(p)),s.splice(p,1)}const u=s.filter((p,g)=>c.getChild(g).is("element","tableRow")),h=u[0];if(!u.every(p=>p===h)){const p=u.reduce((g,w)=>w>g?w:g,0);for(const[g,w]of u.entries()){const y=p-w;if(y){for(let C=0;C<y;C++)ou(n,n.createPositionAt(c.getChild(g),"end"));i=!0}}}return i}function RY(c){if(c.type!=="attribute")return!1;const n=c.attributeKey;return n==="headingRows"||n==="colspan"||n==="rowspan"}function LY(c){c.document.registerPostFixer(n=>function(i,s){const l=s.document.differ.getChanges();let u=!1;for(const h of l)h.type=="insert"&&h.name=="table"&&(u=BY(h.position.nodeAfter,i)||u),h.type=="insert"&&h.name=="tableRow"&&(u=KP(h.position.nodeAfter,i)||u),h.type=="insert"&&h.name=="tableCell"&&(u=JA(h.position.nodeAfter,i)||u),h.type!="remove"&&h.type!="insert"||!jY(h)||(u=JA(h.position.parent,i)||u);return u}(n,c))}function BY(c,n){let i=!1;for(const s of c.getChildren())s.is("element","tableRow")&&(i=KP(s,n)||i);return i}function KP(c,n){let i=!1;for(const s of c.getChildren())i=JA(s,n)||i;return i}function JA(c,n){if(c.childCount==0)return n.insertElement("paragraph",c),!0;const i=Array.from(c.getChildren()).filter(s=>s.is("$text"));for(const s of i)n.wrap(n.createRangeOn(s),"paragraph");return!!i.length}function jY(c){return!!c.position.parent.is("element","tableCell")&&(c.type=="insert"&&c.name=="$text"||c.type=="remove")}function zY(c,n){if(!c.is("element","paragraph"))return!1;const i=n.toViewElement(c);return!!i&&PP(c)!==i.is("element","span")}var QP=a(3881),FY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(QP.Z,FY),QP.Z.locals;class $Y extends ye{constructor(n){super(n),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[Br]}init(){const n=this.editor,i=n.model,s=i.schema,l=n.conversion,u=n.plugins.get(Br);s.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),s.register("tableRow",{allowIn:"table",isLimit:!0}),s.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),l.for("upcast").add(h=>{h.on("element:figure",(p,g,w)=>{if(!w.consumable.test(g.viewItem,{name:!0,classes:"table"}))return;const y=function(S){for(const N of S.getChildren())if(N.is("element","table"))return N}(g.viewItem);if(!y||!w.consumable.test(y,{name:!0}))return;w.consumable.consume(g.viewItem,{name:!0,classes:"table"});const C=Mn(w.convertItem(y,g.modelCursor).modelRange.getItems());C?(w.convertChildren(g.viewItem,w.writer.createPositionAt(C,"end")),w.updateConversionResult(C,g)):w.consumable.revert(g.viewItem,{name:!0,classes:"table"})})}),l.for("upcast").add(wY()),l.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:IP(u,{asWidget:!0,additionalSlots:this._additionalSlots})}),l.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:IP(u,{additionalSlots:this._additionalSlots})}),l.for("upcast").elementToElement({model:"tableRow",view:"tr"}),l.for("upcast").add(h=>{h.on("element:tr",(p,g)=>{g.viewItem.isEmpty&&g.modelCursor.index==0&&p.stop()},{priority:"high"})}),l.for("downcast").elementToElement({model:"tableRow",view:(h,{writer:p})=>h.isEmpty?p.createEmptyElement("tr"):p.createContainerElement("tr")}),l.for("upcast").elementToElement({model:"tableCell",view:"td"}),l.for("upcast").elementToElement({model:"tableCell",view:"th"}),l.for("upcast").add(DP("td")),l.for("upcast").add(DP("th")),l.for("editingDowncast").elementToElement({model:"tableCell",view:MP({asWidget:!0})}),l.for("dataDowncast").elementToElement({model:"tableCell",view:MP()}),l.for("editingDowncast").elementToElement({model:"paragraph",view:NP({asWidget:!0}),converterPriority:"high"}),l.for("dataDowncast").elementToElement({model:"paragraph",view:NP(),converterPriority:"high"}),l.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),l.for("upcast").attributeToAttribute({model:{key:"colspan",value:ZP("colspan")},view:"colspan"}),l.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),l.for("upcast").attributeToAttribute({model:{key:"rowspan",value:ZP("rowspan")},view:"rowspan"}),n.config.define("table.defaultHeadings.rows",0),n.config.define("table.defaultHeadings.columns",0),n.commands.add("insertTable",new _Y(n)),n.commands.add("insertTableRowAbove",new OP(n,{order:"above"})),n.commands.add("insertTableRowBelow",new OP(n,{order:"below"})),n.commands.add("insertTableColumnLeft",new RP(n,{order:"left"})),n.commands.add("insertTableColumnRight",new RP(n,{order:"right"})),n.commands.add("removeTableRow",new AY(n)),n.commands.add("removeTableColumn",new CY(n)),n.commands.add("splitTableCellVertically",new LP(n,{direction:"vertically"})),n.commands.add("splitTableCellHorizontally",new LP(n,{direction:"horizontally"})),n.commands.add("mergeTableCells",new TY(n)),n.commands.add("mergeTableCellRight",new Yb(n,{direction:"right"})),n.commands.add("mergeTableCellLeft",new Yb(n,{direction:"left"})),n.commands.add("mergeTableCellDown",new Yb(n,{direction:"down"})),n.commands.add("mergeTableCellUp",new Yb(n,{direction:"up"})),n.commands.add("setTableColumnHeader",new EY(n)),n.commands.add("setTableRowHeader",new xY(n)),n.commands.add("selectTableRow",new IY(n)),n.commands.add("selectTableColumn",new MY(n)),NY(i),LY(i),this.listenTo(i.document,"change:data",()=>{(function(h,p){const g=h.document.differ;for(const w of g.getChanges()){let y,C=!1;if(w.type=="attribute"){const j=w.range.start.nodeAfter;if(!j||!j.is("element","table")||w.attributeKey!="headingRows"&&w.attributeKey!="headingColumns")continue;y=j,C=w.attributeKey=="headingRows"}else w.name!="tableRow"&&w.name!="tableCell"||(y=w.position.findAncestor("table"),C=w.name=="tableRow");if(!y)continue;const S=y.getAttribute("headingRows")||0,N=y.getAttribute("headingColumns")||0,P=new Kt(y);for(const j of P){const H=j.row<S||j.column<N?"th":"td",q=p.mapper.toViewElement(j.cell);q&&q.is("element")&&q.name!=H&&p.reconvertItem(C?j.cell.parent:j.cell)}}})(i,n.editing),function(h,p){const g=h.document.differ,w=new Set;for(const y of g.getChanges()){const C=y.type=="attribute"?y.range.start.parent:y.position.parent;C.is("element","tableCell")&&w.add(C)}for(const y of w.values()){const C=Array.from(y.getChildren()).filter(S=>zY(S,p.mapper));for(const S of C)p.reconvertItem(S)}}(i,n.editing)})}registerAdditionalSlot(n){this._additionalSlots.push(n)}}function ZP(c){return n=>{const i=parseInt(n.getAttribute(c));return Number.isNaN(i)||i<=0?null:i}}var JP=a(1613),VY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(JP.Z,VY),JP.Z.locals;class UY extends gt{constructor(n){super(n);const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new lo,this.focusTracker=new hi,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(s,l)=>`${l} × ${s}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(s=>{s.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(s,l)=>{const{row:u,column:h}=l.target.dataset;this.items.get(10*(parseInt(u,10)-1)+(parseInt(h,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(s,l,u)=>{if(!u)return;const{row:h,column:p}=u.dataset;this.set({rows:parseInt(h),columns:parseInt(p)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:n,focusTracker:i,gridItems:s,numberOfColumns:l,uiLanguageDirection:u}){const h=typeof l=="number"?()=>l:l;function p(y){return C=>{const S=s.find(j=>j.element===i.focusedElement),N=s.getIndex(S),P=y(N,s);s.get(P).focus(),C.stopPropagation(),C.preventDefault()}}function g(y,C){return y===C-1?0:y+1}function w(y,C){return y===0?C-1:y-1}n.set("arrowright",p((y,C)=>u==="rtl"?w(y,C.length):g(y,C.length))),n.set("arrowleft",p((y,C)=>u==="rtl"?g(y,C.length):w(y,C.length))),n.set("arrowup",p((y,C)=>{let S=y-h();return S<0&&(S=y+h()*Math.floor(C.length/h()),S>C.length-1&&(S-=h())),S})),n.set("arrowdown",p((y,C)=>{let S=y+h();return S>C.length-1&&(S=y%h()),S}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const n of this.items)this.focusTracker.add(n.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const n=this.rows,i=this.columns;this.items.map((s,l)=>{const u=Math.floor(l/10)<n&&l%10<i;s.set("isOn",u)})}_createGridButton(n,i,s,l){const u=new tn(n);return u.set({label:l,class:"ck-insert-table-dropdown-grid-box"}),u.extendTemplate({attributes:{"data-row":i,"data-column":s}}),u}_createGridCollection(){const n=[];for(let i=0;i<100;i++){const s=Math.floor(i/10),l=i%10,u=`${s+1} × ${l+1}`;n.push(this._createGridButton(this.locale,s+1,l+1,u))}return this.createCollection(n)}}class HY extends ye{static get pluginName(){return"TableUI"}init(){const n=this.editor,i=this.editor.t,s=n.locale.contentLanguageDirection==="ltr";n.ui.componentFactory.add("insertTable",l=>{const u=n.commands.get("insertTable"),h=Ec(l);let p;return h.bind("isEnabled").to(u),h.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:i("Insert table"),tooltip:!0}),h.on("change:isOpen",()=>{p||(p=new UY(l),h.panelView.children.add(p),p.delegate("execute").to(h),h.on("execute",()=>{n.execute("insertTable",{rows:p.rows,columns:p.columns}),n.editing.view.focus()}))}),h}),n.ui.componentFactory.add("tableColumn",l=>{const u=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:i("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:i("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:i("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:i("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:i("Select column")}}];return this._prepareDropdown(i("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',u,l)}),n.ui.componentFactory.add("tableRow",l=>{const u=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:i("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:i("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:i("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:i("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:i("Select row")}}];return this._prepareDropdown(i("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',u,l)}),n.ui.componentFactory.add("mergeTableCells",l=>{const u=[{type:"button",model:{commandName:"mergeTableCellUp",label:i("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:i("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:i("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:i("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:i("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:i("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(i("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',u,l)})}_prepareDropdown(n,i,s,l){const u=this.editor,h=Ec(l),p=this._fillDropdownWithListOptions(h,s);return h.buttonView.set({label:n,icon:i,tooltip:!0}),h.bind("isEnabled").toMany(p,"isEnabled",(...g)=>g.some(w=>w)),this.listenTo(h,"execute",g=>{u.execute(g.source.commandName),g.source instanceof Yl||u.editing.view.focus()}),h}_prepareMergeSplitButtonDropdown(n,i,s,l){const u=this.editor,h=Ec(l,oA),p="mergeTableCells",g=u.commands.get(p),w=this._fillDropdownWithListOptions(h,s);return h.buttonView.set({label:n,icon:i,tooltip:!0,isEnabled:!0}),h.bind("isEnabled").toMany([g,...w],"isEnabled",(...y)=>y.some(C=>C)),this.listenTo(h.buttonView,"execute",()=>{u.execute(p),u.editing.view.focus()}),this.listenTo(h,"execute",y=>{u.execute(y.source.commandName),u.editing.view.focus()}),h}_fillDropdownWithListOptions(n,i){const s=this.editor,l=[],u=new Mi;for(const h of i)WY(h,s,l,u);return LI(n,u),l}}function WY(c,n,i,s){if(c.type==="button"||c.type==="switchbutton"){const l=c.model=new fM(c.model),{commandName:u,bindIsOn:h}=c.model,p=n.commands.get(u);i.push(p),l.set({commandName:u}),l.bind("isEnabled").to(p),h&&l.bind("isOn").to(p,"value"),l.set({withText:!0})}s.add(c)}var XP=a(6945),qY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(XP.Z,qY),XP.Z.locals;class su extends ye{static get pluginName(){return"TableSelection"}static get requires(){return[Br,Br]}init(){const n=this.editor,i=n.model,s=n.editing.view;this.listenTo(i,"deleteContent",(l,u)=>this._handleDeleteContent(l,u),{priority:"high"}),this.listenTo(s.document,"insertText",(l,u)=>this._handleInsertTextEvent(l,u),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const n=this.editor.plugins.get(Br),i=this.editor.model.document.selection,s=n.getSelectedTableCells(i);return s.length==0?null:s}getSelectionAsFragment(){const n=this.editor.plugins.get(Br),i=this.getSelectedTableCells();return i?this.editor.model.change(s=>{const l=s.createDocumentFragment(),{first:u,last:h}=n.getColumnIndexes(i),{first:p,last:g}=n.getRowIndexes(i),w=i[0].findAncestor("table");let y=g,C=h;if(n.isSelectionRectangular(i)){const N={firstColumn:u,lastColumn:h,firstRow:p,lastRow:g};y=UP(w,N),C=HP(w,N)}const S=BP(w,{startRow:p,startColumn:u,endRow:y,endColumn:C},s);return s.insert(S,l,0),l}):null}setCellSelection(n,i){const s=this._getCellsToSelect(n,i);this.editor.model.change(l=>{l.setSelection(s.cells.map(u=>l.createRangeOn(u)),{backward:s.backward})})}getFocusCell(){const n=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return n&&n.is("element","tableCell")?n:null}getAnchorCell(){const n=Mn(this.editor.model.document.selection.getRanges()).getContainedElement();return n&&n.is("element","tableCell")?n:null}_defineSelectionConverter(){const n=this.editor,i=new Set;n.conversion.for("editingDowncast").add(s=>s.on("selection",(l,u,h)=>{const p=h.writer;(function(y){for(const C of i)y.removeClass("ck-editor__editable_selected",C);i.clear()})(p);const g=this.getSelectedTableCells();if(!g)return;for(const y of g){const C=h.mapper.toViewElement(y);p.addClass("ck-editor__editable_selected",C),i.add(C)}const w=h.mapper.toViewElement(g[g.length-1]);p.setSelection(w,0)},{priority:"lowest"}))}_enablePluginDisabling(){const n=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();if(!i)return;n.model.change(s=>{const l=s.createPositionAt(i[0],0),u=n.model.schema.getNearestSelectionRange(l);s.setSelection(u)})}})}_handleDeleteContent(n,i){const s=this.editor.plugins.get(Br),l=i[0],u=i[1],h=this.editor.model,p=!u||u.direction=="backward",g=s.getSelectedTableCells(l);g.length&&(n.stop(),h.change(w=>{const y=g[p?g.length-1:0];h.change(S=>{for(const N of g)h.deleteContent(S.createSelection(N,"in"))});const C=h.schema.getNearestSelectionRange(w.createPositionAt(y,0));l.is("documentSelection")?w.setSelection(C):l.setTo(C)}))}_handleInsertTextEvent(n,i){const s=this.editor,l=this.getSelectedTableCells();if(!l)return;const u=s.editing.view,h=s.editing.mapper,p=l.map(g=>u.createRangeOn(h.toViewElement(g)));i.selection=u.createSelection(p)}_getCellsToSelect(n,i){const s=this.editor.plugins.get("TableUtils"),l=s.getCellLocation(n),u=s.getCellLocation(i),h=Math.min(l.row,u.row),p=Math.max(l.row,u.row),g=Math.min(l.column,u.column),w=Math.max(l.column,u.column),y=new Array(p-h+1).fill(null).map(()=>[]),C={startRow:h,endRow:p,startColumn:g,endColumn:w};for(const{row:P,cell:j}of new Kt(n.findAncestor("table"),C))y[P-h].push(j);const S=u.row<l.row,N=u.column<l.column;return S&&y.reverse(),N&&y.forEach(P=>P.reverse()),{cells:y.flat(),backward:S||N}}}class GY extends ye{static get pluginName(){return"TableClipboard"}static get requires(){return[su,Br]}init(){const n=this.editor,i=n.editing.view.document;this.listenTo(i,"copy",(s,l)=>this._onCopyCut(s,l)),this.listenTo(i,"cut",(s,l)=>this._onCopyCut(s,l)),this.listenTo(n.model,"insertContent",(s,[l,u])=>this._onInsertContent(s,l,u),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(n,i){const s=this.editor.plugins.get(su);if(!s.getSelectedTableCells()||n.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;i.preventDefault(),n.stop();const l=this.editor.data,u=this.editor.editing.view.document,h=l.toView(s.getSelectionAsFragment());u.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:h,method:n.name})}_onInsertContent(n,i,s){if(s&&!s.is("documentSelection"))return;const l=this.editor.model,u=this.editor.plugins.get(Br);let h=this.getTableIfOnlyTableInContent(i,l);if(!h)return;const p=u.getSelectionAffectedTableCells(l.document.selection);p.length?(n.stop(),l.change(g=>{const w={width:u.getColumns(h),height:u.getRows(h)},y=function(H,q,te,fe){const Te=H[0].findAncestor("table"),Je=fe.getColumnIndexes(H),Qt=fe.getRowIndexes(H),wt={firstColumn:Je.first,lastColumn:Je.last,firstRow:Qt.first,lastRow:Qt.last},sr=H.length===1;return sr&&(wt.lastRow+=q.height-1,wt.lastColumn+=q.width-1,function(Kn,gh,Ls,ko){const ya=ko.getColumns(Kn),_a=ko.getRows(Kn);Ls>ya&&ko.insertColumns(Kn,{at:ya,columns:Ls-ya}),gh>_a&&ko.insertRows(Kn,{at:_a,rows:gh-_a})}(Te,wt.lastRow+1,wt.lastColumn+1,fe)),sr||!fe.isSelectionRectangular(H)?function(Kn,gh,Ls){const{firstRow:ko,lastRow:ya,firstColumn:_a,lastColumn:cu}=gh,kO={first:ko,last:ya},bO={first:_a,last:cu};eC(Kn,_a,kO,Ls),eC(Kn,cu+1,kO,Ls),XA(Kn,ko,bO,Ls),XA(Kn,ya+1,bO,Ls,ko)}(Te,wt,te):(wt.lastRow=UP(Te,wt),wt.lastColumn=HP(Te,wt)),wt}(p,w,g,u),C=y.lastRow-y.firstRow+1,S=y.lastColumn-y.firstColumn+1,N={startRow:0,startColumn:0,endRow:Math.min(C,w.height)-1,endColumn:Math.min(S,w.width)-1};h=BP(h,N,g);const P=p[0].findAncestor("table"),j=this._replaceSelectedCellsWithPasted(h,w,P,y,g);if(this.editor.plugins.get("TableSelection").isEnabled){const H=u.sortRanges(j.map(q=>g.createRangeOn(q)));g.setSelection(H)}else g.setSelection(j[0],0)})):QA(h,u)}_replaceSelectedCellsWithPasted(n,i,s,l,u){const{width:h,height:p}=i,g=function(H,q,te){const fe=new Array(te).fill(null).map(()=>new Array(q).fill(null));for(const{column:Te,row:Je,cell:Qt}of new Kt(H))fe[Je][Te]=Qt;return fe}(n,h,p),w=[...new Kt(s,{startRow:l.firstRow,endRow:l.lastRow,startColumn:l.firstColumn,endColumn:l.lastColumn,includeAllSlots:!0})],y=[];let C;for(const H of w){const{row:q,column:te}=H;te===l.firstColumn&&(C=H.getPositionBefore());const fe=q-l.firstRow,Te=te-l.firstColumn,Je=g[fe%p][Te%h],Qt=Je?u.cloneElement(Je):null,wt=this._replaceTableSlotCell(H,Qt,C,u);wt&&(VP(wt,q,te,l.lastRow,l.lastColumn,u),y.push(wt),C=u.createPositionAfter(wt))}const S=parseInt(s.getAttribute("headingRows")||"0"),N=parseInt(s.getAttribute("headingColumns")||"0"),P=l.firstRow<S&&S<=l.lastRow,j=l.firstColumn<N&&N<=l.lastColumn;if(P){const H=XA(s,S,{first:l.firstColumn,last:l.lastColumn},u,l.firstRow);y.push(...H)}if(j){const H=eC(s,N,{first:l.firstRow,last:l.lastRow},u);y.push(...H)}return y}_replaceTableSlotCell(n,i,s,l){const{cell:u,isAnchor:h}=n;return h&&l.remove(u),i?(l.insert(i,s),i):null}getTableIfOnlyTableInContent(n,i){if(!n.is("documentFragment")&&!n.is("element"))return null;if(n.is("element","table"))return n;if(n.childCount==1&&n.getChild(0).is("element","table"))return n.getChild(0);const s=i.createRangeIn(n);for(const l of s.getItems())if(l.is("element","table")){const u=i.createRange(s.start,i.createPositionBefore(l));if(i.hasContent(u,{ignoreWhitespaces:!0}))return null;const h=i.createRange(i.createPositionAfter(l),s.end);return i.hasContent(h,{ignoreWhitespaces:!0})?null:l}return null}}function XA(c,n,i,s,l=0){if(!(n<1))return jP(c,n,l).filter(({column:u,cellWidth:h})=>eO(u,h,i)).map(({cell:u})=>zP(u,n,s))}function eC(c,n,i,s){if(!(n<1))return FP(c,n).filter(({row:l,cellHeight:u})=>eO(l,u,i)).map(({cell:l,column:u})=>$P(l,u,n,s))}function eO(c,n,i){const s=c+n-1,{first:l,last:u}=i;return c>=l&&c<=u||c<l&&s>=l}class YY extends ye{static get pluginName(){return"TableKeyboard"}static get requires(){return[su,Br]}init(){const n=this.editor.editing.view.document;this.listenTo(n,"arrowKey",(...i)=>this._onArrowKey(...i),{context:"table"}),this.listenTo(n,"tab",(...i)=>this._handleTabOnSelectedTable(...i),{context:"figure"}),this.listenTo(n,"tab",(...i)=>this._handleTab(...i),{context:["th","td"]})}_handleTabOnSelectedTable(n,i){const s=this.editor,l=s.model.document.selection.getSelectedElement();l&&l.is("element","table")&&(i.preventDefault(),i.stopPropagation(),n.stop(),s.model.change(u=>{u.setSelection(u.createRangeIn(l.getChild(0).getChild(0)))}))}_handleTab(n,i){const s=this.editor,l=this.editor.plugins.get(Br),u=this.editor.plugins.get("TableSelection"),h=s.model.document.selection,p=!i.shiftKey;let g=l.getTableCellsContainingSelection(h)[0];if(g||(g=u.getFocusCell()),!g)return;i.preventDefault(),i.stopPropagation(),n.stop();const w=g.parent,y=w.parent,C=y.getChildIndex(w),S=w.getChildIndex(g),N=S===0;if(!p&&N&&C===0)return void s.model.change(q=>{q.setSelection(q.createRangeOn(y))});const P=S===w.childCount-1,j=C===l.getRows(y)-1;if(p&&j&&P&&(s.execute("insertTableRowBelow"),C===l.getRows(y)-1))return void s.model.change(q=>{q.setSelection(q.createRangeOn(y))});let H;if(p&&P)H=y.getChild(C+1).getChild(0);else if(!p&&N){const q=y.getChild(C-1);H=q.getChild(q.childCount-1)}else H=w.getChild(S+(p?1:-1));s.model.change(q=>{q.setSelection(q.createRangeIn(H))})}_onArrowKey(n,i){const s=this.editor,l=Ep(i.keyCode,s.locale.contentLanguageDirection);this._handleArrowKeys(l,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),n.stop())}_handleArrowKeys(n,i){const s=this.editor.plugins.get(Br),l=this.editor.plugins.get("TableSelection"),u=this.editor.model,h=u.document.selection,p=["right","down"].includes(n),g=s.getSelectedTableCells(h);if(g.length){let y;return y=i?l.getFocusCell():p?g[g.length-1]:g[0],this._navigateFromCellInDirection(y,n,i),!0}const w=h.focus.findAncestor("tableCell");if(!w)return!1;if(!h.isCollapsed)if(i){if(h.isBackward==p&&!h.containsEntireContent(w))return!1}else{const y=h.getSelectedElement();if(!y||!u.schema.isObject(y))return!1}return!!this._isSelectionAtCellEdge(h,w,p)&&(this._navigateFromCellInDirection(w,n,i),!0)}_isSelectionAtCellEdge(n,i,s){const l=this.editor.model,u=this.editor.model.schema,h=s?n.getLastPosition():n.getFirstPosition();if(!u.getLimitElement(h).is("element","tableCell"))return l.createPositionAt(i,s?"end":0).isTouching(h);const p=l.createSelection(h);return l.modifySelection(p,{direction:s?"forward":"backward"}),h.isEqual(p.focus)}_navigateFromCellInDirection(n,i,s=!1){const l=this.editor.model,u=n.findAncestor("table"),h=[...new Kt(u,{includeAllSlots:!0})],{row:p,column:g}=h[h.length-1],w=h.find(({cell:j})=>j==n);let{row:y,column:C}=w;switch(i){case"left":C--;break;case"up":y--;break;case"right":C+=w.cellWidth;break;case"down":y+=w.cellHeight}if(y<0||y>p||C<0&&y<=0||C>g&&y>=p)return void l.change(j=>{j.setSelection(j.createRangeOn(u))});C<0?(C=s?0:g,y--):C>g&&(C=s?g:0,y++);const S=h.find(j=>j.row==y&&j.column==C).cell,N=["right","down"].includes(i),P=this.editor.plugins.get("TableSelection");if(s&&P.isEnabled){const j=P.getAnchorCell()||n;P.setCellSelection(j,S)}else{const j=l.createPositionAt(S,N?0:"end");l.change(H=>{H.setSelection(j)})}}}class KY extends _c{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(n){this.fire(n.type,n)}}class QY extends ye{static get pluginName(){return"TableMouse"}static get requires(){return[su,Br]}init(){this.editor.editing.view.addObserver(KY),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const n=this.editor,i=n.plugins.get(Br);let s=!1;const l=n.plugins.get(su);this.listenTo(n.editing.view.document,"mousedown",(u,h)=>{const p=n.model.document.selection;if(!this.isEnabled||!l.isEnabled||!h.domEvent.shiftKey)return;const g=l.getAnchorCell()||i.getTableCellsContainingSelection(p)[0];if(!g)return;const w=this._getModelTableCellFromDomEvent(h);w&&tO(g,w)&&(s=!0,l.setCellSelection(g,w),h.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{s=!1}),this.listenTo(n.editing.view.document,"selectionChange",u=>{s&&u.stop()},{priority:"highest"})}_enableMouseDragSelection(){const n=this.editor;let i,s,l=!1,u=!1;const h=n.plugins.get(su);this.listenTo(n.editing.view.document,"mousedown",(p,g)=>{this.isEnabled&&h.isEnabled&&(g.domEvent.shiftKey||g.domEvent.ctrlKey||g.domEvent.altKey||(i=this._getModelTableCellFromDomEvent(g)))}),this.listenTo(n.editing.view.document,"mousemove",(p,g)=>{if(!g.domEvent.buttons||!i)return;const w=this._getModelTableCellFromDomEvent(g);w&&tO(i,w)&&(s=w,l||s==i||(l=!0)),l&&(u=!0,h.setCellSelection(i,s),g.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{l=!1,u=!1,i=null,s=null}),this.listenTo(n.editing.view.document,"selectionChange",p=>{u&&p.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(n){const i=n.target,s=this.editor.editing.view.createPositionAt(i,0);return this.editor.editing.mapper.toModelPosition(s).parent.findAncestor("tableCell",{includeSelf:!0})}}function tO(c,n){return c.parent.parent==n.parent.parent}var nO=a(6306),ZY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(nO.Z,ZY),nO.Z.locals;function JY(c){const n=c.getSelectedElement();return n&&rO(n)?n:null}function XY(c){const n=c.getFirstPosition();if(!n)return null;let i=n.parent;for(;i;){if(i.is("element")&&rO(i))return i;i=i.parent}return null}function rO(c){return!!c.getCustomProperty("table")&&xn(c)}var iO=a(7368),eK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(iO.Z,eK),iO.Z.locals;var oO=a(9247),tK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(oO.Z,tK),oO.Z.locals;var sO=a(4070),nK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(sO.Z,nK),sO.Z.locals;var aO=a(6237),rK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(aO.Z,rK),aO.Z.locals;var cO=a(5087),iK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(cO.Z,iK),cO.Z.locals;const au=gi.defaultPositions;au.northArrowSouth,au.northArrowSouthWest,au.northArrowSouthEast,au.southArrowNorth,au.southArrowNorthWest,au.southArrowNorthEast,au.viewportStickyNorth;var lO=a(7341),oK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(lO.Z,oK),lO.Z.locals;var uO=a(2128),sK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(uO.Z,sK),uO.Z.locals;var dO=a(4101),aK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oe()(dO.Z,aK),dO.Z.locals;var cK=Object.defineProperty,hO=Object.getOwnPropertySymbols,lK=Object.prototype.hasOwnProperty,uK=Object.prototype.propertyIsEnumerable,fO=(c,n,i)=>n in c?cK(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i,pO=(c,n)=>{for(var i in n||(n={}))lK.call(n,i)&&fO(c,i,n[i]);if(hO)for(var i of hO(n))uK.call(n,i)&&fO(c,i,n[i]);return c};const dK={autoRefresh:!0},gO=36e5;class tC extends ut(){constructor(n,i={}){if(super(),!n)throw new V("token-missing-token-url",this);i.initValue&&this._validateTokenValue(i.initValue),this.set("value",i.initValue),this._refresh=typeof n=="function"?n:()=>{return s=n,new Promise((l,u)=>{const h=new XMLHttpRequest;h.open("GET",s),h.addEventListener("load",()=>{const p=h.status,g=h.response;return p<200||p>299?u(new V("token-cannot-download-new-token",null)):l(g)}),h.addEventListener("error",()=>u(new Error("Network Error"))),h.addEventListener("abort",()=>u(new Error("Abort"))),h.send()});var s},this._options=pO(pO({},dK),i)}init(){return new Promise((n,i)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),n(this)):this.refreshToken().then(n).catch(i)})}refreshToken(){return this._refresh().then(n=>(this._validateTokenValue(n),this.set("value",n),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(n){const i=typeof n=="string",s=!/^".*"$/.test(n),l=i&&n.split(".").length===3;if(!s||!l)throw new V("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const n=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},n)}_getTokenRefreshTimeoutTime(){try{const[,n]=this.value.split("."),{exp:i}=JSON.parse(atob(n));return i?Math.floor((1e3*i-Date.now())/2):gO}catch{return gO}}static create(n,i={}){return new tC(n,i).init()}}const nC=/^data:(\S*?);base64,/;class hK extends we(){constructor(n,i,s){if(super(),!n)throw new V("fileuploader-missing-file",null);if(!i)throw new V("fileuploader-missing-token",null);if(!s)throw new V("fileuploader-missing-api-address",null);this.file=function(l){if(typeof l!="string")return!1;const u=l.match(nC);return!(!u||!u.length)}(n)?function(l,u=512){try{const h=l.match(nC)[1],p=atob(l.replace(nC,"")),g=[];for(let w=0;w<p.length;w+=u){const y=p.slice(w,w+u),C=new Array(y.length);for(let S=0;S<y.length;S++)C[S]=y.charCodeAt(S);g.push(new Uint8Array(C))}return new Blob(g,{type:h})}catch{throw new V("fileuploader-decoding-image-data-error",null)}}(n):n,this._token=i,this._apiAddress=s}onProgress(n){return this.on("progress",(i,s)=>n(s)),this}onError(n){return this.once("error",(i,s)=>n(s)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const n=new XMLHttpRequest;n.open("POST",this._apiAddress),n.setRequestHeader("Authorization",this._token.value),n.responseType="json",this.xhr=n}_attachXHRListeners(){const n=this.xhr,i=s=>()=>this.fire("error",s);n.addEventListener("error",i("Network Error")),n.addEventListener("abort",i("Abort")),n.upload&&n.upload.addEventListener("progress",s=>{s.lengthComputable&&this.fire("progress",{total:s.total,uploaded:s.loaded})}),n.addEventListener("load",()=>{const s=n.status,l=n.response;if(s<200||s>299)return this.fire("error",l.message||l.error)})}_sendRequest(){const n=new FormData,i=this.xhr;return n.append("file",this.file),new Promise((s,l)=>{i.addEventListener("load",()=>{const u=i.status,h=i.response;return u<200||u>299?h.message?l(new V("fileuploader-uploading-data-failed",this,{message:h.message})):l(h.error):s(h)}),i.addEventListener("error",()=>l(new Error("Network Error"))),i.addEventListener("abort",()=>l(new Error("Abort"))),i.send(n)})}}class fK{constructor(n,i){if(!n)throw new V("uploadgateway-missing-token",null);if(!i)throw new V("uploadgateway-missing-api-address",null);this._token=n,this._apiAddress=i}upload(n){return new hK(n,this._token,this._apiAddress)}}class pK extends Kd{static get pluginName(){return"CloudServicesCore"}createToken(n,i){return new tC(n,i)}createUploadGateway(n,i){return new fK(n,i)}}var mO=(c,n,i)=>new Promise((s,l)=>{var u=g=>{try{p(i.next(g))}catch(w){l(w)}},h=g=>{try{p(i.throw(g))}catch(w){l(w)}},p=g=>g.done?s(g.value):Promise.resolve(g.value).then(u,h);p((i=i.apply(c,n)).next())});class rC extends Rb{}rC.builtinPlugins=[class extends ye{static get requires(){return[l5,zb,hW,HH,OH,m5]}static get pluginName(){return"Essentials"}},class extends ye{static get requires(){return[Uo]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const c=this.editor.config.get("ckfinder.uploadUrl");c&&(this.editor.plugins.get(Uo).createUploadAdapter=n=>new EW(n,c,this.editor.t))}},class extends ye{static get requires(){return[wa]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const c=this.editor.commands;c.get("bulletedList")&&Dc(this.editor,this,/^[*-]\s$/,"bulletedList"),c.get("numberedList")&&Dc(this.editor,this,/^1[.|)]\s$/,"numberedList"),c.get("todoList")&&Dc(this.editor,this,/^\[\s?\]\s$/,"todoList"),c.get("checkTodoList")&&Dc(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const c=this.editor.commands;if(c.get("bold")){const n=Vb(this.editor,"bold");uh(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,n),uh(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,n)}if(c.get("italic")){const n=Vb(this.editor,"italic");uh(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,n),uh(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,n)}if(c.get("code")){const n=Vb(this.editor,"code");uh(this.editor,this,/(`)([^`]+)(`)$/g,n)}if(c.get("strikethrough")){const n=Vb(this.editor,"strikethrough");uh(this.editor,this,/(~~)([^~]+)(~~)$/g,n)}}_addHeadingAutoformats(){const c=this.editor.commands.get("heading");c&&c.modelElements.filter(n=>n.match(/^heading[1-6]$/)).forEach(n=>{const i=n[7],s=new RegExp(`^(#{${i}})\\s$`);Dc(this.editor,this,s,()=>{if(!c.isEnabled||c.value===n)return!1;this.editor.execute("heading",{value:n})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Dc(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const c=this.editor,n=c.model.document.selection;c.commands.get("codeBlock")&&Dc(c,this,/^```$/,()=>{if(n.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Dc(this.editor,this,/^---$/,"horizontalLine")}},class extends ye{static get requires(){return[SW,TW]}static get pluginName(){return"Bold"}},class extends ye{static get requires(){return[IW,MW]}static get pluginName(){return"Italic"}},class extends ye{static get requires(){return[PW,RW]}static get pluginName(){return"BlockQuote"}},class extends ye{static get pluginName(){return"CKBox"}static get requires(){return[IA,LW]}},class extends ye{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",GW,WW]}},class extends Kd{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[pK]}init(){return mO(this,null,function*(){const c=this.context.config.get("cloudServices")||{};for(const[i,s]of Object.entries(c))this[i]=s;if(!this.tokenUrl)return void(this.token=null);const n=this.context.plugins.get("CloudServicesCore");this.token=yield n.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(c){return mO(this,null,function*(){if(this._tokens.has(c))return this.getTokenFor(c);const n=this.context.plugins.get("CloudServicesCore"),i=yield n.createToken(c).init();return this._tokens.set(c,i),i})}getTokenFor(c){const n=this._tokens.get(c);if(!n)throw new V("cloudservices-token-not-registered",this);return n}destroy(){super.destroy();for(const c of this._tokens.values())c.destroy()}},class extends ye{static get pluginName(){return"EasyImage"}static get requires(){return[YW,"ImageUpload"]}init(){const c=this.editor;c.plugins.has("ImageBlockEditing")||c.plugins.has("ImageInlineEditing")||se("easy-image-image-feature-missing",c)}},class extends ye{static get requires(){return[XW,tq]}static get pluginName(){return"Heading"}},class extends ye{static get requires(){return[bq,vq]}static get pluginName(){return"Image"}},class extends ye{static get requires(){return[_q,Aq]}static get pluginName(){return"ImageCaption"}},class extends ye{static get requires(){return[CN,Yq]}static get pluginName(){return"ImageStyle"}},class extends ye{static get requires(){return[$b,Ho]}static get pluginName(){return"ImageToolbar"}afterInit(){const c=this.editor,n=c.t,i=c.plugins.get($b),s=c.plugins.get("ImageUtils");var l;i.register("image",{ariaLabel:n("Image toolbar"),items:(l=c.config.get("image.toolbar")||[],l.map(u=>Se(u)?u.name:u)),getRelatedElement:u=>s.getClosestSelectedImageWidget(u)})}},class extends ye{static get pluginName(){return"ImageUpload"}static get requires(){return[Bq,Eq,Iq]}},class extends ye{static get pluginName(){return"Indent"}static get requires(){return[Kq,Qq]}},class extends ye{static get requires(){return[yG,EG,TG]}static get pluginName(){return"Link"}},class extends ye{static get requires(){return[KG,LG]}static get pluginName(){return"List"}},class extends ye{static get requires(){return[Gb,iY,tY,sg]}static get pluginName(){return"MediaEmbed"}},MA,class extends ye{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Os]}init(){const c=this.editor,n=c.plugins.get("ClipboardPipeline"),i=c.editing.view.document,s=[];s.push(new fY(i)),s.push(new gY(i)),s.push(new kY(i)),n.on("inputTransformation",(l,u)=>{if(u._isTransformedWithPasteFromOffice||c.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const h=u.dataTransfer.getData("text/html"),p=s.find(g=>g.isActive(h));p&&(u._parsedData||(u._parsedData=bY(h,i.stylesProcessor)),p.execute(u),u._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends ye{static get requires(){return[PA,Ho]}static get pluginName(){return"PictureEditing"}afterInit(){const c=this.editor;c.plugins.has("ImageBlockEditing")&&c.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),c.plugins.has("ImageInlineEditing")&&c.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const c=this.editor,n=c.conversion,i=c.plugins.get("ImageUtils");n.for("upcast").add(function(s){const l=["srcset","media","type","sizes"],u=(h,p,g)=>{const w=p.viewItem;if(!g.consumable.test(w,{name:!0}))return;const y=new Map;for(const N of w.getChildren())if(N.is("element","source")){const P={};for(const j of l)N.hasAttribute(j)&&g.consumable.test(N,{attributes:j})&&(P[j]=N.getAttribute(j));Object.keys(P).length&&y.set(N,P)}const C=s.findViewImgElement(w);if(!C)return;let S=p.modelCursor.parent;if(!S.is("element","imageBlock")){const N=g.convertItem(C,p.modelCursor);p.modelRange=N.modelRange,p.modelCursor=N.modelCursor,S=Mn(N.modelRange.getItems())}g.consumable.consume(w,{name:!0});for(const[N,P]of y)g.consumable.consume(N,{attributes:Object.keys(P)});y.size&&g.writer.setAttribute("sources",Array.from(y.values()),S),g.convertChildren(w,S)};return h=>{h.on("element:picture",u)}}(i)),n.for("downcast").add(function(s){const l=(u,h,p)=>{if(!p.consumable.consume(h.item,u.name))return;const g=p.writer,w=p.mapper.toViewElement(h.item),y=s.findViewImgElement(w),C=h.attributeNewValue;if(C&&C.length){const S=g.createContainerElement("picture",null,C.map(j=>g.createEmptyElement("source",j))),N=[];let P=y.parent;for(;P&&P.is("attributeElement");){const j=P.parent;g.unwrap(g.createRangeOn(y),P),N.unshift(P),P=j}g.insert(g.createPositionBefore(y),S),g.move(g.createRangeOn(y),g.createPositionAt(S,"end"));for(const j of N)g.wrap(g.createRangeOn(S),j)}else if(y.parent.is("element","picture")){const S=y.parent;g.move(g.createRangeOn(y),g.createPositionBefore(S)),g.remove(S)}};return u=>{u.on("attribute:sources:imageBlock",l),u.on("attribute:sources:imageInline",l)}}(i))}_setupImageUploadEditingIntegration(){const c=this.editor;if(!c.plugins.has("ImageUploadEditing"))return;const n=c.plugins.get("ImageUploadEditing");this.listenTo(n,"uploadComplete",(i,{imageElement:s,data:l})=>{const u=l.sources;u&&c.model.change(h=>{h.setAttributes({sources:u},s)})})}},class extends ye{static get requires(){return[$Y,HY,su,QY,YY,GY,sg]}static get pluginName(){return"Table"}},class extends ye{static get requires(){return[$b]}static get pluginName(){return"TableToolbar"}afterInit(){const c=this.editor,n=c.t,i=c.plugins.get($b),s=c.config.get("table.contentToolbar"),l=c.config.get("table.tableToolbar");s&&i.register("tableContent",{ariaLabel:n("Table toolbar"),items:s,getRelatedElement:XY}),l&&i.register("table",{ariaLabel:n("Table toolbar"),items:l,getRelatedElement:JY})}},class extends ye{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(c){super(c),c.config.define("typing",{transformations:{include:BH}})}init(){const c=this.editor.model.document.selection;c.on("change:range",()=>{this.isEnabled=!c.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const c=this.editor,n=c.model,i=c.plugins.get("Delete"),s=function(u){const h=u.extra||[],p=u.remove||[],g=w=>!p.includes(w);return function(w){const y=new Set;for(const C of w)if(typeof C=="string"&&FM[C])for(const S of FM[C])y.add(S);else y.add(C);return Array.from(y)}(u.include.concat(h).filter(g)).filter(g).map(w=>typeof w=="string"&&zM[w]?zM[w]:w).filter(w=>typeof w=="object").map(w=>({from:jH(w.from),to:zH(w.to)}))}(c.config.get("typing.transformations")),l=new LM(c.model,u=>{for(const h of s)if(h.from.test(u))return{normalizedTransformation:h}});l.on("matched:data",(u,h)=>{if(!h.batch.isTyping)return;const{from:p,to:g}=h.normalizedTransformation,w=p.exec(h.text),y=g(w.slice(1)),C=h.range;let S=w.index;n.enqueueChange(N=>{for(let P=1;P<w.length;P++){const j=w[P],H=y[P-1];if(H==null){S+=j.length;continue}const q=C.start.getShiftedBy(S),te=n.createRange(q,q.getShiftedBy(j.length)),fe=FH(q);n.insertContent(N.createText(H,fe),te),S+=H.length}n.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),l.bind("isEnabled").to(this)}}],rC.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),d=d.default})())})(av,av.exports);var qce=av.exports;const $9=Km(qce),Gce=()=>{const[t,e]=G.useState(!1),[r,o]=G.useState(""),[a,d]=G.useState(!1),[f,k]=G.useState(""),[m,v]=G.useState(""),[A,x]=G.useState([]),_=()=>{e(M=>!M)},T=async()=>{if(r.trim()===""){k("Notes cannot be empty.");return}d(!0);try{const M=await Uoe(Kw(ef,"notes"),{notes:r,uid:m,dateCreated:Wce().format("MMM Do YY")});d(!1),o("")}catch(M){console.error("Error adding document:",M),k("Error adding the note.")}},D=async()=>{try{const M=L2(Kw(ef,"notes"),B2("uid","==",m)),B=await z2(M),O=[];B.forEach(L=>{d(!1),O.push({id:L.id,...L.data()})}),x(O)}catch(M){console.error("Error fetching documents:",M)}};return G.useEffect(()=>{OS(qu,M=>{if(M){const B=M.uid;v(B)}else console.log("Wahala de")})},[m]),G.useEffect(()=>{D()},[m,r]),W.jsxs("section",{className:"text-white mt-10 mb-20 px-3 md:px-0",children:[t&&W.jsx("form",{className:"mb-6 w-full relative",children:W.jsx("input",{type:"search",placeholder:"Search ...",className:"text-secondary w-1/2 text-sm"})}),W.jsxs("div",{className:"bg-sidebar",children:[W.jsxs("div",{className:"bg-sidebar px-4 py-2 flex justify-between items-center",children:[W.jsx($ce,{className:"text-white"}),W.jsx(Vce,{className:"text-white",onClick:_})]}),W.jsxs("div",{children:[f&&W.jsx("p",{style:{color:"red"},className:"text-red-600 text-sm",children:f}),W.jsx("form",{children:W.jsx("div",{children:W.jsx(F9.CKEditor,{editor:$9,data:r,className:"w-full bg-sidebar text-sm",onReady:M=>{console.log("Editor is ready to use!",M)},onChange:(M,B)=>{const O=B.getData();o(O)},onBlur:(M,B)=>{},onFocus:(M,B)=>{}})})})]})]}),W.jsx("div",{className:"flex justify-end py-2",children:W.jsx("button",{type:"submit",onClick:T,className:"px-6 py-2 text-xs text-white bg-sidebar",children:a?"Adding note . . .":"Add note"})}),W.jsxs("div",{className:"mt-16 grid grid-container gap-x-4 gap-y-6 ",children:[A.length==0&&W.jsx("div",{children:W.jsx("p",{children:"You have no notes"})}),A.map(M=>W.jsxs(Xs,{to:`/notes/${M.id}`,className:"relative todo-weekly rounded-lg shadow-md",children:[W.jsx("p",{style:{fontSize:"10px"},className:"text-right px-2",children:M.dateCreated}),W.jsx("div",{className:"pt-2 border-b border-sidebar"}),M.notes.length>=257?W.jsx("div",{style:{wordWrap:"break-word"},className:"p-2 text-xs",dangerouslySetInnerHTML:{__html:M.notes.substring(0,257)+" . . ."}}):W.jsx("div",{style:{wordWrap:"break-word"},className:"p-2 text-xs",dangerouslySetInnerHTML:{__html:M.notes}}),W.jsx("div",{})]},M.id))]})]})};var Yce=function(e){return Kce(e)&&!Qce(e)};function Kce(t){return!!t&&typeof t=="object"}function Qce(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Xce(t)}var Zce=typeof Symbol=="function"&&Symbol.for,Jce=Zce?Symbol.for("react.element"):60103;function Xce(t){return t.$$typeof===Jce}function ele(t){return Array.isArray(t)?[]:{}}function cv(t,e){return e.clone!==!1&&e.isMergeableObject(t)?zm(ele(t),t,e):t}function tle(t,e,r){return t.concat(e).map(function(o){return cv(o,r)})}function nle(t,e,r){var o={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(a){o[a]=cv(t[a],r)}),Object.keys(e).forEach(function(a){!r.isMergeableObject(e[a])||!t[a]?o[a]=cv(e[a],r):o[a]=zm(t[a],e[a],r)}),o}function zm(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||tle,r.isMergeableObject=r.isMergeableObject||Yce;var o=Array.isArray(e),a=Array.isArray(t),d=o===a;return d?o?r.arrayMerge(t,e,r):nle(t,e,r):cv(e,r)}zm.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(o,a){return zm(o,a,r)},{})};var uE=zm,rle=typeof global=="object"&&global&&global.Object===Object&&global;const V9=rle;var ile=typeof self=="object"&&self&&self.Object===Object&&self,ole=V9||ile||Function("return this")();const ra=ole;var sle=ra.Symbol;const ml=sle;var U9=Object.prototype,ale=U9.hasOwnProperty,cle=U9.toString,kg=ml?ml.toStringTag:void 0;function lle(t){var e=ale.call(t,kg),r=t[kg];try{t[kg]=void 0;var o=!0}catch{}var a=cle.call(t);return o&&(e?t[kg]=r:delete t[kg]),a}var ule=Object.prototype,dle=ule.toString;function hle(t){return dle.call(t)}var fle="[object Null]",ple="[object Undefined]",x3=ml?ml.toStringTag:void 0;function sd(t){return t==null?t===void 0?ple:fle:x3&&x3 in Object(t)?lle(t):hle(t)}function H9(t,e){return function(r){return t(e(r))}}var gle=H9(Object.getPrototypeOf,Object);const nT=gle;function ad(t){return t!=null&&typeof t=="object"}var mle="[object Object]",kle=Function.prototype,ble=Object.prototype,W9=kle.toString,wle=ble.hasOwnProperty,vle=W9.call(Object);function E3(t){if(!ad(t)||sd(t)!=mle)return!1;var e=nT(t);if(e===null)return!0;var r=wle.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&W9.call(r)==vle}var S3=Array.isArray,T3=Object.keys,yle=Object.prototype.hasOwnProperty,_le=typeof Element<"u";function dE(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=S3(t),o=S3(e),a,d,f;if(r&&o){if(d=t.length,d!=e.length)return!1;for(a=d;a--!==0;)if(!dE(t[a],e[a]))return!1;return!0}if(r!=o)return!1;var k=t instanceof Date,m=e instanceof Date;if(k!=m)return!1;if(k&&m)return t.getTime()==e.getTime();var v=t instanceof RegExp,A=e instanceof RegExp;if(v!=A)return!1;if(v&&A)return t.toString()==e.toString();var x=T3(t);if(d=x.length,d!==T3(e).length)return!1;for(a=d;a--!==0;)if(!yle.call(e,x[a]))return!1;if(_le&&t instanceof Element&&e instanceof Element)return t===e;for(a=d;a--!==0;)if(f=x[a],!(f==="_owner"&&t.$$typeof)&&!dE(t[f],e[f]))return!1;return!0}return t!==t&&e!==e}var Ale=function(e,r){try{return dE(e,r)}catch(o){if(o.message&&o.message.match(/stack|recursion/i)||o.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",o.name,o.message),!1;throw o}};const gu=Km(Ale);var Cle=!0;function xle(t,e){if(!Cle){if(t)return;var r="Warning: "+e;typeof console<"u"&&console.warn(r);try{throw Error(r)}catch{}}}function Ele(){this.__data__=[],this.size=0}function q9(t,e){return t===e||t!==t&&e!==e}function Dy(t,e){for(var r=t.length;r--;)if(q9(t[r][0],e))return r;return-1}var Sle=Array.prototype,Tle=Sle.splice;function Dle(t){var e=this.__data__,r=Dy(e,t);if(r<0)return!1;var o=e.length-1;return r==o?e.pop():Tle.call(e,r,1),--this.size,!0}function Ile(t){var e=this.__data__,r=Dy(e,t);return r<0?void 0:e[r][1]}function Mle(t){return Dy(this.__data__,t)>-1}function Nle(t,e){var r=this.__data__,o=Dy(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}function Qa(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}Qa.prototype.clear=Ele;Qa.prototype.delete=Dle;Qa.prototype.get=Ile;Qa.prototype.has=Mle;Qa.prototype.set=Nle;function Ple(){this.__data__=new Qa,this.size=0}function Ole(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Rle(t){return this.__data__.get(t)}function Lle(t){return this.__data__.has(t)}function Ek(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ble="[object AsyncFunction]",jle="[object Function]",zle="[object GeneratorFunction]",Fle="[object Proxy]";function G9(t){if(!Ek(t))return!1;var e=sd(t);return e==jle||e==zle||e==Ble||e==Fle}var $le=ra["__core-js_shared__"];const a1=$le;var D3=function(){var t=/[^.]+$/.exec(a1&&a1.keys&&a1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Vle(t){return!!D3&&D3 in t}var Ule=Function.prototype,Hle=Ule.toString;function cd(t){if(t!=null){try{return Hle.call(t)}catch{}try{return t+""}catch{}}return""}var Wle=/[\\^$.*+?()[\]{}|]/g,qle=/^\[object .+?Constructor\]$/,Gle=Function.prototype,Yle=Object.prototype,Kle=Gle.toString,Qle=Yle.hasOwnProperty,Zle=RegExp("^"+Kle.call(Qle).replace(Wle,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jle(t){if(!Ek(t)||Vle(t))return!1;var e=G9(t)?Zle:qle;return e.test(cd(t))}function Xle(t,e){return t==null?void 0:t[e]}function ld(t,e){var r=Xle(t,e);return Jle(r)?r:void 0}var eue=ld(ra,"Map");const Fm=eue;var tue=ld(Object,"create");const $m=tue;function nue(){this.__data__=$m?$m(null):{},this.size=0}function rue(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var iue="__lodash_hash_undefined__",oue=Object.prototype,sue=oue.hasOwnProperty;function aue(t){var e=this.__data__;if($m){var r=e[t];return r===iue?void 0:r}return sue.call(e,t)?e[t]:void 0}var cue=Object.prototype,lue=cue.hasOwnProperty;function uue(t){var e=this.__data__;return $m?e[t]!==void 0:lue.call(e,t)}var due="__lodash_hash_undefined__";function hue(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$m&&e===void 0?due:e,this}function Yu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}Yu.prototype.clear=nue;Yu.prototype.delete=rue;Yu.prototype.get=aue;Yu.prototype.has=uue;Yu.prototype.set=hue;function fue(){this.size=0,this.__data__={hash:new Yu,map:new(Fm||Qa),string:new Yu}}function pue(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Iy(t,e){var r=t.__data__;return pue(e)?r[typeof e=="string"?"string":"hash"]:r.map}function gue(t){var e=Iy(this,t).delete(t);return this.size-=e?1:0,e}function mue(t){return Iy(this,t).get(t)}function kue(t){return Iy(this,t).has(t)}function bue(t,e){var r=Iy(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}function Al(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}Al.prototype.clear=fue;Al.prototype.delete=gue;Al.prototype.get=mue;Al.prototype.has=kue;Al.prototype.set=bue;var wue=200;function vue(t,e){var r=this.__data__;if(r instanceof Qa){var o=r.__data__;if(!Fm||o.length<wue-1)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new Al(o)}return r.set(t,e),this.size=r.size,this}function Wf(t){var e=this.__data__=new Qa(t);this.size=e.size}Wf.prototype.clear=Ple;Wf.prototype.delete=Ole;Wf.prototype.get=Rle;Wf.prototype.has=Lle;Wf.prototype.set=vue;function yue(t,e){for(var r=-1,o=t==null?0:t.length;++r<o&&e(t[r],r,t)!==!1;);return t}var _ue=function(){try{var t=ld(Object,"defineProperty");return t({},"",{}),t}catch{}}();const I3=_ue;function Y9(t,e,r){e=="__proto__"&&I3?I3(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Aue=Object.prototype,Cue=Aue.hasOwnProperty;function K9(t,e,r){var o=t[e];(!(Cue.call(t,e)&&q9(o,r))||r===void 0&&!(e in t))&&Y9(t,e,r)}function My(t,e,r,o){var a=!r;r||(r={});for(var d=-1,f=e.length;++d<f;){var k=e[d],m=o?o(r[k],t[k],k,r,t):void 0;m===void 0&&(m=t[k]),a?Y9(r,k,m):K9(r,k,m)}return r}function xue(t,e){for(var r=-1,o=Array(t);++r<t;)o[r]=e(r);return o}var Eue="[object Arguments]";function M3(t){return ad(t)&&sd(t)==Eue}var Q9=Object.prototype,Sue=Q9.hasOwnProperty,Tue=Q9.propertyIsEnumerable,Due=M3(function(){return arguments}())?M3:function(t){return ad(t)&&Sue.call(t,"callee")&&!Tue.call(t,"callee")};const Iue=Due;var Mue=Array.isArray;const Sk=Mue;function Nue(){return!1}var Z9=typeof Ui=="object"&&Ui&&!Ui.nodeType&&Ui,N3=Z9&&typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,Pue=N3&&N3.exports===Z9,P3=Pue?ra.Buffer:void 0,Oue=P3?P3.isBuffer:void 0,Rue=Oue||Nue;const J9=Rue;var Lue=9007199254740991,Bue=/^(?:0|[1-9]\d*)$/;function jue(t,e){var r=typeof t;return e=e??Lue,!!e&&(r=="number"||r!="symbol"&&Bue.test(t))&&t>-1&&t%1==0&&t<e}var zue=9007199254740991;function X9(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zue}var Fue="[object Arguments]",$ue="[object Array]",Vue="[object Boolean]",Uue="[object Date]",Hue="[object Error]",Wue="[object Function]",que="[object Map]",Gue="[object Number]",Yue="[object Object]",Kue="[object RegExp]",Que="[object Set]",Zue="[object String]",Jue="[object WeakMap]",Xue="[object ArrayBuffer]",ede="[object DataView]",tde="[object Float32Array]",nde="[object Float64Array]",rde="[object Int8Array]",ide="[object Int16Array]",ode="[object Int32Array]",sde="[object Uint8Array]",ade="[object Uint8ClampedArray]",cde="[object Uint16Array]",lde="[object Uint32Array]",fn={};fn[tde]=fn[nde]=fn[rde]=fn[ide]=fn[ode]=fn[sde]=fn[ade]=fn[cde]=fn[lde]=!0;fn[Fue]=fn[$ue]=fn[Xue]=fn[Vue]=fn[ede]=fn[Uue]=fn[Hue]=fn[Wue]=fn[que]=fn[Gue]=fn[Yue]=fn[Kue]=fn[Que]=fn[Zue]=fn[Jue]=!1;function ude(t){return ad(t)&&X9(t.length)&&!!fn[sd(t)]}function rT(t){return function(e){return t(e)}}var e7=typeof Ui=="object"&&Ui&&!Ui.nodeType&&Ui,Zg=e7&&typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,dde=Zg&&Zg.exports===e7,c1=dde&&V9.process,hde=function(){try{var t=Zg&&Zg.require&&Zg.require("util").types;return t||c1&&c1.binding&&c1.binding("util")}catch{}}();const Ef=hde;var O3=Ef&&Ef.isTypedArray,fde=O3?rT(O3):ude;const pde=fde;var gde=Object.prototype,mde=gde.hasOwnProperty;function t7(t,e){var r=Sk(t),o=!r&&Iue(t),a=!r&&!o&&J9(t),d=!r&&!o&&!a&&pde(t),f=r||o||a||d,k=f?xue(t.length,String):[],m=k.length;for(var v in t)(e||mde.call(t,v))&&!(f&&(v=="length"||a&&(v=="offset"||v=="parent")||d&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||jue(v,m)))&&k.push(v);return k}var kde=Object.prototype;function iT(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||kde;return t===r}var bde=H9(Object.keys,Object);const wde=bde;var vde=Object.prototype,yde=vde.hasOwnProperty;function _de(t){if(!iT(t))return wde(t);var e=[];for(var r in Object(t))yde.call(t,r)&&r!="constructor"&&e.push(r);return e}function n7(t){return t!=null&&X9(t.length)&&!G9(t)}function oT(t){return n7(t)?t7(t):_de(t)}function Ade(t,e){return t&&My(e,oT(e),t)}function Cde(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var xde=Object.prototype,Ede=xde.hasOwnProperty;function Sde(t){if(!Ek(t))return Cde(t);var e=iT(t),r=[];for(var o in t)o=="constructor"&&(e||!Ede.call(t,o))||r.push(o);return r}function sT(t){return n7(t)?t7(t,!0):Sde(t)}function Tde(t,e){return t&&My(e,sT(e),t)}var r7=typeof Ui=="object"&&Ui&&!Ui.nodeType&&Ui,R3=r7&&typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,Dde=R3&&R3.exports===r7,L3=Dde?ra.Buffer:void 0,B3=L3?L3.allocUnsafe:void 0;function Ide(t,e){if(e)return t.slice();var r=t.length,o=B3?B3(r):new t.constructor(r);return t.copy(o),o}function i7(t,e){var r=-1,o=t.length;for(e||(e=Array(o));++r<o;)e[r]=t[r];return e}function Mde(t,e){for(var r=-1,o=t==null?0:t.length,a=0,d=[];++r<o;){var f=t[r];e(f,r,t)&&(d[a++]=f)}return d}function o7(){return[]}var Nde=Object.prototype,Pde=Nde.propertyIsEnumerable,j3=Object.getOwnPropertySymbols,Ode=j3?function(t){return t==null?[]:(t=Object(t),Mde(j3(t),function(e){return Pde.call(t,e)}))}:o7;const aT=Ode;function Rde(t,e){return My(t,aT(t),e)}function s7(t,e){for(var r=-1,o=e.length,a=t.length;++r<o;)t[a+r]=e[r];return t}var Lde=Object.getOwnPropertySymbols,Bde=Lde?function(t){for(var e=[];t;)s7(e,aT(t)),t=nT(t);return e}:o7;const a7=Bde;function jde(t,e){return My(t,a7(t),e)}function c7(t,e,r){var o=e(t);return Sk(t)?o:s7(o,r(t))}function zde(t){return c7(t,oT,aT)}function Fde(t){return c7(t,sT,a7)}var $de=ld(ra,"DataView");const hE=$de;var Vde=ld(ra,"Promise");const fE=Vde;var Ude=ld(ra,"Set");const pE=Ude;var Hde=ld(ra,"WeakMap");const gE=Hde;var z3="[object Map]",Wde="[object Object]",F3="[object Promise]",$3="[object Set]",V3="[object WeakMap]",U3="[object DataView]",qde=cd(hE),Gde=cd(Fm),Yde=cd(fE),Kde=cd(pE),Qde=cd(gE),mu=sd;(hE&&mu(new hE(new ArrayBuffer(1)))!=U3||Fm&&mu(new Fm)!=z3||fE&&mu(fE.resolve())!=F3||pE&&mu(new pE)!=$3||gE&&mu(new gE)!=V3)&&(mu=function(t){var e=sd(t),r=e==Wde?t.constructor:void 0,o=r?cd(r):"";if(o)switch(o){case qde:return U3;case Gde:return z3;case Yde:return F3;case Kde:return $3;case Qde:return V3}return e});const cT=mu;var Zde=Object.prototype,Jde=Zde.hasOwnProperty;function Xde(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Jde.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var ehe=ra.Uint8Array;const H3=ehe;function lT(t){var e=new t.constructor(t.byteLength);return new H3(e).set(new H3(t)),e}function the(t,e){var r=e?lT(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var nhe=/\w*$/;function rhe(t){var e=new t.constructor(t.source,nhe.exec(t));return e.lastIndex=t.lastIndex,e}var W3=ml?ml.prototype:void 0,q3=W3?W3.valueOf:void 0;function ihe(t){return q3?Object(q3.call(t)):{}}function ohe(t,e){var r=e?lT(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var she="[object Boolean]",ahe="[object Date]",che="[object Map]",lhe="[object Number]",uhe="[object RegExp]",dhe="[object Set]",hhe="[object String]",fhe="[object Symbol]",phe="[object ArrayBuffer]",ghe="[object DataView]",mhe="[object Float32Array]",khe="[object Float64Array]",bhe="[object Int8Array]",whe="[object Int16Array]",vhe="[object Int32Array]",yhe="[object Uint8Array]",_he="[object Uint8ClampedArray]",Ahe="[object Uint16Array]",Che="[object Uint32Array]";function xhe(t,e,r){var o=t.constructor;switch(e){case phe:return lT(t);case she:case ahe:return new o(+t);case ghe:return the(t,r);case mhe:case khe:case bhe:case whe:case vhe:case yhe:case _he:case Ahe:case Che:return ohe(t,r);case che:return new o;case lhe:case hhe:return new o(t);case uhe:return rhe(t);case dhe:return new o;case fhe:return ihe(t)}}var G3=Object.create,Ehe=function(){function t(){}return function(e){if(!Ek(e))return{};if(G3)return G3(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const She=Ehe;function The(t){return typeof t.constructor=="function"&&!iT(t)?She(nT(t)):{}}var Dhe="[object Map]";function Ihe(t){return ad(t)&&cT(t)==Dhe}var Y3=Ef&&Ef.isMap,Mhe=Y3?rT(Y3):Ihe;const Nhe=Mhe;var Phe="[object Set]";function Ohe(t){return ad(t)&&cT(t)==Phe}var K3=Ef&&Ef.isSet,Rhe=K3?rT(K3):Ohe;const Lhe=Rhe;var Bhe=1,jhe=2,zhe=4,l7="[object Arguments]",Fhe="[object Array]",$he="[object Boolean]",Vhe="[object Date]",Uhe="[object Error]",u7="[object Function]",Hhe="[object GeneratorFunction]",Whe="[object Map]",qhe="[object Number]",d7="[object Object]",Ghe="[object RegExp]",Yhe="[object Set]",Khe="[object String]",Qhe="[object Symbol]",Zhe="[object WeakMap]",Jhe="[object ArrayBuffer]",Xhe="[object DataView]",efe="[object Float32Array]",tfe="[object Float64Array]",nfe="[object Int8Array]",rfe="[object Int16Array]",ife="[object Int32Array]",ofe="[object Uint8Array]",sfe="[object Uint8ClampedArray]",afe="[object Uint16Array]",cfe="[object Uint32Array]",cn={};cn[l7]=cn[Fhe]=cn[Jhe]=cn[Xhe]=cn[$he]=cn[Vhe]=cn[efe]=cn[tfe]=cn[nfe]=cn[rfe]=cn[ife]=cn[Whe]=cn[qhe]=cn[d7]=cn[Ghe]=cn[Yhe]=cn[Khe]=cn[Qhe]=cn[ofe]=cn[sfe]=cn[afe]=cn[cfe]=!0;cn[Uhe]=cn[u7]=cn[Zhe]=!1;function K0(t,e,r,o,a,d){var f,k=e&Bhe,m=e&jhe,v=e&zhe;if(r&&(f=a?r(t,o,a,d):r(t)),f!==void 0)return f;if(!Ek(t))return t;var A=Sk(t);if(A){if(f=Xde(t),!k)return i7(t,f)}else{var x=cT(t),_=x==u7||x==Hhe;if(J9(t))return Ide(t,k);if(x==d7||x==l7||_&&!a){if(f=m||_?{}:The(t),!k)return m?jde(t,Tde(f,t)):Rde(t,Ade(f,t))}else{if(!cn[x])return a?t:{};f=xhe(t,x,k)}}d||(d=new Wf);var T=d.get(t);if(T)return T;d.set(t,f),Lhe(t)?t.forEach(function(B){f.add(K0(B,e,r,B,t,d))}):Nhe(t)&&t.forEach(function(B,O){f.set(O,K0(B,e,r,O,t,d))});var D=v?m?Fde:zde:m?sT:oT,M=A?void 0:D(t);return yue(M||t,function(B,O){M&&(O=B,B=t[O]),K9(f,O,K0(B,e,r,O,t,d))}),f}var lfe=4;function Q3(t){return K0(t,lfe)}function h7(t,e){for(var r=-1,o=t==null?0:t.length,a=Array(o);++r<o;)a[r]=e(t[r],r,t);return a}var ufe="[object Symbol]";function uT(t){return typeof t=="symbol"||ad(t)&&sd(t)==ufe}var dfe="Expected a function";function dT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(dfe);var r=function(){var o=arguments,a=e?e.apply(this,o):o[0],d=r.cache;if(d.has(a))return d.get(a);var f=t.apply(this,o);return r.cache=d.set(a,f)||d,f};return r.cache=new(dT.Cache||Al),r}dT.Cache=Al;var hfe=500;function ffe(t){var e=dT(t,function(o){return r.size===hfe&&r.clear(),o}),r=e.cache;return e}var pfe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gfe=/\\(\\)?/g,mfe=ffe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(pfe,function(r,o,a,d){e.push(a?d.replace(gfe,"$1"):o||r)}),e});const kfe=mfe;var bfe=1/0;function wfe(t){if(typeof t=="string"||uT(t))return t;var e=t+"";return e=="0"&&1/t==-bfe?"-0":e}var vfe=1/0,Z3=ml?ml.prototype:void 0,J3=Z3?Z3.toString:void 0;function f7(t){if(typeof t=="string")return t;if(Sk(t))return h7(t,f7)+"";if(uT(t))return J3?J3.call(t):"";var e=t+"";return e=="0"&&1/t==-vfe?"-0":e}function yfe(t){return t==null?"":f7(t)}function p7(t){return Sk(t)?h7(t,wfe):uT(t)?[t]:i7(kfe(yfe(t)))}function pn(){return pn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},pn.apply(this,arguments)}function $h(t,e){if(t==null)return{};var r={},o=Object.keys(t),a,d;for(d=0;d<o.length;d++)a=o[d],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}var Ny=G.createContext(void 0);Ny.displayName="FormikContext";var _fe=Ny.Provider;Ny.Consumer;function g7(){var t=G.useContext(Ny);return t||xle(!1),t}var ji=function(e){return typeof e=="function"},Py=function(e){return e!==null&&typeof e=="object"},Afe=function(e){return String(Math.floor(Number(e)))===e},l1=function(e){return Object.prototype.toString.call(e)==="[object String]"},Cfe=function(e){return G.Children.count(e)===0},u1=function(e){return Py(e)&&ji(e.then)};function Bi(t,e,r,o){o===void 0&&(o=0);for(var a=p7(e);t&&o<a.length;)t=t[a[o++]];return o!==a.length&&!t||t===void 0?r:t}function Nu(t,e,r){for(var o=Q3(t),a=o,d=0,f=p7(e);d<f.length-1;d++){var k=f[d],m=Bi(t,f.slice(0,d+1));if(m&&(Py(m)||Array.isArray(m)))a=a[k]=Q3(m);else{var v=f[d+1];a=a[k]=Afe(v)&&Number(v)>=0?[]:{}}}return(d===0?t:a)[f[d]]===r?t:(r===void 0?delete a[f[d]]:a[f[d]]=r,d===0&&r===void 0&&delete o[f[d]],o)}function m7(t,e,r,o){r===void 0&&(r=new WeakMap),o===void 0&&(o={});for(var a=0,d=Object.keys(t);a<d.length;a++){var f=d[a],k=t[f];Py(k)?r.get(k)||(r.set(k,!0),o[f]=Array.isArray(k)?[]:{},m7(k,e,r,o[f])):o[f]=e}return o}function xfe(t,e){switch(e.type){case"SET_VALUES":return pn({},t,{values:e.payload});case"SET_TOUCHED":return pn({},t,{touched:e.payload});case"SET_ERRORS":return gu(t.errors,e.payload)?t:pn({},t,{errors:e.payload});case"SET_STATUS":return pn({},t,{status:e.payload});case"SET_ISSUBMITTING":return pn({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return pn({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return pn({},t,{values:Nu(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return pn({},t,{touched:Nu(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return pn({},t,{errors:Nu(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return pn({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return pn({},t,{touched:m7(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return pn({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return pn({},t,{isSubmitting:!1});default:return t}}var lu={},C0={};function Efe(t){var e=t.validateOnChange,r=e===void 0?!0:e,o=t.validateOnBlur,a=o===void 0?!0:o,d=t.validateOnMount,f=d===void 0?!1:d,k=t.isInitialValid,m=t.enableReinitialize,v=m===void 0?!1:m,A=t.onSubmit,x=$h(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),_=pn({validateOnChange:r,validateOnBlur:a,validateOnMount:f,onSubmit:A},x),T=G.useRef(_.initialValues),D=G.useRef(_.initialErrors||lu),M=G.useRef(_.initialTouched||C0),B=G.useRef(_.initialStatus),O=G.useRef(!1),L=G.useRef({});G.useEffect(function(){return O.current=!0,function(){O.current=!1}},[]);var z=G.useState(0),Y=z[1],X=G.useRef({values:_.initialValues,errors:_.initialErrors||lu,touched:_.initialTouched||C0,status:_.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),ne=X.current,Z=G.useCallback(function(re){var Ae=X.current;X.current=xfe(Ae,re),Ae!==X.current&&Y(function(Ie){return Ie+1})},[]),V=G.useCallback(function(re,Ae){return new Promise(function(Ie,Me){var Qe=_.validate(re,Ae);Qe==null?Ie(lu):u1(Qe)?Qe.then(function(Ye){Ie(Ye||lu)},function(Ye){Me(Ye)}):Ie(Qe)})},[_.validate]),se=G.useCallback(function(re,Ae){var Ie=_.validationSchema,Me=ji(Ie)?Ie(Ae):Ie,Qe=Ae&&Me.validateAt?Me.validateAt(Ae,re):Tfe(re,Me);return new Promise(function(Ye,et){Qe.then(function(){Ye(lu)},function(Ue){Ue.name==="ValidationError"?Ye(Sfe(Ue)):et(Ue)})})},[_.validationSchema]),ie=G.useCallback(function(re,Ae){return new Promise(function(Ie){return Ie(L.current[re].validate(Ae))})},[]),he=G.useCallback(function(re){var Ae=Object.keys(L.current).filter(function(Me){return ji(L.current[Me].validate)}),Ie=Ae.length>0?Ae.map(function(Me){return ie(Me,Bi(re,Me))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Ie).then(function(Me){return Me.reduce(function(Qe,Ye,et){return Ye==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ye&&(Qe=Nu(Qe,Ae[et],Ye)),Qe},{})})},[ie]),$e=G.useCallback(function(re){return Promise.all([he(re),_.validationSchema?se(re):{},_.validate?V(re):{}]).then(function(Ae){var Ie=Ae[0],Me=Ae[1],Qe=Ae[2],Ye=uE.all([Ie,Me,Qe],{arrayMerge:Dfe});return Ye})},[_.validate,_.validationSchema,he,V,se]),De=bo(function(re){return re===void 0&&(re=ne.values),Z({type:"SET_ISVALIDATING",payload:!0}),$e(re).then(function(Ae){return O.current&&(Z({type:"SET_ISVALIDATING",payload:!1}),Z({type:"SET_ERRORS",payload:Ae})),Ae})});G.useEffect(function(){f&&O.current===!0&&gu(T.current,_.initialValues)&&De(T.current)},[f,De]);var Re=G.useCallback(function(re){var Ae=re&&re.values?re.values:T.current,Ie=re&&re.errors?re.errors:D.current?D.current:_.initialErrors||{},Me=re&&re.touched?re.touched:M.current?M.current:_.initialTouched||{},Qe=re&&re.status?re.status:B.current?B.current:_.initialStatus;T.current=Ae,D.current=Ie,M.current=Me,B.current=Qe;var Ye=function(){Z({type:"RESET_FORM",payload:{isSubmitting:!!re&&!!re.isSubmitting,errors:Ie,touched:Me,status:Qe,values:Ae,isValidating:!!re&&!!re.isValidating,submitCount:re&&re.submitCount&&typeof re.submitCount=="number"?re.submitCount:0}})};if(_.onReset){var et=_.onReset(ne.values,Lt);u1(et)?et.then(Ye):Ye()}else Ye()},[_.initialErrors,_.initialStatus,_.initialTouched]);G.useEffect(function(){O.current===!0&&!gu(T.current,_.initialValues)&&v&&(T.current=_.initialValues,Re(),f&&De(T.current))},[v,_.initialValues,Re,f,De]),G.useEffect(function(){v&&O.current===!0&&!gu(D.current,_.initialErrors)&&(D.current=_.initialErrors||lu,Z({type:"SET_ERRORS",payload:_.initialErrors||lu}))},[v,_.initialErrors]),G.useEffect(function(){v&&O.current===!0&&!gu(M.current,_.initialTouched)&&(M.current=_.initialTouched||C0,Z({type:"SET_TOUCHED",payload:_.initialTouched||C0}))},[v,_.initialTouched]),G.useEffect(function(){v&&O.current===!0&&!gu(B.current,_.initialStatus)&&(B.current=_.initialStatus,Z({type:"SET_STATUS",payload:_.initialStatus}))},[v,_.initialStatus,_.initialTouched]);var Ge=bo(function(re){if(L.current[re]&&ji(L.current[re].validate)){var Ae=Bi(ne.values,re),Ie=L.current[re].validate(Ae);return u1(Ie)?(Z({type:"SET_ISVALIDATING",payload:!0}),Ie.then(function(Me){return Me}).then(function(Me){Z({type:"SET_FIELD_ERROR",payload:{field:re,value:Me}}),Z({type:"SET_ISVALIDATING",payload:!1})})):(Z({type:"SET_FIELD_ERROR",payload:{field:re,value:Ie}}),Promise.resolve(Ie))}else if(_.validationSchema)return Z({type:"SET_ISVALIDATING",payload:!0}),se(ne.values,re).then(function(Me){return Me}).then(function(Me){Z({type:"SET_FIELD_ERROR",payload:{field:re,value:Bi(Me,re)}}),Z({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),He=G.useCallback(function(re,Ae){var Ie=Ae.validate;L.current[re]={validate:Ie}},[]),qe=G.useCallback(function(re){delete L.current[re]},[]),de=bo(function(re,Ae){Z({type:"SET_TOUCHED",payload:re});var Ie=Ae===void 0?a:Ae;return Ie?De(ne.values):Promise.resolve()}),xe=G.useCallback(function(re){Z({type:"SET_ERRORS",payload:re})},[]),we=bo(function(re,Ae){var Ie=ji(re)?re(ne.values):re;Z({type:"SET_VALUES",payload:Ie});var Me=Ae===void 0?r:Ae;return Me?De(Ie):Promise.resolve()}),ee=G.useCallback(function(re,Ae){Z({type:"SET_FIELD_ERROR",payload:{field:re,value:Ae}})},[]),oe=bo(function(re,Ae,Ie){Z({type:"SET_FIELD_VALUE",payload:{field:re,value:Ae}});var Me=Ie===void 0?r:Ie;return Me?De(Nu(ne.values,re,Ae)):Promise.resolve()}),J=G.useCallback(function(re,Ae){var Ie=Ae,Me=re,Qe;if(!l1(re)){re.persist&&re.persist();var Ye=re.target?re.target:re.currentTarget,et=Ye.type,Ue=Ye.name,dr=Ye.id,Pr=Ye.value,ai=Ye.checked,Ja=Ye.outerHTML,os=Ye.options,ss=Ye.multiple;Ie=Ae||Ue||dr,Me=/number|range/.test(et)?(Qe=parseFloat(Pr),isNaN(Qe)?"":Qe):/checkbox/.test(et)?Mfe(Bi(ne.values,Ie),ai,Pr):os&&ss?Ife(os):Pr}Ie&&oe(Ie,Me)},[oe,ne.values]),pe=bo(function(re){if(l1(re))return function(Ae){return J(Ae,re)};J(re)}),ce=bo(function(re,Ae,Ie){Ae===void 0&&(Ae=!0),Z({type:"SET_FIELD_TOUCHED",payload:{field:re,value:Ae}});var Me=Ie===void 0?a:Ie;return Me?De(ne.values):Promise.resolve()}),Ne=G.useCallback(function(re,Ae){re.persist&&re.persist();var Ie=re.target,Me=Ie.name,Qe=Ie.id,Ye=Ie.outerHTML,et=Ae||Me||Qe;ce(et,!0)},[ce]),Be=bo(function(re){if(l1(re))return function(Ae){return Ne(Ae,re)};Ne(re)}),Se=G.useCallback(function(re){ji(re)?Z({type:"SET_FORMIK_STATE",payload:re}):Z({type:"SET_FORMIK_STATE",payload:function(){return re}})},[]),_t=G.useCallback(function(re){Z({type:"SET_STATUS",payload:re})},[]),At=G.useCallback(function(re){Z({type:"SET_ISSUBMITTING",payload:re})},[]),xt=bo(function(){return Z({type:"SUBMIT_ATTEMPT"}),De().then(function(re){var Ae=re instanceof Error,Ie=!Ae&&Object.keys(re).length===0;if(Ie){var Me;try{if(Me=ht(),Me===void 0)return}catch(Qe){throw Qe}return Promise.resolve(Me).then(function(Qe){return O.current&&Z({type:"SUBMIT_SUCCESS"}),Qe}).catch(function(Qe){if(O.current)throw Z({type:"SUBMIT_FAILURE"}),Qe})}else if(O.current&&(Z({type:"SUBMIT_FAILURE"}),Ae))throw re})}),ot=bo(function(re){re&&re.preventDefault&&ji(re.preventDefault)&&re.preventDefault(),re&&re.stopPropagation&&ji(re.stopPropagation)&&re.stopPropagation(),xt().catch(function(Ae){console.warn("Warning: An unhandled error was caught from submitForm()",Ae)})}),Lt={resetForm:Re,validateForm:De,validateField:Ge,setErrors:xe,setFieldError:ee,setFieldTouched:ce,setFieldValue:oe,setStatus:_t,setSubmitting:At,setTouched:de,setValues:we,setFormikState:Se,submitForm:xt},ht=bo(function(){return A(ne.values,Lt)}),ut=bo(function(re){re&&re.preventDefault&&ji(re.preventDefault)&&re.preventDefault(),re&&re.stopPropagation&&ji(re.stopPropagation)&&re.stopPropagation(),Re()}),rr=G.useCallback(function(re){return{value:Bi(ne.values,re),error:Bi(ne.errors,re),touched:!!Bi(ne.touched,re),initialValue:Bi(T.current,re),initialTouched:!!Bi(M.current,re),initialError:Bi(D.current,re)}},[ne.errors,ne.touched,ne.values]),Wt=G.useCallback(function(re){return{setValue:function(Ie,Me){return oe(re,Ie,Me)},setTouched:function(Ie,Me){return ce(re,Ie,Me)},setError:function(Ie){return ee(re,Ie)}}},[oe,ce,ee]),ir=G.useCallback(function(re){var Ae=Py(re),Ie=Ae?re.name:re,Me=Bi(ne.values,Ie),Qe={name:Ie,value:Me,onChange:pe,onBlur:Be};if(Ae){var Ye=re.type,et=re.value,Ue=re.as,dr=re.multiple;Ye==="checkbox"?et===void 0?Qe.checked=!!Me:(Qe.checked=!!(Array.isArray(Me)&&~Me.indexOf(et)),Qe.value=et):Ye==="radio"?(Qe.checked=Me===et,Qe.value=et):Ue==="select"&&dr&&(Qe.value=Qe.value||[],Qe.multiple=!0)}return Qe},[Be,pe,ne.values]),or=G.useMemo(function(){return!gu(T.current,ne.values)},[T.current,ne.values]),Vn=G.useMemo(function(){return typeof k<"u"?or?ne.errors&&Object.keys(ne.errors).length===0:k!==!1&&ji(k)?k(_):k:ne.errors&&Object.keys(ne.errors).length===0},[k,or,ne.errors,_]),an=pn({},ne,{initialValues:T.current,initialErrors:D.current,initialTouched:M.current,initialStatus:B.current,handleBlur:Be,handleChange:pe,handleReset:ut,handleSubmit:ot,resetForm:Re,setErrors:xe,setFormikState:Se,setFieldTouched:ce,setFieldValue:oe,setFieldError:ee,setStatus:_t,setSubmitting:At,setTouched:de,setValues:we,submitForm:xt,validateForm:De,validateField:Ge,isValid:Vn,dirty:or,unregisterField:qe,registerField:He,getFieldProps:ir,getFieldMeta:rr,getFieldHelpers:Wt,validateOnBlur:a,validateOnChange:r,validateOnMount:f});return an}function k7(t){var e=Efe(t),r=t.component,o=t.children,a=t.render,d=t.innerRef;return G.useImperativeHandle(d,function(){return e}),G.createElement(_fe,{value:e},r?G.createElement(r,e):a?a(e):o?ji(o)?o(e):Cfe(o)?null:G.Children.only(o):null)}function Sfe(t){var e={};if(t.inner){if(t.inner.length===0)return Nu(e,t.path,t.message);for(var a=t.inner,r=Array.isArray(a),o=0,a=r?a:a[Symbol.iterator]();;){var d;if(r){if(o>=a.length)break;d=a[o++]}else{if(o=a.next(),o.done)break;d=o.value}var f=d;Bi(e,f.path)||(e=Nu(e,f.path,f.message))}}return e}function Tfe(t,e,r,o){r===void 0&&(r=!1);var a=mE(t);return e[r?"validateSync":"validate"](a,{abortEarly:!1,context:o||a})}function mE(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=String(r);Array.isArray(t[o])===!0?e[o]=t[o].map(function(a){return Array.isArray(a)===!0||E3(a)?mE(a):a!==""?a:void 0}):E3(t[o])?e[o]=mE(t[o]):e[o]=t[o]!==""?t[o]:void 0}return e}function Dfe(t,e,r){var o=t.slice();return e.forEach(function(d,f){if(typeof o[f]>"u"){var k=r.clone!==!1,m=k&&r.isMergeableObject(d);o[f]=m?uE(Array.isArray(d)?[]:{},d,r):d}else r.isMergeableObject(d)?o[f]=uE(t[f],d,r):t.indexOf(d)===-1&&o.push(d)}),o}function Ife(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function Mfe(t,e,r){if(typeof t=="boolean")return!!e;var o=[],a=!1,d=-1;if(Array.isArray(t))o=t,d=t.indexOf(r),a=d>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!a?o.concat(r):a?o.slice(0,d).concat(o.slice(d+1)):o}var Nfe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?G.useLayoutEffect:G.useEffect;function bo(t){var e=G.useRef(t);return Nfe(function(){e.current=t}),G.useCallback(function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e.current.apply(void 0,o)},[])}function wu(t){var e=t.validate,r=t.name,o=t.render,a=t.children,d=t.as,f=t.component,k=$h(t,["validate","name","render","children","as","component"]),m=g7(),v=$h(m,["validate","validationSchema"]),A=v.registerField,x=v.unregisterField;G.useEffect(function(){return A(r,{validate:e}),function(){x(r)}},[A,x,r,e]);var _=v.getFieldProps(pn({name:r},k)),T=v.getFieldMeta(r),D={field:_,form:v};if(o)return o(pn({},D,{meta:T}));if(ji(a))return a(pn({},D,{meta:T}));if(f){if(typeof f=="string"){var M=k.innerRef,B=$h(k,["innerRef"]);return G.createElement(f,pn({ref:M},_,B),a)}return G.createElement(f,pn({field:_,form:v},k),a)}var O=d||"input";if(typeof O=="string"){var L=k.innerRef,z=$h(k,["innerRef"]);return G.createElement(O,pn({ref:L},_,z),a)}return G.createElement(O,pn({},_,k),a)}var hT=G.forwardRef(function(t,e){var r=t.action,o=$h(t,["action"]),a=r??"#",d=g7(),f=d.handleReset,k=d.handleSubmit;return G.createElement("form",pn({onSubmit:k,ref:e,onReset:f,action:a},o))});hT.displayName="Form";const Pfe=()=>{const t=id(),[e,r]=G.useState(""),[o,a]=G.useState(!1),d={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},f=m=>{const v={};return m.firstName?m.firstName.length<=3&&(v.firstName="Must be 3 characters or more"):v.firstName="First name is required",m.lastName?m.lastName.length<=3&&(v.lastName="Must be 3 characters or more"):v.lastName="Last name is required",m.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(m.email)||(v.email="Invalid email address"):v.email="Email is required",m.password?m.password.length<=8&&(v.password="Password length must be more than 7"):v.password="Password number is required",m.password!==m.confirmPassword&&(v.password="Password does not match!"),v},k=async m=>{a(!0),await uee(qu,m.email,m.password).then(v=>{a(!1);const A=v.user;console.log(A),t("/")}).catch(v=>{const A=v.code,x=v.message;r(x),a(!1),console.log(A,x)}),await fee(qu.currentUser,{displayName:`${m.firstName} ${m.lastName}`}).then(()=>{console.log("updated successfully")}).catch(v=>{console.log("error updating name"),console.log(v)})};return W.jsx("main",{children:W.jsx("section",{children:W.jsxs("div",{className:"grid md:grid-cols-2 h-screen  ",children:[W.jsx("div",{className:"md:w-full w-4/5 mx-auto ",children:W.jsxs("div",{className:"flex md:w-4/5  mx-auto flex-col justify-center h-screen ",children:[W.jsxs("div",{children:[W.jsxs("div",{children:[W.jsxs(yi,{className:"text-2xl text-white text-center font-bold mb-2",children:["Focus",W.jsx("span",{className:"text-tertiary",children:"App"})]}),W.jsx("h2",{className:"text-white text-center text-sm md:text-xs tracking-tight text-gray-900",children:"Are you new? Sign up today"})]}),W.jsx("div",{className:"mt-4 text-xs",style:{color:"red"},children:e&&e}),W.jsx("div",{children:W.jsx(k7,{initialValues:d,validate:f,onSubmit:m=>k(m),children:({values:m,errors:v,touched:A,handleChange:x,handleBlur:_,handleSubmit:T,isSubmitting:D})=>W.jsxs(hT,{className:"mt-8 space-y-6",children:[W.jsxs("div",{className:" space-y-6 rounded-md shadow-sm",children:[W.jsxs("div",{children:[W.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"First name"}),W.jsx(wu,{type:"firstName",id:"firstName",name:"firstName",value:m.firstName,onChange:x,className:"relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",placeholder:"First name"}),W.jsx("p",{className:"text-xs",style:{color:"red"},children:v.firstName&&A.firstName&&v.firstName})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Last name"}),W.jsx(wu,{type:"lastName",id:"lastName",name:"lastName",value:m.lastName,onChange:x,className:"relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",placeholder:"Last name"}),W.jsx("p",{className:"text-xs",style:{color:"red"},children:v.lastName&&A.lastName&&v.lastName})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),W.jsx(wu,{type:"email",id:"email",name:"email",value:m.email,onChange:x,className:"relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",placeholder:"Email address"}),W.jsx("p",{className:"text-xs",style:{color:"red"},children:v.email&&A.email&&v.email})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),W.jsx(wu,{type:"password",id:"password",name:"password",value:m.password,onChange:x,className:"relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",placeholder:"Password"}),W.jsx("p",{className:"text-xs",style:{color:"red"},children:v.password&&A.password&&v.password})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"password",className:"sr-only",children:"Confirm Password"}),W.jsx(wu,{type:"password",id:"confirmPassword",name:"confirmPassword",value:m.confirmPassword,onChange:x,className:"relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",placeholder:"Confirm Password"})]})]}),W.jsx("div",{children:W.jsx("button",{type:"submit",className:"group relative flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:W.jsx("span",{children:o?"Creating Account ...":" Sign up"})})})]})})})]}),W.jsxs("p",{className:"mt-10 text-sm text-white text-center",children:["Already have an account?"," ",W.jsx(Xs,{to:"/",className:"underline text-tertiary",children:"Sign in"})]})]})}),W.jsx("div",{className:"bg-sidebar md:block hidden h-screen",children:W.jsx("div",{className:"flex items-center justify-center bg-no-repeat bg-center bg-cover h-screen",style:{backgroundImage:"url('/bg-login.jpg')"}})})]})})})},Ofe=()=>{const t=id(),[e,r]=G.useState(""),[o,a]=G.useState(!1),d={email:"",password:""},f=m=>{const v={};return m.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(m.email)||(v.email="Invalid email address"):v.email="Email is required",m.password?m.password.length<=8&&(v.password="Password length must be more than 7"):v.password="Password number is required",v},k=m=>{a(!0),dee(qu,m.email,m.password).then(v=>{a(!1);const A=v.user;t("/home"),console.log(A)}).catch(v=>{const A=v.code,x=v.message;r(x),a(!1),console.log(A,x)})};return W.jsx(W.Fragment,{children:W.jsx("main",{children:W.jsx("section",{children:W.jsxs("div",{className:"md:grid grid-cols-2 h-screen ",children:[W.jsxs("div",{className:"flex flex-col justify-center h-screen",children:[W.jsxs("div",{className:" px-10 ",children:[W.jsxs("div",{children:[W.jsxs(yi,{className:"text-2xl text-white text-center font-bold mb-2",children:["Weather-Note ",W.jsx("span",{className:"text-tertiary",children:"App"})]}),W.jsx("h2",{className:"text-white text-center md:text-sm text-xs tracking-tight text-gray-900",children:"Welcome Back"})]}),W.jsx("div",{className:"mt-4 text-xs",style:{color:"red"},children:e&&e}),W.jsx("div",{children:W.jsx(k7,{initialValues:d,validate:f,onSubmit:m=>k(m),children:({values:m,errors:v,touched:A,handleChange:x,handleBlur:_,handleSubmit:T,isSubmitting:D})=>W.jsxs(hT,{className:"mt-8 space-y-6",children:[W.jsxs("div",{className:" space-y-6 rounded-md shadow-sm",children:[W.jsxs("div",{children:[W.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),W.jsx(wu,{type:"email",id:"email",name:"email",value:m.email,onChange:x,className:"relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",placeholder:"Email address"}),W.jsx("p",{className:"text-xs",style:{color:"red"},children:v.email&&A.email&&v.email})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),W.jsx(wu,{type:"password",id:"password",name:"password",value:m.password,onChange:x,className:"relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",placeholder:"Password"}),W.jsx("p",{className:"text-xs",style:{color:"red"},children:v.password&&A.password&&v.password})]})]}),W.jsx("div",{children:W.jsx("button",{type:"submit",className:"group relative flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:W.jsx("span",{children:o?"Logging in ...":" Login "})})})]})})})]}),W.jsxs("p",{className:"text-sm mt-10 text-white text-center",children:["No account yet?"," ",W.jsx(Xs,{to:"/signup",className:"underline text-tertiary",children:"Sign up"})]})]}),W.jsx("div",{className:"bg-sidebar md:block hidden text-secondary h-screen",children:W.jsx("div",{className:"flex items-center justify-center bg-no-repeat bg-center bg-cover h-screen",style:{backgroundImage:"url('/bg-login.jpg')"}})})]})})})})},Rfe={black:"#000",white:"#fff"},Vm=Rfe,Lfe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},bh=Lfe,Bfe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},wh=Bfe,jfe={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},vh=jfe,zfe={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},yh=zfe,Ffe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},_h=Ffe,$fe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},bg=$fe,Vfe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ufe=Vfe;function vu(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function b7(t){if(!vu(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=b7(t[r])}),e}function Pa(t,e,r={clone:!0}){const o=r.clone?be({},t):t;return vu(t)&&vu(e)&&Object.keys(e).forEach(a=>{a!=="__proto__"&&(vu(e[a])&&a in t&&vu(t[a])?o[a]=Pa(t[a],e[a],r):r.clone?o[a]=vu(e[a])?b7(e[a]):e[a]:o[a]=e[a])}),o}function Sf(t){let e="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function ea(t){if(typeof t!="string")throw new Error(Sf(7));return t.charAt(0).toUpperCase()+t.slice(1)}function X3(...t){return t.reduce((e,r)=>r==null?e:function(...a){e.apply(this,a),r.apply(this,a)},()=>{})}function Hfe(t,e=166){let r;function o(...a){const d=()=>{t.apply(this,a)};clearTimeout(r),r=setTimeout(d,e)}return o.clear=()=>{clearTimeout(r)},o}function Ao(t){return t&&t.ownerDocument||document}function Oa(t){return Ao(t).defaultView||window}function kE(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const Wfe=typeof window<"u"?G.useLayoutEffect:G.useEffect,Um=Wfe;function Jg(t){const e=G.useRef(t);return Um(()=>{e.current=t}),G.useCallback((...r)=>(0,e.current)(...r),[])}function ud(...t){return G.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{kE(r,e)})},t)}function qfe(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function w7(t,e){const r=be({},e);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))r[o]=be({},t[o],r[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const a=t[o]||{},d=e[o];r[o]={},!d||!Object.keys(d)?r[o]=a:!a||!Object.keys(a)?r[o]=d:(r[o]=be({},d),Object.keys(a).forEach(f=>{r[o][f]=w7(a[f],d[f])}))}else r[o]===void 0&&(r[o]=t[o])}),r}function qf(t,e,r=void 0){const o={};return Object.keys(t).forEach(a=>{o[a]=t[a].reduce((d,f)=>{if(f){const k=e(f);k!==""&&d.push(k),r&&r[f]&&d.push(r[f])}return d},[]).join(" ")}),o}const eL=t=>t,Gfe=()=>{let t=eL;return{configure(e){t=e},generate(e){return t(e)},reset(){t=eL}}},Yfe=Gfe(),v7=Yfe,Kfe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function dd(t,e,r="Mui"){const o=Kfe[e];return o?`${r}-${o}`:`${v7.generate(t)}-${e}`}function Gf(t,e,r="Mui"){const o={};return e.forEach(a=>{o[a]=dd(t,a,r)}),o}const Oy="$$material";function y7(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var Qfe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Zfe=y7(function(t){return Qfe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Jfe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Xfe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var epe=function(){function t(r){var o=this;this._insertTag=function(a){var d;o.tags.length===0?o.insertionPoint?d=o.insertionPoint.nextSibling:o.prepend?d=o.container.firstChild:d=o.before:d=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(a,d),o.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(o){o.forEach(this._insertTag)},e.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Xfe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var d=Jfe(a);try{d.insertRule(o,d.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(o));this.ctr++},e.flush=function(){this.tags.forEach(function(o){return o.parentNode&&o.parentNode.removeChild(o)}),this.tags=[],this.ctr=0},t}(),$r="-ms-",lv="-moz-",Bt="-webkit-",_7="comm",fT="rule",pT="decl",tpe="@import",A7="@keyframes",npe="@layer",rpe=Math.abs,Ry=String.fromCharCode,ipe=Object.assign;function ope(t,e){return Tr(t,0)^45?(((e<<2^Tr(t,0))<<2^Tr(t,1))<<2^Tr(t,2))<<2^Tr(t,3):0}function C7(t){return t.trim()}function spe(t,e){return(t=e.exec(t))?t[0]:t}function jt(t,e,r){return t.replace(e,r)}function bE(t,e){return t.indexOf(e)}function Tr(t,e){return t.charCodeAt(e)|0}function Hm(t,e,r){return t.slice(e,r)}function zs(t){return t.length}function gT(t){return t.length}function x0(t,e){return e.push(t),t}function ape(t,e){return t.map(e).join("")}var Ly=1,Tf=1,x7=0,Ei=0,Jn=0,Yf="";function By(t,e,r,o,a,d,f){return{value:t,root:e,parent:r,type:o,props:a,children:d,line:Ly,column:Tf,length:f,return:""}}function wg(t,e){return ipe(By("",null,null,"",null,null,0),t,{length:-t.length},e)}function cpe(){return Jn}function lpe(){return Jn=Ei>0?Tr(Yf,--Ei):0,Tf--,Jn===10&&(Tf=1,Ly--),Jn}function Gi(){return Jn=Ei<x7?Tr(Yf,Ei++):0,Tf++,Jn===10&&(Tf=1,Ly++),Jn}function ta(){return Tr(Yf,Ei)}function Q0(){return Ei}function Tk(t,e){return Hm(Yf,t,e)}function Wm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function E7(t){return Ly=Tf=1,x7=zs(Yf=t),Ei=0,[]}function S7(t){return Yf="",t}function Z0(t){return C7(Tk(Ei-1,wE(t===91?t+2:t===40?t+1:t)))}function upe(t){for(;(Jn=ta())&&Jn<33;)Gi();return Wm(t)>2||Wm(Jn)>3?"":" "}function dpe(t,e){for(;--e&&Gi()&&!(Jn<48||Jn>102||Jn>57&&Jn<65||Jn>70&&Jn<97););return Tk(t,Q0()+(e<6&&ta()==32&&Gi()==32))}function wE(t){for(;Gi();)switch(Jn){case t:return Ei;case 34:case 39:t!==34&&t!==39&&wE(Jn);break;case 40:t===41&&wE(t);break;case 92:Gi();break}return Ei}function hpe(t,e){for(;Gi()&&t+Jn!==47+10;)if(t+Jn===42+42&&ta()===47)break;return"/*"+Tk(e,Ei-1)+"*"+Ry(t===47?t:Gi())}function fpe(t){for(;!Wm(ta());)Gi();return Tk(t,Ei)}function ppe(t){return S7(J0("",null,null,null,[""],t=E7(t),0,[0],t))}function J0(t,e,r,o,a,d,f,k,m){for(var v=0,A=0,x=f,_=0,T=0,D=0,M=1,B=1,O=1,L=0,z="",Y=a,X=d,ne=o,Z=z;B;)switch(D=L,L=Gi()){case 40:if(D!=108&&Tr(Z,x-1)==58){bE(Z+=jt(Z0(L),"&","&\f"),"&\f")!=-1&&(O=-1);break}case 34:case 39:case 91:Z+=Z0(L);break;case 9:case 10:case 13:case 32:Z+=upe(D);break;case 92:Z+=dpe(Q0()-1,7);continue;case 47:switch(ta()){case 42:case 47:x0(gpe(hpe(Gi(),Q0()),e,r),m);break;default:Z+="/"}break;case 123*M:k[v++]=zs(Z)*O;case 125*M:case 59:case 0:switch(L){case 0:case 125:B=0;case 59+A:O==-1&&(Z=jt(Z,/\f/g,"")),T>0&&zs(Z)-x&&x0(T>32?nL(Z+";",o,r,x-1):nL(jt(Z," ","")+";",o,r,x-2),m);break;case 59:Z+=";";default:if(x0(ne=tL(Z,e,r,v,A,a,k,z,Y=[],X=[],x),d),L===123)if(A===0)J0(Z,e,ne,ne,Y,d,x,k,X);else switch(_===99&&Tr(Z,3)===110?100:_){case 100:case 108:case 109:case 115:J0(t,ne,ne,o&&x0(tL(t,ne,ne,0,0,a,k,z,a,Y=[],x),X),a,X,x,k,o?Y:X);break;default:J0(Z,ne,ne,ne,[""],X,0,k,X)}}v=A=T=0,M=O=1,z=Z="",x=f;break;case 58:x=1+zs(Z),T=D;default:if(M<1){if(L==123)--M;else if(L==125&&M++==0&&lpe()==125)continue}switch(Z+=Ry(L),L*M){case 38:O=A>0?1:(Z+="\f",-1);break;case 44:k[v++]=(zs(Z)-1)*O,O=1;break;case 64:ta()===45&&(Z+=Z0(Gi())),_=ta(),A=x=zs(z=Z+=fpe(Q0())),L++;break;case 45:D===45&&zs(Z)==2&&(M=0)}}return d}function tL(t,e,r,o,a,d,f,k,m,v,A){for(var x=a-1,_=a===0?d:[""],T=gT(_),D=0,M=0,B=0;D<o;++D)for(var O=0,L=Hm(t,x+1,x=rpe(M=f[D])),z=t;O<T;++O)(z=C7(M>0?_[O]+" "+L:jt(L,/&\f/g,_[O])))&&(m[B++]=z);return By(t,e,r,a===0?fT:k,m,v,A)}function gpe(t,e,r){return By(t,e,r,_7,Ry(cpe()),Hm(t,2,-2),0)}function nL(t,e,r,o){return By(t,e,r,pT,Hm(t,0,o),Hm(t,o+1,-1),o)}function rf(t,e){for(var r="",o=gT(t),a=0;a<o;a++)r+=e(t[a],a,t,e)||"";return r}function mpe(t,e,r,o){switch(t.type){case npe:if(t.children.length)break;case tpe:case pT:return t.return=t.return||t.value;case _7:return"";case A7:return t.return=t.value+"{"+rf(t.children,o)+"}";case fT:t.value=t.props.join(",")}return zs(r=rf(t.children,o))?t.return=t.value+"{"+r+"}":""}function kpe(t){var e=gT(t);return function(r,o,a,d){for(var f="",k=0;k<e;k++)f+=t[k](r,o,a,d)||"";return f}}function bpe(t){return function(e){e.root||(e=e.return)&&t(e)}}var wpe=function(e,r,o){for(var a=0,d=0;a=d,d=ta(),a===38&&d===12&&(r[o]=1),!Wm(d);)Gi();return Tk(e,Ei)},vpe=function(e,r){var o=-1,a=44;do switch(Wm(a)){case 0:a===38&&ta()===12&&(r[o]=1),e[o]+=wpe(Ei-1,r,o);break;case 2:e[o]+=Z0(a);break;case 4:if(a===44){e[++o]=ta()===58?"&\f":"",r[o]=e[o].length;break}default:e[o]+=Ry(a)}while(a=Gi());return e},ype=function(e,r){return S7(vpe(E7(e),r))},rL=new WeakMap,_pe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,o=e.parent,a=e.column===o.column&&e.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!rL.get(o))&&!a){rL.set(e,!0);for(var d=[],f=ype(r,d),k=o.props,m=0,v=0;m<f.length;m++)for(var A=0;A<k.length;A++,v++)e.props[v]=d[m]?f[m].replace(/&\f/g,k[A]):k[A]+" "+f[m]}}},Ape=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function T7(t,e){switch(ope(t,e)){case 5103:return Bt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Bt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Bt+t+lv+t+$r+t+t;case 6828:case 4268:return Bt+t+$r+t+t;case 6165:return Bt+t+$r+"flex-"+t+t;case 5187:return Bt+t+jt(t,/(\w+).+(:[^]+)/,Bt+"box-$1$2"+$r+"flex-$1$2")+t;case 5443:return Bt+t+$r+"flex-item-"+jt(t,/flex-|-self/,"")+t;case 4675:return Bt+t+$r+"flex-line-pack"+jt(t,/align-content|flex-|-self/,"")+t;case 5548:return Bt+t+$r+jt(t,"shrink","negative")+t;case 5292:return Bt+t+$r+jt(t,"basis","preferred-size")+t;case 6060:return Bt+"box-"+jt(t,"-grow","")+Bt+t+$r+jt(t,"grow","positive")+t;case 4554:return Bt+jt(t,/([^-])(transform)/g,"$1"+Bt+"$2")+t;case 6187:return jt(jt(jt(t,/(zoom-|grab)/,Bt+"$1"),/(image-set)/,Bt+"$1"),t,"")+t;case 5495:case 3959:return jt(t,/(image-set\([^]*)/,Bt+"$1$`$1");case 4968:return jt(jt(t,/(.+:)(flex-)?(.*)/,Bt+"box-pack:$3"+$r+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Bt+t+t;case 4095:case 3583:case 4068:case 2532:return jt(t,/(.+)-inline(.+)/,Bt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zs(t)-1-e>6)switch(Tr(t,e+1)){case 109:if(Tr(t,e+4)!==45)break;case 102:return jt(t,/(.+:)(.+)-([^]+)/,"$1"+Bt+"$2-$3$1"+lv+(Tr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~bE(t,"stretch")?T7(jt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Tr(t,e+1)!==115)break;case 6444:switch(Tr(t,zs(t)-3-(~bE(t,"!important")&&10))){case 107:return jt(t,":",":"+Bt)+t;case 101:return jt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Bt+(Tr(t,14)===45?"inline-":"")+"box$3$1"+Bt+"$2$3$1"+$r+"$2box$3")+t}break;case 5936:switch(Tr(t,e+11)){case 114:return Bt+t+$r+jt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Bt+t+$r+jt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Bt+t+$r+jt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Bt+t+$r+t+t}return t}var Cpe=function(e,r,o,a){if(e.length>-1&&!e.return)switch(e.type){case pT:e.return=T7(e.value,e.length);break;case A7:return rf([wg(e,{value:jt(e.value,"@","@"+Bt)})],a);case fT:if(e.length)return ape(e.props,function(d){switch(spe(d,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return rf([wg(e,{props:[jt(d,/:(read-\w+)/,":"+lv+"$1")]})],a);case"::placeholder":return rf([wg(e,{props:[jt(d,/:(plac\w+)/,":"+Bt+"input-$1")]}),wg(e,{props:[jt(d,/:(plac\w+)/,":"+lv+"$1")]}),wg(e,{props:[jt(d,/:(plac\w+)/,$r+"input-$1")]})],a)}return""})}},xpe=[Cpe],Epe=function(e){var r=e.key;if(r==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(M){var B=M.getAttribute("data-emotion");B.indexOf(" ")!==-1&&(document.head.appendChild(M),M.setAttribute("data-s",""))})}var a=e.stylisPlugins||xpe,d={},f,k=[];f=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(M){for(var B=M.getAttribute("data-emotion").split(" "),O=1;O<B.length;O++)d[B[O]]=!0;k.push(M)});var m,v=[_pe,Ape];{var A,x=[mpe,bpe(function(M){A.insert(M)})],_=kpe(v.concat(a,x)),T=function(B){return rf(ppe(B),_)};m=function(B,O,L,z){A=L,T(B?B+"{"+O.styles+"}":O.styles),z&&(D.inserted[O.name]=!0)}}var D={key:r,sheet:new epe({key:r,container:f,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:d,registered:{},insert:m};return D.sheet.hydrate(k),D},Spe=!0;function Tpe(t,e,r){var o="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):o+=a+" "}),o}var D7=function(e,r,o){var a=e.key+"-"+r.name;(o===!1||Spe===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},Dpe=function(e,r,o){D7(e,r,o);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var d=r;do e.insert(r===d?"."+a:"",d,e.sheet,!0),d=d.next;while(d!==void 0)}};function Ipe(t){for(var e=0,r,o=0,a=t.length;a>=4;++o,a-=4)r=t.charCodeAt(o)&255|(t.charCodeAt(++o)&255)<<8|(t.charCodeAt(++o)&255)<<16|(t.charCodeAt(++o)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(o+2)&255)<<16;case 2:e^=(t.charCodeAt(o+1)&255)<<8;case 1:e^=t.charCodeAt(o)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Mpe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Npe=/[A-Z]|^ms/g,Ppe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,I7=function(e){return e.charCodeAt(1)===45},iL=function(e){return e!=null&&typeof e!="boolean"},d1=y7(function(t){return I7(t)?t:t.replace(Npe,"-$&").toLowerCase()}),oL=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Ppe,function(o,a,d){return Fs={name:a,styles:d,next:Fs},a})}return Mpe[e]!==1&&!I7(e)&&typeof r=="number"&&r!==0?r+"px":r};function qm(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Fs={name:r.name,styles:r.styles,next:Fs},r.name;if(r.styles!==void 0){var o=r.next;if(o!==void 0)for(;o!==void 0;)Fs={name:o.name,styles:o.styles,next:Fs},o=o.next;var a=r.styles+";";return a}return Ope(t,e,r)}case"function":{if(t!==void 0){var d=Fs,f=r(t);return Fs=d,qm(t,e,f)}break}}if(e==null)return r;var k=e[r];return k!==void 0?k:r}function Ope(t,e,r){var o="";if(Array.isArray(r))for(var a=0;a<r.length;a++)o+=qm(t,e,r[a])+";";else for(var d in r){var f=r[d];if(typeof f!="object")e!=null&&e[f]!==void 0?o+=d+"{"+e[f]+"}":iL(f)&&(o+=d1(d)+":"+oL(d,f)+";");else if(Array.isArray(f)&&typeof f[0]=="string"&&(e==null||e[f[0]]===void 0))for(var k=0;k<f.length;k++)iL(f[k])&&(o+=d1(d)+":"+oL(d,f[k])+";");else{var m=qm(t,e,f);switch(d){case"animation":case"animationName":{o+=d1(d)+":"+m+";";break}default:o+=d+"{"+m+"}"}}}return o}var sL=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Fs,Rpe=function(e,r,o){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var a=!0,d="";Fs=void 0;var f=e[0];f==null||f.raw===void 0?(a=!1,d+=qm(o,r,f)):d+=f[0];for(var k=1;k<e.length;k++)d+=qm(o,r,e[k]),a&&(d+=f[k]);sL.lastIndex=0;for(var m="",v;(v=sL.exec(d))!==null;)m+="-"+v[1];var A=Ipe(d)+m;return{name:A,styles:d,next:Fs}},Lpe=function(e){return e()},Bpe=tm["useInsertionEffect"]?tm["useInsertionEffect"]:!1,jpe=Bpe||Lpe,M7=G.createContext(typeof HTMLElement<"u"?Epe({key:"css"}):null);M7.Provider;var zpe=function(e){return G.forwardRef(function(r,o){var a=G.useContext(M7);return e(r,a,o)})},N7=G.createContext({}),Fpe=Zfe,$pe=function(e){return e!=="theme"},aL=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Fpe:$pe},cL=function(e,r,o){var a;if(r){var d=r.shouldForwardProp;a=e.__emotion_forwardProp&&d?function(f){return e.__emotion_forwardProp(f)&&d(f)}:d}return typeof a!="function"&&o&&(a=e.__emotion_forwardProp),a},Vpe=function(e){var r=e.cache,o=e.serialized,a=e.isStringTag;return D7(r,o,a),jpe(function(){return Dpe(r,o,a)}),null},Upe=function t(e,r){var o=e.__emotion_real===e,a=o&&e.__emotion_base||e,d,f;r!==void 0&&(d=r.label,f=r.target);var k=cL(e,r,o),m=k||aL(a),v=!m("as");return function(){var A=arguments,x=o&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(d!==void 0&&x.push("label:"+d+";"),A[0]==null||A[0].raw===void 0)x.push.apply(x,A);else{x.push(A[0][0]);for(var _=A.length,T=1;T<_;T++)x.push(A[T],A[0][T])}var D=zpe(function(M,B,O){var L=v&&M.as||a,z="",Y=[],X=M;if(M.theme==null){X={};for(var ne in M)X[ne]=M[ne];X.theme=G.useContext(N7)}typeof M.className=="string"?z=Tpe(B.registered,Y,M.className):M.className!=null&&(z=M.className+" ");var Z=Rpe(x.concat(Y),B.registered,X);z+=B.key+"-"+Z.name,f!==void 0&&(z+=" "+f);var V=v&&k===void 0?aL(L):m,se={};for(var ie in M)v&&ie==="as"||V(ie)&&(se[ie]=M[ie]);return se.className=z,se.ref=O,G.createElement(G.Fragment,null,G.createElement(Vpe,{cache:B,serialized:Z,isStringTag:typeof L=="string"}),G.createElement(L,se))});return D.displayName=d!==void 0?d:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",D.defaultProps=e.defaultProps,D.__emotion_real=D,D.__emotion_base=a,D.__emotion_styles=x,D.__emotion_forwardProp=k,Object.defineProperty(D,"toString",{value:function(){return"."+f}}),D.withComponent=function(M,B){return t(M,be({},r,B,{shouldForwardProp:cL(D,B,!0)})).apply(void 0,x)},D}},Hpe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],vE=Upe.bind();Hpe.forEach(function(t){vE[t]=vE(t)});/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function P7(t,e){return vE(t,e)}const Wpe=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},qpe=["values","unit","step"],Gpe=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,o)=>r.val-o.val),e.reduce((r,o)=>be({},r,{[o.key]:o.val}),{})};function Ype(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:o=5}=t,a=wn(t,qpe),d=Gpe(e),f=Object.keys(d);function k(_){return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${r})`}function m(_){return`@media (max-width:${(typeof e[_]=="number"?e[_]:_)-o/100}${r})`}function v(_,T){const D=f.indexOf(T);return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${r}) and (max-width:${(D!==-1&&typeof e[f[D]]=="number"?e[f[D]]:T)-o/100}${r})`}function A(_){return f.indexOf(_)+1<f.length?v(_,f[f.indexOf(_)+1]):k(_)}function x(_){const T=f.indexOf(_);return T===0?k(f[1]):T===f.length-1?m(f[T]):v(_,f[f.indexOf(_)+1]).replace("@media","@media not all and")}return be({keys:f,values:d,up:k,down:m,between:v,only:A,not:x,unit:r},a)}const Kpe={borderRadius:4},Qpe=Kpe;function Xg(t,e){return e?Pa(t,e,{clone:!1}):t}const mT={xs:0,sm:600,md:900,lg:1200,xl:1536},lL={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${mT[t]}px)`};function Ga(t,e,r){const o=t.theme||{};if(Array.isArray(e)){const d=o.breakpoints||lL;return e.reduce((f,k,m)=>(f[d.up(d.keys[m])]=r(e[m]),f),{})}if(typeof e=="object"){const d=o.breakpoints||lL;return Object.keys(e).reduce((f,k)=>{if(Object.keys(d.values||mT).indexOf(k)!==-1){const m=d.up(k);f[m]=r(e[k],k)}else{const m=k;f[m]=e[m]}return f},{})}return r(e)}function Zpe(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((o,a)=>{const d=t.up(a);return o[d]={},o},{}))||{}}function Jpe(t,e){return t.reduce((r,o)=>{const a=r[o];return(!a||Object.keys(a).length===0)&&delete r[o],r},e)}function jy(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const o=`vars.${e}`.split(".").reduce((a,d)=>a&&a[d]?a[d]:null,t);if(o!=null)return o}return e.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,t)}function uv(t,e,r,o=r){let a;return typeof t=="function"?a=t(r):Array.isArray(t)?a=t[r]||o:a=jy(t,r)||o,e&&(a=e(a,o,t)),a}function Ht(t){const{prop:e,cssProperty:r=t.prop,themeKey:o,transform:a}=t,d=f=>{if(f[e]==null)return null;const k=f[e],m=f.theme,v=jy(m,o)||{};return Ga(f,k,x=>{let _=uv(v,a,x);return x===_&&typeof x=="string"&&(_=uv(v,a,`${e}${x==="default"?"":ea(x)}`,x)),r===!1?_:{[r]:_}})};return d.propTypes={},d.filterProps=[e],d}function Xpe(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const ege={m:"margin",p:"padding"},tge={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},uL={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},nge=Xpe(t=>{if(t.length>2)if(uL[t])t=uL[t];else return[t];const[e,r]=t.split(""),o=ege[e],a=tge[r]||"";return Array.isArray(a)?a.map(d=>o+d):[o+a]}),kT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],bT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...kT,...bT];function Dk(t,e,r,o){var a;const d=(a=jy(t,e,!1))!=null?a:r;return typeof d=="number"?f=>typeof f=="string"?f:d*f:Array.isArray(d)?f=>typeof f=="string"?f:d[f]:typeof d=="function"?d:()=>{}}function O7(t){return Dk(t,"spacing",8)}function Ik(t,e){if(typeof e=="string"||e==null)return e;const r=Math.abs(e),o=t(r);return e>=0?o:typeof o=="number"?-o:`-${o}`}function rge(t,e){return r=>t.reduce((o,a)=>(o[a]=Ik(e,r),o),{})}function ige(t,e,r,o){if(e.indexOf(r)===-1)return null;const a=nge(r),d=rge(a,o),f=t[r];return Ga(t,f,d)}function R7(t,e){const r=O7(t.theme);return Object.keys(t).map(o=>ige(t,e,o,r)).reduce(Xg,{})}function On(t){return R7(t,kT)}On.propTypes={};On.filterProps=kT;function Rn(t){return R7(t,bT)}Rn.propTypes={};Rn.filterProps=bT;function oge(t=8){if(t.mui)return t;const e=O7({spacing:t}),r=(...o)=>(o.length===0?[1]:o).map(d=>{const f=e(d);return typeof f=="number"?`${f}px`:f}).join(" ");return r.mui=!0,r}function zy(...t){const e=t.reduce((o,a)=>(a.filterProps.forEach(d=>{o[d]=a}),o),{}),r=o=>Object.keys(o).reduce((a,d)=>e[d]?Xg(a,e[d](o)):a,{});return r.propTypes={},r.filterProps=t.reduce((o,a)=>o.concat(a.filterProps),[]),r}function Us(t){return typeof t!="number"?t:`${t}px solid`}const sge=Ht({prop:"border",themeKey:"borders",transform:Us}),age=Ht({prop:"borderTop",themeKey:"borders",transform:Us}),cge=Ht({prop:"borderRight",themeKey:"borders",transform:Us}),lge=Ht({prop:"borderBottom",themeKey:"borders",transform:Us}),uge=Ht({prop:"borderLeft",themeKey:"borders",transform:Us}),dge=Ht({prop:"borderColor",themeKey:"palette"}),hge=Ht({prop:"borderTopColor",themeKey:"palette"}),fge=Ht({prop:"borderRightColor",themeKey:"palette"}),pge=Ht({prop:"borderBottomColor",themeKey:"palette"}),gge=Ht({prop:"borderLeftColor",themeKey:"palette"}),Fy=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Dk(t.theme,"shape.borderRadius",4),r=o=>({borderRadius:Ik(e,o)});return Ga(t,t.borderRadius,r)}return null};Fy.propTypes={};Fy.filterProps=["borderRadius"];zy(sge,age,cge,lge,uge,dge,hge,fge,pge,gge,Fy);const $y=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Dk(t.theme,"spacing",8),r=o=>({gap:Ik(e,o)});return Ga(t,t.gap,r)}return null};$y.propTypes={};$y.filterProps=["gap"];const Vy=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Dk(t.theme,"spacing",8),r=o=>({columnGap:Ik(e,o)});return Ga(t,t.columnGap,r)}return null};Vy.propTypes={};Vy.filterProps=["columnGap"];const Uy=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Dk(t.theme,"spacing",8),r=o=>({rowGap:Ik(e,o)});return Ga(t,t.rowGap,r)}return null};Uy.propTypes={};Uy.filterProps=["rowGap"];const mge=Ht({prop:"gridColumn"}),kge=Ht({prop:"gridRow"}),bge=Ht({prop:"gridAutoFlow"}),wge=Ht({prop:"gridAutoColumns"}),vge=Ht({prop:"gridAutoRows"}),yge=Ht({prop:"gridTemplateColumns"}),_ge=Ht({prop:"gridTemplateRows"}),Age=Ht({prop:"gridTemplateAreas"}),Cge=Ht({prop:"gridArea"});zy($y,Vy,Uy,mge,kge,bge,wge,vge,yge,_ge,Age,Cge);function of(t,e){return e==="grey"?e:t}const xge=Ht({prop:"color",themeKey:"palette",transform:of}),Ege=Ht({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:of}),Sge=Ht({prop:"backgroundColor",themeKey:"palette",transform:of});zy(xge,Ege,Sge);function Fi(t){return t<=1&&t!==0?`${t*100}%`:t}const Tge=Ht({prop:"width",transform:Fi}),wT=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var o;return{maxWidth:((o=t.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[r])||mT[r]||Fi(r)}};return Ga(t,t.maxWidth,e)}return null};wT.filterProps=["maxWidth"];const Dge=Ht({prop:"minWidth",transform:Fi}),Ige=Ht({prop:"height",transform:Fi}),Mge=Ht({prop:"maxHeight",transform:Fi}),Nge=Ht({prop:"minHeight",transform:Fi});Ht({prop:"size",cssProperty:"width",transform:Fi});Ht({prop:"size",cssProperty:"height",transform:Fi});const Pge=Ht({prop:"boxSizing"});zy(Tge,wT,Dge,Ige,Mge,Nge,Pge);const Oge={border:{themeKey:"borders",transform:Us},borderTop:{themeKey:"borders",transform:Us},borderRight:{themeKey:"borders",transform:Us},borderBottom:{themeKey:"borders",transform:Us},borderLeft:{themeKey:"borders",transform:Us},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Fy},color:{themeKey:"palette",transform:of},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:of},backgroundColor:{themeKey:"palette",transform:of},p:{style:Rn},pt:{style:Rn},pr:{style:Rn},pb:{style:Rn},pl:{style:Rn},px:{style:Rn},py:{style:Rn},padding:{style:Rn},paddingTop:{style:Rn},paddingRight:{style:Rn},paddingBottom:{style:Rn},paddingLeft:{style:Rn},paddingX:{style:Rn},paddingY:{style:Rn},paddingInline:{style:Rn},paddingInlineStart:{style:Rn},paddingInlineEnd:{style:Rn},paddingBlock:{style:Rn},paddingBlockStart:{style:Rn},paddingBlockEnd:{style:Rn},m:{style:On},mt:{style:On},mr:{style:On},mb:{style:On},ml:{style:On},mx:{style:On},my:{style:On},margin:{style:On},marginTop:{style:On},marginRight:{style:On},marginBottom:{style:On},marginLeft:{style:On},marginX:{style:On},marginY:{style:On},marginInline:{style:On},marginInlineStart:{style:On},marginInlineEnd:{style:On},marginBlock:{style:On},marginBlockStart:{style:On},marginBlockEnd:{style:On},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:$y},rowGap:{style:Uy},columnGap:{style:Vy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Fi},maxWidth:{style:wT},minWidth:{transform:Fi},height:{transform:Fi},maxHeight:{transform:Fi},minHeight:{transform:Fi},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Hy=Oge;function Rge(...t){const e=t.reduce((o,a)=>o.concat(Object.keys(a)),[]),r=new Set(e);return t.every(o=>r.size===Object.keys(o).length)}function Lge(t,e){return typeof t=="function"?t(e):t}function Bge(){function t(r,o,a,d){const f={[r]:o,theme:a},k=d[r];if(!k)return{[r]:o};const{cssProperty:m=r,themeKey:v,transform:A,style:x}=k;if(o==null)return null;if(v==="typography"&&o==="inherit")return{[r]:o};const _=jy(a,v)||{};return x?x(f):Ga(f,o,D=>{let M=uv(_,A,D);return D===M&&typeof D=="string"&&(M=uv(_,A,`${r}${D==="default"?"":ea(D)}`,D)),m===!1?M:{[m]:M}})}function e(r){var o;const{sx:a,theme:d={}}=r||{};if(!a)return null;const f=(o=d.unstable_sxConfig)!=null?o:Hy;function k(m){let v=m;if(typeof m=="function")v=m(d);else if(typeof m!="object")return m;if(!v)return null;const A=Zpe(d.breakpoints),x=Object.keys(A);let _=A;return Object.keys(v).forEach(T=>{const D=Lge(v[T],d);if(D!=null)if(typeof D=="object")if(f[T])_=Xg(_,t(T,D,d,f));else{const M=Ga({theme:d},D,B=>({[T]:B}));Rge(M,D)?_[T]=e({sx:D,theme:d}):_=Xg(_,M)}else _=Xg(_,t(T,D,d,f))}),Jpe(x,_)}return Array.isArray(a)?a.map(k):k(a)}return e}const L7=Bge();L7.filterProps=["sx"];const Wy=L7,jge=["breakpoints","palette","spacing","shape"];function vT(t={},...e){const{breakpoints:r={},palette:o={},spacing:a,shape:d={}}=t,f=wn(t,jge),k=Ype(r),m=oge(a);let v=Pa({breakpoints:k,direction:"ltr",components:{},palette:be({mode:"light"},o),spacing:m,shape:be({},Qpe,d)},f);return v=e.reduce((A,x)=>Pa(A,x),v),v.unstable_sxConfig=be({},Hy,f==null?void 0:f.unstable_sxConfig),v.unstable_sx=function(x){return Wy({sx:x,theme:this})},v}function zge(t){return Object.keys(t).length===0}function Fge(t=null){const e=G.useContext(N7);return!e||zge(e)?t:e}const $ge=vT();function yT(t=$ge){return Fge(t)}const Vge=["sx"],Uge=t=>{var e,r;const o={systemProps:{},otherProps:{}},a=(e=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?e:Hy;return Object.keys(t).forEach(d=>{a[d]?o.systemProps[d]=t[d]:o.otherProps[d]=t[d]}),o};function Hge(t){const{sx:e}=t,r=wn(t,Vge),{systemProps:o,otherProps:a}=Uge(r);let d;return Array.isArray(e)?d=[o,...e]:typeof e=="function"?d=(...f)=>{const k=e(...f);return vu(k)?be({},o,k):o}:d=be({},o,e),be({},a,{sx:d})}function B7(t){var e,r,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=B7(t[e]))&&(o&&(o+=" "),o+=r);else for(e in t)t[e]&&(o&&(o+=" "),o+=e);return o}function _i(){for(var t,e,r=0,o="";r<arguments.length;)(t=arguments[r++])&&(e=B7(t))&&(o&&(o+=" "),o+=e);return o}const Wge=["className","component"];function qge(t={}){const{themeId:e,defaultTheme:r,defaultClassName:o="MuiBox-root",generateClassName:a}=t,d=P7("div",{shouldForwardProp:k=>k!=="theme"&&k!=="sx"&&k!=="as"})(Wy);return G.forwardRef(function(m,v){const A=yT(r),x=Hge(m),{className:_,component:T="div"}=x,D=wn(x,Wge);return W.jsx(d,be({as:T,ref:v,className:_i(_,a?a(o):o),theme:e&&A[e]||A},D))})}const Gge=["variant"];function dL(t){return t.length===0}function j7(t){const{variant:e}=t,r=wn(t,Gge);let o=e||"";return Object.keys(r).sort().forEach(a=>{a==="color"?o+=dL(o)?t[a]:ea(t[a]):o+=`${dL(o)?a:ea(a)}${ea(t[a].toString())}`}),o}const Yge=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Kge(t){return Object.keys(t).length===0}function Qge(t){return typeof t=="string"&&t.charCodeAt(0)>96}const Zge=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,Jge=(t,e)=>{let r=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(r=e.components[t].variants);const o={};return r.forEach(a=>{const d=j7(a.props);o[d]=a.style}),o},Xge=(t,e,r,o)=>{var a;const{ownerState:d={}}=t,f=[],k=r==null||(a=r.components)==null||(a=a[o])==null?void 0:a.variants;return k&&k.forEach(m=>{let v=!0;Object.keys(m.props).forEach(A=>{d[A]!==m.props[A]&&t[A]!==m.props[A]&&(v=!1)}),v&&f.push(e[j7(m.props)])}),f};function X0(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const eme=vT(),tme=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function vg({defaultTheme:t,theme:e,themeId:r}){return Kge(e)?t:e[r]||e}function nme(t){return t?(e,r)=>r[t]:null}function rme(t={}){const{themeId:e,defaultTheme:r=eme,rootShouldForwardProp:o=X0,slotShouldForwardProp:a=X0}=t,d=f=>Wy(be({},f,{theme:vg(be({},f,{defaultTheme:r,themeId:e}))}));return d.__mui_systemSx=!0,(f,k={})=>{Wpe(f,Y=>Y.filter(X=>!(X!=null&&X.__mui_systemSx)));const{name:m,slot:v,skipVariantsResolver:A,skipSx:x,overridesResolver:_=nme(tme(v))}=k,T=wn(k,Yge),D=A!==void 0?A:v&&v!=="Root"&&v!=="root"||!1,M=x||!1;let B,O=X0;v==="Root"||v==="root"?O=o:v?O=a:Qge(f)&&(O=void 0);const L=P7(f,be({shouldForwardProp:O,label:B},T)),z=(Y,...X)=>{const ne=X?X.map(ie=>typeof ie=="function"&&ie.__emotion_real!==ie?he=>ie(be({},he,{theme:vg(be({},he,{defaultTheme:r,themeId:e}))})):ie):[];let Z=Y;m&&_&&ne.push(ie=>{const he=vg(be({},ie,{defaultTheme:r,themeId:e})),$e=Zge(m,he);if($e){const De={};return Object.entries($e).forEach(([Re,Ge])=>{De[Re]=typeof Ge=="function"?Ge(be({},ie,{theme:he})):Ge}),_(ie,De)}return null}),m&&!D&&ne.push(ie=>{const he=vg(be({},ie,{defaultTheme:r,themeId:e}));return Xge(ie,Jge(m,he),he,m)}),M||ne.push(d);const V=ne.length-X.length;if(Array.isArray(Y)&&V>0){const ie=new Array(V).fill("");Z=[...Y,...ie],Z.raw=[...Y.raw,...ie]}else typeof Y=="function"&&Y.__emotion_real!==Y&&(Z=ie=>Y(be({},ie,{theme:vg(be({},ie,{defaultTheme:r,themeId:e}))})));const se=L(Z,...ne);return f.muiName&&(se.muiName=f.muiName),se};return L.withConfig&&(z.withConfig=L.withConfig),z}}function ime(t){const{theme:e,name:r,props:o}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?o:w7(e.components[r].defaultProps,o)}function z7({props:t,name:e,defaultTheme:r,themeId:o}){let a=yT(r);return o&&(a=a[o]||a),ime({theme:a,name:e,props:t})}function _T(t,e=0,r=1){return Math.min(Math.max(e,t),r)}function ome(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(o=>o+o)),r?`rgb${r.length===4?"a":""}(${r.map((o,a)=>a<3?parseInt(o,16):Math.round(parseInt(o,16)/255*1e3)/1e3).join(", ")})`:""}function Ku(t){if(t.type)return t;if(t.charAt(0)==="#")return Ku(ome(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(Sf(9,t));let o=t.substring(e+1,t.length-1),a;if(r==="color"){if(o=o.split(" "),a=o.shift(),o.length===4&&o[3].charAt(0)==="/"&&(o[3]=o[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a)===-1)throw new Error(Sf(10,a))}else o=o.split(",");return o=o.map(d=>parseFloat(d)),{type:r,values:o,colorSpace:a}}function qy(t){const{type:e,colorSpace:r}=t;let{values:o}=t;return e.indexOf("rgb")!==-1?o=o.map((a,d)=>d<3?parseInt(a,10):a):e.indexOf("hsl")!==-1&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),e.indexOf("color")!==-1?o=`${r} ${o.join(" ")}`:o=`${o.join(", ")}`,`${e}(${o})`}function sme(t){t=Ku(t);const{values:e}=t,r=e[0],o=e[1]/100,a=e[2]/100,d=o*Math.min(a,1-a),f=(v,A=(v+r/30)%12)=>a-d*Math.max(Math.min(A-3,9-A,1),-1);let k="rgb";const m=[Math.round(f(0)*255),Math.round(f(8)*255),Math.round(f(4)*255)];return t.type==="hsla"&&(k+="a",m.push(e[3])),qy({type:k,values:m})}function hL(t){t=Ku(t);let e=t.type==="hsl"||t.type==="hsla"?Ku(sme(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function ame(t,e){const r=hL(t),o=hL(e);return(Math.max(r,o)+.05)/(Math.min(r,o)+.05)}function yE(t,e){return t=Ku(t),e=_T(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,qy(t)}function cme(t,e){if(t=Ku(t),e=_T(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]*=1-e;return qy(t)}function lme(t,e){if(t=Ku(t),e=_T(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return qy(t)}function ume(t,e){return be({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const dme=["mode","contrastThreshold","tonalOffset"],fL={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Vm.white,default:Vm.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},h1={text:{primary:Vm.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Vm.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function pL(t,e,r,o){const a=o.light||o,d=o.dark||o*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=lme(t.main,a):e==="dark"&&(t.dark=cme(t.main,d)))}function hme(t="light"){return t==="dark"?{main:vh[200],light:vh[50],dark:vh[400]}:{main:vh[700],light:vh[400],dark:vh[800]}}function fme(t="light"){return t==="dark"?{main:wh[200],light:wh[50],dark:wh[400]}:{main:wh[500],light:wh[300],dark:wh[700]}}function pme(t="light"){return t==="dark"?{main:bh[500],light:bh[300],dark:bh[700]}:{main:bh[700],light:bh[400],dark:bh[800]}}function gme(t="light"){return t==="dark"?{main:yh[400],light:yh[300],dark:yh[700]}:{main:yh[700],light:yh[500],dark:yh[900]}}function mme(t="light"){return t==="dark"?{main:_h[400],light:_h[300],dark:_h[700]}:{main:_h[800],light:_h[500],dark:_h[900]}}function kme(t="light"){return t==="dark"?{main:bg[400],light:bg[300],dark:bg[700]}:{main:"#ed6c02",light:bg[500],dark:bg[900]}}function bme(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:o=.2}=t,a=wn(t,dme),d=t.primary||hme(e),f=t.secondary||fme(e),k=t.error||pme(e),m=t.info||gme(e),v=t.success||mme(e),A=t.warning||kme(e);function x(M){return ame(M,h1.text.primary)>=r?h1.text.primary:fL.text.primary}const _=({color:M,name:B,mainShade:O=500,lightShade:L=300,darkShade:z=700})=>{if(M=be({},M),!M.main&&M[O]&&(M.main=M[O]),!M.hasOwnProperty("main"))throw new Error(Sf(11,B?` (${B})`:"",O));if(typeof M.main!="string")throw new Error(Sf(12,B?` (${B})`:"",JSON.stringify(M.main)));return pL(M,"light",L,o),pL(M,"dark",z,o),M.contrastText||(M.contrastText=x(M.main)),M},T={dark:h1,light:fL};return Pa(be({common:be({},Vm),mode:e,primary:_({color:d,name:"primary"}),secondary:_({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:_({color:k,name:"error"}),warning:_({color:A,name:"warning"}),info:_({color:m,name:"info"}),success:_({color:v,name:"success"}),grey:Ufe,contrastThreshold:r,getContrastText:x,augmentColor:_,tonalOffset:o},T[e]),a)}const wme=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function vme(t){return Math.round(t*1e5)/1e5}const gL={textTransform:"uppercase"},mL='"Roboto", "Helvetica", "Arial", sans-serif';function yme(t,e){const r=typeof e=="function"?e(t):e,{fontFamily:o=mL,fontSize:a=14,fontWeightLight:d=300,fontWeightRegular:f=400,fontWeightMedium:k=500,fontWeightBold:m=700,htmlFontSize:v=16,allVariants:A,pxToRem:x}=r,_=wn(r,wme),T=a/14,D=x||(O=>`${O/v*T}rem`),M=(O,L,z,Y,X)=>be({fontFamily:o,fontWeight:O,fontSize:D(L),lineHeight:z},o===mL?{letterSpacing:`${vme(Y/L)}em`}:{},X,A),B={h1:M(d,96,1.167,-1.5),h2:M(d,60,1.2,-.5),h3:M(f,48,1.167,0),h4:M(f,34,1.235,.25),h5:M(f,24,1.334,0),h6:M(k,20,1.6,.15),subtitle1:M(f,16,1.75,.15),subtitle2:M(k,14,1.57,.1),body1:M(f,16,1.5,.15),body2:M(f,14,1.43,.15),button:M(k,14,1.75,.4,gL),caption:M(f,12,1.66,.4),overline:M(f,12,2.66,1,gL),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Pa(be({htmlFontSize:v,pxToRem:D,fontFamily:o,fontSize:a,fontWeightLight:d,fontWeightRegular:f,fontWeightMedium:k,fontWeightBold:m},B),_,{clone:!1})}const _me=.2,Ame=.14,Cme=.12;function vn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${_me})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Ame})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Cme})`].join(",")}const xme=["none",vn(0,2,1,-1,0,1,1,0,0,1,3,0),vn(0,3,1,-2,0,2,2,0,0,1,5,0),vn(0,3,3,-2,0,3,4,0,0,1,8,0),vn(0,2,4,-1,0,4,5,0,0,1,10,0),vn(0,3,5,-1,0,5,8,0,0,1,14,0),vn(0,3,5,-1,0,6,10,0,0,1,18,0),vn(0,4,5,-2,0,7,10,1,0,2,16,1),vn(0,5,5,-3,0,8,10,1,0,3,14,2),vn(0,5,6,-3,0,9,12,1,0,3,16,2),vn(0,6,6,-3,0,10,14,1,0,4,18,3),vn(0,6,7,-4,0,11,15,1,0,4,20,3),vn(0,7,8,-4,0,12,17,2,0,5,22,4),vn(0,7,8,-4,0,13,19,2,0,5,24,4),vn(0,7,9,-4,0,14,21,2,0,5,26,4),vn(0,8,9,-5,0,15,22,2,0,6,28,5),vn(0,8,10,-5,0,16,24,2,0,6,30,5),vn(0,8,11,-5,0,17,26,2,0,6,32,5),vn(0,9,11,-5,0,18,28,2,0,7,34,6),vn(0,9,12,-6,0,19,29,2,0,7,36,6),vn(0,10,13,-6,0,20,31,3,0,8,38,7),vn(0,10,13,-6,0,21,33,3,0,8,40,7),vn(0,10,14,-6,0,22,35,3,0,8,42,7),vn(0,11,14,-7,0,23,36,3,0,9,44,8),vn(0,11,15,-7,0,24,38,3,0,9,46,8)],Eme=xme,Sme=["duration","easing","delay"],Tme={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Dme={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function kL(t){return`${Math.round(t)}ms`}function Ime(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Mme(t){const e=be({},Tme,t.easing),r=be({},Dme,t.duration);return be({getAutoHeightDuration:Ime,create:(a=["all"],d={})=>{const{duration:f=r.standard,easing:k=e.easeInOut,delay:m=0}=d;return wn(d,Sme),(Array.isArray(a)?a:[a]).map(v=>`${v} ${typeof f=="string"?f:kL(f)} ${k} ${typeof m=="string"?m:kL(m)}`).join(",")}},t,{easing:e,duration:r})}const Nme={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Pme=Nme,Ome=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function F7(t={},...e){const{mixins:r={},palette:o={},transitions:a={},typography:d={}}=t,f=wn(t,Ome);if(t.vars)throw new Error(Sf(18));const k=bme(o),m=vT(t);let v=Pa(m,{mixins:ume(m.breakpoints,r),palette:k,shadows:Eme.slice(),typography:yme(k,d),transitions:Mme(a),zIndex:be({},Pme)});return v=Pa(v,f),v=e.reduce((A,x)=>Pa(A,x),v),v.unstable_sxConfig=be({},Hy,f==null?void 0:f.unstable_sxConfig),v.unstable_sx=function(x){return Wy({sx:x,theme:this})},v}const Rme=F7(),AT=Rme;function Gy(){const t=yT(AT);return t[Oy]||t}function Kf({props:t,name:e}){return z7({props:t,name:e,defaultTheme:AT,themeId:Oy})}const $7=t=>X0(t)&&t!=="classes",Lme=rme({themeId:Oy,defaultTheme:AT,rootShouldForwardProp:$7}),is=Lme,Bme=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},bL=Bme,wL={disabled:!1},V7=wi.createContext(null);var jme=function(e){return e.scrollTop},Og="unmounted",ku="exited",bu="entering",Eh="entered",_E="exiting",Za=function(t){qZ(e,t);function e(o,a){var d;d=t.call(this,o,a)||this;var f=a,k=f&&!f.isMounting?o.enter:o.appear,m;return d.appearStatus=null,o.in?k?(m=ku,d.appearStatus=bu):m=Eh:o.unmountOnExit||o.mountOnEnter?m=Og:m=ku,d.state={status:m},d.nextCallback=null,d}e.getDerivedStateFromProps=function(a,d){var f=a.in;return f&&d.status===Og?{status:ku}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(a){var d=null;if(a!==this.props){var f=this.state.status;this.props.in?f!==bu&&f!==Eh&&(d=bu):(f===bu||f===Eh)&&(d=_E)}this.updateStatus(!1,d)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var a=this.props.timeout,d,f,k;return d=f=k=a,a!=null&&typeof a!="number"&&(d=a.exit,f=a.enter,k=a.appear!==void 0?a.appear:f),{exit:d,enter:f,appear:k}},r.updateStatus=function(a,d){if(a===void 0&&(a=!1),d!==null)if(this.cancelNextCallback(),d===bu){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:h0.findDOMNode(this);f&&jme(f)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ku&&this.setState({status:Og})},r.performEnter=function(a){var d=this,f=this.props.enter,k=this.context?this.context.isMounting:a,m=this.props.nodeRef?[k]:[h0.findDOMNode(this),k],v=m[0],A=m[1],x=this.getTimeouts(),_=k?x.appear:x.enter;if(!a&&!f||wL.disabled){this.safeSetState({status:Eh},function(){d.props.onEntered(v)});return}this.props.onEnter(v,A),this.safeSetState({status:bu},function(){d.props.onEntering(v,A),d.onTransitionEnd(_,function(){d.safeSetState({status:Eh},function(){d.props.onEntered(v,A)})})})},r.performExit=function(){var a=this,d=this.props.exit,f=this.getTimeouts(),k=this.props.nodeRef?void 0:h0.findDOMNode(this);if(!d||wL.disabled){this.safeSetState({status:ku},function(){a.props.onExited(k)});return}this.props.onExit(k),this.safeSetState({status:_E},function(){a.props.onExiting(k),a.onTransitionEnd(f.exit,function(){a.safeSetState({status:ku},function(){a.props.onExited(k)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(a,d){d=this.setNextCallback(d),this.setState(a,d)},r.setNextCallback=function(a){var d=this,f=!0;return this.nextCallback=function(k){f&&(f=!1,d.nextCallback=null,a(k))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},r.onTransitionEnd=function(a,d){this.setNextCallback(d);var f=this.props.nodeRef?this.props.nodeRef.current:h0.findDOMNode(this),k=a==null&&!this.props.addEndListener;if(!f||k){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var m=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],v=m[0],A=m[1];this.props.addEndListener(v,A)}a!=null&&setTimeout(this.nextCallback,a)},r.render=function(){var a=this.state.status;if(a===Og)return null;var d=this.props,f=d.children;d.in,d.mountOnEnter,d.unmountOnExit,d.appear,d.enter,d.exit,d.timeout,d.addEndListener,d.onEnter,d.onEntering,d.onEntered,d.onExit,d.onExiting,d.onExited,d.nodeRef;var k=wn(d,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return wi.createElement(V7.Provider,{value:null},typeof f=="function"?f(a,k):wi.cloneElement(wi.Children.only(f),k))},e}(wi.Component);Za.contextType=V7;Za.propTypes={};function Ah(){}Za.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ah,onEntering:Ah,onEntered:Ah,onExit:Ah,onExiting:Ah,onExited:Ah};Za.UNMOUNTED=Og;Za.EXITED=ku;Za.ENTERING=bu;Za.ENTERED=Eh;Za.EXITING=_E;const U7=Za,H7=t=>t.scrollTop;function Gm(t,e){var r,o;const{timeout:a,easing:d,style:f={}}=t;return{duration:(r=f.transitionDuration)!=null?r:typeof a=="number"?a:a[e.mode]||0,easing:(o=f.transitionTimingFunction)!=null?o:typeof d=="object"?d[e.mode]:d,delay:f.transitionDelay}}function zme(t){return dd("MuiPaper",t)}Gf("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Fme=["className","component","elevation","square","variant"],$me=t=>{const{square:e,elevation:r,variant:o,classes:a}=t,d={root:["root",o,!e&&"rounded",o==="elevation"&&`elevation${r}`]};return qf(d,zme,a)},Vme=is("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(({theme:t,ownerState:e})=>{var r;return be({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&be({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${yE("#fff",bL(e.elevation))}, ${yE("#fff",bL(e.elevation))})`},t.vars&&{backgroundImage:(r=t.vars.overlays)==null?void 0:r[e.elevation]}))}),Ume=G.forwardRef(function(e,r){const o=Kf({props:e,name:"MuiPaper"}),{className:a,component:d="div",elevation:f=1,square:k=!1,variant:m="elevation"}=o,v=wn(o,Fme),A=be({},o,{component:d,elevation:f,square:k,variant:m}),x=$me(A);return W.jsx(Vme,be({as:d,ownerState:A,className:_i(x.root,a),ref:r},v))}),Hme=Ume;function W7(t){return typeof t=="string"}function Wme(t,e,r){return t===void 0||W7(t)?e:be({},e,{ownerState:be({},e.ownerState,r)})}const qme={disableDefaultClasses:!1},Gme=G.createContext(qme);function Yme(t){const{disableDefaultClasses:e}=G.useContext(Gme);return r=>e?"":t(r)}function q7(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(o=>o.match(/^on[A-Z]/)&&typeof t[o]=="function"&&!e.includes(o)).forEach(o=>{r[o]=t[o]}),r}function AE(t,e,r){return typeof t=="function"?t(e,r):t}function vL(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function Kme(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:o,externalForwardedProps:a,className:d}=t;if(!e){const T=_i(a==null?void 0:a.className,o==null?void 0:o.className,d,r==null?void 0:r.className),D=be({},r==null?void 0:r.style,a==null?void 0:a.style,o==null?void 0:o.style),M=be({},r,a,o);return T.length>0&&(M.className=T),Object.keys(D).length>0&&(M.style=D),{props:M,internalRef:void 0}}const f=q7(be({},a,o)),k=vL(o),m=vL(a),v=e(f),A=_i(v==null?void 0:v.className,r==null?void 0:r.className,d,a==null?void 0:a.className,o==null?void 0:o.className),x=be({},v==null?void 0:v.style,r==null?void 0:r.style,a==null?void 0:a.style,o==null?void 0:o.style),_=be({},v,r,m,k);return A.length>0&&(_.className=A),Object.keys(x).length>0&&(_.style=x),{props:_,internalRef:v.ref}}const Qme=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function yL(t){var e;const{elementType:r,externalSlotProps:o,ownerState:a,skipResolvingSlotProps:d=!1}=t,f=wn(t,Qme),k=d?{}:AE(o,a),{props:m,internalRef:v}=Kme(be({},f,{externalSlotProps:k})),A=ud(v,k==null?void 0:k.ref,(e=t.additionalProps)==null?void 0:e.ref);return Wme(r,be({},m,{ref:A}),a)}const Zme=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Jme(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Xme(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=o=>t.ownerDocument.querySelector(`input[type="radio"]${o}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function eke(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Xme(t))}function tke(t){const e=[],r=[];return Array.from(t.querySelectorAll(Zme)).forEach((o,a)=>{const d=Jme(o);d===-1||!eke(o)||(d===0?e.push(o):r.push({documentOrder:a,tabIndex:d,node:o}))}),r.sort((o,a)=>o.tabIndex===a.tabIndex?o.documentOrder-a.documentOrder:o.tabIndex-a.tabIndex).map(o=>o.node).concat(e)}function nke(){return!0}function rke(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:o=!1,disableRestoreFocus:a=!1,getTabbable:d=tke,isEnabled:f=nke,open:k}=t,m=G.useRef(!1),v=G.useRef(null),A=G.useRef(null),x=G.useRef(null),_=G.useRef(null),T=G.useRef(!1),D=G.useRef(null),M=ud(e.ref,D),B=G.useRef(null);G.useEffect(()=>{!k||!D.current||(T.current=!r)},[r,k]),G.useEffect(()=>{if(!k||!D.current)return;const z=Ao(D.current);return D.current.contains(z.activeElement)||(D.current.hasAttribute("tabIndex")||D.current.setAttribute("tabIndex","-1"),T.current&&D.current.focus()),()=>{a||(x.current&&x.current.focus&&(m.current=!0,x.current.focus()),x.current=null)}},[k]),G.useEffect(()=>{if(!k||!D.current)return;const z=Ao(D.current),Y=Z=>{const{current:V}=D;if(V!==null){if(!z.hasFocus()||o||!f()||m.current){m.current=!1;return}if(!V.contains(z.activeElement)){if(Z&&_.current!==Z.target||z.activeElement!==_.current)_.current=null;else if(_.current!==null)return;if(!T.current)return;let he=[];if((z.activeElement===v.current||z.activeElement===A.current)&&(he=d(D.current)),he.length>0){var se,ie;const $e=!!((se=B.current)!=null&&se.shiftKey&&((ie=B.current)==null?void 0:ie.key)==="Tab"),De=he[0],Re=he[he.length-1];typeof De!="string"&&typeof Re!="string"&&($e?Re.focus():De.focus())}else V.focus()}}},X=Z=>{B.current=Z,!(o||!f()||Z.key!=="Tab")&&z.activeElement===D.current&&Z.shiftKey&&(m.current=!0,A.current&&A.current.focus())};z.addEventListener("focusin",Y),z.addEventListener("keydown",X,!0);const ne=setInterval(()=>{z.activeElement&&z.activeElement.tagName==="BODY"&&Y(null)},50);return()=>{clearInterval(ne),z.removeEventListener("focusin",Y),z.removeEventListener("keydown",X,!0)}},[r,o,a,f,k,d]);const O=z=>{x.current===null&&(x.current=z.relatedTarget),T.current=!0,_.current=z.target;const Y=e.props.onFocus;Y&&Y(z)},L=z=>{x.current===null&&(x.current=z.relatedTarget),T.current=!0};return W.jsxs(G.Fragment,{children:[W.jsx("div",{tabIndex:k?0:-1,onFocus:L,ref:v,"data-testid":"sentinelStart"}),G.cloneElement(e,{ref:M,onFocus:O}),W.jsx("div",{tabIndex:k?0:-1,onFocus:L,ref:A,"data-testid":"sentinelEnd"})]})}function ike(t){return typeof t=="function"?t():t}const oke=G.forwardRef(function(e,r){const{children:o,container:a,disablePortal:d=!1}=e,[f,k]=G.useState(null),m=ud(G.isValidElement(o)?o.ref:null,r);if(Um(()=>{d||k(ike(a)||document.body)},[a,d]),Um(()=>{if(f&&!d)return kE(r,f),()=>{kE(r,null)}},[r,f,d]),d){if(G.isValidElement(o)){const v={ref:m};return G.cloneElement(o,v)}return W.jsx(G.Fragment,{children:o})}return W.jsx(G.Fragment,{children:f&&ff.createPortal(o,f)})});function ske(t){const e=Ao(t);return e.body===t?Oa(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function em(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function _L(t){return parseInt(Oa(t).getComputedStyle(t).paddingRight,10)||0}function ake(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,o=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||o}function AL(t,e,r,o,a){const d=[e,r,...o];[].forEach.call(t.children,f=>{const k=d.indexOf(f)===-1,m=!ake(f);k&&m&&em(f,a)})}function f1(t,e){let r=-1;return t.some((o,a)=>e(o)?(r=a,!0):!1),r}function cke(t,e){const r=[],o=t.container;if(!e.disableScrollLock){if(ske(o)){const f=qfe(Ao(o));r.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${_L(o)+f}px`;const k=Ao(o).querySelectorAll(".mui-fixed");[].forEach.call(k,m=>{r.push({value:m.style.paddingRight,property:"padding-right",el:m}),m.style.paddingRight=`${_L(m)+f}px`})}let d;if(o.parentNode instanceof DocumentFragment)d=Ao(o).body;else{const f=o.parentElement,k=Oa(o);d=(f==null?void 0:f.nodeName)==="HTML"&&k.getComputedStyle(f).overflowY==="scroll"?f:o}r.push({value:d.style.overflow,property:"overflow",el:d},{value:d.style.overflowX,property:"overflow-x",el:d},{value:d.style.overflowY,property:"overflow-y",el:d}),d.style.overflow="hidden"}return()=>{r.forEach(({value:d,el:f,property:k})=>{d?f.style.setProperty(k,d):f.style.removeProperty(k)})}}function lke(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class uke{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,r){let o=this.modals.indexOf(e);if(o!==-1)return o;o=this.modals.length,this.modals.push(e),e.modalRef&&em(e.modalRef,!1);const a=lke(r);AL(r,e.mount,e.modalRef,a,!0);const d=f1(this.containers,f=>f.container===r);return d!==-1?(this.containers[d].modals.push(e),o):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:a}),o)}mount(e,r){const o=f1(this.containers,d=>d.modals.indexOf(e)!==-1),a=this.containers[o];a.restore||(a.restore=cke(a,r))}remove(e,r=!0){const o=this.modals.indexOf(e);if(o===-1)return o;const a=f1(this.containers,f=>f.modals.indexOf(e)!==-1),d=this.containers[a];if(d.modals.splice(d.modals.indexOf(e),1),this.modals.splice(o,1),d.modals.length===0)d.restore&&d.restore(),e.modalRef&&em(e.modalRef,r),AL(d.container,e.mount,e.modalRef,d.hiddenSiblings,!1),this.containers.splice(a,1);else{const f=d.modals[d.modals.length-1];f.modalRef&&em(f.modalRef,!1)}return o}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function dke(t){return typeof t=="function"?t():t}function hke(t){return t?t.props.hasOwnProperty("in"):!1}const fke=new uke;function pke(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:o=!1,manager:a=fke,closeAfterTransition:d=!1,onTransitionEnter:f,onTransitionExited:k,children:m,onClose:v,open:A,rootRef:x}=t,_=G.useRef({}),T=G.useRef(null),D=G.useRef(null),M=ud(D,x),[B,O]=G.useState(!A),L=hke(m);let z=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(z=!1);const Y=()=>Ao(T.current),X=()=>(_.current.modalRef=D.current,_.current.mount=T.current,_.current),ne=()=>{a.mount(X(),{disableScrollLock:o}),D.current&&(D.current.scrollTop=0)},Z=Jg(()=>{const He=dke(e)||Y().body;a.add(X(),He),D.current&&ne()}),V=G.useCallback(()=>a.isTopModal(X()),[a]),se=Jg(He=>{T.current=He,He&&(A&&V()?ne():D.current&&em(D.current,z))}),ie=G.useCallback(()=>{a.remove(X(),z)},[z,a]);G.useEffect(()=>()=>{ie()},[ie]),G.useEffect(()=>{A?Z():(!L||!d)&&ie()},[A,ie,L,d,Z]);const he=He=>qe=>{var de;(de=He.onKeyDown)==null||de.call(He,qe),!(qe.key!=="Escape"||!V())&&(r||(qe.stopPropagation(),v&&v(qe,"escapeKeyDown")))},$e=He=>qe=>{var de;(de=He.onClick)==null||de.call(He,qe),qe.target===qe.currentTarget&&v&&v(qe,"backdropClick")};return{getRootProps:(He={})=>{const qe=q7(t);delete qe.onTransitionEnter,delete qe.onTransitionExited;const de=be({},qe,He);return be({role:"presentation"},de,{onKeyDown:he(de),ref:M})},getBackdropProps:(He={})=>{const qe=He;return be({"aria-hidden":!0},qe,{onClick:$e(qe),open:A})},getTransitionProps:()=>{const He=()=>{O(!1),f&&f()},qe=()=>{O(!0),k&&k(),d&&ie()};return{onEnter:X3(He,m.props.onEnter),onExited:X3(qe,m.props.onExited)}},rootRef:M,portalRef:se,isTopModal:V,exited:B,hasTransition:L}}function gke(t){return dd("MuiModal",t)}Gf("MuiModal",["root","hidden","backdrop"]);const mke=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],kke=t=>{const{open:e,exited:r}=t;return qf({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},Yme(gke))},bke=G.forwardRef(function(e,r){var o;const{children:a,closeAfterTransition:d=!1,container:f,disableAutoFocus:k=!1,disableEnforceFocus:m=!1,disableEscapeKeyDown:v=!1,disablePortal:A=!1,disableRestoreFocus:x=!1,disableScrollLock:_=!1,hideBackdrop:T=!1,keepMounted:D=!1,onBackdropClick:M,open:B,slotProps:O={},slots:L={}}=e,z=wn(e,mke),Y=be({},e,{closeAfterTransition:d,disableAutoFocus:k,disableEnforceFocus:m,disableEscapeKeyDown:v,disablePortal:A,disableRestoreFocus:x,disableScrollLock:_,hideBackdrop:T,keepMounted:D}),{getRootProps:X,getBackdropProps:ne,getTransitionProps:Z,portalRef:V,isTopModal:se,exited:ie,hasTransition:he}=pke(be({},Y,{rootRef:r})),$e=be({},Y,{exited:ie,hasTransition:he}),De=kke($e),Re={};if(a.props.tabIndex===void 0&&(Re.tabIndex="-1"),he){const{onEnter:xe,onExited:we}=Z();Re.onEnter=xe,Re.onExited=we}const Ge=(o=L.root)!=null?o:"div",He=yL({elementType:Ge,externalSlotProps:O.root,externalForwardedProps:z,getSlotProps:X,className:De.root,ownerState:$e}),qe=L.backdrop,de=yL({elementType:qe,externalSlotProps:O.backdrop,getSlotProps:xe=>ne(be({},xe,{onClick:we=>{M&&M(we),xe!=null&&xe.onClick&&xe.onClick(we)}})),className:De.backdrop,ownerState:$e});return!D&&!B&&(!he||ie)?null:W.jsx(oke,{ref:V,container:f,disablePortal:A,children:W.jsxs(Ge,be({},He,{children:[!T&&qe?W.jsx(qe,be({},de)):null,W.jsx(rke,{disableEnforceFocus:m,disableAutoFocus:k,disableRestoreFocus:x,isEnabled:se,open:B,children:G.cloneElement(a,Re)})]}))})});function wke(t){const{children:e,defer:r=!1,fallback:o=null}=t,[a,d]=G.useState(!1);return Um(()=>{r||d(!0)},[r]),G.useEffect(()=>{r&&d(!0)},[r]),W.jsx(G.Fragment,{children:a?e:o})}const vke=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],yke={entering:{opacity:1},entered:{opacity:1}},_ke=G.forwardRef(function(e,r){const o=Gy(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:d,appear:f=!0,children:k,easing:m,in:v,onEnter:A,onEntered:x,onEntering:_,onExit:T,onExited:D,onExiting:M,style:B,timeout:O=a,TransitionComponent:L=U7}=e,z=wn(e,vke),Y=G.useRef(null),X=ud(Y,k.ref,r),ne=Re=>Ge=>{if(Re){const He=Y.current;Ge===void 0?Re(He):Re(He,Ge)}},Z=ne(_),V=ne((Re,Ge)=>{H7(Re);const He=Gm({style:B,timeout:O,easing:m},{mode:"enter"});Re.style.webkitTransition=o.transitions.create("opacity",He),Re.style.transition=o.transitions.create("opacity",He),A&&A(Re,Ge)}),se=ne(x),ie=ne(M),he=ne(Re=>{const Ge=Gm({style:B,timeout:O,easing:m},{mode:"exit"});Re.style.webkitTransition=o.transitions.create("opacity",Ge),Re.style.transition=o.transitions.create("opacity",Ge),T&&T(Re)}),$e=ne(D),De=Re=>{d&&d(Y.current,Re)};return W.jsx(L,be({appear:f,in:v,nodeRef:Y,onEnter:V,onEntered:se,onEntering:Z,onExit:he,onExited:$e,onExiting:ie,addEndListener:De,timeout:O},z,{children:(Re,Ge)=>G.cloneElement(k,be({style:be({opacity:0,visibility:Re==="exited"&&!v?"hidden":void 0},yke[Re],B,k.props.style),ref:X},Ge))}))}),Ake=_ke;function Cke(t){return dd("MuiBackdrop",t)}Gf("MuiBackdrop",["root","invisible"]);const xke=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Eke=t=>{const{classes:e,invisible:r}=t;return qf({root:["root",r&&"invisible"]},Cke,e)},Ske=is("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})(({ownerState:t})=>be({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Tke=G.forwardRef(function(e,r){var o,a,d;const f=Kf({props:e,name:"MuiBackdrop"}),{children:k,className:m,component:v="div",components:A={},componentsProps:x={},invisible:_=!1,open:T,slotProps:D={},slots:M={},TransitionComponent:B=Ake,transitionDuration:O}=f,L=wn(f,xke),z=be({},f,{component:v,invisible:_}),Y=Eke(z),X=(o=D.root)!=null?o:x.root;return W.jsx(B,be({in:T,timeout:O},L,{children:W.jsx(Ske,be({"aria-hidden":!0},X,{as:(a=(d=M.root)!=null?d:A.Root)!=null?a:v,className:_i(Y.root,m,X==null?void 0:X.className),ownerState:be({},z,X==null?void 0:X.ownerState),classes:Y,ref:r,children:k}))}))}),Dke=Tke,Ike=F7(),Mke=qge({themeId:Oy,defaultTheme:Ike,defaultClassName:"MuiBox-root",generateClassName:v7.generate}),Nke=Mke,Pke=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],Oke=is("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(({theme:t,ownerState:e})=>be({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Rke=is(Dke,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Lke=G.forwardRef(function(e,r){var o,a,d,f,k,m;const v=Kf({name:"MuiModal",props:e}),{BackdropComponent:A=Rke,BackdropProps:x,classes:_,className:T,closeAfterTransition:D=!1,children:M,container:B,component:O,components:L={},componentsProps:z={},disableAutoFocus:Y=!1,disableEnforceFocus:X=!1,disableEscapeKeyDown:ne=!1,disablePortal:Z=!1,disableRestoreFocus:V=!1,disableScrollLock:se=!1,hideBackdrop:ie=!1,keepMounted:he=!1,onBackdropClick:$e,onClose:De,open:Re,slotProps:Ge,slots:He,theme:qe}=v,de=wn(v,Pke),[xe,we]=G.useState(!0),ee={container:B,closeAfterTransition:D,disableAutoFocus:Y,disableEnforceFocus:X,disableEscapeKeyDown:ne,disablePortal:Z,disableRestoreFocus:V,disableScrollLock:se,hideBackdrop:ie,keepMounted:he,onBackdropClick:$e,onClose:De,open:Re},oe=be({},v,ee,{exited:xe}),J=(o=(a=He==null?void 0:He.root)!=null?a:L.Root)!=null?o:Oke,pe=(d=(f=He==null?void 0:He.backdrop)!=null?f:L.Backdrop)!=null?d:A,ce=(k=Ge==null?void 0:Ge.root)!=null?k:z.root,Ne=(m=Ge==null?void 0:Ge.backdrop)!=null?m:z.backdrop;return W.jsx(bke,be({slots:{root:J,backdrop:pe},slotProps:{root:()=>be({},AE(ce,oe),!W7(J)&&{as:O,theme:qe},{className:_i(T,ce==null?void 0:ce.className,_==null?void 0:_.root,!oe.open&&oe.exited&&(_==null?void 0:_.hidden))}),backdrop:()=>be({},x,AE(Ne,oe),{className:_i(Ne==null?void 0:Ne.className,x==null?void 0:x.className,_==null?void 0:_.backdrop)})},onTransitionEnter:()=>we(!1),onTransitionExited:()=>we(!0),ref:r},de,ee,{children:M}))}),Bke=Lke;function jke(t){return dd("MuiDivider",t)}Gf("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const zke=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Fke=t=>{const{absolute:e,children:r,classes:o,flexItem:a,light:d,orientation:f,textAlign:k,variant:m}=t;return qf({root:["root",e&&"absolute",m,d&&"light",f==="vertical"&&"vertical",a&&"flexItem",r&&"withChildren",r&&f==="vertical"&&"withChildrenVertical",k==="right"&&f!=="vertical"&&"textAlignRight",k==="left"&&f!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",f==="vertical"&&"wrapperVertical"]},jke,o)},$ke=is("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,r.orientation==="vertical"&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&r.orientation==="vertical"&&e.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&e.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>be({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:yE(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>be({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>be({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>be({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>be({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),Vke=is("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,r.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>be({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),G7=G.forwardRef(function(e,r){const o=Kf({props:e,name:"MuiDivider"}),{absolute:a=!1,children:d,className:f,component:k=d?"div":"hr",flexItem:m=!1,light:v=!1,orientation:A="horizontal",role:x=k!=="hr"?"separator":void 0,textAlign:_="center",variant:T="fullWidth"}=o,D=wn(o,zke),M=be({},o,{absolute:a,component:k,flexItem:m,light:v,orientation:A,role:x,textAlign:_,variant:T}),B=Fke(M);return W.jsx($ke,be({as:k,className:_i(B.root,f),role:x,ref:r,ownerState:M},D,{children:d?W.jsx(Vke,{className:B.wrapper,ownerState:M,children:d}):null}))});G7.muiSkipListHighlight=!0;const Uke=G7,Hke=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Wke(t,e,r){const o=e.getBoundingClientRect(),a=r&&r.getBoundingClientRect(),d=Oa(e);let f;if(e.fakeTransform)f=e.fakeTransform;else{const v=d.getComputedStyle(e);f=v.getPropertyValue("-webkit-transform")||v.getPropertyValue("transform")}let k=0,m=0;if(f&&f!=="none"&&typeof f=="string"){const v=f.split("(")[1].split(")")[0].split(",");k=parseInt(v[4],10),m=parseInt(v[5],10)}return t==="left"?a?`translateX(${a.right+k-o.left}px)`:`translateX(${d.innerWidth+k-o.left}px)`:t==="right"?a?`translateX(-${o.right-a.left-k}px)`:`translateX(-${o.left+o.width-k}px)`:t==="up"?a?`translateY(${a.bottom+m-o.top}px)`:`translateY(${d.innerHeight+m-o.top}px)`:a?`translateY(-${o.top-a.top+o.height-m}px)`:`translateY(-${o.top+o.height-m}px)`}function qke(t){return typeof t=="function"?t():t}function E0(t,e,r){const o=qke(r),a=Wke(t,e,o);a&&(e.style.webkitTransform=a,e.style.transform=a)}const Gke=G.forwardRef(function(e,r){const o=Gy(),a={enter:o.transitions.easing.easeOut,exit:o.transitions.easing.sharp},d={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:f,appear:k=!0,children:m,container:v,direction:A="down",easing:x=a,in:_,onEnter:T,onEntered:D,onEntering:M,onExit:B,onExited:O,onExiting:L,style:z,timeout:Y=d,TransitionComponent:X=U7}=e,ne=wn(e,Hke),Z=G.useRef(null),V=ud(m.ref,Z,r),se=de=>xe=>{de&&(xe===void 0?de(Z.current):de(Z.current,xe))},ie=se((de,xe)=>{E0(A,de,v),H7(de),T&&T(de,xe)}),he=se((de,xe)=>{const we=Gm({timeout:Y,style:z,easing:x},{mode:"enter"});de.style.webkitTransition=o.transitions.create("-webkit-transform",be({},we)),de.style.transition=o.transitions.create("transform",be({},we)),de.style.webkitTransform="none",de.style.transform="none",M&&M(de,xe)}),$e=se(D),De=se(L),Re=se(de=>{const xe=Gm({timeout:Y,style:z,easing:x},{mode:"exit"});de.style.webkitTransition=o.transitions.create("-webkit-transform",xe),de.style.transition=o.transitions.create("transform",xe),E0(A,de,v),B&&B(de)}),Ge=se(de=>{de.style.webkitTransition="",de.style.transition="",O&&O(de)}),He=de=>{f&&f(Z.current,de)},qe=G.useCallback(()=>{Z.current&&E0(A,Z.current,v)},[A,v]);return G.useEffect(()=>{if(_||A==="down"||A==="right")return;const de=Hfe(()=>{Z.current&&E0(A,Z.current,v)}),xe=Oa(Z.current);return xe.addEventListener("resize",de),()=>{de.clear(),xe.removeEventListener("resize",de)}},[A,_,v]),G.useEffect(()=>{_||qe()},[_,qe]),W.jsx(X,be({nodeRef:Z,onEnter:ie,onEntered:$e,onEntering:he,onExit:Re,onExited:Ge,onExiting:De,addEndListener:He,appear:k,in:_,timeout:Y},ne,{children:(de,xe)=>G.cloneElement(m,be({ref:V,style:be({visibility:de==="exited"&&!_?"hidden":void 0},z,m.props.style)},xe))}))}),Yke=Gke;function Kke(t){return dd("MuiDrawer",t)}Gf("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Qke=["BackdropProps"],Zke=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Y7=(t,e)=>{const{ownerState:r}=t;return[e.root,(r.variant==="permanent"||r.variant==="persistent")&&e.docked,e.modal]},Jke=t=>{const{classes:e,anchor:r,variant:o}=t,a={root:["root"],docked:[(o==="permanent"||o==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${ea(r)}`,o!=="temporary"&&`paperAnchorDocked${ea(r)}`]};return qf(a,Kke,e)},Xke=is(Bke,{name:"MuiDrawer",slot:"Root",overridesResolver:Y7})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),CL=is("div",{shouldForwardProp:$7,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Y7})({flex:"0 0 auto"}),ebe=is(Hme,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`paperAnchor${ea(r.anchor)}`],r.variant!=="temporary"&&e[`paperAnchorDocked${ea(r.anchor)}`]]}})(({theme:t,ownerState:e})=>be({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),K7={left:"right",right:"left",top:"down",bottom:"up"};function yu(t){return["left","right"].indexOf(t)!==-1}function Rg(t,e){return t.direction==="rtl"&&yu(e)?K7[e]:e}const tbe=G.forwardRef(function(e,r){const o=Kf({props:e,name:"MuiDrawer"}),a=Gy(),d={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{anchor:f="left",BackdropProps:k,children:m,className:v,elevation:A=16,hideBackdrop:x=!1,ModalProps:{BackdropProps:_}={},onClose:T,open:D=!1,PaperProps:M={},SlideProps:B,TransitionComponent:O=Yke,transitionDuration:L=d,variant:z="temporary"}=o,Y=wn(o.ModalProps,Qke),X=wn(o,Zke),ne=G.useRef(!1);G.useEffect(()=>{ne.current=!0},[]);const Z=Rg(a,f),se=be({},o,{anchor:f,elevation:A,open:D,variant:z},X),ie=Jke(se),he=W.jsx(ebe,be({elevation:z==="temporary"?A:0,square:!0},M,{className:_i(ie.paper,M.className),ownerState:se,children:m}));if(z==="permanent")return W.jsx(CL,be({className:_i(ie.root,ie.docked,v),ownerState:se,ref:r},X,{children:he}));const $e=W.jsx(O,be({in:D,direction:K7[Z],timeout:L,appear:ne.current},B,{children:he}));return z==="persistent"?W.jsx(CL,be({className:_i(ie.root,ie.docked,v),ownerState:se,ref:r},X,{children:$e})):W.jsx(Xke,be({BackdropProps:be({},k,_,{transitionDuration:L}),className:_i(ie.root,ie.modal,v),open:D,ownerState:se,onClose:T,hideBackdrop:x,ref:r},X,Y,{children:$e}))}),nbe=tbe,rbe=G.createContext({}),ibe=rbe;function obe(t){return dd("MuiList",t)}Gf("MuiList",["root","padding","dense","subheader"]);const sbe=["children","className","component","dense","disablePadding","subheader"],abe=t=>{const{classes:e,disablePadding:r,dense:o,subheader:a}=t;return qf({root:["root",!r&&"padding",o&&"dense",a&&"subheader"]},obe,e)},cbe=is("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})(({ownerState:t})=>be({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),lbe=G.forwardRef(function(e,r){const o=Kf({props:e,name:"MuiList"}),{children:a,className:d,component:f="ul",dense:k=!1,disablePadding:m=!1,subheader:v}=o,A=wn(o,sbe),x=G.useMemo(()=>({dense:k}),[k]),_=be({},o,{component:f,dense:k,disablePadding:m}),T=abe(_);return W.jsx(ibe.Provider,{value:x,children:W.jsxs(cbe,be({as:f,className:_i(T.root,d),ref:r,ownerState:_},A,{children:[v,a]}))})}),ube=lbe,dbe=["anchor","classes","className","width","style"],hbe=is("div")(({theme:t,ownerState:e})=>be({position:"fixed",top:0,left:0,bottom:0,zIndex:t.zIndex.drawer-1},e.anchor==="left"&&{right:"auto"},e.anchor==="right"&&{left:"auto",right:0},e.anchor==="top"&&{bottom:"auto",right:0},e.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),fbe=G.forwardRef(function(e,r){const{anchor:o,classes:a={},className:d,width:f,style:k}=e,m=wn(e,dbe),v=e;return W.jsx(hbe,be({className:_i("PrivateSwipeArea-root",a.root,a[`anchor${ea(o)}`],d),ref:r,style:be({[yu(o)?"width":"height"]:f},k),ownerState:v},m))}),pbe=fbe,gbe=["BackdropProps"],mbe=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],S0=3,p1=20;let Aa=null;function g1(t,e,r){return t==="right"?r.body.offsetWidth-e[0].pageX:e[0].pageX}function m1(t,e,r){return t==="bottom"?r.innerHeight-e[0].clientY:e[0].clientY}function yg(t,e){return t?e.clientWidth:e.clientHeight}function xL(t,e,r,o){return Math.min(Math.max(r?e-t:o+e-t,0),o)}function kbe(t,e){const r=[];for(;t&&t!==e.parentElement;){const o=Oa(e).getComputedStyle(t);o.getPropertyValue("position")==="absolute"||o.getPropertyValue("overflow-x")==="hidden"||(t.clientWidth>0&&t.scrollWidth>t.clientWidth||t.clientHeight>0&&t.scrollHeight>t.clientHeight)&&r.push(t),t=t.parentElement}return r}function bbe({domTreeShapes:t,start:e,current:r,anchor:o}){const a={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return t.some(d=>{let f=r>=e;(o==="top"||o==="left")&&(f=!f);const k=o==="left"||o==="right"?"x":"y",m=Math.round(d[a.scrollPosition[k]]),v=m>0,A=m+d[a.clientLength[k]]<d[a.scrollLength[k]];return!!(f&&A||!f&&v)})}const wbe=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),vbe=G.forwardRef(function(e,r){const o=z7({name:"MuiSwipeableDrawer",props:e}),a=Gy(),d={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{anchor:f="left",disableBackdropTransition:k=!1,disableDiscovery:m=!1,disableSwipeToOpen:v=wbe,hideBackdrop:A,hysteresis:x=.52,allowSwipeInChildren:_=!1,minFlingVelocity:T=450,ModalProps:{BackdropProps:D}={},onClose:M,onOpen:B,open:O=!1,PaperProps:L={},SwipeAreaProps:z,swipeAreaWidth:Y=20,transitionDuration:X=d,variant:ne="temporary"}=o,Z=wn(o.ModalProps,gbe),V=wn(o,mbe),[se,ie]=G.useState(!1),he=G.useRef({isSwiping:null}),$e=G.useRef(),De=G.useRef(),Re=G.useRef(),Ge=ud(L.ref,Re),He=G.useRef(!1),qe=G.useRef();Um(()=>{qe.current=null},[O]);const de=G.useCallback((J,pe={})=>{const{mode:ce=null,changeTransition:Ne=!0}=pe,Be=Rg(a,f),Se=["right","bottom"].indexOf(Be)!==-1?1:-1,_t=yu(f),At=_t?`translate(${Se*J}px, 0)`:`translate(0, ${Se*J}px)`,xt=Re.current.style;xt.webkitTransform=At,xt.transform=At;let ot="";if(ce&&(ot=a.transitions.create("all",Gm({easing:void 0,style:void 0,timeout:X},{mode:ce}))),Ne&&(xt.webkitTransition=ot,xt.transition=ot),!k&&!A){const Lt=De.current.style;Lt.opacity=1-J/yg(_t,Re.current),Ne&&(Lt.webkitTransition=ot,Lt.transition=ot)}},[f,k,A,a,X]),xe=Jg(J=>{if(!He.current)return;if(Aa=null,He.current=!1,ff.flushSync(()=>{ie(!1)}),!he.current.isSwiping){he.current.isSwiping=null;return}he.current.isSwiping=null;const pe=Rg(a,f),ce=yu(f);let Ne;ce?Ne=g1(pe,J.changedTouches,Ao(J.currentTarget)):Ne=m1(pe,J.changedTouches,Oa(J.currentTarget));const Be=ce?he.current.startX:he.current.startY,Se=yg(ce,Re.current),_t=xL(Ne,Be,O,Se),At=_t/Se;if(Math.abs(he.current.velocity)>T&&(qe.current=Math.abs((Se-_t)/he.current.velocity)*1e3),O){he.current.velocity>T||At>x?M():de(0,{mode:"exit"});return}he.current.velocity<-T||1-At>x?B():de(yg(ce,Re.current),{mode:"enter"})}),we=(J=!1)=>{if(!se){(J||!(m&&_))&&ff.flushSync(()=>{ie(!0)});const pe=yu(f);!O&&Re.current&&de(yg(pe,Re.current)+(m?15:-p1),{changeTransition:!1}),he.current.velocity=0,he.current.lastTime=null,he.current.lastTranslate=null,he.current.paperHit=!1,He.current=!0}},ee=Jg(J=>{if(!Re.current||!He.current||Aa!==null&&Aa!==he.current)return;we(!0);const pe=Rg(a,f),ce=yu(f),Ne=g1(pe,J.touches,Ao(J.currentTarget)),Be=m1(pe,J.touches,Oa(J.currentTarget));if(O&&Re.current.contains(J.target)&&Aa===null){const ot=kbe(J.target,Re.current);if(bbe({domTreeShapes:ot,start:ce?he.current.startX:he.current.startY,current:ce?Ne:Be,anchor:f})){Aa=!0;return}Aa=he.current}if(he.current.isSwiping==null){const ot=Math.abs(Ne-he.current.startX),Lt=Math.abs(Be-he.current.startY),ht=ce?ot>Lt&&ot>S0:Lt>ot&&Lt>S0;if(ht&&J.cancelable&&J.preventDefault(),ht===!0||(ce?Lt>S0:ot>S0)){if(he.current.isSwiping=ht,!ht){xe(J);return}he.current.startX=Ne,he.current.startY=Be,!m&&!O&&(ce?he.current.startX-=p1:he.current.startY-=p1)}}if(!he.current.isSwiping)return;const Se=yg(ce,Re.current);let _t=ce?he.current.startX:he.current.startY;O&&!he.current.paperHit&&(_t=Math.min(_t,Se));const At=xL(ce?Ne:Be,_t,O,Se);if(O)if(he.current.paperHit)At===0&&(he.current.startX=Ne,he.current.startY=Be);else if(ce?Ne<Se:Be<Se)he.current.paperHit=!0,he.current.startX=Ne,he.current.startY=Be;else return;he.current.lastTranslate===null&&(he.current.lastTranslate=At,he.current.lastTime=performance.now()+1);const xt=(At-he.current.lastTranslate)/(performance.now()-he.current.lastTime)*1e3;he.current.velocity=he.current.velocity*.4+xt*.6,he.current.lastTranslate=At,he.current.lastTime=performance.now(),J.cancelable&&J.preventDefault(),de(At)}),oe=Jg(J=>{if(J.defaultPrevented||J.defaultMuiPrevented||O&&(A||!De.current.contains(J.target))&&!Re.current.contains(J.target))return;const pe=Rg(a,f),ce=yu(f),Ne=g1(pe,J.touches,Ao(J.currentTarget)),Be=m1(pe,J.touches,Oa(J.currentTarget));if(!O){var Se;if(v||!(J.target===$e.current||(Se=Re.current)!=null&&Se.contains(J.target)&&(typeof _=="function"?_(J,$e.current,Re.current):_)))return;if(ce){if(Ne>Y)return}else if(Be>Y)return}J.defaultMuiPrevented=!0,Aa=null,he.current.startX=Ne,he.current.startY=Be,we()});return G.useEffect(()=>{if(ne==="temporary"){const J=Ao(Re.current);return J.addEventListener("touchstart",oe),J.addEventListener("touchmove",ee,{passive:!O}),J.addEventListener("touchend",xe),()=>{J.removeEventListener("touchstart",oe),J.removeEventListener("touchmove",ee,{passive:!O}),J.removeEventListener("touchend",xe)}}},[ne,O,oe,ee,xe]),G.useEffect(()=>()=>{Aa===he.current&&(Aa=null)},[]),G.useEffect(()=>{O||ie(!1)},[O]),W.jsxs(G.Fragment,{children:[W.jsx(nbe,be({open:ne==="temporary"&&se?!0:O,variant:ne,ModalProps:be({BackdropProps:be({},D,{ref:De})},ne==="temporary"&&{keepMounted:!0},Z),hideBackdrop:A,PaperProps:be({},L,{style:be({pointerEvents:ne==="temporary"&&!O&&!_?"none":""},L.style),ref:Ge}),anchor:f,transitionDuration:qe.current||X,onClose:M,ref:r},V)),!v&&ne==="temporary"&&W.jsx(wke,{children:W.jsx(pbe,be({anchor:f,ref:$e,width:Y},z))})]})}),ybe=vbe;function _be(t){return od({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(t)}const Abe=()=>{const[t,e]=G.useState(!1),[r,o]=G.useState({left:!1}),a=Zw(A=>A.user.value),d=(A,x)=>_=>{_&&_.type==="keydown"&&(_.key==="Tab"||_.key==="Shift")||o({...r,[A]:x})},f=id(),k=()=>{mee(qu).then(()=>{f("/"),console.log("Signed out successfully")}).catch(A=>{})},m=()=>{e(A=>!A)},v=A=>W.jsxs(Nke,{className:"bg-sidebar h-screen text-white",sx:{width:A==="top"||A==="bottom"?"auto":250},role:"presentation",onClick:d(A,!1),onKeyDown:d(A,!1),children:[W.jsx(Uke,{}),W.jsx(ube,{children:W.jsx("div",{children:W.jsxs("ul",{children:[W.jsxs(yi,{className:"pl-4 text-2xl mt-6 font-bold mb-12",children:["Focus",W.jsx("span",{className:"text-tertiary",children:"Vest"})]}),W.jsx(Xs,{to:"/home",className:({isActive:x})=>x?"bg-secondary w-full block border-l-2 border-l-tertiary mr-2 py-3  text-sm":"mr-2 text-sm py-3 ",children:W.jsx("li",{className:"p-4 ",children:"Home"})}),W.jsx(Xs,{to:"/notes",className:({isActive:x})=>x?"bg-secondary w-full block border-l-2 border-l-tertiary mr-2 py-3  text-sm":"mr-2 text-sm py-3 pl-4",children:W.jsx("li",{className:"p-4 ",children:"Notes"})})]})})})]});return W.jsx(W.Fragment,{children:W.jsxs("nav",{className:"flex justify-between px-3 pt-8",children:[W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx("div",{className:"md:hidden block",children:["left"].map(A=>W.jsxs("div",{className:"flex items-center",children:[W.jsx("button",{onClick:d(A,!0),children:W.jsx(_be,{className:"text-white"})}),W.jsx(ybe,{anchor:A,open:r[A],onClose:d(A,!1),onOpen:d(A,!0),children:v(A)})]},A))}),W.jsxs(yi,{className:"text-white font-bold text-xl",children:["Welcome, ",W.jsxs("span",{children:[" ",a.displayName," "]})]})]}),W.jsxs("div",{className:"relative space-y-2",children:[W.jsx(Fce,{onClick:m,className:"cursor-pointer text-white"}),t&&W.jsx("div",{className:"absolute top-5 right-0 flex justify-end border border-slate-500 bg-sidebar z-40",children:W.jsxs("div",{className:"flex flex-col text-right justify-right pl-20 pr-2 py-4 space-y-4",children:[W.jsx("button",{className:"text-right text-xs text-white underline",children:"View Profile"}),W.jsx("button",{className:"px-6 py-2 text-xs text-white bg-secondary",onClick:k,children:"Logout"})]})})]})]})})},Cbe=()=>W.jsx("aside",{className:"text-white md:block hidden",children:W.jsxs("ul",{children:[W.jsxs(yi,{className:"md:block hidden text-2xl pl-4 mt-6 font-bold mb-12",children:["Weather-Note ",W.jsx("span",{className:"text-tertiary",children:"App"})]}),W.jsxs("div",{className:"flex flex-col md:hidden items-center justify-between p-4 mt-6 space-y-6   mb-12",children:[W.jsx(yi,{className:"text-sm ",children:" X "}),W.jsxs(yi,{className:"text-2xl font-bold",children:["F",W.jsx("span",{className:"text-tertiary",children:"V"})]})]}),W.jsx(Xs,{to:"/home",className:({isActive:t})=>t?"bg-secondary w-full block border-l-2 border-l-tertiary mr-2 py-3  text-sm":"mr-2 text-sm py-3 ",children:W.jsx("li",{className:"p-4 ",children:"Home"})}),W.jsx(Xs,{to:"/notes",className:({isActive:t})=>t?"bg-secondary w-full block border-l-2 border-l-tertiary mr-2 py-3  text-sm":"mr-2 text-sm py-3 pl-4",children:W.jsx("li",{className:"p-4",children:"Notes"})}),W.jsx(Xs,{to:"/weather",className:({isActive:t})=>t?"bg-secondary w-full block border-l-2 border-l-tertiary mr-2 py-3  text-sm":"mr-2 text-sm py-3 pl-4",children:W.jsx("li",{className:"p-4",children:"Weather Map"})})]})});function xbe(t){return od({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]})(t)}function Ebe(t){return od({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 11H6.414l5.293-5.293-1.414-1.414L2.586 12l7.707 7.707 1.414-1.414L6.414 13H21z"}}]})(t)}const Sbe=()=>{const{id:t}=mce(),e=id(),[r,o]=G.useState([]),[a,d]=G.useState(!1);G.useState("");const[f,k]=G.useState(""),[m,v]=G.useState(!1),[A,x]=G.useState(),_=async()=>{try{d(!0);const O=L2(Kw(ef,"notes"),B2("uid","==",f)),L=await z2(O),z=[];L.forEach(Y=>{d(!1),z.push({id:Y.id,...Y.data()})}),o(z)}catch(O){console.error("Error fetching documents:",O)}},T=async()=>{try{await Voe(Jx(ef,"notes",t)),e(-1)}catch(O){console.error("Error deleting document: ",O)}},D=r.find(O=>O.id===t);G.useEffect(()=>{OS(qu,O=>{if(O){const L=O.uid;k(L)}else console.log("Wahala de")})},[f]),G.useEffect(()=>{_()},[f,A]);const M=()=>{v(O=>!O)},B=async()=>{v(L=>!L);const O=Jx(ef,"notes",D.id);await $oe(O,{notes:A}),e("/notes")};return D?W.jsx(W.Fragment,{children:m?W.jsx(W.Fragment,{children:W.jsxs("form",{className:"mt-10",children:[W.jsx("div",{children:W.jsx(F9.CKEditor,{editor:$9,data:D.notes,className:"w-full bg-sidebar text-sm",onReady:O=>{},onChange:(O,L)=>{const z=L.getData();x(z)},onBlur:(O,L)=>{},onFocus:(O,L)=>{}})}),W.jsx("div",{className:"flex justify-end",children:W.jsx("button",{className:"px-6 py-2 text-xs text-white bg-sidebar mt-4",onClick:B,children:"Update"})})]})}):W.jsx(W.Fragment,{children:W.jsxs("div",{className:"mt-10 text-white px-3 md:px-0",children:[W.jsx("h3",{className:"pb-1",children:"Note detail"}),W.jsxs("div",{className:"flex justify-between items-center border-t border-secondary pt-2 text-right text-xs",children:[W.jsx("p",{className:"text-lg ",children:W.jsx(Ebe,{className:"cursor-pointer",onClick:()=>e(-1)})}),W.jsx("p",{style:{fontSize:"12px"},children:D.dateCreated})]}),W.jsx("div",{className:"text-sm mt-8",children:W.jsx("div",{dangerouslySetInnerHTML:{__html:D.notes}})}),W.jsxs("div",{className:"flex justify-center space-x-4 text-lg mt-20",children:[W.jsx(zce,{onClick:M,className:"cursor-pointer"}),W.jsx(xbe,{className:"cursor-pointer",onClick:T})]})]})})}):W.jsx("div",{className:"mt-6",children:W.jsxs("p",{className:"text-white",children:["Note not found. ",W.jsx(Xs,{to:"/notes",className:"text-sm underline",children:"return to notes"})]})})},Tbe=({user:t,children:e})=>t?e||W.jsxs("section",{className:"relative",children:[W.jsx("div",{className:"fixed top-0 left-0 h-screen bg-sidebar sidebar-width",children:W.jsx(Cbe,{})}),W.jsxs("div",{className:"main-width md:pr-4",children:[W.jsx(Abe,{}),W.jsx(xce,{})]})]}):W.jsx(Cce,{to:"/login",replace:!0}),Dbe=()=>W.jsx("section",{className:"h-screen flex items-center justify-center",children:W.jsxs("div",{className:"text-white text-center ",children:[W.jsx("p",{className:"text-2xl font-bold pb-2",children:" Page Not Found "}),W.jsx("p",{children:W.jsx(Xs,{className:"underline-offset-4 underline",to:"/",children:"Return to Login"})})]})});function Q7(t,e){return function(){return t.apply(e,arguments)}}const{toString:Ibe}=Object.prototype,{getPrototypeOf:CT}=Object,Yy=(t=>e=>{const r=Ibe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ia=t=>(t=t.toLowerCase(),e=>Yy(e)===t),Ky=t=>e=>typeof e===t,{isArray:Qf}=Array,Ym=Ky("undefined");function Mbe(t){return t!==null&&!Ym(t)&&t.constructor!==null&&!Ym(t.constructor)&&xo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Z7=ia("ArrayBuffer");function Nbe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Z7(t.buffer),e}const Pbe=Ky("string"),xo=Ky("function"),J7=Ky("number"),Qy=t=>t!==null&&typeof t=="object",Obe=t=>t===!0||t===!1,ew=t=>{if(Yy(t)!=="object")return!1;const e=CT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Rbe=ia("Date"),Lbe=ia("File"),Bbe=ia("Blob"),jbe=ia("FileList"),zbe=t=>Qy(t)&&xo(t.pipe),Fbe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||xo(t.append)&&((e=Yy(t))==="formdata"||e==="object"&&xo(t.toString)&&t.toString()==="[object FormData]"))},$be=ia("URLSearchParams"),Vbe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Mk(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),Qf(t))for(o=0,a=t.length;o<a;o++)e.call(null,t[o],o,t);else{const d=r?Object.getOwnPropertyNames(t):Object.keys(t),f=d.length;let k;for(o=0;o<f;o++)k=d[o],e.call(null,t[k],k,t)}}function X7(t,e){e=e.toLowerCase();const r=Object.keys(t);let o=r.length,a;for(;o-- >0;)if(a=r[o],e===a.toLowerCase())return a;return null}const e$=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),t$=t=>!Ym(t)&&t!==e$;function CE(){const{caseless:t}=t$(this)&&this||{},e={},r=(o,a)=>{const d=t&&X7(e,a)||a;ew(e[d])&&ew(o)?e[d]=CE(e[d],o):ew(o)?e[d]=CE({},o):Qf(o)?e[d]=o.slice():e[d]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Mk(arguments[o],r);return e}const Ube=(t,e,r,{allOwnKeys:o}={})=>(Mk(e,(a,d)=>{r&&xo(a)?t[d]=Q7(a,r):t[d]=a},{allOwnKeys:o}),t),Hbe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Wbe=(t,e,r,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},qbe=(t,e,r,o)=>{let a,d,f;const k={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),d=a.length;d-- >0;)f=a[d],(!o||o(f,t,e))&&!k[f]&&(e[f]=t[f],k[f]=!0);t=r!==!1&&CT(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Gbe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const o=t.indexOf(e,r);return o!==-1&&o===r},Ybe=t=>{if(!t)return null;if(Qf(t))return t;let e=t.length;if(!J7(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Kbe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&CT(Uint8Array)),Qbe=(t,e)=>{const o=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=o.next())&&!a.done;){const d=a.value;e.call(t,d[0],d[1])}},Zbe=(t,e)=>{let r;const o=[];for(;(r=t.exec(e))!==null;)o.push(r);return o},Jbe=ia("HTMLFormElement"),Xbe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,a){return o.toUpperCase()+a}),EL=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),e0e=ia("RegExp"),n$=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),o={};Mk(r,(a,d)=>{let f;(f=e(a,d,t))!==!1&&(o[d]=f||a)}),Object.defineProperties(t,o)},t0e=t=>{n$(t,(e,r)=>{if(xo(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=t[r];if(xo(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},n0e=(t,e)=>{const r={},o=a=>{a.forEach(d=>{r[d]=!0})};return Qf(t)?o(t):o(String(t).split(e)),r},r0e=()=>{},i0e=(t,e)=>(t=+t,Number.isFinite(t)?t:e),k1="abcdefghijklmnopqrstuvwxyz",SL="0123456789",r$={DIGIT:SL,ALPHA:k1,ALPHA_DIGIT:k1+k1.toUpperCase()+SL},o0e=(t=16,e=r$.ALPHA_DIGIT)=>{let r="";const{length:o}=e;for(;t--;)r+=e[Math.random()*o|0];return r};function s0e(t){return!!(t&&xo(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const a0e=t=>{const e=new Array(10),r=(o,a)=>{if(Qy(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[a]=o;const d=Qf(o)?[]:{};return Mk(o,(f,k)=>{const m=r(f,a+1);!Ym(m)&&(d[k]=m)}),e[a]=void 0,d}}return o};return r(t,0)},c0e=ia("AsyncFunction"),l0e=t=>t&&(Qy(t)||xo(t))&&xo(t.then)&&xo(t.catch),ge={isArray:Qf,isArrayBuffer:Z7,isBuffer:Mbe,isFormData:Fbe,isArrayBufferView:Nbe,isString:Pbe,isNumber:J7,isBoolean:Obe,isObject:Qy,isPlainObject:ew,isUndefined:Ym,isDate:Rbe,isFile:Lbe,isBlob:Bbe,isRegExp:e0e,isFunction:xo,isStream:zbe,isURLSearchParams:$be,isTypedArray:Kbe,isFileList:jbe,forEach:Mk,merge:CE,extend:Ube,trim:Vbe,stripBOM:Hbe,inherits:Wbe,toFlatObject:qbe,kindOf:Yy,kindOfTest:ia,endsWith:Gbe,toArray:Ybe,forEachEntry:Qbe,matchAll:Zbe,isHTMLForm:Jbe,hasOwnProperty:EL,hasOwnProp:EL,reduceDescriptors:n$,freezeMethods:t0e,toObjectSet:n0e,toCamelCase:Xbe,noop:r0e,toFiniteNumber:i0e,findKey:X7,global:e$,isContextDefined:t$,ALPHABET:r$,generateString:o0e,isSpecCompliantForm:s0e,toJSONObject:a0e,isAsyncFn:c0e,isThenable:l0e};function It(t,e,r,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),o&&(this.request=o),a&&(this.response=a)}ge.inherits(It,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ge.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const i$=It.prototype,o$={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{o$[t]={value:t}});Object.defineProperties(It,o$);Object.defineProperty(i$,"isAxiosError",{value:!0});It.from=(t,e,r,o,a,d)=>{const f=Object.create(i$);return ge.toFlatObject(t,f,function(m){return m!==Error.prototype},k=>k!=="isAxiosError"),It.call(f,t.message,e,r,o,a),f.cause=t,f.name=t.name,d&&Object.assign(f,d),f};const u0e=null;function xE(t){return ge.isPlainObject(t)||ge.isArray(t)}function s$(t){return ge.endsWith(t,"[]")?t.slice(0,-2):t}function TL(t,e,r){return t?t.concat(e).map(function(a,d){return a=s$(a),!r&&d?"["+a+"]":a}).join(r?".":""):e}function d0e(t){return ge.isArray(t)&&!t.some(xE)}const h0e=ge.toFlatObject(ge,{},null,function(e){return/^is[A-Z]/.test(e)});function Zy(t,e,r){if(!ge.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ge.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,B){return!ge.isUndefined(B[M])});const o=r.metaTokens,a=r.visitor||A,d=r.dots,f=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&ge.isSpecCompliantForm(e);if(!ge.isFunction(a))throw new TypeError("visitor must be a function");function v(D){if(D===null)return"";if(ge.isDate(D))return D.toISOString();if(!m&&ge.isBlob(D))throw new It("Blob is not supported. Use a Buffer instead.");return ge.isArrayBuffer(D)||ge.isTypedArray(D)?m&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function A(D,M,B){let O=D;if(D&&!B&&typeof D=="object"){if(ge.endsWith(M,"{}"))M=o?M:M.slice(0,-2),D=JSON.stringify(D);else if(ge.isArray(D)&&d0e(D)||(ge.isFileList(D)||ge.endsWith(M,"[]"))&&(O=ge.toArray(D)))return M=s$(M),O.forEach(function(z,Y){!(ge.isUndefined(z)||z===null)&&e.append(f===!0?TL([M],Y,d):f===null?M:M+"[]",v(z))}),!1}return xE(D)?!0:(e.append(TL(B,M,d),v(D)),!1)}const x=[],_=Object.assign(h0e,{defaultVisitor:A,convertValue:v,isVisitable:xE});function T(D,M){if(!ge.isUndefined(D)){if(x.indexOf(D)!==-1)throw Error("Circular reference detected in "+M.join("."));x.push(D),ge.forEach(D,function(O,L){(!(ge.isUndefined(O)||O===null)&&a.call(e,O,ge.isString(L)?L.trim():L,M,_))===!0&&T(O,M?M.concat(L):[L])}),x.pop()}}if(!ge.isObject(t))throw new TypeError("data must be an object");return T(t),e}function DL(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function xT(t,e){this._pairs=[],t&&Zy(t,this,e)}const a$=xT.prototype;a$.append=function(e,r){this._pairs.push([e,r])};a$.toString=function(e){const r=e?function(o){return e.call(this,o,DL)}:DL;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function f0e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function c$(t,e,r){if(!e)return t;const o=r&&r.encode||f0e,a=r&&r.serialize;let d;if(a?d=a(e,r):d=ge.isURLSearchParams(e)?e.toString():new xT(e,r).toString(o),d){const f=t.indexOf("#");f!==-1&&(t=t.slice(0,f)),t+=(t.indexOf("?")===-1?"?":"&")+d}return t}class p0e{constructor(){this.handlers=[]}use(e,r,o){return this.handlers.push({fulfilled:e,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ge.forEach(this.handlers,function(o){o!==null&&e(o)})}}const IL=p0e,l$={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g0e=typeof URLSearchParams<"u"?URLSearchParams:xT,m0e=typeof FormData<"u"?FormData:null,k0e=typeof Blob<"u"?Blob:null,b0e={isBrowser:!0,classes:{URLSearchParams:g0e,FormData:m0e,Blob:k0e},protocols:["http","https","file","blob","url","data"]},u$=typeof window<"u"&&typeof document<"u",w0e=(t=>u$&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),v0e=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),y0e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:u$,hasStandardBrowserEnv:w0e,hasStandardBrowserWebWorkerEnv:v0e},Symbol.toStringTag,{value:"Module"})),qs={...y0e,...b0e};function _0e(t,e){return Zy(t,new qs.classes.URLSearchParams,Object.assign({visitor:function(r,o,a,d){return qs.isNode&&ge.isBuffer(r)?(this.append(o,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},e))}function A0e(t){return ge.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function C0e(t){const e={},r=Object.keys(t);let o;const a=r.length;let d;for(o=0;o<a;o++)d=r[o],e[d]=t[d];return e}function d$(t){function e(r,o,a,d){let f=r[d++];if(f==="__proto__")return!0;const k=Number.isFinite(+f),m=d>=r.length;return f=!f&&ge.isArray(a)?a.length:f,m?(ge.hasOwnProp(a,f)?a[f]=[a[f],o]:a[f]=o,!k):((!a[f]||!ge.isObject(a[f]))&&(a[f]=[]),e(r,o,a[f],d)&&ge.isArray(a[f])&&(a[f]=C0e(a[f])),!k)}if(ge.isFormData(t)&&ge.isFunction(t.entries)){const r={};return ge.forEachEntry(t,(o,a)=>{e(A0e(o),a,r,0)}),r}return null}function x0e(t,e,r){if(ge.isString(t))try{return(e||JSON.parse)(t),ge.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(t)}const ET={transitional:l$,adapter:["xhr","http"],transformRequest:[function(e,r){const o=r.getContentType()||"",a=o.indexOf("application/json")>-1,d=ge.isObject(e);if(d&&ge.isHTMLForm(e)&&(e=new FormData(e)),ge.isFormData(e))return a?JSON.stringify(d$(e)):e;if(ge.isArrayBuffer(e)||ge.isBuffer(e)||ge.isStream(e)||ge.isFile(e)||ge.isBlob(e))return e;if(ge.isArrayBufferView(e))return e.buffer;if(ge.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let k;if(d){if(o.indexOf("application/x-www-form-urlencoded")>-1)return _0e(e,this.formSerializer).toString();if((k=ge.isFileList(e))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Zy(k?{"files[]":e}:e,m&&new m,this.formSerializer)}}return d||a?(r.setContentType("application/json",!1),x0e(e)):e}],transformResponse:[function(e){const r=this.transitional||ET.transitional,o=r&&r.forcedJSONParsing,a=this.responseType==="json";if(e&&ge.isString(e)&&(o&&!this.responseType||a)){const f=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(k){if(f)throw k.name==="SyntaxError"?It.from(k,It.ERR_BAD_RESPONSE,this,null,this.response):k}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qs.classes.FormData,Blob:qs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ge.forEach(["delete","get","head","post","put","patch"],t=>{ET.headers[t]={}});const ST=ET,E0e=ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),S0e=t=>{const e={};let r,o,a;return t&&t.split(`
`).forEach(function(f){a=f.indexOf(":"),r=f.substring(0,a).trim().toLowerCase(),o=f.substring(a+1).trim(),!(!r||e[r]&&E0e[r])&&(r==="set-cookie"?e[r]?e[r].push(o):e[r]=[o]:e[r]=e[r]?e[r]+", "+o:o)}),e},ML=Symbol("internals");function _g(t){return t&&String(t).trim().toLowerCase()}function tw(t){return t===!1||t==null?t:ge.isArray(t)?t.map(tw):String(t)}function T0e(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(t);)e[o[1]]=o[2];return e}const D0e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function b1(t,e,r,o,a){if(ge.isFunction(o))return o.call(this,e,r);if(a&&(e=r),!!ge.isString(e)){if(ge.isString(o))return e.indexOf(o)!==-1;if(ge.isRegExp(o))return o.test(e)}}function I0e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,o)=>r.toUpperCase()+o)}function M0e(t,e){const r=ge.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+r,{value:function(a,d,f){return this[o].call(this,e,a,d,f)},configurable:!0})})}class Jy{constructor(e){e&&this.set(e)}set(e,r,o){const a=this;function d(k,m,v){const A=_g(m);if(!A)throw new Error("header name must be a non-empty string");const x=ge.findKey(a,A);(!x||a[x]===void 0||v===!0||v===void 0&&a[x]!==!1)&&(a[x||m]=tw(k))}const f=(k,m)=>ge.forEach(k,(v,A)=>d(v,A,m));return ge.isPlainObject(e)||e instanceof this.constructor?f(e,r):ge.isString(e)&&(e=e.trim())&&!D0e(e)?f(S0e(e),r):e!=null&&d(r,e,o),this}get(e,r){if(e=_g(e),e){const o=ge.findKey(this,e);if(o){const a=this[o];if(!r)return a;if(r===!0)return T0e(a);if(ge.isFunction(r))return r.call(this,a,o);if(ge.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=_g(e),e){const o=ge.findKey(this,e);return!!(o&&this[o]!==void 0&&(!r||b1(this,this[o],o,r)))}return!1}delete(e,r){const o=this;let a=!1;function d(f){if(f=_g(f),f){const k=ge.findKey(o,f);k&&(!r||b1(o,o[k],k,r))&&(delete o[k],a=!0)}}return ge.isArray(e)?e.forEach(d):d(e),a}clear(e){const r=Object.keys(this);let o=r.length,a=!1;for(;o--;){const d=r[o];(!e||b1(this,this[d],d,e,!0))&&(delete this[d],a=!0)}return a}normalize(e){const r=this,o={};return ge.forEach(this,(a,d)=>{const f=ge.findKey(o,d);if(f){r[f]=tw(a),delete r[d];return}const k=e?I0e(d):String(d).trim();k!==d&&delete r[d],r[k]=tw(a),o[k]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ge.forEach(this,(o,a)=>{o!=null&&o!==!1&&(r[a]=e&&ge.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const o=new this(e);return r.forEach(a=>o.set(a)),o}static accessor(e){const o=(this[ML]=this[ML]={accessors:{}}).accessors,a=this.prototype;function d(f){const k=_g(f);o[k]||(M0e(a,f),o[k]=!0)}return ge.isArray(e)?e.forEach(d):d(e),this}}Jy.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ge.reduceDescriptors(Jy.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(o){this[r]=o}}});ge.freezeMethods(Jy);const Ra=Jy;function w1(t,e){const r=this||ST,o=e||r,a=Ra.from(o.headers);let d=o.data;return ge.forEach(t,function(k){d=k.call(r,d,a.normalize(),e?e.status:void 0)}),a.normalize(),d}function h$(t){return!!(t&&t.__CANCEL__)}function Nk(t,e,r){It.call(this,t??"canceled",It.ERR_CANCELED,e,r),this.name="CanceledError"}ge.inherits(Nk,It,{__CANCEL__:!0});function N0e(t,e,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?t(r):e(new It("Request failed with status code "+r.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const P0e=qs.hasStandardBrowserEnv?{write(t,e,r,o,a,d){const f=[t+"="+encodeURIComponent(e)];ge.isNumber(r)&&f.push("expires="+new Date(r).toGMTString()),ge.isString(o)&&f.push("path="+o),ge.isString(a)&&f.push("domain="+a),d===!0&&f.push("secure"),document.cookie=f.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function O0e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function R0e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function f$(t,e){return t&&!O0e(e)?R0e(t,e):e}const L0e=qs.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let o;function a(d){let f=d;return e&&(r.setAttribute("href",f),f=r.href),r.setAttribute("href",f),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return o=a(window.location.href),function(f){const k=ge.isString(f)?a(f):f;return k.protocol===o.protocol&&k.host===o.host}}():function(){return function(){return!0}}();function B0e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function j0e(t,e){t=t||10;const r=new Array(t),o=new Array(t);let a=0,d=0,f;return e=e!==void 0?e:1e3,function(m){const v=Date.now(),A=o[d];f||(f=v),r[a]=m,o[a]=v;let x=d,_=0;for(;x!==a;)_+=r[x++],x=x%t;if(a=(a+1)%t,a===d&&(d=(d+1)%t),v-f<e)return;const T=A&&v-A;return T?Math.round(_*1e3/T):void 0}}function NL(t,e){let r=0;const o=j0e(50,250);return a=>{const d=a.loaded,f=a.lengthComputable?a.total:void 0,k=d-r,m=o(k),v=d<=f;r=d;const A={loaded:d,total:f,progress:f?d/f:void 0,bytes:k,rate:m||void 0,estimated:m&&f&&v?(f-d)/m:void 0,event:a};A[e?"download":"upload"]=!0,t(A)}}const z0e=typeof XMLHttpRequest<"u",F0e=z0e&&function(t){return new Promise(function(r,o){let a=t.data;const d=Ra.from(t.headers).normalize();let{responseType:f,withXSRFToken:k}=t,m;function v(){t.cancelToken&&t.cancelToken.unsubscribe(m),t.signal&&t.signal.removeEventListener("abort",m)}let A;if(ge.isFormData(a)){if(qs.hasStandardBrowserEnv||qs.hasStandardBrowserWebWorkerEnv)d.setContentType(!1);else if((A=d.getContentType())!==!1){const[M,...B]=A?A.split(";").map(O=>O.trim()).filter(Boolean):[];d.setContentType([M||"multipart/form-data",...B].join("; "))}}let x=new XMLHttpRequest;if(t.auth){const M=t.auth.username||"",B=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";d.set("Authorization","Basic "+btoa(M+":"+B))}const _=f$(t.baseURL,t.url);x.open(t.method.toUpperCase(),c$(_,t.params,t.paramsSerializer),!0),x.timeout=t.timeout;function T(){if(!x)return;const M=Ra.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),O={data:!f||f==="text"||f==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:M,config:t,request:x};N0e(function(z){r(z),v()},function(z){o(z),v()},O),x=null}if("onloadend"in x?x.onloadend=T:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(T)},x.onabort=function(){x&&(o(new It("Request aborted",It.ECONNABORTED,t,x)),x=null)},x.onerror=function(){o(new It("Network Error",It.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let B=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const O=t.transitional||l$;t.timeoutErrorMessage&&(B=t.timeoutErrorMessage),o(new It(B,O.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,t,x)),x=null},qs.hasStandardBrowserEnv&&(k&&ge.isFunction(k)&&(k=k(t)),k||k!==!1&&L0e(_))){const M=t.xsrfHeaderName&&t.xsrfCookieName&&P0e.read(t.xsrfCookieName);M&&d.set(t.xsrfHeaderName,M)}a===void 0&&d.setContentType(null),"setRequestHeader"in x&&ge.forEach(d.toJSON(),function(B,O){x.setRequestHeader(O,B)}),ge.isUndefined(t.withCredentials)||(x.withCredentials=!!t.withCredentials),f&&f!=="json"&&(x.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&x.addEventListener("progress",NL(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",NL(t.onUploadProgress)),(t.cancelToken||t.signal)&&(m=M=>{x&&(o(!M||M.type?new Nk(null,t,x):M),x.abort(),x=null)},t.cancelToken&&t.cancelToken.subscribe(m),t.signal&&(t.signal.aborted?m():t.signal.addEventListener("abort",m)));const D=B0e(_);if(D&&qs.protocols.indexOf(D)===-1){o(new It("Unsupported protocol "+D+":",It.ERR_BAD_REQUEST,t));return}x.send(a||null)})},EE={http:u0e,xhr:F0e};ge.forEach(EE,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const PL=t=>`- ${t}`,$0e=t=>ge.isFunction(t)||t===null||t===!1,p$={getAdapter:t=>{t=ge.isArray(t)?t:[t];const{length:e}=t;let r,o;const a={};for(let d=0;d<e;d++){r=t[d];let f;if(o=r,!$0e(r)&&(o=EE[(f=String(r)).toLowerCase()],o===void 0))throw new It(`Unknown adapter '${f}'`);if(o)break;a[f||"#"+d]=o}if(!o){const d=Object.entries(a).map(([k,m])=>`adapter ${k} `+(m===!1?"is not supported by the environment":"is not available in the build"));let f=e?d.length>1?`since :
`+d.map(PL).join(`
`):" "+PL(d[0]):"as no adapter specified";throw new It("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return o},adapters:EE};function v1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Nk(null,t)}function OL(t){return v1(t),t.headers=Ra.from(t.headers),t.data=w1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),p$.getAdapter(t.adapter||ST.adapter)(t).then(function(o){return v1(t),o.data=w1.call(t,t.transformResponse,o),o.headers=Ra.from(o.headers),o},function(o){return h$(o)||(v1(t),o&&o.response&&(o.response.data=w1.call(t,t.transformResponse,o.response),o.response.headers=Ra.from(o.response.headers))),Promise.reject(o)})}const RL=t=>t instanceof Ra?t.toJSON():t;function Df(t,e){e=e||{};const r={};function o(v,A,x){return ge.isPlainObject(v)&&ge.isPlainObject(A)?ge.merge.call({caseless:x},v,A):ge.isPlainObject(A)?ge.merge({},A):ge.isArray(A)?A.slice():A}function a(v,A,x){if(ge.isUndefined(A)){if(!ge.isUndefined(v))return o(void 0,v,x)}else return o(v,A,x)}function d(v,A){if(!ge.isUndefined(A))return o(void 0,A)}function f(v,A){if(ge.isUndefined(A)){if(!ge.isUndefined(v))return o(void 0,v)}else return o(void 0,A)}function k(v,A,x){if(x in e)return o(v,A);if(x in t)return o(void 0,v)}const m={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:k,headers:(v,A)=>a(RL(v),RL(A),!0)};return ge.forEach(Object.keys(Object.assign({},t,e)),function(A){const x=m[A]||a,_=x(t[A],e[A],A);ge.isUndefined(_)&&x!==k||(r[A]=_)}),r}const g$="1.6.7",TT={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{TT[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});const LL={};TT.transitional=function(e,r,o){function a(d,f){return"[Axios v"+g$+"] Transitional option '"+d+"'"+f+(o?". "+o:"")}return(d,f,k)=>{if(e===!1)throw new It(a(f," has been removed"+(r?" in "+r:"")),It.ERR_DEPRECATED);return r&&!LL[f]&&(LL[f]=!0,console.warn(a(f," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(d,f,k):!0}};function V0e(t,e,r){if(typeof t!="object")throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const d=o[a],f=e[d];if(f){const k=t[d],m=k===void 0||f(k,d,t);if(m!==!0)throw new It("option "+d+" must be "+m,It.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new It("Unknown option "+d,It.ERR_BAD_OPTION)}}const SE={assertOptions:V0e,validators:TT},Nc=SE.validators;class dv{constructor(e){this.defaults=e,this.interceptors={request:new IL,response:new IL}}async request(e,r){try{return await this._request(e,r)}catch(o){if(o instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const d=a.stack?a.stack.replace(/^.+\n/,""):"";o.stack?d&&!String(o.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+d):o.stack=d}throw o}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Df(this.defaults,r);const{transitional:o,paramsSerializer:a,headers:d}=r;o!==void 0&&SE.assertOptions(o,{silentJSONParsing:Nc.transitional(Nc.boolean),forcedJSONParsing:Nc.transitional(Nc.boolean),clarifyTimeoutError:Nc.transitional(Nc.boolean)},!1),a!=null&&(ge.isFunction(a)?r.paramsSerializer={serialize:a}:SE.assertOptions(a,{encode:Nc.function,serialize:Nc.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f=d&&ge.merge(d.common,d[r.method]);d&&ge.forEach(["delete","get","head","post","put","patch","common"],D=>{delete d[D]}),r.headers=Ra.concat(f,d);const k=[];let m=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(r)===!1||(m=m&&M.synchronous,k.unshift(M.fulfilled,M.rejected))});const v=[];this.interceptors.response.forEach(function(M){v.push(M.fulfilled,M.rejected)});let A,x=0,_;if(!m){const D=[OL.bind(this),void 0];for(D.unshift.apply(D,k),D.push.apply(D,v),_=D.length,A=Promise.resolve(r);x<_;)A=A.then(D[x++],D[x++]);return A}_=k.length;let T=r;for(x=0;x<_;){const D=k[x++],M=k[x++];try{T=D(T)}catch(B){M.call(this,B);break}}try{A=OL.call(this,T)}catch(D){return Promise.reject(D)}for(x=0,_=v.length;x<_;)A=A.then(v[x++],v[x++]);return A}getUri(e){e=Df(this.defaults,e);const r=f$(e.baseURL,e.url);return c$(r,e.params,e.paramsSerializer)}}ge.forEach(["delete","get","head","options"],function(e){dv.prototype[e]=function(r,o){return this.request(Df(o||{},{method:e,url:r,data:(o||{}).data}))}});ge.forEach(["post","put","patch"],function(e){function r(o){return function(d,f,k){return this.request(Df(k||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}dv.prototype[e]=r(),dv.prototype[e+"Form"]=r(!0)});const nw=dv;class DT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const o=this;this.promise.then(a=>{if(!o._listeners)return;let d=o._listeners.length;for(;d-- >0;)o._listeners[d](a);o._listeners=null}),this.promise.then=a=>{let d;const f=new Promise(k=>{o.subscribe(k),d=k}).then(a);return f.cancel=function(){o.unsubscribe(d)},f},e(function(d,f,k){o.reason||(o.reason=new Nk(d,f,k),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new DT(function(a){e=a}),cancel:e}}}const U0e=DT;function H0e(t){return function(r){return t.apply(null,r)}}function W0e(t){return ge.isObject(t)&&t.isAxiosError===!0}const TE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(TE).forEach(([t,e])=>{TE[e]=t});const q0e=TE;function m$(t){const e=new nw(t),r=Q7(nw.prototype.request,e);return ge.extend(r,nw.prototype,e,{allOwnKeys:!0}),ge.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return m$(Df(t,a))},r}const nr=m$(ST);nr.Axios=nw;nr.CanceledError=Nk;nr.CancelToken=U0e;nr.isCancel=h$;nr.VERSION=g$;nr.toFormData=Zy;nr.AxiosError=It;nr.Cancel=nr.CanceledError;nr.all=function(e){return Promise.all(e)};nr.spread=H0e;nr.isAxiosError=W0e;nr.mergeConfig=Df;nr.AxiosHeaders=Ra;nr.formToJSON=t=>d$(ge.isHTMLForm(t)?new FormData(t):t);nr.getAdapter=p$.getAdapter;nr.HttpStatusCode=q0e;nr.default=nr;const G0e=nr;function Y0e(){const[t,e]=G.useState("Ahmedabad"),[r,o]=G.useState({}),[a,d]=G.useState(),[f,k]=G.useState(""),[m,v]=G.useState(""),A=`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=720e039f21abb3460d49bcc6eb4ce6cd&units=metric`;function x(){G0e.get(A).then(D=>{o(D.data),console.log(r)});const _=r;_.weather[0].description,console.log(_.weather[0].icon);const T=`https://openweathermap.org/img/wn/${_.weather[0].icon}@2x.png`;k(T),v(m),d(_.main.temp)}return W.jsxs("div",{className:"w-[70vw] d-flex justify-center items-center px-auto",children:[W.jsxs("div",{className:"w-[300px] rounded-md border text-white mt-8",children:[W.jsx("img",{src:f||"https://openweathermap.org/img/wn/50n@2x.png",alt:"Weather",className:"h-[200px] w-full rounded-t-md object-cover"}),W.jsxs("div",{className:"p-4",children:[W.jsx("h1",{className:"inline-flex items-center text-lg font-semibold",children:t}),W.jsx("p",{className:"mt-3 text-sm text-gray-600",children:a+" Degree C*"}),W.jsx("p",{className:"mt-3 text-sm text-gray-600",children:m||""})]})]}),W.jsxs("div",{className:"flex w-full items-center space-x-2 mt-10 md:w-1/3",children:[W.jsx("input",{className:"flex h-10 w-full rounded-md border border-black/30 bg-transparent px-3 py-2 text-sm placeholder:text-gray-600 focus:outline-none focus:ring-1 focus:ring-black/30 focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50",type:"text",placeholder:"City",value:t,onChange:_=>e(_.target.value)}),W.jsx("button",{type:"button",className:"rounded-full bg-black px-3 py-2 text-sm font-semibold border border-white text-white shadow-sm hover:bg-black/80 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-black",onClick:x,children:"Go"})]})]})}function K0e(){const t=m9(),e=Zw(r=>r.user.value);return console.log(e),G.useEffect(()=>{t(D9())},[t]),W.jsx(Nce,{children:W.jsx("div",{className:"md:overflow-x-auto overflow-x-hidden bg-primary",children:W.jsx("section",{children:W.jsx("div",{children:W.jsxs(Sce,{children:[W.jsxs(Ca,{element:W.jsx(Tbe,{user:e}),children:[W.jsx(Ca,{path:"/home",element:W.jsx(Lce,{})}),W.jsx(Ca,{path:"/notes/:id",element:W.jsx(Sbe,{})}),W.jsx(Ca,{path:"/notes",element:W.jsx(Gce,{})}),W.jsx(Ca,{path:"/weather",element:W.jsx(Y0e,{})})]}),W.jsx(Ca,{path:"/signup",element:W.jsx(Pfe,{})}),W.jsx(Ca,{path:"/",element:W.jsx(Ofe,{})}),W.jsx(Ca,{path:"*",element:W.jsx(Dbe,{})})]})})})})})}var BL={exports:{}};(function(t,e){(function(r,o){o(e)})(bi,function(r){function o(ee,oe){ee.super_=oe,ee.prototype=Object.create(oe.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}})}function a(ee,oe){Object.defineProperty(this,"kind",{value:ee,enumerable:!0}),oe&&oe.length&&Object.defineProperty(this,"path",{value:oe,enumerable:!0})}function d(ee,oe,J){d.super_.call(this,"E",ee),Object.defineProperty(this,"lhs",{value:oe,enumerable:!0}),Object.defineProperty(this,"rhs",{value:J,enumerable:!0})}function f(ee,oe){f.super_.call(this,"N",ee),Object.defineProperty(this,"rhs",{value:oe,enumerable:!0})}function k(ee,oe){k.super_.call(this,"D",ee),Object.defineProperty(this,"lhs",{value:oe,enumerable:!0})}function m(ee,oe,J){m.super_.call(this,"A",ee),Object.defineProperty(this,"index",{value:oe,enumerable:!0}),Object.defineProperty(this,"item",{value:J,enumerable:!0})}function v(ee,oe,J){var pe=ee.slice((J||oe)+1||ee.length);return ee.length=oe<0?ee.length+oe:oe,ee.push.apply(ee,pe),ee}function A(ee){var oe=typeof ee>"u"?"undefined":Ge(ee);return oe!=="object"?oe:ee===Math?"math":ee===null?"null":Array.isArray(ee)?"array":Object.prototype.toString.call(ee)==="[object Date]"?"date":typeof ee.toString=="function"&&/^\/.*\//.test(ee.toString())?"regexp":"object"}function x(ee,oe,J,pe,ce,Ne,Be){ce=ce||[],Be=Be||[];var Se=ce.slice(0);if(typeof Ne<"u"){if(pe){if(typeof pe=="function"&&pe(Se,Ne))return;if((typeof pe>"u"?"undefined":Ge(pe))==="object"){if(pe.prefilter&&pe.prefilter(Se,Ne))return;if(pe.normalize){var _t=pe.normalize(Se,Ne,ee,oe);_t&&(ee=_t[0],oe=_t[1])}}}Se.push(Ne)}A(ee)==="regexp"&&A(oe)==="regexp"&&(ee=ee.toString(),oe=oe.toString());var At=typeof ee>"u"?"undefined":Ge(ee),xt=typeof oe>"u"?"undefined":Ge(oe),ot=At!=="undefined"||Be&&Be[Be.length-1].lhs&&Be[Be.length-1].lhs.hasOwnProperty(Ne),Lt=xt!=="undefined"||Be&&Be[Be.length-1].rhs&&Be[Be.length-1].rhs.hasOwnProperty(Ne);if(!ot&&Lt)J(new f(Se,oe));else if(!Lt&&ot)J(new k(Se,ee));else if(A(ee)!==A(oe))J(new d(Se,ee,oe));else if(A(ee)==="date"&&ee-oe!==0)J(new d(Se,ee,oe));else if(At==="object"&&ee!==null&&oe!==null)if(Be.filter(function(Wt){return Wt.lhs===ee}).length)ee!==oe&&J(new d(Se,ee,oe));else{if(Be.push({lhs:ee,rhs:oe}),Array.isArray(ee)){var ht;for(ee.length,ht=0;ht<ee.length;ht++)ht>=oe.length?J(new m(Se,ht,new k(void 0,ee[ht]))):x(ee[ht],oe[ht],J,pe,Se,ht,Be);for(;ht<oe.length;)J(new m(Se,ht,new f(void 0,oe[ht++])))}else{var ut=Object.keys(ee),rr=Object.keys(oe);ut.forEach(function(Wt,ir){var or=rr.indexOf(Wt);or>=0?(x(ee[Wt],oe[Wt],J,pe,Se,Wt,Be),rr=v(rr,or)):x(ee[Wt],void 0,J,pe,Se,Wt,Be)}),rr.forEach(function(Wt){x(void 0,oe[Wt],J,pe,Se,Wt,Be)})}Be.length=Be.length-1}else ee!==oe&&(At==="number"&&isNaN(ee)&&isNaN(oe)||J(new d(Se,ee,oe)))}function _(ee,oe,J,pe){return pe=pe||[],x(ee,oe,function(ce){ce&&pe.push(ce)},J),pe.length?pe:void 0}function T(ee,oe,J){if(J.path&&J.path.length){var pe,ce=ee[oe],Ne=J.path.length-1;for(pe=0;pe<Ne;pe++)ce=ce[J.path[pe]];switch(J.kind){case"A":T(ce[J.path[pe]],J.index,J.item);break;case"D":delete ce[J.path[pe]];break;case"E":case"N":ce[J.path[pe]]=J.rhs}}else switch(J.kind){case"A":T(ee[oe],J.index,J.item);break;case"D":ee=v(ee,oe);break;case"E":case"N":ee[oe]=J.rhs}return ee}function D(ee,oe,J){if(ee&&oe&&J&&J.kind){for(var pe=ee,ce=-1,Ne=J.path?J.path.length-1:0;++ce<Ne;)typeof pe[J.path[ce]]>"u"&&(pe[J.path[ce]]=typeof J.path[ce]=="number"?[]:{}),pe=pe[J.path[ce]];switch(J.kind){case"A":T(J.path?pe[J.path[ce]]:pe,J.index,J.item);break;case"D":delete pe[J.path[ce]];break;case"E":case"N":pe[J.path[ce]]=J.rhs}}}function M(ee,oe,J){if(J.path&&J.path.length){var pe,ce=ee[oe],Ne=J.path.length-1;for(pe=0;pe<Ne;pe++)ce=ce[J.path[pe]];switch(J.kind){case"A":M(ce[J.path[pe]],J.index,J.item);break;case"D":ce[J.path[pe]]=J.lhs;break;case"E":ce[J.path[pe]]=J.lhs;break;case"N":delete ce[J.path[pe]]}}else switch(J.kind){case"A":M(ee[oe],J.index,J.item);break;case"D":ee[oe]=J.lhs;break;case"E":ee[oe]=J.lhs;break;case"N":ee=v(ee,oe)}return ee}function B(ee,oe,J){if(ee&&oe&&J&&J.kind){var pe,ce,Ne=ee;for(ce=J.path.length-1,pe=0;pe<ce;pe++)typeof Ne[J.path[pe]]>"u"&&(Ne[J.path[pe]]={}),Ne=Ne[J.path[pe]];switch(J.kind){case"A":M(Ne[J.path[pe]],J.index,J.item);break;case"D":Ne[J.path[pe]]=J.lhs;break;case"E":Ne[J.path[pe]]=J.lhs;break;case"N":delete Ne[J.path[pe]]}}}function O(ee,oe,J){if(ee&&oe){var pe=function(ce){J&&!J(ee,oe,ce)||D(ee,oe,ce)};x(ee,oe,pe)}}function L(ee){return"color: "+de[ee].color+"; font-weight: bold"}function z(ee){var oe=ee.kind,J=ee.path,pe=ee.lhs,ce=ee.rhs,Ne=ee.index,Be=ee.item;switch(oe){case"E":return[J.join("."),pe,"→",ce];case"N":return[J.join("."),ce];case"D":return[J.join(".")];case"A":return[J.join(".")+"["+Ne+"]",Be];default:return[]}}function Y(ee,oe,J,pe){var ce=_(ee,oe);try{pe?J.groupCollapsed("diff"):J.group("diff")}catch{J.log("diff")}ce?ce.forEach(function(Ne){var Be=Ne.kind,Se=z(Ne);J.log.apply(J,["%c "+de[Be].text,L(Be)].concat(He(Se)))}):J.log("—— no diff ——");try{J.groupEnd()}catch{J.log("—— diff end —— ")}}function X(ee,oe,J,pe){switch(typeof ee>"u"?"undefined":Ge(ee)){case"object":return typeof ee[pe]=="function"?ee[pe].apply(ee,He(J)):ee[pe];case"function":return ee(oe);default:return ee}}function ne(ee){var oe=ee.timestamp,J=ee.duration;return function(pe,ce,Ne){var Be=["action"];return Be.push("%c"+String(pe.type)),oe&&Be.push("%c@ "+ce),J&&Be.push("%c(in "+Ne.toFixed(2)+" ms)"),Be.join(" ")}}function Z(ee,oe){var J=oe.logger,pe=oe.actionTransformer,ce=oe.titleFormatter,Ne=ce===void 0?ne(oe):ce,Be=oe.collapsed,Se=oe.colors,_t=oe.level,At=oe.diff,xt=typeof oe.titleFormatter>"u";ee.forEach(function(ot,Lt){var ht=ot.started,ut=ot.startedTime,rr=ot.action,Wt=ot.prevState,ir=ot.error,or=ot.took,Vn=ot.nextState,an=ee[Lt+1];an&&(Vn=an.prevState,or=an.started-ht);var re=pe(rr),Ae=typeof Be=="function"?Be(function(){return Vn},rr,ot):Be,Ie=De(ut),Me=Se.title?"color: "+Se.title(re)+";":"",Qe=["color: gray; font-weight: lighter;"];Qe.push(Me),oe.timestamp&&Qe.push("color: gray; font-weight: lighter;"),oe.duration&&Qe.push("color: gray; font-weight: lighter;");var Ye=Ne(re,Ie,or);try{Ae?Se.title&&xt?J.groupCollapsed.apply(J,["%c "+Ye].concat(Qe)):J.groupCollapsed(Ye):Se.title&&xt?J.group.apply(J,["%c "+Ye].concat(Qe)):J.group(Ye)}catch{J.log(Ye)}var et=X(_t,re,[Wt],"prevState"),Ue=X(_t,re,[re],"action"),dr=X(_t,re,[ir,Wt],"error"),Pr=X(_t,re,[Vn],"nextState");if(et)if(Se.prevState){var ai="color: "+Se.prevState(Wt)+"; font-weight: bold";J[et]("%c prev state",ai,Wt)}else J[et]("prev state",Wt);if(Ue)if(Se.action){var Ja="color: "+Se.action(re)+"; font-weight: bold";J[Ue]("%c action    ",Ja,re)}else J[Ue]("action    ",re);if(ir&&dr)if(Se.error){var os="color: "+Se.error(ir,Wt)+"; font-weight: bold;";J[dr]("%c error     ",os,ir)}else J[dr]("error     ",ir);if(Pr)if(Se.nextState){var ss="color: "+Se.nextState(Vn)+"; font-weight: bold";J[Pr]("%c next state",ss,Vn)}else J[Pr]("next state",Vn);At&&Y(Wt,Vn,J,Ae);try{J.groupEnd()}catch{J.log("—— log end ——")}})}function V(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=Object.assign({},xe,ee),J=oe.logger,pe=oe.stateTransformer,ce=oe.errorTransformer,Ne=oe.predicate,Be=oe.logErrors,Se=oe.diffPredicate;if(typeof J>"u")return function(){return function(At){return function(xt){return At(xt)}}};if(ee.getState&&ee.dispatch)return console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:
// Logger with default options
import { logger } from 'redux-logger'
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
// Or you can create your own logger with custom options http://bit.ly/redux-logger-options
import createLogger from 'redux-logger'
const logger = createLogger({
  // ...options
});
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
`),function(){return function(At){return function(xt){return At(xt)}}};var _t=[];return function(At){var xt=At.getState;return function(ot){return function(Lt){if(typeof Ne=="function"&&!Ne(xt,Lt))return ot(Lt);var ht={};_t.push(ht),ht.started=Re.now(),ht.startedTime=new Date,ht.prevState=pe(xt()),ht.action=Lt;var ut=void 0;if(Be)try{ut=ot(Lt)}catch(Wt){ht.error=ce(Wt)}else ut=ot(Lt);ht.took=Re.now()-ht.started,ht.nextState=pe(xt());var rr=oe.diff&&typeof Se=="function"?Se(xt,Lt):oe.diff;if(Z(_t,Object.assign({},oe,{diff:rr})),_t.length=0,ht.error)throw ht.error;return ut}}}}var se,ie,he=function(ee,oe){return new Array(oe+1).join(ee)},$e=function(ee,oe){return he("0",oe-ee.toString().length)+ee},De=function(ee){return $e(ee.getHours(),2)+":"+$e(ee.getMinutes(),2)+":"+$e(ee.getSeconds(),2)+"."+$e(ee.getMilliseconds(),3)},Re=typeof performance<"u"&&performance!==null&&typeof performance.now=="function"?performance:Date,Ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},He=function(ee){if(Array.isArray(ee)){for(var oe=0,J=Array(ee.length);oe<ee.length;oe++)J[oe]=ee[oe];return J}return Array.from(ee)},qe=[];se=(typeof bi>"u"?"undefined":Ge(bi))==="object"&&bi?bi:typeof window<"u"?window:{},ie=se.DeepDiff,ie&&qe.push(function(){typeof ie<"u"&&se.DeepDiff===_&&(se.DeepDiff=ie,ie=void 0)}),o(d,a),o(f,a),o(k,a),o(m,a),Object.defineProperties(_,{diff:{value:_,enumerable:!0},observableDiff:{value:x,enumerable:!0},applyDiff:{value:O,enumerable:!0},applyChange:{value:D,enumerable:!0},revertChange:{value:B,enumerable:!0},isConflict:{value:function(){return typeof ie<"u"},enumerable:!0},noConflict:{value:function(){return qe&&(qe.forEach(function(ee){ee()}),qe=null),_},enumerable:!0}});var de={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},xe={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(ee){return ee},actionTransformer:function(ee){return ee},errorTransformer:function(ee){return ee},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},we=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=ee.dispatch,J=ee.getState;return typeof oe=="function"||typeof J=="function"?V()({dispatch:oe,getState:J}):void console.error(`
[redux-logger v3] BREAKING CHANGE
[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.
[redux-logger v3] Change
[redux-logger v3] import createLogger from 'redux-logger'
[redux-logger v3] to
[redux-logger v3] import { createLogger } from 'redux-logger'
`)};r.defaults=xe,r.createLogger=V,r.logger=we,r.default=we,Object.defineProperty(r,"__esModule",{value:!0})})})(BL,BL.exports);const Q0e=fae({reducer:{user:Eae,note:Dae}}),Z0e=y1.createRoot(document.getElementById("root"));Z0e.render(W.jsx(wi.StrictMode,{children:W.jsx(Nse,{store:Q0e,children:W.jsx(K0e,{})})}))});export default J0e();
